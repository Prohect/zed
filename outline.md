# Workspace Code Structure Outline

## crates/acp_thread/src/acp_thread.rs
- [L42:L48]struct UserMessage {
    pub id: Option<UserMessageId>,
    pub content: ContentBlock,
    pub chunks: Vec<acp::ContentBlock>,
    pub checkpoint: Option<Checkpoint>,
    pub indented: bool,
}
- [L51:L54]struct Checkpoint {
    git_checkpoint: GitStoreCheckpoint,
    pub show: bool,
}
- [L76:L79]struct AssistantMessage {
    pub chunks: Vec<AssistantMessageChunk>,
    pub indented: bool,
}
- [L94:L97]enum AssistantMessageChunk {
    Message { block: ContentBlock },
    Thought { block: ContentBlock },
}
- [L122:L126]enum AgentThreadEntry {
    UserMessage(UserMessage),
    AssistantMessage(AssistantMessage),
    ToolCall(ToolCall),
}
- [L187:L198]struct ToolCall {
    pub id: acp::ToolCallId,
    pub label: Entity<Markdown>,
    pub kind: acp::ToolKind,
    pub content: Vec<ToolCallContent>,
    pub status: ToolCallStatus,
    pub locations: Vec<acp::ToolCallLocation>,
    pub resolved_locations: Vec<Option<AgentLocation>>,
    pub raw_input: Option<serde_json::Value>,
    pub raw_input_markdown: Option<Entity<Markdown>>,
    pub raw_output: Option<serde_json::Value>,
}
- [L415:L418]struct ResolvedLocation {
    buffer: Entity<Buffer>,
    position: Anchor,
}
- [L430:L449]enum ToolCallStatus {
    Pending,
    WaitingForConfirmation {
        options: Vec<acp::PermissionOption>,
        respond_tx: oneshot::Sender<acp::PermissionOptionId>,
    },
    InProgress,
    Completed,
    Failed,
    Rejected,
    Canceled,
}
- [L482:L486]enum ContentBlock {
    Empty,
    Markdown { markdown: Entity<Markdown> },
    ResourceLink { resource_link: acp::ResourceLink },
}
- [L612:L616]enum ToolCallContent {
    ContentBlock(ContentBlock),
    Diff(Entity<Diff>),
    Terminal(Entity<Terminal>),
}
- [L692:L696]enum ToolCallUpdate {
    UpdateFields(acp::ToolCallUpdate),
    UpdateDiff(ToolCallUpdateDiff),
    UpdateTerminal(ToolCallUpdateTerminal),
}
- [L721:L724]struct ToolCallUpdateDiff {
    pub id: acp::ToolCallId,
    pub diff: Entity<Diff>,
}
- [L733:L736]struct ToolCallUpdateTerminal {
    pub id: acp::ToolCallId,
    pub terminal: Entity<Terminal>,
}
- [L739:L741]struct Plan {
    pub entries: Vec<PlanEntry>,
}
- [L744:L748]struct PlanStats<'a> {
    pub in_progress_entry: Option<&'a PlanEntry>,
    pub pending: u32,
    pub completed: u32,
}
- [L782:L786]struct PlanEntry {
    pub content: Entity<Markdown>,
    pub priority: acp::PlanEntryPriority,
    pub status: acp::PlanEntryStatus,
}
- [L799:L802]struct TokenUsage {
    pub max_tokens: u64,
    pub used_tokens: u64,
}
- [L829:L833]enum TokenUsageRatio {
    Normal,
    Warning,
    Exceeded,
}
- [L836:L842]struct RetryStatus {
    pub last_error: SharedString,
    pub attempt: usize,
    pub max_attempts: usize,
    pub started_at: Instant,
    pub duration: Duration,
}
- [L844:L860]struct AcpThread {
    title: SharedString,
    entries: Vec<AgentThreadEntry>,
    plan: Plan,
    project: Entity<Project>,
    action_log: Entity<ActionLog>,
    shared_buffers: HashMap<Entity<Buffer>, BufferSnapshot>,
    send_task: Option<Task<()>>,
    connection: Rc<dyn AgentConnection>,
    session_id: acp::SessionId,
    token_usage: Option<TokenUsage>,
    prompt_capabilities: acp::PromptCapabilities,
    _observe_prompt_capabilities: Task<anyhow::Result<()>>,
    terminals: HashMap<acp::TerminalId, Entity<Terminal>>,
    pending_terminal_output: HashMap<acp::TerminalId, Vec<Vec<u8>>>,
    pending_terminal_exit: HashMap<acp::TerminalId, acp::TerminalExitStatus>,
}
- [L872:L887]enum AcpThreadEvent {
    NewEntry,
    TitleUpdated,
    TokenUsageUpdated,
    EntryUpdated(usize),
    EntriesRemoved(Range<usize>),
    ToolAuthorizationRequired,
    Retry(RetryStatus),
    Stopped,
    Error,
    LoadError(LoadError),
    PromptCapabilitiesUpdated,
    Refusal,
    AvailableCommandsUpdated(Vec<acp::AvailableCommand>),
    ModeUpdated(acp::SessionModeId),
}
- [L892:L912]enum TerminalProviderEvent {
    Created {
        terminal_id: acp::TerminalId,
        label: String,
        cwd: Option<PathBuf>,
        output_byte_limit: Option<u64>,
        terminal: Entity<::terminal::Terminal>,
    },
    Output {
        terminal_id: acp::TerminalId,
        data: Vec<u8>,
    },
    TitleChanged {
        terminal_id: acp::TerminalId,
        title: String,
    },
    Exit {
        terminal_id: acp::TerminalId,
        status: acp::TerminalExitStatus,
    },
}
- [L915:L928]enum TerminalProviderCommand {
    WriteInput {
        terminal_id: acp::TerminalId,
        bytes: Vec<u8>,
    },
    Resize {
        terminal_id: acp::TerminalId,
        cols: u16,
        rows: u16,
    },
    Close {
        terminal_id: acp::TerminalId,
    },
}
- [L1012:L1015]enum ThreadStatus {
    Idle,
    Generating,
}
- [L1018:L1029]enum LoadError {
    Unsupported {
        command: SharedString,
        current_version: SharedString,
        minimum_version: SharedString,
    },
    FailedToInstall(SharedString),
    Exited {
        status: ExitStatus,
    },
    Other(SharedString),
}
- [L2399:L2441]fn markdown_for_raw_output(
    raw_output: &serde_json::Value,
    language_registry: &Arc<LanguageRegistry>,
    cx: &mut App,
) -> Option<Entity<Markdown>> 

## crates/acp_thread/src/connection.rs
- [L14:L14]struct UserMessageId(Arc<str>);
- [L22:L22]trait AgentConnection {
- [L98:L98]trait AgentSessionTruncate {
- [L102:L102]trait AgentSessionResume {
- [L106:L106]trait AgentSessionSetTitle {
- [L110:L110]trait AgentTelemetry {
- [L120:L120]trait AgentSessionModes {
- [L129:L132]struct AuthRequired {
    pub description: Option<String>,
    pub provider_id: Option<LanguageModelProviderId>,
}
- [L163:L163]trait AgentModelSelector: 'static {
- [L207:L214]enum AgentModelIcon {
    Named(IconName),
    Path(SharedString),
}
- [L217:L222]struct AgentModelInfo {
    pub id: acp::ModelId,
    pub name: SharedString,
    pub description: Option<SharedString>,
    pub icon: Option<AgentModelIcon>,
}
- [L236:L236]struct AgentModelGroupName(pub SharedString);
- [L239:L242]enum AgentModelList {
    Flat(Vec<AgentModelInfo>),
    Grouped(IndexMap<AgentModelGroupName, Vec<AgentModelInfo>>),
}

## crates/acp_thread/src/diff.rs
- [L12:L15]enum Diff {
    Pending(PendingDiff),
    Finalized(FinalizedDiff),
}
- [L194:L202]struct PendingDiff {
    multibuffer: Entity<MultiBuffer>,
    base_text: Arc<String>,
    new_buffer: Entity<Buffer>,
    diff: Entity<BufferDiff>,
    revealed_ranges: Vec<Range<Anchor>>,
    _subscription: Subscription,
    update_diff: Task<Result<()>>,
}
- [L358:L364]struct FinalizedDiff {
    path: String,
    base_text: Arc<String>,
    new_buffer: Entity<Buffer>,
    multibuffer: Entity<MultiBuffer>,
    _update_diff: Task<Result<()>>,
}

## crates/acp_thread/src/mention.rs
- [L18:L51]enum MentionUri {
    File {
        abs_path: PathBuf,
    },
    PastedImage,
    Directory {
        abs_path: PathBuf,
    },
    Symbol {
        abs_path: PathBuf,
        name: String,
        line_range: RangeInclusive<u32>,
    },
    Thread {
        id: acp::SessionId,
        name: String,
    },
    TextThread {
        path: PathBuf,
        name: String,
    },
    Rule {
        id: PromptId,
        name: String,
    },
    Selection {
        abs_path: Option<PathBuf>,
        line_range: RangeInclusive<u32>,
    },
    Fetch {
        url: Url,
    },
}
- [L300:L300]struct MentionLink<'a>(&'a MentionUri);
- [L308:L321]fn single_query_param(url: &Url, name: &'static str) -> Result<Option<String>> 
- [L323:L332]fn selection_name(path: Option<&Path>, line_range: &RangeInclusive<u32>) -> String 

## crates/acp_thread/src/terminal.rs
- [L12:L21]struct Terminal {
    id: acp::TerminalId,
    command: Entity<Markdown>,
    working_dir: Option<PathBuf>,
    terminal: Entity<terminal::Terminal>,
    started_at: Instant,
    output: Option<TerminalOutput>,
    output_byte_limit: Option<usize>,
    _output_task: Shared<Task<acp::TerminalExitStatus>>,
}
- [L23:L29]struct TerminalOutput {
    pub ended_at: Instant,
    pub exit_status: Option<ExitStatus>,
    pub content: String,
    pub original_content_len: usize,
    pub content_line_count: usize,
}
- [L169:L169]async fn create_terminal_entity(

## crates/acp_tools/src/acp_tools.rs
- [L30:L41]fn init(cx: &mut App) 
- [L43:L43]struct GlobalAcpConnectionRegistry(Entity<AcpConnectionRegistry>);
- [L48:L50]struct AcpConnectionRegistry {
    active_connection: RefCell<Option<ActiveConnection>>,
}
- [L52:L55]struct ActiveConnection {
    server_name: SharedString,
    connection: Weak<acp::ClientSideConnection>,
}
- [L82:L89]struct AcpTools {
    project: Entity<Project>,
    focus_handle: FocusHandle,
    expanded: HashSet<usize>,
    watched_connection: Option<WatchedConnection>,
    connection_registry: Entity<AcpConnectionRegistry>,
    _subscription: Subscription,
}
- [L91:L99]struct WatchedConnection {
    server_name: SharedString,
    messages: Vec<WatchedConnectionMessage>,
    list_state: ListState,
    connection: Weak<acp::ClientSideConnection>,
    incoming_request_methods: HashMap<acp::RequestId, Arc<str>>,
    outgoing_request_methods: HashMap<acp::RequestId, Arc<str>>,
    _task: Task<()>,
}
- [L401:L409]struct WatchedConnectionMessage {
    name: SharedString,
    request_id: Option<acp::RequestId>,
    direction: acp::StreamMessageDirection,
    message_type: MessageType,
    params: Result<Option<serde_json::Value>, acp::Error>,
    collapsed_params_md: Option<Entity<Markdown>>,
    expanded_params_md: Option<Entity<Markdown>>,
}
- [L428:L448]fn collapsed_params_md(
    params: &serde_json::Value,
    language_registry: &Arc<LanguageRegistry>,
    cx: &mut App,
) -> Entity<Markdown> 
- [L450:L458]fn expanded_params_md(
    params: &serde_json::Value,
    language_registry: &Arc<LanguageRegistry>,
    cx: &mut App,
) -> Entity<Markdown> 
- [L460:L464]enum MessageType {
    Request,
    Response,
    Notification,
}
- [L476:L476]enum AcpToolsEvent {}
- [L545:L548]struct AcpToolsToolbarItemView {
    acp_tools: Option<Entity<AcpTools>>,
    just_copied: bool,
}

## crates/action_log/src/action_log.rs
- [L15:L21]struct ActionLog {
    tracked_buffers: BTreeMap<Entity<Buffer>, TrackedBuffer>,
    project: Entity<Project>,
}
- [L779:L782]struct ActionLogTelemetry {
    pub agent_telemetry_id: SharedString,
    pub session_id: Arc<str>,
}
- [L784:L788]struct ActionLogMetrics {
    lines_removed: u32,
    lines_added: u32,
    language: Option<SharedString>,
}
- [L811:L820]fn telemetry_report_accepted_edits(telemetry: &ActionLogTelemetry, metrics: ActionLogMetrics) 
- [L822:L831]fn telemetry_report_rejected_edits(telemetry: &ActionLogTelemetry, metrics: ActionLogMetrics) 
- [L833:L897]fn apply_non_conflicting_edits(
    patch: &Patch<u32>,
    edits: Vec<Edit<u32>>,
    old_text: &mut Rope,
    new_text: &Rope,
) -> bool 
- [L899:L921]fn diff_snapshots(
    old_snapshot: &text::BufferSnapshot,
    new_snapshot: &text::BufferSnapshot,
) -> Vec<Edit<u32>> 
- [L923:L946]fn point_to_row_edit(edit: Edit<Point>, old_text: &Rope, new_text: &Rope) -> Edit<u32> 
- [L949:L952]enum ChangeAuthor {
    User,
    Agent,
}
- [L954:L958]enum TrackedBufferStatus {
    Created { existing_file_content: Option<Rope> },
    Modified,
    Deleted,
}
- [L960:L972]struct TrackedBuffer {
    buffer: Entity<Buffer>,
    diff_base: Rope,
    unreviewed_edits: Patch<u32>,
    status: TrackedBufferStatus,
    version: clock::Global,
    diff: Entity<BufferDiff>,
    snapshot: text::BufferSnapshot,
    diff_update: mpsc::UnboundedSender<(ChangeAuthor, text::BufferSnapshot)>,
    _open_lsp_handle: OpenLspBufferHandle,
    _maintain_diff: Task<()>,
    _subscription: Subscription,
}
- [L990:L992]struct ChangedBuffer {
    pub diff: Entity<BufferDiff>,
}

## crates/activity_indicator/src/activity_indicator.rs
- [L42:L47]enum Event {
    ShowStatus {
        server_name: LanguageServerName,
        status: SharedString,
    },
}
- [L49:L55]struct ActivityIndicator {
    statuses: Vec<ServerStatus>,
    project: Entity<Project>,
    auto_updater: Option<Entity<AutoUpdater>>,
    context_menu_handle: PopoverMenuHandle<ContextMenu>,
    fs_jobs: Vec<fs::JobInfo>,
}
- [L58:L61]struct ServerStatus {
    name: LanguageServerName,
    status: LanguageServerStatusUpdate,
}
- [L63:L67]struct PendingWork<'a> {
    language_server_id: LanguageServerId,
    progress_token: &'a ProgressToken,
    progress: &'a LanguageServerProgress,
}
- [L69:L75]struct Content {
    icon: Option<gpui::AnyElement>,
    message: String,
    on_click:
        Option<Arc<dyn Fn(&mut ActivityIndicator, &mut Window, &mut Context<ActivityIndicator>)>>,
    tooltip_message: Option<String>,
}

## crates/agent/src/agent.rs
- [L6:L6]mod outline;
- [L49:L52]struct ProjectSnapshot {
    pub worktree_snapshots: Vec<project::telemetry_snapshot::TelemetryWorktreeSnapshot>,
    pub timestamp: DateTime<Utc>,
}
- [L54:L56]struct RulesLoadingError {
    pub message: SharedString,
}
- [L58:L66]struct Session {
    thread: Entity<Thread>,
    acp_thread: WeakEntity<acp_thread::AcpThread>,
    pending_save: Task<()>,
    _subscriptions: Vec<Subscription>,
}
- [L68:L76]struct LanguageModels {
    models: HashMap<acp::ModelId, Arc<dyn LanguageModel>>,
    model_list: acp_thread::AgentModelList,
    refresh_models_rx: watch::Receiver<()>,
    refresh_models_tx: watch::Sender<()>,
    _authenticate_all_providers_task: Task<()>,
}
- [L222:L239]struct NativeAgent {
    sessions: HashMap<acp::SessionId, Session>,
    history: Entity<HistoryStore>,
    project_context: Entity<ProjectContext>,
    project_context_needs_refresh: watch::Sender<()>,
    _maintain_project_context: Task<Result<()>>,
    context_server_registry: Entity<ContextServerRegistry>,
    templates: Arc<Templates>,
    models: LanguageModels,
    project: Entity<Project>,
    prompt_store: Option<Entity<PromptStore>>,
    fs: Arc<dyn Fs>,
    _subscriptions: Vec<Subscription>,
}
- [L915:L917]struct NativeAgentConnection(pub Entity<NativeAgent>);
- [L1047:L1051]struct Command<'a> {
    prompt_name: &'a str,
    arg_value: &'a str,
    explicit_server_id: Option<&'a str>,
}
- [L1080:L1083]struct NativeAgentModelSelector {
    session_id: acp::SessionId,
    connection: NativeAgentConnection,
}
- [L1374:L1377]struct NativeAgentSessionTruncate {
    thread: Entity<Thread>,
    acp_thread: WeakEntity<AcpThread>,
}
- [L1398:L1401]struct NativeAgentSessionResume {
    connection: NativeAgentConnection,
    session_id: acp::SessionId,
}
- [L1412:L1415]struct NativeAgentSessionSetTitle {
    connection: NativeAgentConnection,
    session_id: acp::SessionId,
}
- [L1428:L1430]struct AcpThreadEnvironment {
    acp_thread: WeakEntity<AcpThread>,
}
- [L1467:L1470]struct AcpTerminalHandle {
    terminal: Entity<acp_thread::Terminal>,
    _drop_tx: Option<oneshot::Sender<()>>,
}
- [L1885:L1915]fn mcp_message_content_to_acp_content_block(
    content: context_server::types::MessageContent,
) -> acp::ContentBlock 

## crates/agent/src/db.rs
- [L22:L22]type DbMessage = crate::Message;
- [L23:L23]type DbSummary = crate::legacy_thread::DetailedSummaryState;
- [L24:L24]type DbLanguageModel = crate::legacy_thread::SerializedLanguageModel;
- [L27:L32]struct DbThreadMetadata {
    pub id: acp::SessionId,
    pub title: SharedString,
    pub updated_at: DateTime<Utc>,
}
- [L35:L53]struct DbThread {
    pub title: SharedString,
    pub messages: Vec<DbMessage>,
    pub updated_at: DateTime<Utc>,
    pub detailed_summary: Option<SharedString>,
    pub initial_project_snapshot: Option<Arc<crate::ProjectSnapshot>>,
    pub cumulative_token_usage: language_model::TokenUsage,
    pub request_token_usage: HashMap<acp_thread::UserMessageId, language_model::TokenUsage>,
    pub model: Option<DbLanguageModel>,
    pub completion_mode: Option<CompletionMode>,
    pub profile: Option<AgentProfileId>,
}
- [L217:L222]enum DataType {
    Json,
    Zstd,
}
- [L251:L251]struct GlobalThreadsDatabase(Shared<Task<Result<Arc<ThreadsDatabase>, Arc<anyhow::Error>>>>);

## crates/agent/src/edit_agent.rs
- [L34:L37]struct CreateFilePromptTemplate {
    path: Option<String>,
    edit_description: String,
}
- [L44:L47]struct EditFileXmlPromptTemplate {
    path: Option<String>,
    edit_description: String,
}
- [L54:L57]struct EditFileDiffFencedPromptTemplate {
    path: Option<String>,
    edit_description: String,
}
- [L64:L69]enum EditAgentOutputEvent {
    ResolvingEditRange(Range<Anchor>),
    UnresolvedEditRange,
    AmbiguousEditRange(Vec<Range<usize>>),
    Edited(Range<Anchor>),
}
- [L72:L75]struct EditAgentOutput {
    pub raw_edits: String,
    pub parser_metrics: EditParserMetrics,
}
- [L78:L84]struct EditAgent {
    model: Arc<dyn LanguageModel>,
    action_log: Entity<ActionLog>,
    project: Entity<Project>,
    templates: Arc<Templates>,
    edit_format: EditFormat,
}
- [L742:L745]struct ResolvedOldText {
    range: Range<usize>,
    indent: LineIndent,
}
- [L748:L751]enum IndentDelta {
    Spaces(isize),
    Tabs(isize),
}

## crates/agent/src/edit_agent/create_file_parser.rs
- [L7:L7]static START_MARKER: OnceLock<Regex> = OnceLock::new();
- [L8:L8]static END_MARKER: OnceLock<Regex> = OnceLock::new();
- [L11:L13]enum CreateFileParserEvent {
    NewTextChunk { chunk: String },
}
- [L16:L19]struct CreateFileParser {
    state: ParserState,
    buffer: String,
}
- [L22:L27]enum ParserState {
    Pending,
    WithinText,
    Finishing,
    Finished,
}

## crates/agent/src/edit_agent/edit_parser.rs
- [L29:L39]enum EditParserEvent {
    OldTextChunk {
        chunk: String,
        done: bool,
        line_hint: Option<u32>,
    },
    NewTextChunk {
        chunk: String,
        done: bool,
    },
}
- [L44:L47]struct EditParserMetrics {
    pub tags: usize,
    pub mismatched_tags: usize,
}
- [L51:L71]enum EditFormat {
    XmlTags,
    DiffFenced,
}
- [L105:L105]trait EditFormatParser: Send + std::fmt::Debug {
- [L111:L115]struct XmlEditParser {
    state: XmlParserState,
    buffer: String,
    metrics: EditParserMetrics,
}
- [L118:L123]enum XmlParserState {
    Pending,
    WithinOldText { start: bool, line_hint: Option<u32> },
    AfterOldText,
    WithinNewText { start: bool },
}
- [L126:L130]struct DiffFencedEditParser {
    state: DiffParserState,
    buffer: String,
    metrics: EditParserMetrics,
}
- [L133:L137]enum DiffParserState {
    Pending,
    WithinSearch { start: bool, line_hint: Option<u32> },
    WithinReplace { start: bool },
}
- [L139:L142]struct EditParser {
    parser: Box<dyn EditFormatParser>,
}

## crates/agent/src/edit_agent/evals.rs
- [L31:L36]struct EditAgentOutputProcessor {
    mismatched_tag_threshold: f32,
    cumulative_tags: usize,
    cumulative_mismatched_tags: usize,
    eval_outputs: Vec<EvalOutput<EditEvalMetadata>>,
}
- [L38:L45]fn mismatched_tag_threshold(mismatched_tag_threshold: f32) -> EditAgentOutputProcessor 
- [L48:L51]struct EditEvalMetadata {
    tags: usize,
    mismatched_tags: usize,
}
- [L81:L151]fn eval_extract_handle_command_output() 
- [L155:L212]fn eval_delete_run_git_blame() 
- [L216:L273]fn eval_translate_doc_comments() 
- [L277:L397]fn eval_use_wasi_sdk_in_compile_parser_to_wasm() 
- [L401:L480]fn eval_disable_cursor_blinking() 

## crates/agent/src/edit_agent/evals/fixtures/add_overwrite_test/before.rs
- [L12:L20]struct ActionLog {
    tracked_buffers: BTreeMap<Entity<Buffer>, TrackedBuffer>,
    edited_since_project_diagnostics_check: bool,
    project: Entity<Project>,
}
- [L500:L561]fn apply_non_conflicting_edits(
    patch: &Patch<u32>,
    edits: Vec<Edit<u32>>,
    old_text: &mut Rope,
    new_text: &Rope,
) 
- [L563:L585]fn diff_snapshots(
    old_snapshot: &text::BufferSnapshot,
    new_snapshot: &text::BufferSnapshot,
) -> Vec<Edit<u32>> 
- [L587:L614]fn point_to_row_edit(edit: Edit<Point>, old_text: &Rope, new_text: &Rope) -> Edit<u32> 
- [L617:L620]enum ChangeAuthor {
    User,
    Agent,
}
- [L623:L627]enum TrackedBufferStatus {
    Created,
    Modified,
    Deleted,
}
- [L629:L641]struct TrackedBuffer {
    buffer: Entity<Buffer>,
    base_text: Rope,
    unreviewed_changes: Patch<u32>,
    status: TrackedBufferStatus,
    version: clock::Global,
    diff: Entity<BufferDiff>,
    snapshot: text::BufferSnapshot,
    diff_update: mpsc::UnboundedSender<(ChangeAuthor, text::BufferSnapshot)>,
    _open_lsp_handle: OpenLspBufferHandle,
    _maintain_diff: Task<()>,
    _subscription: Subscription,
}
- [L659:L661]struct ChangedBuffer {
    pub diff: Entity<BufferDiff>,
}

## crates/agent/src/edit_agent/evals/fixtures/delete_run_git_blame/after.rs
- [L18:L22]struct Blame {
    pub entries: Vec<BlameEntry>,
    pub messages: HashMap<Oid, String>,
    pub remote_url: Option<String>,
}
- [L25:L30]struct ParsedCommitMessage {
    pub message: SharedString,
    pub permalink: Option<url::Url>,
    pub pull_request: Option<crate::hosting_provider::PullRequest>,
    pub remote: Option<GitRemote>,
}
- [L67:L88]struct BlameEntry {
    pub sha: Oid,
    pub range: Range<u32>,
    pub original_line_number: u32,
    pub author: Option<String>,
    pub author_mail: Option<String>,
    pub author_time: Option<i64>,
    pub author_tz: Option<String>,
    pub committer_name: Option<String>,
    pub committer_email: Option<String>,
    pub committer_time: Option<i64>,
    pub committer_tz: Option<String>,
    pub summary: Option<String>,
    pub previous: Option<String>,
    pub filename: String,
}
- [L179:L261]fn parse_git_blame(output: &str) -> Result<Vec<BlameEntry>> 

## crates/agent/src/edit_agent/evals/fixtures/delete_run_git_blame/before.rs
- [L18:L22]struct Blame {
    pub entries: Vec<BlameEntry>,
    pub messages: HashMap<Oid, String>,
    pub remote_url: Option<String>,
}
- [L25:L30]struct ParsedCommitMessage {
    pub message: SharedString,
    pub permalink: Option<url::Url>,
    pub pull_request: Option<crate::hosting_provider::PullRequest>,
    pub remote: Option<GitRemote>,
}
- [L110:L131]struct BlameEntry {
    pub sha: Oid,
    pub range: Range<u32>,
    pub original_line_number: u32,
    pub author: Option<String>,
    pub author_mail: Option<String>,
    pub author_time: Option<i64>,
    pub author_tz: Option<String>,
    pub committer_name: Option<String>,
    pub committer_email: Option<String>,
    pub committer_time: Option<i64>,
    pub committer_tz: Option<String>,
    pub summary: Option<String>,
    pub previous: Option<String>,
    pub filename: String,
}
- [L222:L304]fn parse_git_blame(output: &str) -> Result<Vec<BlameEntry>> 

## crates/agent/src/edit_agent/evals/fixtures/disable_cursor_blinking/before.rs
- [L15:L15]mod actions;
- [L19:L19]mod display_map;
- [L26:L26]mod hover_popover;
- [L29:L29]mod items;
- [L34:L34]mod movement;
- [L38:L38]mod scroll;
- [L40:L40]mod tasks;
- [L50:L50]mod test;
- [L215:L215]const FILE_HEADER_HEIGHT: u32 = 2;
- [L216:L216]const MULTI_BUFFER_EXCERPT_HEADER_HEIGHT: u32 = 1;
- [L217:L217]const DEFAULT_MULTIBUFFER_CONTEXT: u32 = 2;
- [L224:L224]const CODE_ACTIONS_DEBOUNCE_TIMEOUT: Duration = Duration::from_millis(250);
- [L235:L235]type RenderDiffHunkControlsFn = Arc<
- [L256:L260]struct InlineValueCache {
    enabled: bool,
    inlays: Vec<InlayId>,
    refresh_task: Task<Option<()>>,
}
- [L273:L277]enum InlayId {
    InlineCompletion(usize),
    Hint(usize),
    DebuggerValue(usize),
}
- [L289:L289]enum ActiveDebugLine {}
- [L290:L290]enum DocumentHighlightRead {}
- [L291:L291]enum DocumentHighlightWrite {}
- [L292:L292]enum InputComposition {}
- [L293:L293]enum SelectedTextHighlight {}
- [L295:L295]enum ConflictsOuter {}
- [L296:L296]enum ConflictsOurs {}
- [L297:L297]enum ConflictsTheirs {}
- [L298:L298]enum ConflictsOursMarker {}
- [L299:L299]enum ConflictsTheirsMarker {}
- [L302:L305]enum Navigated {
    Yes,
    No,
}
- [L314:L325]enum DisplayDiffHunk {
    Folded {
        display_row: DisplayRow,
    },
    Unfolded {
        is_created_file: bool,
        diff_base_byte_range: Range<usize>,
        display_row_range: Range<DisplayRow>,
        multi_buffer_range: Range<Anchor>,
        status: DiffHunkStatus,
    },
}
- [L327:L330]enum HideMouseCursorOrigin {
    TypingAction,
    MovementAction,
}
- [L332:L334]fn init_settings(cx: &mut App) 
- [L336:L384]fn init(cx: &mut App) 
- [L386:L388]fn set_blame_renderer(renderer: impl BlameRenderer + 'static, cx: &mut App) 
- [L390:L390]trait DiagnosticRenderer {
- [L426:L428]fn set_diagnostic_renderer(renderer: impl DiagnosticRenderer + 'static, cx: &mut App) 
- [L430:L430]struct SearchWithinRange;
- [L437:L458]enum SelectPhase {
    Begin {
        position: DisplayPoint,
        add: bool,
        click_count: usize,
    },
    BeginColumnar {
        position: DisplayPoint,
        reset: bool,
        goal_column: u32,
    },
    Extend {
        position: DisplayPoint,
        click_count: usize,
    },
    Update {
        position: DisplayPoint,
        goal_column: u32,
        scroll_delta: gpui::Point<f32>,
    },
    End,
}
- [L461:L466]enum SelectMode {
    Character,
    Word(Range<Anchor>),
    Line(Range<Anchor>),
    All,
}
- [L469:L484]enum EditorMode {
    SingleLine {
        auto_width: bool,
    },
    AutoHeight {
        max_lines: usize,
    },
    Full {
        scale_ui_elements_with_buffer_font_size: bool,
        show_active_line_background: bool,
        sized_by_content: bool,
    },
}
- [L501:L515]enum SoftWrap {
    GitDiff,
    None,
    EditorWidth,
    Column(u32),
    Bounded(u32),
}
- [L518:L528]struct EditorStyle {
    pub background: Hsla,
    pub local_player: PlayerColor,
    pub text: TextStyle,
    pub scrollbar_width: Pixels,
    pub syntax: Arc<SyntaxTheme>,
    pub status: StatusColors,
    pub inlay_hints_style: HighlightStyle,
    pub inline_completion_styles: InlineCompletionStyles,
    pub unnecessary_code_fade: f32,
}
- [L552:L562]fn make_inlay_hints_style(cx: &mut App) -> HighlightStyle 
- [L564:L575]fn make_suggestion_styles(cx: &mut App) -> InlineCompletionStyles 
- [L585:L596]enum InlineCompletion {
    Edit {
        edits: Vec<(Range<Anchor>, String)>,
        edit_preview: Option<EditPreview>,
        display_mode: EditDisplayMode,
        snapshot: BufferSnapshot,
    },
    Move {
        target: Anchor,
        snapshot: BufferSnapshot,
    },
}
- [L598:L603]struct InlineCompletionState {
    inlay_ids: Vec<InlayId>,
    completion: InlineCompletion,
    completion_id: Option<SharedString>,
    invalidation_range: Range<Anchor>,
}
- [L605:L611]enum EditPredictionSettings {
    Disabled,
    Enabled {
        show_in_menu: bool,
        preview_requires_modifier: bool,
    },
}
- [L613:L613]enum InlineCompletionHighlight {}
- [L616:L622]struct InlineDiagnostic {
    message: SharedString,
    group_id: usize,
    is_primary: bool,
    start: Point,
    severity: DiagnosticSeverity,
}
- [L624:L627]enum MenuInlineCompletionsPolicy {
    Never,
    ByProvider,
}
- [L629:L637]enum EditPredictionPreview {
    Inactive { released_too_fast: bool },
    Active {
        since: Instant,
        previous_scroll_position: Option<ScrollAnchor>,
    },
}
- [L658:L662]struct ContextMenuOptions {
    pub min_entries_visible: usize,
    pub max_entries_visible: usize,
    pub placement: Option<ContextMenuPlacement>,
}
- [L665:L668]enum ContextMenuPlacement {
    Above,
    Below,
}
- [L671:L671]struct EditorActionId(usize);
- [L690:L695]struct ScrollbarMarkerState {
    scrollbar_size: Size<Pixels>,
    dirty: bool,
    markers: Arc<[PaintQuad]>,
    pending_refresh: Option<Task<Result<()>>>,
}
- [L704:L713]struct RunnableTasks {
    templates: Vec<(TaskSourceKind, TaskTemplate)>,
    offset: multi_buffer::Anchor,
    column: u32,
    extra_variables: HashMap<String, String>,
    context_range: Range<BufferOffset>,
}
- [L729:L730]struct ResolvedTasks {
    templates: SmallVec<[(TaskSourceKind, ResolvedTask); 1]>,
- [L735:L735]struct BufferOffset(usize);
- [L738:L738]trait Addon: 'static {
- [L757:L762]struct ChangeList {
    changes: Vec<Vec<Anchor>>,
    position: Option<usize>,
}
- [L804:L808]struct InlineBlamePopoverState {
    scroll_handle: ScrollHandle,
    commit_message: Option<ParsedCommitMessage>,
    markdown: Entity<Markdown>,
}
- [L810:L816]struct InlineBlamePopover {
    position: gpui::Point<Pixels>,
    show_task: Option<Task<()>>,
    hide_task: Option<Task<()>>,
    popover_bounds: Option<Bounds<Pixels>>,
    popover_state: InlineBlamePopoverState,
}
- [L818:L827]struct PhantomBreakpointIndicator {
    display_row: DisplayRow,
    is_active: bool,
    collides_with_existing_breakpoint: bool,
}
- [L828:L994]struct Editor {
    focus_handle: FocusHandle,
    last_focused_descendant: Option<WeakFocusHandle>,
    buffer: Entity<MultiBuffer>,
    pub display_map: Entity<DisplayMap>,
    pub selections: SelectionsCollection,
    pub scroll_manager: ScrollManager,
    pub(crate) show_cursor_when_unfocused: bool,
    columnar_selection_tail: Option<Anchor>,
    add_selections_state: Option<AddSelectionsState>,
    select_next_state: Option<SelectNextState>,
    select_prev_state: Option<SelectNextState>,
    selection_history: SelectionHistory,
    autoclose_regions: Vec<AutocloseRegion>,
    snippet_stack: InvalidationStack<SnippetState>,
    select_syntax_node_history: SelectSyntaxNodeHistory,
    ime_transaction: Option<TransactionId>,
    active_diagnostics: ActiveDiagnostic,
    show_inline_diagnostics: bool,
    inline_diagnostics_update: Task<()>,
    inline_diagnostics_enabled: bool,
    inline_diagnostics: Vec<(Anchor, InlineDiagnostic)>,
    soft_wrap_mode_override: Option<language_settings::SoftWrap>,
    hard_wrap: Option<usize>,
    pub project: Option<Entity<Project>>,
    semantics_provider: Option<Rc<dyn SemanticsProvider>>,
    completion_provider: Option<Box<dyn CompletionProvider>>,
    collaboration_hub: Option<Box<dyn CollaborationHub>>,
    blink_manager: Entity<BlinkManager>,
    show_cursor_names: bool,
    hovered_cursors: HashMap<HoveredCursor, Task<()>>,
    pub show_local_selections: bool,
    mode: EditorMode,
    show_breadcrumbs: bool,
    show_gutter: bool,
    show_scrollbars: bool,
    disable_scrolling: bool,
    disable_expand_excerpt_buttons: bool,
    show_line_numbers: Option<bool>,
    use_relative_line_numbers: Option<bool>,
    show_git_diff_gutter: Option<bool>,
    show_code_actions: Option<bool>,
    show_runnables: Option<bool>,
    show_breakpoints: Option<bool>,
    show_wrap_guides: Option<bool>,
    show_indent_guides: Option<bool>,
    placeholder_text: Option<Arc<str>>,
    highlight_order: usize,
    highlighted_rows: HashMap<TypeId, Vec<RowHighlight>>,
    background_highlights: TreeMap<TypeId, BackgroundHighlight>,
    gutter_highlights: TreeMap<TypeId, GutterHighlight>,
    scrollbar_marker_state: ScrollbarMarkerState,
    active_indent_guides_state: ActiveIndentGuidesState,
    nav_history: Option<ItemNavHistory>,
    context_menu: RefCell<Option<CodeContextMenu>>,
    context_menu_options: Option<ContextMenuOptions>,
    mouse_context_menu: Option<MouseContextMenu>,
    completion_tasks: Vec<(CompletionId, Task<Option<()>>)>,
    inline_blame_popover: Option<InlineBlamePopover>,
    signature_help_state: SignatureHelpState,
    auto_signature_help: Option<bool>,
    find_all_references_task_sources: Vec<Anchor>,
    next_completion_id: CompletionId,
    available_code_actions: Option<(Location, Rc<[AvailableCodeAction]>)>,
    code_actions_task: Option<Task<Result<()>>>,
    quick_selection_highlight_task: Option<(Range<Anchor>, Task<()>)>,
    debounced_selection_highlight_task: Option<(Range<Anchor>, Task<()>)>,
    document_highlights_task: Option<Task<()>>,
    linked_editing_range_task: Option<Task<Option<()>>>,
    linked_edit_ranges: linked_editing_ranges::LinkedEditingRanges,
    pending_rename: Option<RenameState>,
    searchable: bool,
    cursor_shape: CursorShape,
    current_line_highlight: Option<CurrentLineHighlight>,
    collapse_matches: bool,
    autoindent_mode: Option<AutoindentMode>,
    workspace: Option<(WeakEntity<Workspace>, Option<WorkspaceId>)>,
    input_enabled: bool,
    use_modal_editing: bool,
    read_only: bool,
    leader_peer_id: Option<PeerId>,
    remote_id: Option<ViewId>,
    pub hover_state: HoverState,
    pending_mouse_down: Option<Rc<RefCell<Option<MouseDownEvent>>>>,
    gutter_hovered: bool,
    hovered_link_state: Option<HoveredLinkState>,
    edit_prediction_provider: Option<RegisteredInlineCompletionProvider>,
    code_action_providers: Vec<Rc<dyn CodeActionProvider>>,
    active_inline_completion: Option<InlineCompletionState>,
    stale_inline_completion_in_menu: Option<InlineCompletionState>,
    edit_prediction_settings: EditPredictionSettings,
    inline_completions_hidden_for_vim_mode: bool,
    show_inline_completions_override: Option<bool>,
    menu_inline_completions_policy: MenuInlineCompletionsPolicy,
    edit_prediction_preview: EditPredictionPreview,
    edit_prediction_indent_conflict: bool,
    edit_prediction_requires_modifier_in_indent_conflict: bool,
    inlay_hint_cache: InlayHintCache,
    next_inlay_id: usize,
    _subscriptions: Vec<Subscription>,
    pixel_position_of_newest_cursor: Option<gpui::Point<Pixels>>,
    gutter_dimensions: GutterDimensions,
    style: Option<EditorStyle>,
    text_style_refinement: Option<TextStyleRefinement>,
    next_editor_action_id: EditorActionId,
    editor_actions:
        Rc<RefCell<BTreeMap<EditorActionId, Box<dyn Fn(&mut Window, &mut Context<Self>)>>>>,
    use_autoclose: bool,
    use_auto_surround: bool,
    auto_replace_emoji_shortcode: bool,
    jsx_tag_auto_close_enabled_in_any_buffer: bool,
    show_git_blame_gutter: bool,
    show_git_blame_inline: bool,
    show_git_blame_inline_delay_task: Option<Task<()>>,
    git_blame_inline_enabled: bool,
    render_diff_hunk_controls: RenderDiffHunkControlsFn,
    serialize_dirty_buffers: bool,
    show_selection_menu: Option<bool>,
    blame: Option<Entity<GitBlame>>,
    blame_subscription: Option<Subscription>,
    custom_context_menu: Option<
        Box<
            dyn 'static
                + Fn(
                    &mut Self,
                    DisplayPoint,
                    &mut Window,
                    &mut Context<Self>,
                ) -> Option<Entity<ui::ContextMenu>>,
        >,
    >,
    last_bounds: Option<Bounds<Pixels>>,
    last_position_map: Option<Rc<PositionMap>>,
    expect_bounds_change: Option<Bounds<Pixels>>,
    tasks: BTreeMap<(BufferId, BufferRow), RunnableTasks>,
    tasks_update_task: Option<Task<()>>,
    breakpoint_store: Option<Entity<BreakpointStore>>,
    gutter_breakpoint_indicator: (Option<PhantomBreakpointIndicator>, Option<Task<()>>),
    in_project_search: bool,
    previous_search_ranges: Option<Arc<[Range<Anchor>]>>,
    breadcrumb_header: Option<String>,
    focused_block: Option<FocusedBlock>,
    next_scroll_position: NextScrollCursorCenterTopBottom,
    addons: HashMap<TypeId, Box<dyn Addon>>,
    registered_buffers: HashMap<BufferId, OpenLspBufferHandle>,
    load_diff_task: Option<Shared<Task<()>>>,
    selection_mark_mode: bool,
    toggle_fold_multiple_buffers: Task<()>,
    _scroll_cursor_center_top_bottom_task: Task<()>,
    serialize_selections: Task<()>,
    serialize_folds: Task<()>,
    mouse_cursor_hidden: bool,
    hide_mouse_mode: HideMouseMode,
    pub change_list: ChangeList,
    inline_value_cache: InlineValueCache,
}
- [L997:L1002]enum NextScrollCursorCenterTopBottom {
    Center,
    Top,
    Bottom,
}
- [L1015:L1031]struct EditorSnapshot {
    pub mode: EditorMode,
    show_gutter: bool,
    show_line_numbers: Option<bool>,
    show_git_diff_gutter: Option<bool>,
    show_code_actions: Option<bool>,
    show_runnables: Option<bool>,
    show_breakpoints: Option<bool>,
    git_blame_gutter_max_author_length: Option<usize>,
    pub display_snapshot: DisplaySnapshot,
    pub placeholder_text: Option<Arc<str>>,
    is_focused: bool,
    scroll_anchor: ScrollAnchor,
    ongoing_scroll: OngoingScroll,
    current_line_highlight: CurrentLineHighlight,
    gutter_hovered: bool,
}
- [L1034:L1040]struct GutterDimensions {
    pub left_padding: Pixels,
    pub right_padding: Pixels,
    pub width: Pixels,
    pub margin: Pixels,
    pub git_blame_entries_width: Option<Pixels>,
}
- [L1057:L1065]struct RemoteSelection {
    pub replica_id: ReplicaId,
    pub selection: Selection<Anchor>,
    pub cursor_shape: CursorShape,
    pub peer_id: PeerId,
    pub line_mode: bool,
    pub participant_index: Option<ParticipantIndex>,
    pub user_name: Option<SharedString>,
}
- [L1068:L1073]struct SelectionHistoryEntry {
    selections: Arc<[Selection<Anchor>]>,
    select_next_state: Option<SelectNextState>,
    select_prev_state: Option<SelectNextState>,
    add_selections_state: Option<AddSelectionsState>,
}
- [L1075:L1079]enum SelectionHistoryMode {
    Normal,
    Undoing,
    Redoing,
}
- [L1082:L1085]struct HoveredCursor {
    replica_id: u16,
    selection_id: usize,
}
- [L1094:L1101]struct SelectionHistory {
    selections_by_transaction:
        HashMap<TransactionId, (Arc<[Selection<Anchor>]>, Option<Arc<[Selection<Anchor>]>>)>,
    mode: SelectionHistoryMode,
    undo_stack: VecDeque<SelectionHistoryEntry>,
    redo_stack: VecDeque<SelectionHistoryEntry>,
}
- [L1170:L1173]struct RowHighlightOptions {
    pub autoscroll: bool,
    pub include_gutter: bool,
}
- [L1184:L1190]struct RowHighlight {
    index: usize,
    range: Range<Anchor>,
    color: Hsla,
    options: RowHighlightOptions,
    type_id: TypeId,
}
- [L1193:L1196]struct AddSelectionsState {
    above: bool,
    stack: Vec<usize>,
}
- [L1199:L1203]struct SelectNextState {
    query: AhoCorasick,
    wordwise: bool,
    done: bool,
}
- [L1215:L1219]struct AutocloseRegion {
    selection_id: usize,
    range: Range<Anchor>,
    pair: BracketPair,
}
- [L1222:L1226]struct SnippetState {
    ranges: Vec<Vec<Range<Anchor>>>,
    active_index: usize,
    choices: Vec<Option<Vec<String>>>,
}
- [L1229:L1234]struct RenameState {
    pub range: Range<Anchor>,
    pub old_name: Arc<str>,
    pub editor: Entity<Editor>,
    block_id: CustomBlockId,
}
- [L1236:L1236]struct InvalidationStack<T>(Vec<T>);
- [L1238:L1241]struct RegisteredInlineCompletionProvider {
    provider: Arc<dyn InlineCompletionProviderHandle>,
    _subscription: Subscription,
}
- [L1244:L1249]struct ActiveDiagnosticGroup {
    pub active_range: Range<Anchor>,
    pub active_message: String,
    pub group_id: usize,
    pub blocks: HashSet<CustomBlockId>,
}
- [L1260:L1267]struct ClipboardSelection {
    pub len: usize,
    pub is_entire_line: bool,
    pub first_line_indent: u32,
}
- [L1277:L1281]struct SelectSyntaxNodeHistory {
    stack: Vec<SelectSyntaxNodeHistoryState>,
    pub disable_clearing: bool,
}
- [L1299:L1303]enum SelectSyntaxNodeScrollBehavior {
    CursorTop,
    FitSelection,
    CursorBottom,
}
- [L1314:L1319]enum GotoDefinitionKind {
    Symbol,
    Declaration,
    Type,
    Implementation,
}
- [L1322:L1330]enum InlayHintRefreshReason {
    ModifiersChanged(bool),
    Toggle(bool),
    SettingsChange(InlayHintSettings),
    NewLinesShown,
    BufferEdited(HashSet<Arc<Language>>),
    RefreshRequested,
    ExcerptsRemoved(Vec<ExcerptId>),
}
- [L1346:L1349]enum FormatTarget {
    Buffers,
    Ranges(Vec<Range<MultiBufferPoint>>),
}
- [L1357:L1368]enum JumpData {
    MultiBufferRow {
        row: MultiBufferRow,
        line_offset_from_top: u32,
    },
    MultiBufferPoint {
        excerpt_id: ExcerptId,
        position: Point,
        anchor: text::Anchor,
        line_offset_from_top: u32,
    },
}
- [L1370:L1373]enum MultibufferSelectionMode {
    First,
    All,
}
- [L1376:L1379]struct RewrapOptions {
    pub override_language_settings: bool,
    pub preserve_existing_whitespace: bool,
}
- [L18739:L18744]fn vim_enabled(cx: &App) -> bool 
- [L18747:L18819]fn choose_completion_range(
    completion: &Completion,
    intent: CompletionIntent,
    buffer: &Entity<Buffer>,
    cx: &mut Context<Editor>,
) -> Range<usize> 
- [L18821:L18847]fn insert_extra_newline_brackets(
    buffer: &MultiBufferSnapshot,
    range: Range<usize>,
    language: &language::LanguageScope,
) -> bool 
- [L18849:L18885]fn insert_extra_newline_tree_sitter(buffer: &MultiBufferSnapshot, range: Range<usize>) -> bool 
- [L18887:L18911]fn get_uncommitted_diff_for_buffer(
    project: &Entity<Project>,
    buffers: impl IntoIterator<Item = Entity<Buffer>>,
    buffer: Entity<MultiBuffer>,
    cx: &mut App,
) -> Task<()> 
- [L18913:L18926]fn char_len_with_expanded_tabs(offset: usize, text: &str, tab_size: NonZeroU32) -> usize 
- [L18946:L18949]struct WordBreakingTokenizer<'a> {
    input: &'a str,
}
- [L18957:L18961]fn is_char_ideographic(ch: char) -> bool 
- [L18963:L18965]fn is_grapheme_ideographic(text: &str) -> bool 
- [L18967:L18969]fn is_grapheme_whitespace(text: &str) -> bool 
- [L18971:L18975]fn should_stay_with_preceding_ideograph(text: &str) -> bool 
- [L18978:L18982]enum WordBreakToken<'a> {
    Word { token: &'a str, grapheme_len: usize },
    InlineWhitespace { token: &'a str, grapheme_len: usize },
    Newline,
}
- [L19052:L19124]fn test_word_breaking_tokenizer() 
- [L19126:L19208]fn wrap_with_prefix(
    line_prefix: String,
    unwrapped_text: String,
    wrap_column: usize,
    tab_size: NonZeroU32,
    preserve_existing_whitespace: bool,
) -> String 
- [L19211:L19252]fn test_wrap_with_prefix() 
- [L19254:L19254]trait CollaborationHub {
- [L19278:L19278]trait SemanticsProvider {
- [L19341:L19341]trait CompletionProvider {
- [L19389:L19389]trait CodeActionProvider {
- [L19452:L19611]fn snippet_completions(
    project: &Project,
    buffer: &Entity<Buffer>,
    buffer_position: text::Anchor,
    cx: &mut App,
) -> Task<Result<Vec<Completion>>> 
- [L19845:L19853]fn inlay_hint_settings(
    location: Anchor,
    snapshot: &MultiBufferSnapshot,
    cx: &mut Context<Editor>,
) -> InlayHintSettings 
- [L19855:L19874]fn consume_contiguous_rows(
    contiguous_row_selections: &mut Vec<Selection<Point>>,
    selection: &Selection<Point>,
    display_map: &DisplaySnapshot,
    selections: &mut Peekable<std::slice::Iter<Selection<Point>>>,
) -> (MultiBufferRow, MultiBufferRow) 
- [L19876:L19882]fn ending_row(next_selection: &Selection<Point>, display_map: &DisplaySnapshot) -> MultiBufferRow 
- [L20200:L20259]enum EditorEvent {
    InputIgnored {
        text: Arc<str>,
    },
    InputHandled {
        utf16_range_to_replace: Option<Range<isize>>,
        text: Arc<str>,
    },
    ExcerptsAdded {
        buffer: Entity<Buffer>,
        predecessor: ExcerptId,
        excerpts: Vec<(ExcerptId, ExcerptRange<language::Anchor>)>,
    },
    ExcerptsRemoved {
        ids: Vec<ExcerptId>,
        removed_buffer_ids: Vec<BufferId>,
    },
    BufferFoldToggled {
        ids: Vec<ExcerptId>,
        folded: bool,
    },
    ExcerptsEdited {
        ids: Vec<ExcerptId>,
    },
    ExcerptsExpanded {
        ids: Vec<ExcerptId>,
    },
    BufferEdited,
    Edited {
        transaction_id: clock::Lamport,
    },
    Reparsed(BufferId),
    Focused,
    FocusedIn,
    Blurred,
    DirtyChanged,
    Saved,
    TitleChanged,
    DiffBaseChanged,
    SelectionsChanged {
        local: bool,
    },
    ScrollPositionChanged {
        local: bool,
        autoscroll: bool,
    },
    Closed,
    TransactionUndone {
        transaction_id: clock::Lamport,
    },
    TransactionBegun {
        transaction_id: clock::Lamport,
    },
    Reloaded,
    CursorShapeChanged,
    PushedToNavHistory {
        anchor: Anchor,
        is_deactivate: bool,
    },
}
- [L20707:L20725]fn inline_completion_edit_text(
    current_snapshot: &BufferSnapshot,
    edits: &[(Range<Anchor>, String)],
    edit_preview: &EditPreview,
    include_deletions: bool,
    cx: &App,
) -> HighlightedText 
- [L20727:L20735]fn diagnostic_style(severity: DiagnosticSeverity, colors: &StatusColors) -> Hsla 
- [L20737:L20780]fn styled_runs_for_code_label<'a>(
    label: &'a CodeLabel,
    syntax_theme: &'a theme::SyntaxTheme,
) -> impl 'a + Iterator<Item = (Range<usize>, HighlightStyle)> 
- [L20802:L20802]trait RangeToAnchorExt: Sized {
- [L20823:L20823]trait RowExt {
- [L20901:L20909]fn collapse_multiline_range(range: Range<Point>) -> Range<Point> 
- [L20910:L20910]struct KillRing(ClipboardItem);
- [L20915:L20919]enum BreakpointPromptEditAction {
    Log,
    Condition,
    HitCondition,
}
- [L20921:L20930]struct BreakpointPromptEditor {
    pub(crate) prompt: Entity<Editor>,
    editor: WeakEntity<Editor>,
    breakpoint_anchor: Anchor,
    breakpoint: Breakpoint,
    edit_action: BreakpointPromptEditAction,
    block_ids: HashSet<CustomBlockId>,
    gutter_dimensions: Arc<Mutex<GutterDimensions>>,
    _subscriptions: Vec<Subscription>,
}
- [L21090:L21116]fn all_edits_insertions_or_deletions(
    edits: &Vec<(Range<Anchor>, String)>,
    snapshot: &MultiBufferSnapshot,
) -> bool 
- [L21118:L21118]struct MissingEditPredictionKeybindingTooltip;
- [L21153:L21158]struct LineHighlight {
    pub background: Background,
    pub border: Option<gpui::Hsla>,
    pub include_gutter: bool,
    pub type_id: Option<TypeId>,
}
- [L21160:L21343]fn render_diff_hunk_controls(
    row: u32,
    status: &DiffHunkStatus,
    hunk_range: Range<Anchor>,
    is_created_file: bool,
    line_height: Pixels,
    editor: &Entity<Editor>,
    _window: &mut Window,
    cx: &mut App,
) -> AnyElement 

## crates/agent/src/edit_agent/evals/fixtures/extract_handle_command_output/before.rs
- [L18:L22]struct Blame {
    pub entries: Vec<BlameEntry>,
    pub messages: HashMap<Oid, String>,
    pub remote_url: Option<String>,
}
- [L25:L30]struct ParsedCommitMessage {
    pub message: SharedString,
    pub permalink: Option<url::Url>,
    pub pull_request: Option<crate::hosting_provider::PullRequest>,
    pub remote: Option<GitRemote>,
}
- [L110:L131]struct BlameEntry {
    pub sha: Oid,
    pub range: Range<u32>,
    pub original_line_number: u32,
    pub author: Option<String>,
    pub author_mail: Option<String>,
    pub author_time: Option<i64>,
    pub author_tz: Option<String>,
    pub committer_name: Option<String>,
    pub committer_email: Option<String>,
    pub committer_time: Option<i64>,
    pub committer_tz: Option<String>,
    pub summary: Option<String>,
    pub previous: Option<String>,
    pub filename: String,
}
- [L222:L304]fn parse_git_blame(output: &str) -> Result<Vec<BlameEntry>> 

## crates/agent/src/edit_agent/evals/fixtures/from_pixels_constructor/before.rs
- [L37:L47]struct Canvas {
    pub pixels: Vec<u8>,
    pub size: Vector2I,
    pub stride: usize,
    pub format: Format,
}
- [L222:L231]enum Format {
    Rgba32,
    Rgb24,
    A8,
}
- [L267:L276]enum RasterizationOptions {
    Bilevel,
    GrayscaleAa,
    SubpixelAa,
}
- [L282:L282]struct BlitMemcpy;
- [L291:L291]struct BlitRgb24ToA8;
- [L303:L303]struct BlitA8ToRgb24;
- [L316:L316]struct BlitRgba32ToRgb24;
- [L328:L328]struct BlitRgb24ToRgba32;

## crates/agent/src/edit_agent/evals/fixtures/translate_doc_comments/before.rs
- [L37:L47]struct Canvas {
    pub pixels: Vec<u8>,
    pub size: Vector2I,
    pub stride: usize,
    pub format: Format,
}
- [L222:L231]enum Format {
    Rgba32,
    Rgb24,
    A8,
}
- [L267:L276]enum RasterizationOptions {
    Bilevel,
    GrayscaleAa,
    SubpixelAa,
}
- [L282:L282]struct BlitMemcpy;
- [L291:L291]struct BlitRgb24ToA8;
- [L303:L303]struct BlitA8ToRgb24;
- [L316:L316]struct BlitRgba32ToRgb24;
- [L328:L328]struct BlitRgb24ToRgba32;

## crates/agent/src/edit_agent/evals/fixtures/use_wasi_sdk_in_compile_parser_to_wasm/before.rs
- [L44:L44]static GRAMMAR_NAME_REGEX: LazyLock<Regex> =
- [L47:L47]const EMSCRIPTEN_TAG: &str = concat!("docker.io/emscripten/emsdk:", env!("EMSCRIPTEN_VERSION"));
- [L50:L57]struct Config {
        rename = "parser-directories",
        deserialize_with = "deserialize_parser_directories"
    )]
    pub parser_directories: Vec<PathBuf>,
}
- [L61:L66]enum PathsJSON {
    Empty,
    Single(PathBuf),
    Multiple(Vec<PathBuf>),
}
- [L84:L91]enum PackageJSONAuthor {
    String(String),
    Object {
        name: String,
        email: Option<String>,
        url: Option<String>,
    },
}
- [L95:L98]enum PackageJSONRepository {
    String(String),
    Object { url: String },
}
- [L101:L112]struct PackageJSON {
    pub name: String,
    pub version: Version,
    pub description: Option<String>,
    pub author: Option<PackageJSONAuthor>,
    pub maintainers: Option<Vec<PackageJSONAuthor>>,
    pub license: Option<String>,
    pub repository: Option<PackageJSONRepository>,
    pub tree_sitter: Option<Vec<LanguageConfigurationJSON>>,
}
- [L114:L116]fn default_path() -> PathBuf 
- [L120:L138]struct LanguageConfigurationJSON {
    pub path: PathBuf,
    pub scope: Option<String>,
    pub file_types: Option<Vec<String>>,
    pub content_regex: Option<String>,
    pub first_line_regex: Option<String>,
    pub injection_regex: Option<String>,
    pub highlights: PathsJSON,
    pub injections: PathsJSON,
    pub locals: PathsJSON,
    pub tags: PathsJSON,
    pub external_files: PathsJSON,
}
- [L142:L149]struct TreeSitterJSON {
    pub schema: Option<String>,
    pub grammars: Vec<Grammar>,
    pub metadata: Metadata,
    pub bindings: Bindings,
}
- [L166:L194]struct Grammar {
    pub name: String,
    pub camelcase: Option<String>,
    pub title: Option<String>,
    pub scope: String,
    pub path: Option<PathBuf>,
    pub external_files: PathsJSON,
    pub file_types: Option<Vec<String>>,
    pub highlights: PathsJSON,
    pub injections: PathsJSON,
    pub locals: PathsJSON,
    pub tags: PathsJSON,
    pub injection_regex: Option<String>,
    pub first_line_regex: Option<String>,
    pub content_regex: Option<String>,
    pub class_name: Option<String>,
}
- [L197:L209]struct Metadata {
    pub version: Version,
    pub license: Option<String>,
    pub description: Option<String>,
    pub authors: Option<Vec<Author>>,
    pub links: Option<Links>,
    pub namespace: Option<String>,
}
- [L212:L218]struct Author {
    pub name: String,
    pub email: Option<String>,
    pub url: Option<String>,
}
- [L221:L227]struct Links {
    pub repository: Url,
    pub funding: Option<Url>,
    pub homepage: Option<String>,
}
- [L231:L243]struct Bindings {
    pub c: bool,
    pub go: bool,
    pub java: bool,
    pub kotlin: bool,
    pub node: bool,
    pub python: bool,
    pub rust: bool,
    pub swift: bool,
    pub zig: bool,
}
- [L264:L277]fn deserialize_parser_directories<'de, D>(deserializer: D) -> Result<Vec<PathBuf>, D::Error>
where
    D: Deserializer<'de>,
- [L279:L287]fn standardize_path(path: PathBuf, home: &Path) -> PathBuf 
- [L309:L330]struct LanguageConfiguration<'a> {
    pub scope: Option<String>,
    pub content_regex: Option<Regex>,
    pub first_line_regex: Option<Regex>,
    pub injection_regex: Option<Regex>,
    pub file_types: Vec<String>,
    pub root_path: PathBuf,
    pub highlights_filenames: Option<Vec<PathBuf>>,
    pub injections_filenames: Option<Vec<PathBuf>>,
    pub locals_filenames: Option<Vec<PathBuf>>,
    pub tags_filenames: Option<Vec<PathBuf>>,
    pub language_name: String,
    language_id: usize,
    highlight_config: OnceCell<Option<HighlightConfiguration>>,
    tags_config: OnceCell<Option<TagsConfiguration>>,
    highlight_names: &'a Mutex<Vec<String>>,
    use_all_highlight_names: bool,
}
- [L332:L349]struct Loader {
    pub parser_lib_path: PathBuf,
    languages_by_id: Vec<(PathBuf, OnceCell<Language>, Option<Vec<PathBuf>>)>,
    language_configurations: Vec<LanguageConfiguration<'static>>,
    language_configuration_ids_by_file_type: HashMap<String, Vec<usize>>,
    language_configuration_in_current_path: Option<usize>,
    language_configuration_ids_by_first_line_regex: HashMap<String, Vec<usize>>,
    highlight_names: Box<Mutex<Vec<String>>>,
    use_all_highlight_names: bool,
    debug_build: bool,
    sanitize_build: bool,
    force_rebuild: bool,
    wasm_store: Mutex<Option<tree_sitter::WasmStore>>,
}
- [L351:L361]struct CompileConfig<'a> {
    pub src_path: &'a Path,
    pub header_paths: Vec<&'a Path>,
    pub parser_path: PathBuf,
    pub scanner_path: Option<PathBuf>,
    pub external_files: Option<&'a [PathBuf]>,
    pub output_path: Option<PathBuf>,
    pub flags: &'a [&'a str],
    pub sanitize: bool,
    pub name: String,
}
- [L1601:L1613]fn needs_recompile(lib_path: &Path, paths_to_check: &[PathBuf]) -> Result<bool> 
- [L1615:L1617]fn mtime(path: &Path) -> Result<SystemTime> 
- [L1619:L1629]fn replace_dashes_with_underscores(name: &str) -> String 

## crates/agent/src/edit_agent/streaming_fuzzy_matcher.rs
- [L8:L17]struct StreamingFuzzyMatcher {
    snapshot: TextBufferSnapshot,
    query_lines: Vec<String>,
    line_hint: Option<u32>,
    incomplete_line: String,
    matches: Vec<Range<usize>>,
    matrix: SearchMatrix,
}
- [L238:L249]fn fuzzy_eq(left: &str, right: &str) -> bool 
- [L252:L256]enum SearchDirection {
    Up,
    Left,
    Diagonal,
}
- [L259:L262]struct SearchState {
    cost: u32,
    direction: SearchDirection,
}
- [L270:L274]struct SearchMatrix {
    cols: usize,
    rows: usize,
    data: Vec<SearchState>,
}

## crates/agent/src/history_store.rs
- [L24:L48]fn load_agent_thread(
    session_id: acp::SessionId,
    history_store: Entity<HistoryStore>,
    project: Entity<Project>,
    cx: &mut App,
) -> Task<Result<Entity<crate::Thread>>> 
- [L51:L54]enum HistoryEntry {
    AcpThread(DbThreadMetadata),
    TextThread(SavedTextThreadMetadata),
}
- [L100:L105]enum HistoryEntryId {
    AcpThread(acp::SessionId),
    TextThread(Arc<Path>),
}
- [L117:L120]enum SerializedRecentOpen {
    AcpThread(String),
    TextThread(String),
}
- [L122:L129]struct HistoryStore {
    threads: Vec<DbThreadMetadata>,
    entries: Vec<HistoryEntry>,
    text_thread_store: Entity<assistant_text_thread::TextThreadStore>,
    recently_opened_entries: VecDeque<HistoryEntryId>,
    _subscriptions: Vec<gpui::Subscription>,
    _save_recently_opened_entries_task: Task<()>,
}

## crates/agent/src/legacy_thread.rs
- [L11:L18]enum DetailedSummaryState {
    NotGenerated,
    Generating,
    Generated {
        text: SharedString,
    },
}
- [L21:L21]struct MessageId(pub usize);
- [L24:L45]struct SerializedThread {
    pub version: String,
    pub summary: SharedString,
    pub updated_at: DateTime<Utc>,
    pub messages: Vec<SerializedMessage>,
    pub initial_project_snapshot: Option<Arc<ProjectSnapshot>>,
    pub cumulative_token_usage: TokenUsage,
    pub request_token_usage: Vec<TokenUsage>,
    pub detailed_summary_state: DetailedSummaryState,
    pub model: Option<SerializedLanguageModel>,
    pub completion_mode: Option<CompletionMode>,
    pub tool_use_limit_reached: bool,
    pub profile: Option<AgentProfileId>,
}
- [L48:L51]struct SerializedLanguageModel {
    pub provider: String,
    pub model: String,
}
- [L81:L85]struct SerializedThreadV0_1_0(
    SerializedThread,
);
- [L118:L133]struct SerializedMessage {
    pub id: MessageId,
    pub role: Role,
    pub segments: Vec<SerializedMessageSegment>,
    pub tool_uses: Vec<SerializedToolUse>,
    pub tool_results: Vec<SerializedToolResult>,
    pub context: String,
    pub creases: Vec<SerializedCrease>,
    pub is_hidden: bool,
}
- [L137:L151]enum SerializedMessageSegment {
    Text {
        text: String,
    },
    Thinking {
        text: String,
        signature: Option<String>,
    },
    RedactedThinking {
        data: String,
    },
}
- [L154:L158]struct SerializedToolUse {
    pub id: LanguageModelToolUseId,
    pub name: SharedString,
    pub input: serde_json::Value,
}
- [L161:L166]struct SerializedToolResult {
    pub tool_use_id: LanguageModelToolUseId,
    pub is_error: bool,
    pub content: LanguageModelToolResultContent,
    pub output: Option<serde_json::Value>,
}
- [L169:L175]struct LegacySerializedThread {
    pub summary: SharedString,
    pub updated_at: DateTime<Utc>,
    pub messages: Vec<LegacySerializedMessage>,
    pub initial_project_snapshot: Option<Arc<ProjectSnapshot>>,
}
- [L197:L205]struct LegacySerializedMessage {
    pub id: MessageId,
    pub role: Role,
    pub text: String,
    pub tool_uses: Vec<SerializedToolUse>,
    pub tool_results: Vec<SerializedToolResult>,
}
- [L223:L228]struct SerializedCrease {
    pub start: usize,
    pub end: usize,
    pub icon_path: SharedString,
    pub label: SharedString,
}

## crates/agent/src/native_agent_server.rs
- [L16:L19]struct NativeAgentServer {
    fs: Arc<dyn Fs>,
    history: Entity<HistoryStore>,
}
- [L102:L110]fn model_id_to_selection(model_id: &acp::ModelId) -> LanguageModelSelection 

## crates/agent/src/outline.rs
- [L10:L10]const AUTO_OUTLINE_SIZE: usize = 16384;
- [L8:L18]struct BufferContent {
    pub text: String,
    pub is_outline: bool,
}
- [L28:L28]async fn get_buffer_content_or_outline(
- [L156:L193]fn render_entries(
    output: &mut String,
    items: impl IntoIterator<Item = (OutlineItem<Point>, Option<String>)>,
) -> usize 

## crates/agent/src/templates.rs
- [L11:L11]struct Assets;
- [L13:L13]struct Templates(Handlebars<'static>);
- [L25:L25]trait Template: Sized {
- [L37:L42]struct SystemPromptTemplate<'a> {
    pub project: &'a prompt_store::ProjectContext,
    pub available_tools: Vec<SharedString>,
    pub model_name: Option<String>,
}
- [L48:L71]fn contains(
    h: &handlebars::Helper,
    _: &handlebars::Handlebars,
    _: &handlebars::Context,
    _: &mut handlebars::RenderContext,
    out: &mut dyn handlebars::Output,
) -> handlebars::HelperResult 

## crates/agent/src/tests/mod.rs
- [L55:L60]fn init_test(cx: &mut TestAppContext) 
- [L62:L67]struct FakeTerminalHandle {
    killed: Arc<AtomicBool>,
    wait_for_exit: Shared<Task<acp::TerminalExitStatus>>,
    output: acp::TerminalOutputResponse,
    id: acp::TerminalId,
}
- [L119:L121]struct FakeThreadEnvironment {
    handle: Rc<FakeTerminalHandle>,
}
- [L135:L141]fn always_allow_tools(cx: &mut TestAppContext) 
- [L2560:L2569]fn stop_events(result_events: Vec<Result<ThreadEvent>>) -> Vec<acp::StopReason> 
- [L2571:L2577]struct ThreadTest {
    model: Arc<dyn LanguageModel>,
    thread: Entity<Thread>,
    project_context: Entity<ProjectContext>,
    context_server_store: Entity<ContextServerStore>,
    fs: Arc<FakeFs>,
}
- [L2579:L2582]enum TestModel {
    Sonnet4,
    Fake,
}
- [L2697:L2701]fn init_logger() 
- [L2703:L2724]fn watch_settings(fs: Arc<dyn Fs>, cx: &mut App) 
- [L2726:L2732]fn tool_names_for_completion(completion: &LanguageModelRequest) -> Vec<String> 
- [L2734:L2811]fn setup_context_server(
    name: &'static str,
    tools: Vec<context_server::types::Tool>,
    context_server_store: &Entity<ContextServerStore>,
    cx: &mut TestAppContext,
) -> mpsc::UnboundedReceiver<(
    context_server::types::CallToolParams,
    oneshot::Sender<context_server::types::CallToolResponse>,
)> 

## crates/agent/src/tests/test_tools.rs
- [L6:L11]struct EchoToolInput {
    pub text: String,
}
- [L13:L13]struct EchoTool;
- [L45:L50]struct DelayToolInput {
    ms: u64,
}
- [L52:L52]struct DelayTool;
- [L95:L95]struct ToolRequiringPermissionInput {}
- [L97:L97]struct ToolRequiringPermission;
- [L134:L134]struct InfiniteToolInput {}
- [L136:L136]struct InfiniteTool;
- [L171:L189]struct WordListInput {
    a: Option<String>,
    b: Option<String>,
    c: Option<String>,
    d: Option<String>,
    e: Option<String>,
    f: Option<String>,
    g: Option<String>,
}
- [L191:L191]struct WordListTool;

## crates/agent/src/thread.rs
- [L59:L59]const MAX_TOOL_NAME_LENGTH: usize = 64;
- [L61:L65]struct PromptId(Arc<str>);
- [L83:L92]enum RetryStrategy {
    ExponentialBackoff {
        initial_delay: Duration,
        max_attempts: u8,
    },
    Fixed {
        delay: Duration,
        max_attempts: u8,
    },
}
- [L95:L99]enum Message {
    User(UserMessage),
    Agent(AgentMessage),
    Resume,
}
- [L145:L148]struct UserMessage {
    pub id: UserMessageId,
    pub content: Vec<UserMessageContent>,
}
- [L151:L155]enum UserMessageContent {
    Text(String),
    Mention { uri: MentionUri, content: String },
    Image(LanguageModelImage),
}
- [L366:L384]fn codeblock_tag(full_path: &Path, line_range: Option<&RangeInclusive<u32>>) -> String 
- [L519:L523]struct AgentMessage {
    pub content: Vec<AgentMessageContent>,
    pub tool_results: IndexMap<LanguageModelToolUseId, LanguageModelToolResult>,
    pub reasoning_details: Option<serde_json::Value>,
}
- [L526:L534]enum AgentMessageContent {
    Text(String),
    Thinking {
        text: String,
        signature: Option<String>,
    },
    RedactedThinking(String),
    ToolUse(LanguageModelToolUse),
}
- [L536:L536]trait TerminalHandle {
- [L543:L543]trait ThreadEnvironment {
- [L554:L563]enum ThreadEvent {
    UserMessage(UserMessage),
    AgentText(String),
    AgentThinking(String),
    ToolCall(acp::ToolCall),
    ToolCallUpdate(acp_thread::ToolCallUpdate),
    ToolCallAuthorization(ToolCallAuthorization),
    Retry(acp_thread::RetryStatus),
    Stop(acp::StopReason),
}
- [L566:L571]struct NewTerminal {
    pub command: String,
    pub output_byte_limit: Option<u64>,
    pub cwd: Option<PathBuf>,
    pub response: oneshot::Sender<Result<Entity<acp_thread::Terminal>>>,
}
- [L574:L578]struct ToolCallAuthorization {
    pub tool_call: acp::ToolCallUpdate,
    pub options: Vec<acp::PermissionOption>,
    pub response: oneshot::Sender<acp::PermissionOptionId>,
}
- [L581:L588]enum CompletionError {
    MaxTokens,
    Refusal,
}
- [L590:L625]struct Thread {
    id: acp::SessionId,
    prompt_id: PromptId,
    updated_at: DateTime<Utc>,
    title: Option<SharedString>,
    pending_title_generation: Option<Task<()>>,
    pending_summary_generation: Option<Shared<Task<Option<SharedString>>>>,
    summary: Option<SharedString>,
    messages: Vec<Message>,
    user_store: Entity<UserStore>,
    completion_mode: CompletionMode,
    running_turn: Option<RunningTurn>,
    pending_message: Option<AgentMessage>,
    tools: BTreeMap<SharedString, Arc<dyn AnyAgentTool>>,
    tool_use_limit_reached: bool,
    request_token_usage: HashMap<UserMessageId, language_model::TokenUsage>,
    cumulative_token_usage: TokenUsage,
    initial_project_snapshot: Shared<Task<Option<Arc<ProjectSnapshot>>>>,
    context_server_registry: Entity<ContextServerRegistry>,
    profile_id: AgentProfileId,
    project_context: Entity<ProjectContext>,
    templates: Arc<Templates>,
    model: Option<Arc<dyn LanguageModel>>,
    summarization_model: Option<Arc<dyn LanguageModel>>,
    prompt_capabilities_tx: watch::Sender<acp::PromptCapabilities>,
    pub(crate) prompt_capabilities_rx: watch::Receiver<acp::PromptCapabilities>,
    pub(crate) project: Entity<Project>,
    pub(crate) action_log: Entity<ActionLog>,
    pub(crate) file_read_times: HashMap<PathBuf, fs::MTime>,
}
- [L2223:L2233]struct RunningTurn {
    _task: Task<()>,
    event_stream: ThreadEventStream,
    tools: BTreeMap<SharedString, Arc<dyn AnyAgentTool>>,
}
- [L2242:L2242]struct TokenUsageUpdated(pub Option<acp_thread::TokenUsage>);
- [L2246:L2246]struct TitleUpdated;
- [L2250:L2250]trait AgentTool
- [L2313:L2313]struct Erased<T>(T);
- [L2315:L2318]struct AgentToolOutput {
    pub llm_output: LanguageModelToolResultContent,
    pub raw_output: serde_json::Value,
}
- [L2320:L2320]trait AnyAgentTool {
- [L2408:L2408]struct ThreadEventStream(mpsc::UnboundedSender<Result<ThreadEvent>>);
- [L2496:L2500]struct ToolCallEventStream {
    tool_use_id: LanguageModelToolUseId,
    stream: ThreadEventStream,
    fs: Option<Arc<dyn Fs>>,
}
- [L2600:L2600]struct ToolCallEventStreamReceiver(mpsc::UnboundedReceiver<Result<ThreadEvent>>);
- [L2745:L2750]fn convert_image(image_content: acp::ImageContent) -> LanguageModelImage 

## crates/agent/src/tools.rs

## crates/agent/src/tools/context_server_registry.rs
- [L11:L14]struct ContextServerPrompt {
    pub server_id: ContextServerId,
    pub prompt: context_server::types::Prompt,
}
- [L16:L19]enum ContextServerRegistryEvent {
    ToolsChanged,
    PromptsChanged,
}
- [L23:L27]struct ContextServerRegistry {
    server_store: Entity<ContextServerStore>,
    registered_servers: HashMap<ContextServerId, RegisteredContextServer>,
    _subscription: gpui::Subscription,
}
- [L29:L35]struct RegisteredContextServer {
    tools: BTreeMap<SharedString, Arc<dyn AnyAgentTool>>,
    prompts: BTreeMap<SharedString, ContextServerPrompt>,
    load_tools: Task<Result<()>>,
    load_prompts: Task<Result<()>>,
    _tools_updated_subscription: Option<NotificationSubscription>,
}
- [L270:L274]struct ContextServerTool {
    store: Entity<ContextServerStore>,
    server_id: ContextServerId,
    tool: context_server::types::Tool,
}
- [L399:L433]fn get_prompt(
    server_store: &Entity<ContextServerStore>,
    server_id: &ContextServerId,
    prompt_name: &str,
    arguments: HashMap<String, String>,
    cx: &mut AsyncApp,
) -> Task<Result<context_server::types::PromptsGetResponse>> 

## crates/agent/src/tools/copy_path_tool.rs
- [L11:L37]struct CopyPathToolInput {
    pub source_path: String,
    pub destination_path: String,
}
- [L39:L41]struct CopyPathTool {
    project: Entity<Project>,
}

## crates/agent/src/tools/create_directory_tool.rs
- [L12:L28]struct CreateDirectoryToolInput {
    pub path: String,
}
- [L30:L32]struct CreateDirectoryTool {
    project: Entity<Project>,
}

## crates/agent/src/tools/delete_path_tool.rs
- [L12:L27]struct DeletePathToolInput {
    pub path: String,
}
- [L29:L32]struct DeletePathTool {
    project: Entity<Project>,
    action_log: Entity<ActionLog>,
}

## crates/agent/src/tools/diagnostics_tool.rs
- [L13:L50]struct DiagnosticsToolInput {
    pub path: Option<String>,
}
- [L52:L54]struct DiagnosticsTool {
    project: Entity<Project>,
}

## crates/agent/src/tools/edit_file_tool.rs
- [L31:L78]struct EditFileToolInput {
    pub display_description: String,
    pub path: PathBuf,
    pub mode: EditFileMode,
}
- [L81:L86]struct EditFileToolPartialInput {
    path: String,
    display_description: String,
}
- [L91:L95]enum EditFileMode {
    Edit,
    Create,
    Overwrite,
}
- [L98:L107]struct EditFileToolOutput {
    input_path: PathBuf,
    new_text: String,
    old_text: Arc<String>,
    diff: String,
    edit_agent_output: EditAgentOutput,
}
- [L124:L129]struct EditFileTool {
    thread: WeakEntity<Thread>,
    language_registry: Arc<LanguageRegistry>,
    project: Entity<Project>,
    templates: Arc<Templates>,
}
- [L550:L615]fn resolve_path(
    input: &EditFileToolInput,
    project: Entity<Project>,
    cx: &mut App,
) -> Result<ProjectPath> 

## crates/agent/src/tools/fetch_tool.rs
- [L19:L23]enum ContentType {
    Html,
    Plaintext,
    Json,
}
- [L25:L30]struct FetchToolInput {
    url: String,
}
- [L32:L34]struct FetchTool {
    http_client: Arc<HttpClientWithUrl>,
}

## crates/agent/src/tools/find_path_tool.rs
- [L13:L38]struct FindPathToolInput {
    pub glob: String,
    pub offset: usize,
}
- [L41:L45]struct FindPathToolOutput {
    offset: usize,
    current_matches_page: Vec<PathBuf>,
    all_matches_len: usize,
}
- [L74:L76]struct FindPathTool {
    project: Entity<Project>,
}
- [L154:L184]fn search_paths(glob: &str, project: Entity<Project>, cx: &mut App) -> Task<Result<Vec<PathBuf>>> 

## crates/agent/src/tools/find_references_tool.rs
- [L14:L42]struct FindReferencesToolInput {
    pub path: String,
    pub line: Option<u32>,
    pub character: Option<u32>,
    pub context_snippet: Option<String>,
    pub token_text: Option<String>,
    pub selection_index: Option<usize>,
    pub language: Option<String>,
}
- [L45:L53]struct FindReferencesLocation {
    pub path: String,
    pub start_line: u32,
    pub start_character: u32,
    pub end_line: u32,
    pub end_character: u32,
    pub excerpt: Option<String>,
}
- [L56:L58]struct FindReferencesToolOutput {
    pub locations: Vec<FindReferencesLocation>,
}
- [L87:L89]struct FindReferencesTool {
    project: Entity<Project>,
}

## crates/agent/src/tools/grep_tool.rs
- [L19:L58]struct GrepToolInput {
    pub regex: String,
    pub include_pattern: Option<String>,
    pub offset: u32,
    pub case_sensitive: bool,
}
- [L69:L71]struct GrepTool {
    project: Entity<Project>,
}

## crates/agent/src/tools/list_directory_tool.rs
- [L13:L38]struct ListDirectoryToolInput {
    pub path: String,
}
- [L40:L42]struct ListDirectoryTool {
    project: Entity<Project>,
}

## crates/agent/src/tools/move_path_tool.rs
- [L11:L39]struct MovePathToolInput {
    pub source_path: String,
    pub destination_path: String,
}
- [L41:L43]struct MovePathTool {
    project: Entity<Project>,
}

## crates/agent/src/tools/now_tool.rs
- [L15:L20]enum Timezone {
    Utc,
    Local,
}
- [L22:L28]struct NowToolInput {
    timezone: Timezone,
}
- [L30:L30]struct NowTool;

## crates/agent/src/tools/open_tool.rs
- [L11:L24]struct OpenToolInput {
    path_or_url: String,
}
- [L26:L28]struct OpenTool {
    project: Entity<Project>,
}
- [L83:L92]fn to_absolute_path(
    potential_path: &str,
    project: Entity<Project>,
    cx: &mut App,
) -> Option<PathBuf> 

## crates/agent/src/tools/read_file_tool.rs
- [L17:L45]struct ReadFileToolInput {
    pub path: String,
    pub start_line: Option<u32>,
    pub end_line: Option<u32>,
}
- [L47:L51]struct ReadFileTool {
    thread: WeakEntity<Thread>,
    project: Entity<Project>,
    action_log: Entity<ActionLog>,
}

## crates/agent/src/tools/restore_file_from_disk_tool.rs
- [L14:L25]struct RestoreFileFromDiskToolInput {
    pub paths: Vec<PathBuf>,
}
- [L27:L29]struct RestoreFileFromDiskTool {
    project: Entity<Project>,
}

## crates/agent/src/tools/save_file_tool.rs
- [L14:L22]struct SaveFileToolInput {
    pub paths: Vec<PathBuf>,
}
- [L24:L26]struct SaveFileTool {
    project: Entity<Project>,
}

## crates/agent/src/tools/terminal_tool.rs
- [L20:L41]struct TerminalToolInput {
    pub command: String,
    pub cd: String,
    pub timeout_ms: Option<u64>,
}
- [L43:L46]struct TerminalTool {
    project: Entity<Project>,
    environment: Rc<dyn ThreadEnvironment>,
}
- [L152:L196]fn process_content(
    output: acp::TerminalOutputResponse,
    command: &str,
    exit_status: acp::TerminalExitStatus,
) -> String 
- [L198:L237]fn working_dir(
    input: &TerminalToolInput,
    project: &Entity<Project>,
    cx: &mut App,
) -> Result<Option<PathBuf>> 

## crates/agent/src/tools/thinking_tool.rs
- [L10:L16]struct ThinkingToolInput {
    content: String,
}
- [L18:L18]struct ThinkingTool;

## crates/agent/src/tools/web_search_tool.rs
- [L16:L23]struct WebSearchToolInput {
    query: String,
}
- [L27:L27]struct WebSearchToolOutput(WebSearchResponse);
- [L37:L37]struct WebSearchTool;
- [L102:L127]fn emit_update(response: &WebSearchResponse, event_stream: &ToolCallEventStream) 

## crates/agent_servers/src/acp.rs
- [L30:L30]struct UnsupportedVersion;
- [L32:L48]struct AcpConnection {
    server_name: SharedString,
    telemetry_id: SharedString,
    connection: Rc<acp::ClientSideConnection>,
    sessions: Rc<RefCell<HashMap<acp::SessionId, AcpSession>>>,
    auth_methods: Vec<acp::AuthMethod>,
    agent_capabilities: acp::AgentCapabilities,
    default_mode: Option<acp::SessionModeId>,
    default_model: Option<acp::ModelId>,
    root_dir: PathBuf,
    child: smol::process::Child,
    _io_task: Task<Result<(), acp::Error>>,
    _wait_task: Task<Result<()>>,
    _stderr_task: Task<Result<()>>,
}
- [L50:L55]struct AcpSession {
    thread: WeakEntity<AcpThread>,
    suppress_abort_err: bool,
    models: Option<Rc<RefCell<acp::SessionModelState>>>,
    session_modes: Option<Rc<RefCell<acp::SessionModeState>>>,
}
- [L57:L57]async fn connect(
- [L575:L579]struct AcpSessionModes {
    session_id: acp::SessionId,
    connection: Rc<acp::ClientSideConnection>,
    state: Rc<RefCell<acp::SessionModeState>>,
}
- [L616:L620]struct AcpModelSelector {
    session_id: acp::SessionId,
    connection: Rc<acp::ClientSideConnection>,
    state: Rc<RefCell<acp::SessionModelState>>,
}
- [L688:L691]struct ClientDelegate {
    sessions: Rc<RefCell<HashMap<acp::SessionId, AcpSession>>>,
    cx: AsyncApp,
}

## crates/agent_servers/src/agent_servers.rs
- [L10:L10]mod e2e_tests;
- [L31:L36]struct AgentServerDelegate {
    store: Entity<AgentServerStore>,
    project: Entity<Project>,
    status_tx: Option<watch::Sender<SharedString>>,
    new_version_available: Option<watch::Sender<Option<String>>>,
}
- [L58:L58]trait AgentServer: Send {
- [L114:L137]fn load_proxy_env(cx: &mut App) -> HashMap<String, String> 

## crates/agent_servers/src/claude.rs
- [L18:L18]struct ClaudeCode;
- [L20:L23]struct AgentServerLoginCommand {
    pub path: PathBuf,
    pub arguments: Vec<String>,
}

## crates/agent_servers/src/codex.rs
- [L17:L17]struct Codex;

## crates/agent_servers/src/custom.rs
- [L13:L16]struct CustomAgentServer {
    name: SharedString,
}

## crates/agent_servers/src/e2e_tests.rs
- [L19:L19]async fn test_basic<T, F>(server: F, cx: &mut TestAppContext)
- [L56:L56]async fn test_path_mentions<T, F>(server: F, cx: &mut TestAppContext)
- [L120:L120]async fn test_tool_call<T, F>(server: F, cx: &mut TestAppContext)
- [L172:L172]async fn test_tool_call_with_permission<T, F>(
- [L276:L276]async fn test_cancel<T, F>(server: F, cx: &mut TestAppContext)
- [L355:L355]async fn test_thread_drop<T, F>(server: F, cx: &mut TestAppContext)
- [L439:L439]async fn init_test(cx: &mut TestAppContext) -> Arc<FakeFs> {
- [L486:L486]async fn new_test_thread(
- [L505:L505]async fn run_until_first_tool_call(
- [L535:L554]fn get_zed_path() -> PathBuf 

## crates/agent_servers/src/gemini.rs
- [L12:L12]struct Gemini;

## crates/agent_settings/src/agent_profile.rs
- [L16:L16]mod builtin_profiles {
- [L29:L31]struct AgentProfile {
    id: AgentProfileId,
}
- [L33:L33]type AvailableProfiles = IndexMap<AgentProfileId, SharedString>;
- [L102:L112]struct AgentProfileSettings {
    pub name: SharedString,
    pub tools: IndexMap<Arc<str>, bool>,
    pub enable_all_context_servers: bool,
    pub context_servers: IndexMap<Arc<str>, ContextServerPreset>,
    pub default_model: Option<LanguageModelSelection>,
}
- [L192:L194]struct ContextServerPreset {
    pub tools: IndexMap<Arc<str>, bool>,
}

## crates/agent_settings/src/agent_settings.rs
- [L19:L19]const SUMMARIZE_THREAD_PROMPT: &str = include_str!("prompts/summarize_thread_prompt.txt");
- [L20:L20]const SUMMARIZE_THREAD_DETAILED_PROMPT: &str =
- [L24:L52]struct AgentSettings {
    pub enabled: bool,
    pub button: bool,
    pub dock: DockPosition,
    pub agents_panel_dock: DockSide,
    pub default_width: Pixels,
    pub default_height: Pixels,
    pub default_model: Option<LanguageModelSelection>,
    pub inline_assistant_model: Option<LanguageModelSelection>,
    pub inline_assistant_use_streaming_tools: bool,
    pub commit_message_model: Option<LanguageModelSelection>,
    pub thread_summary_model: Option<LanguageModelSelection>,
    pub inline_alternatives: Vec<LanguageModelSelection>,
    pub favorite_models: Vec<LanguageModelSelection>,
    pub default_profile: AgentProfileId,
    pub default_view: DefaultAgentView,
    pub profiles: IndexMap<AgentProfileId, AgentProfileSettings>,
    pub always_allow_tool_actions: bool,
    pub notify_when_agent_waiting: NotifyWhenAgentWaiting,
    pub play_sound_when_agent_done: bool,
    pub single_file_review: bool,
    pub model_parameters: Vec<LanguageModelParameters>,
    pub preferred_completion_mode: CompletionMode,
    pub enable_feedback: bool,
    pub expand_edit_card: bool,
    pub expand_terminal_card: bool,
    pub use_modifier_to_send: bool,
    pub message_editor_min_lines: usize,
}
- [L112:L117]enum CompletionMode {
    Normal,
    Burn,
}
- [L138:L138]struct AgentProfileId(pub Arc<str>);

## crates/agent_ui/src/acp.rs

## crates/agent_ui/src/acp/entry_view_state.rs
- [L23:L32]struct EntryViewState {
    workspace: WeakEntity<Workspace>,
    project: WeakEntity<Project>,
    history_store: Entity<HistoryStore>,
    prompt_store: Option<Entity<PromptStore>>,
    entries: Vec<Entry>,
    prompt_capabilities: Rc<RefCell<acp::PromptCapabilities>>,
    available_commands: Rc<RefCell<Vec<acp::AvailableCommand>>>,
    agent_name: SharedString,
}
- [L229:L232]struct EntryViewEvent {
    pub entry_index: usize,
    pub view_event: ViewEvent,
}
- [L234:L239]enum ViewEvent {
    NewDiff(ToolCallId),
    NewTerminal(ToolCallId),
    TerminalMovedToBackground(ToolCallId),
    MessageEditorEvent(Entity<MessageEditor>, MessageEditorEvent),
}
- [L242:L244]struct AssistantMessageEntry {
    scroll_handles_by_chunk_index: HashMap<usize, ScrollHandle>,
}
- [L261:L265]enum Entry {
    UserMessage(Entity<MessageEditor>),
    AssistantMessage(AssistantMessageEntry),
    Content(HashMap<EntityId, AnyEntity>),
}
- [L329:L348]fn create_terminal(
    workspace: WeakEntity<Workspace>,
    project: WeakEntity<Project>,
    terminal: Entity<acp_thread::Terminal>,
    window: &mut Window,
    cx: &mut App,
) -> Entity<TerminalView> 
- [L350:L383]fn create_editor_diff(
    diff: Entity<acp_thread::Diff>,
    window: &mut Window,
    cx: &mut App,
) -> Entity<Editor> 
- [L385:L395]fn diff_editor_text_style_refinement(cx: &mut App) -> TextStyleRefinement 

## crates/agent_ui/src/acp/message_editor.rs
- [L39:L48]struct MessageEditor {
    mention_set: Entity<MentionSet>,
    editor: Entity<Editor>,
    workspace: WeakEntity<Workspace>,
    prompt_capabilities: Rc<RefCell<acp::PromptCapabilities>>,
    available_commands: Rc<RefCell<Vec<acp::AvailableCommand>>>,
    agent_name: SharedString,
    _subscriptions: Vec<Subscription>,
    _parse_slash_command_task: Task<()>,
}
- [L51:L56]enum MessageEditorEvent {
    Send,
    Cancel,
    Focus,
    LostFocus,
}
- [L1020:L1020]struct MessageEditorAddon {}

## crates/agent_ui/src/acp/mode_selector.rs
- [L16:L23]struct ModeSelector {
    connection: Rc<dyn AgentSessionModes>,
    agent_server: Rc<dyn AgentServer>,
    menu_handle: PopoverMenuHandle<ContextMenu>,
    focus_handle: FocusHandle,
    fs: Arc<dyn Fs>,
    setting_mode: bool,
}

## crates/agent_ui/src/acp/model_selector.rs
- [L25:L25]type AcpModelSelector = Picker<AcpModelPickerDelegate>;
- [L27:L41]fn acp_model_selector(
    selector: Rc<dyn AgentModelSelector>,
    agent_server: Rc<dyn AgentServer>,
    fs: Arc<dyn Fs>,
    focus_handle: FocusHandle,
    window: &mut Window,
    cx: &mut Context<AcpModelSelector>,
) -> AcpModelSelector 
- [L43:L46]enum AcpModelPickerEntry {
    Separator(SharedString),
    Model(AgentModelInfo, bool),
}
- [L48:L61]struct AcpModelPickerDelegate {
    selector: Rc<dyn AgentModelSelector>,
    agent_server: Rc<dyn AgentServer>,
    fs: Arc<dyn Fs>,
    filtered_entries: Vec<AcpModelPickerEntry>,
    models: Option<AgentModelList>,
    selected_index: usize,
    selected_description: Option<(usize, SharedString, bool)>,
    selected_model: Option<AgentModelInfo>,
    favorites: HashSet<ModelId>,
    _refresh_models_task: Task<()>,
    _settings_subscription: Subscription,
    focus_handle: FocusHandle,
}
- [L418:L465]fn info_list_to_picker_entries(
    model_list: AgentModelList,
    favorites: &HashSet<ModelId>,
) -> Vec<AcpModelPickerEntry> 

## crates/agent_ui/src/acp/model_selector_popover.rs
- [L13:L17]struct AcpModelSelectorPopover {
    selector: Entity<AcpModelSelector>,
    menu_handle: PopoverMenuHandle<AcpModelSelector>,
    focus_handle: FocusHandle,
}

## crates/agent_ui/src/acp/thread_history.rs
- [L19:L31]struct AcpThreadHistory {
    pub(crate) history_store: Entity<HistoryStore>,
    scroll_handle: UniformListScrollHandle,
    selected_index: usize,
    hovered_index: Option<usize>,
    search_editor: Entity<Editor>,
    search_query: SharedString,
    visible_items: Vec<ListItemType>,
    local_timezone: UtcOffset,
    confirming_delete_history: bool,
    _update_task: Task<()>,
    _subscriptions: Vec<gpui::Subscription>,
}
- [L33:L43]enum ListItemType {
    BucketSeparator(TimeBucket),
    Entry {
        entry: HistoryEntry,
        format: EntryTimeFormat,
    },
    SearchResult {
        entry: HistoryEntry,
        positions: Vec<usize>,
    },
}
- [L55:L57]enum ThreadHistoryEvent {
    Open(HistoryEntry),
}
- [L621:L627]struct AcpHistoryEntryElement {
    entry: HistoryEntry,
    thread_view: WeakEntity<AcpThreadView>,
    selected: bool,
    hovered: bool,
    on_hover: Box<dyn Fn(&bool, &mut Window, &mut App) + 'static>,
}
- [L756:L759]enum EntryTimeFormat {
    DateAndTime,
    TimeOnly,
}
- [L790:L796]enum TimeBucket {
    Today,
    Yesterday,
    ThisWeek,
    PastWeek,
    All,
}

## crates/agent_ui/src/acp/thread_view.rs
- [L75:L78]enum ThreadFeedback {
    Positive,
    Negative,
}
- [L81:L88]enum ThreadError {
    PaymentRequired,
    ModelRequestLimitReached(cloud_llm_client::Plan),
    ToolUseLimitReached,
    Refusal,
    AuthenticationRequired(SharedString),
    Other(SharedString),
}
- [L140:L143]struct ThreadFeedbackState {
    feedback: Option<ThreadFeedback>,
    comments_editor: Option<Entity<Editor>>,
}
- [L262:L298]struct AcpThreadView {
    agent: Rc<dyn AgentServer>,
    agent_server_store: Entity<AgentServerStore>,
    workspace: WeakEntity<Workspace>,
    project: Entity<Project>,
    thread_state: ThreadState,
    login: Option<task::SpawnInTerminal>,
    history_store: Entity<HistoryStore>,
    hovered_recent_history_item: Option<usize>,
    entry_view_state: Entity<EntryViewState>,
    message_editor: Entity<MessageEditor>,
    focus_handle: FocusHandle,
    model_selector: Option<Entity<AcpModelSelectorPopover>>,
    profile_selector: Option<Entity<ProfileSelector>>,
    notifications: Vec<WindowHandle<AgentNotification>>,
    notification_subscriptions: HashMap<WindowHandle<AgentNotification>, Vec<Subscription>>,
    thread_retry_status: Option<RetryStatus>,
    thread_error: Option<ThreadError>,
    thread_error_markdown: Option<Entity<Markdown>>,
    token_limit_callout_dismissed: bool,
    thread_feedback: ThreadFeedbackState,
    list_state: ListState,
    auth_task: Option<Task<()>>,
    expanded_tool_calls: HashSet<acp::ToolCallId>,
    expanded_thinking_blocks: HashSet<(usize, usize)>,
    edits_expanded: bool,
    plan_expanded: bool,
    editor_expanded: bool,
    should_be_following: bool,
    editing_message: Option<usize>,
    prompt_capabilities: Rc<RefCell<PromptCapabilities>>,
    available_commands: Rc<RefCell<Vec<acp::AvailableCommand>>>,
    is_loading_contents: bool,
    new_server_version_available: Option<SharedString>,
    resume_thread_metadata: Option<DbThreadMetadata>,
    _cancel_task: Option<Task<()>>,
    _subscriptions: [Subscription; 5],
- [L303:L319]enum ThreadState {
    Loading(Entity<LoadingView>),
    Ready {
        thread: Entity<AcpThread>,
        title_editor: Option<Entity<Editor>>,
        mode_selector: Option<Entity<ModeSelector>>,
        _subscriptions: Vec<Subscription>,
    },
    LoadError(LoadError),
    Unauthenticated {
        connection: Rc<dyn AgentConnection>,
        description: Option<Entity<Markdown>>,
        configuration_view: Option<AnyView>,
        pending_auth_method: Option<acp::AuthMethodId>,
        _subscription: Option<Subscription>,
    },
}
- [L321:L325]struct LoadingView {
    title: SharedString,
    _load_task: Task<()>,
    _update_title_task: Task<anyhow::Result<()>>,
}
- [L6002:L6008]fn loading_contents_spinner(size: IconSize) -> AnyElement 
- [L6010:L6021]fn placeholder_text(agent_name: &str, has_commands: bool) -> String 
- [L6170:L6294]fn default_markdown_style(
    buffer_font: bool,
    muted_text: bool,
    window: &Window,
    cx: &App,
) -> MarkdownStyle 
- [L6296:L6318]fn plan_label_markdown_style(
    status: &acp::PlanEntryStatus,
    window: &Window,
    cx: &App,
) -> MarkdownStyle 
- [L6320:L6330]fn terminal_command_markdown_style(window: &Window, cx: &App) -> MarkdownStyle 

## crates/agent_ui/src/agent_configuration.rs
- [L2:L2]mod configure_context_server_modal;
- [L54:L67]struct AgentConfiguration {
    fs: Arc<dyn Fs>,
    language_registry: Arc<LanguageRegistry>,
    agent_server_store: Entity<AgentServerStore>,
    workspace: WeakEntity<Workspace>,
    focus_handle: FocusHandle,
    configuration_views_by_provider: HashMap<LanguageModelProviderId, AnyView>,
    context_server_store: Entity<ContextServerStore>,
    expanded_provider_configurations: HashMap<LanguageModelProviderId, bool>,
    context_server_registry: Entity<ContextServerRegistry>,
    _registry_subscription: Subscription,
    scroll_handle: ScrollHandle,
    _check_for_gemini: Task<()>,
}
- [L154:L156]enum AssistantConfigurationEvent {
    NewThread(Arc<dyn LanguageModelProvider>),
}
- [L160:L163]enum AgentIcon {
    Name(IconName),
    Path(SharedString),
}
- [L1238:L1248]fn extension_only_provides_context_server(manifest: &ExtensionManifest) -> bool 
- [L1265:L1320]fn show_unable_to_uninstall_extension_with_context_server(
    workspace: &mut Workspace,
    id: ContextServerId,
    cx: &mut App,
) 
- [L1419:L1446]fn find_text_in_buffer(
    text: &str,
    start: usize,
    snapshot: &language::BufferSnapshot,
) -> Option<Range<usize>> 
- [L1453:L1457]fn is_removable_provider(provider_id: &LanguageModelProviderId, cx: &App) -> bool 

## crates/agent_ui/src/agent_configuration/add_llm_provider_modal.rs
- [L19:L40]fn single_line_input(
    label: impl Into<SharedString>,
    placeholder: impl Into<SharedString>,
    text: Option<&str>,
    tab_index: isize,
    window: &mut Window,
    cx: &mut App,
) -> Entity<InputField> 
- [L43:L45]enum LlmCompatibleProvider {
    OpenAi,
}
- [L61:L66]struct AddLlmProviderInput {
    provider_name: Entity<InputField>,
    api_url: Entity<InputField>,
    api_key: Entity<InputField>,
    models: Vec<ModelInput>,
}
- [L100:L105]struct ModelCapabilityToggles {
    pub supports_tools: ToggleState,
    pub supports_images: ToggleState,
    pub supports_parallel_tool_calls: ToggleState,
    pub supports_prompt_cache_key: ToggleState,
}
- [L107:L113]struct ModelInput {
    name: Entity<InputField>,
    max_completion_tokens: Entity<InputField>,
    max_output_tokens: Entity<InputField>,
    max_tokens: Entity<InputField>,
    capabilities: ModelCapabilityToggles,
}
- [L211:L281]fn save_provider_to_settings(
    input: &AddLlmProviderInput,
    cx: &mut App,
) -> Task<Result<(), SharedString>> 
- [L283:L289]struct AddLlmProviderModal {
    provider: LlmCompatibleProvider,
    input: AddLlmProviderInput,
    scroll_handle: ScrollHandle,
    focus_handle: FocusHandle,
    last_error: Option<SharedString>,
}

## crates/agent_ui/src/agent_configuration/configure_context_server_modal.rs
- [L33:L49]enum ConfigurationTarget {
    New,
    Existing {
        id: ContextServerId,
        command: ContextServerCommand,
    },
    ExistingHttp {
        id: ContextServerId,
        url: String,
        headers: HashMap<String, String>,
    },
    Extension {
        id: ContextServerId,
        repository_url: Option<SharedString>,
        installation: Option<extension::ContextServerConfiguration>,
    },
}
- [L51:L67]enum ConfigurationSource {
    New {
        editor: Entity<Editor>,
        is_http: bool,
    },
    Existing {
        editor: Entity<Editor>,
        is_http: bool,
    },
    Extension {
        id: ContextServerId,
        editor: Option<Entity<Editor>>,
        repository_url: Option<SharedString>,
        installation_instructions: Option<Entity<markdown::Markdown>>,
        settings_validator: Option<jsonschema::Validator>,
    },
}
- [L219:L248]fn context_server_input(existing: Option<(ContextServerId, ContextServerCommand)>) -> String 
- [L250:L291]fn context_server_http_input(
    existing: Option<(ContextServerId, String, HashMap<String, String>)>,
) -> String 
- [L293:L308]fn parse_http_input(text: &str) -> Result<(ContextServerId, String, HashMap<String, String>)> 
- [L310:L337]fn resolve_context_server_extension(
    id: ContextServerId,
    worktree_store: Entity<WorktreeStore>,
    cx: &mut App,
) -> Task<Option<ConfigurationTarget>> 
- [L339:L343]enum State {
    Idle,
    Waiting,
    Error(SharedString),
}
- [L345:L352]struct ConfigureContextServerModal {
    context_server_store: Entity<ContextServerStore>,
    workspace: WeakEntity<Workspace>,
    source: ConfigurationSource,
    state: State,
    original_server_id: Option<ContextServerId>,
    scroll_handle: ScrollHandle,
}
- [L575:L582]fn parse_input(text: &str) -> Result<(ContextServerId, ContextServerCommand)> 
- [L869:L913]fn wait_for_context_server(
    context_server_store: &Entity<ContextServerStore>,
    context_server_id: ContextServerId,
    cx: &mut App,
) -> Task<Result<(), Arc<str>>> 

## crates/agent_ui/src/agent_configuration/configure_context_server_tools_modal.rs
- [L10:L16]struct ConfigureContextServerToolsModal {
    context_server_id: ContextServerId,
    context_server_registry: Entity<ContextServerRegistry>,
    focus_handle: FocusHandle,
    expanded_tools: HashMap<SharedString, bool>,
    scroll_handle: ScrollHandle,
}

## crates/agent_ui/src/agent_configuration/manage_profiles_modal.rs
- [L25:L44]enum Mode {
    ChooseProfile(ChooseProfileMode),
    NewProfile(NewProfileMode),
    ViewProfile(ViewProfileMode),
    ConfigureTools {
        profile_id: AgentProfileId,
        tool_picker: Entity<ToolPicker>,
        _subscription: Subscription,
    },
    ConfigureMcps {
        profile_id: AgentProfileId,
        tool_picker: Entity<ToolPicker>,
        _subscription: Subscription,
    },
    ConfigureDefaultModel {
        profile_id: AgentProfileId,
        model_picker: Entity<LanguageModelSelector>,
        _subscription: Subscription,
    },
}
- [L78:L82]struct ProfileEntry {
    pub id: AgentProfileId,
    pub name: SharedString,
    pub navigation: NavigableEntry,
}
- [L85:L89]struct ChooseProfileMode {
    builtin_profiles: Vec<ProfileEntry>,
    custom_profiles: Vec<ProfileEntry>,
    add_new_profile: NavigableEntry,
}
- [L92:L100]struct ViewProfileMode {
    profile_id: AgentProfileId,
    fork_profile: NavigableEntry,
    configure_default_model: NavigableEntry,
    configure_tools: NavigableEntry,
    configure_mcps: NavigableEntry,
    delete_profile: NavigableEntry,
    cancel_item: NavigableEntry,
}
- [L103:L106]struct NewProfileMode {
    name_editor: Entity<Editor>,
    base_profile_id: Option<AgentProfileId>,
}
- [L108:L115]struct ManageProfilesModal {
    fs: Arc<dyn Fs>,
    context_server_registry: Entity<ContextServerRegistry>,
    active_model: Option<Arc<dyn LanguageModel>>,
    focus_handle: FocusHandle,
    mode: Mode,
    _settings_subscription: Subscription,
}

## crates/agent_ui/src/agent_configuration/manage_profiles_modal/profile_modal_header.rs
- [L4:L7]struct ProfileModalHeader {
    label: SharedString,
    icon: Option<IconName>,
}

## crates/agent_ui/src/agent_configuration/tool_picker.rs
- [L12:L14]struct ToolPicker {
    picker: Entity<Picker<ToolPickerDelegate>>,
}
- [L17:L20]enum ToolPickerMode {
    BuiltinTools,
    McpTools,
}
- [L57:L65]enum PickerItem {
    Tool {
        server_id: Option<Arc<str>>,
        name: Arc<str>,
    },
    ContextServer {
        server_id: Arc<str>,
    },
}
- [L67:L76]struct ToolPickerDelegate {
    tool_picker: WeakEntity<ToolPicker>,
    fs: Arc<dyn Fs>,
    items: Arc<Vec<PickerItem>>,
    profile_id: AgentProfileId,
    profile_settings: AgentProfileSettings,
    filtered_items: Vec<PickerItem>,
    selected_index: usize,
    mode: ToolPickerMode,
}

## crates/agent_ui/src/agent_diff.rs
- [L40:L48]struct AgentDiffPane {
    multibuffer: Entity<MultiBuffer>,
    editor: Entity<Editor>,
    thread: Entity<AcpThread>,
    focus_handle: FocusHandle,
    workspace: WeakEntity<Workspace>,
    title: SharedString,
    _subscriptions: Vec<Subscription>,
}
- [L294:L307]fn keep_edits_in_selection(
    editor: &mut Editor,
    buffer_snapshot: &MultiBufferSnapshot,
    thread: &Entity<AcpThread>,
    window: &mut Window,
    cx: &mut Context<Editor>,
) 
- [L309:L321]fn reject_edits_in_selection(
    editor: &mut Editor,
    buffer_snapshot: &MultiBufferSnapshot,
    thread: &Entity<AcpThread>,
    window: &mut Window,
    cx: &mut Context<Editor>,
) 
- [L323:L353]fn keep_edits_in_ranges(
    editor: &mut Editor,
    buffer_snapshot: &MultiBufferSnapshot,
    thread: &Entity<AcpThread>,
    ranges: Vec<Range<editor::Anchor>>,
    window: &mut Window,
    cx: &mut Context<Editor>,
) 
- [L355:L391]fn reject_edits_in_ranges(
    editor: &mut Editor,
    buffer_snapshot: &MultiBufferSnapshot,
    thread: &Entity<AcpThread>,
    ranges: Vec<Range<editor::Anchor>>,
    window: &mut Window,
    cx: &mut Context<Editor>,
) 
- [L393:L442]fn update_editor_selection(
    editor: &mut Editor,
    buffer_snapshot: &MultiBufferSnapshot,
    diff_hunks: &[multi_buffer::MultiBufferDiffHunk],
    window: &mut Window,
    cx: &mut Context<Editor>,
) 
- [L668:L687]fn diff_hunk_controls(thread: &Entity<AcpThread>) -> editor::RenderDiffHunkControlsFn 
- [L689:L833]fn render_diff_hunk_controls(
    row: u32,
    _status: &DiffHunkStatus,
    hunk_range: Range<editor::Anchor>,
    is_created_file: bool,
    line_height: Pixels,
    thread: &Entity<AcpThread>,
    editor: &Entity<Editor>,
    cx: &mut App,
) -> AnyElement 
- [L835:L835]struct AgentDiffAddon;
- [L847:L850]struct AgentDiffToolbar {
    active_item: Option<AgentDiffToolbarItem>,
    _settings_subscription: Subscription,
}
- [L852:L859]enum AgentDiffToolbarItem {
    Pane(WeakEntity<AgentDiffPane>),
    Editor {
        editor: WeakEntity<Editor>,
        state: EditorState,
        _diff_subscription: Subscription,
    },
}
- [L1161:L1164]struct AgentDiff {
    reviewing_editors: HashMap<WeakEntity<Editor>, EditorState>,
    workspace_threads: HashMap<WeakEntity<Workspace>, WorkspaceThread>,
}
- [L1167:L1170]enum EditorState {
    Idle,
    Reviewing,
}
- [L1172:L1178]struct WorkspaceThread {
    thread: WeakEntity<AcpThread>,
    _thread_subscriptions: (Subscription, Subscription),
    singleton_editors: HashMap<WeakEntity<Buffer>, HashMap<WeakEntity<Editor>, Subscription>>,
    _settings_subscription: Subscription,
    _workspace_subscription: Option<Subscription>,
}
- [L1180:L1180]struct AgentDiffGlobal(Entity<AgentDiff>);
- [L1702:L1705]enum PostReviewState {
    AllReviewed,
    Pending,
}
- [L1707:L1707]struct EditorAgentDiffAddon;

## crates/agent_ui/src/agent_model_selector.rs
- [L14:L18]struct AgentModelSelector {
    selector: Entity<LanguageModelSelector>,
    menu_handle: PopoverMenuHandle<LanguageModelSelector>,
    focus_handle: FocusHandle,
}

## crates/agent_ui/src/agent_panel.rs
- [L79:L82]struct SerializedAgentPanel {
    width: Option<Pixels>,
    selected_agent: Option<AgentType>,
}
- [L84:L210]fn init(cx: &mut App) 
- [L212:L224]enum ActiveView {
    ExternalAgentThread {
        thread_view: Entity<AcpThreadView>,
    },
    TextThread {
        text_thread_editor: Entity<TextThreadEditor>,
        title_editor: Entity<Editor>,
        buffer_search_bar: Entity<BufferSearchBar>,
        _subscriptions: Vec<gpui::Subscription>,
    },
    History,
    Configuration,
}
- [L226:L230]enum WhichFontSize {
    AgentFont,
    BufferFont,
    None,
}
- [L234:L244]enum AgentType {
    NativeAgent,
    TextThread,
    Gemini,
    ClaudeCode,
    Codex,
    Custom {
        name: SharedString,
    },
}
- [L419:L447]struct AgentPanel {
    workspace: WeakEntity<Workspace>,
    loading: bool,
    user_store: Entity<UserStore>,
    project: Entity<Project>,
    fs: Arc<dyn Fs>,
    language_registry: Arc<LanguageRegistry>,
    acp_history: Entity<AcpThreadHistory>,
    history_store: Entity<agent::HistoryStore>,
    text_thread_store: Entity<assistant_text_thread::TextThreadStore>,
    prompt_store: Option<Entity<PromptStore>>,
    context_server_registry: Entity<ContextServerRegistry>,
    configuration: Option<Entity<AgentConfiguration>>,
    configuration_subscription: Option<Subscription>,
    active_view: ActiveView,
    previous_view: Option<ActiveView>,
    new_thread_menu_handle: PopoverMenuHandle<ContextMenu>,
    agent_panel_menu_handle: PopoverMenuHandle<ContextMenu>,
    agent_navigation_menu_handle: PopoverMenuHandle<ContextMenu>,
    agent_navigation_menu: Option<Entity<ContextMenu>>,
    _extension_subscription: Option<Subscription>,
    width: Option<Pixels>,
    height: Option<Pixels>,
    zoomed: bool,
    pending_serialization: Option<Task<Result<()>>>,
    onboarding: Entity<AgentPanelOnboarding>,
    selected_agent: AgentType,
    show_trust_workspace_message: bool,
}
- [L1530:L1532]fn agent_panel_dock_position(cx: &App) -> DockPosition 
- [L2832:L2834]struct PromptLibraryInlineAssist {
    workspace: WeakEntity<Workspace>,
}
- [L2882:L2882]struct ConcreteAssistantPanelDelegate;
- [L2961:L2961]struct OnboardingUpsell;
- [L2967:L2967]struct TrialEndUpsell;

## crates/agent_ui/src/agent_ui.rs
- [L1:L1]mod acp;
- [L130:L134]struct NewThread;
- [L136:L143]struct NewExternalAgentThread {
    agent: Option<ExternalAgent>,
}
- [L148:L150]struct NewNativeAgentThreadFromSummary {
    from_session_id: agent_client_protocol::SessionId,
}
- [L155:L161]enum ExternalAgent {
    Gemini,
    ClaudeCode,
    Codex,
    NativeAgent,
    Custom { name: SharedString },
}
- [L179:L186]struct ManageProfiles {
    pub customize_tools: Option<AgentProfileId>,
}
- [L211:L255]fn init(
    fs: Arc<dyn Fs>,
    client: Arc<Client>,
    prompt_builder: Arc<PromptBuilder>,
    language_registry: Arc<LanguageRegistry>,
    is_eval: bool,
    cx: &mut App,
) 
- [L257:L339]fn update_command_palette_filter(cx: &mut App) 
- [L341:L359]fn init_language_model_settings(cx: &mut App) 
- [L361:L397]fn update_active_language_model_from_settings(cx: &mut App) 
- [L399:L425]fn register_slash_commands(cx: &mut App) 

## crates/agent_ui/src/buffer_codegen.rs
- [L45:L53]struct FailureMessageInput {
    pub message: String,
}
- [L55:L63]struct RewriteSectionInput {
    pub replacement_text: String,
}
- [L65:L76]struct BufferCodegen {
    alternatives: Vec<Entity<CodegenAlternative>>,
    pub active_alternative: usize,
    seen_alternatives: HashSet<usize>,
    subscriptions: Vec<Subscription>,
    buffer: Entity<MultiBuffer>,
    range: Range<Anchor>,
    initial_transaction_id: Option<TransactionId>,
    builder: Arc<PromptBuilder>,
    pub is_insertion: bool,
    session_id: Uuid,
}
- [L78:L78]const REWRITE_SECTION_TOOL_NAME: &str = "rewrite_section";
- [L79:L79]const FAILURE_MESSAGE_TOOL_NAME: &str = "failure_message";
- [L267:L290]struct CodegenAlternative {
    buffer: Entity<MultiBuffer>,
    old_buffer: Entity<Buffer>,
    snapshot: MultiBufferSnapshot,
    edit_position: Option<Anchor>,
    range: Range<Anchor>,
    last_equal_ranges: Vec<Range<Anchor>>,
    transformation_transaction_id: Option<TransactionId>,
    status: CodegenStatus,
    generation: Task<()>,
    diff: Diff,
    _subscription: gpui::Subscription,
    builder: Arc<PromptBuilder>,
    active: bool,
    edits: Vec<(Range<Anchor>, String)>,
    line_operations: Vec<LineOperation>,
    elapsed_time: Option<f64>,
    completion: Option<String>,
    selected_text: Option<String>,
    pub message_id: Option<String>,
    session_id: Uuid,
    pub description: Option<String>,
    pub failure: Option<String>,
}
- [L1339:L1342]enum CodegenEvent {
    Finished,
    Undone,
}
- [L1344:L1351]struct StripInvalidSpans<T> {
    stream: T,
    stream_done: bool,
    buffer: String,
    first_line: bool,
    line_end: bool,
    starts_with_code_block: bool,
}
- [L1472:L1474]fn prefixes(text: &str) -> impl Iterator<Item = &str> 
- [L1477:L1480]struct Diff {
    pub deleted_row_ranges: Vec<(Anchor, RangeInclusive<u32>)>,
    pub inserted_row_ranges: Vec<Range<Anchor>>,
}

## crates/agent_ui/src/completion_provider.rs
- [L156:L159]struct EntryMatch {
    mat: Option<StringMatch>,
    entry: PromptContextEntry,
}
- [L162:L165]struct RulesContextEntry {
    pub prompt_id: UserPromptId,
    pub title: SharedString,
}
- [L168:L172]struct AvailableCommand {
    pub name: Arc<str>,
    pub description: Arc<str>,
    pub requires_argument: bool,
}
- [L174:L174]trait PromptCompletionProviderDelegate: Send + Sync + 'static {
- [L185:L192]struct PromptCompletionProvider<T: PromptCompletionProviderDelegate> {
    source: Arc<T>,
    editor: WeakEntity<Editor>,
    mention_set: Entity<MentionSet>,
    history_store: Entity<HistoryStore>,
    prompt_store: Option<Entity<PromptStore>>,
    workspace: WeakEntity<Workspace>,
}
- [L1157:L1198]fn confirm_completion_callback<T: PromptCompletionProviderDelegate>(
    crease_text: SharedString,
    start: Anchor,
    content_len: usize,
    mention_uri: MentionUri,
    source: Arc<T>,
    editor: WeakEntity<Editor>,
    mention_set: WeakEntity<MentionSet>,
    workspace: Entity<Workspace>,
) -> Arc<dyn Fn(CompletionIntent, &mut Window, &mut App) -> bool + Send + Sync> 
- [L1201:L1204]enum PromptCompletion {
    SlashCommand(SlashCommandCompletion),
    Mention(MentionCompletion),
}
- [L1231:L1235]struct SlashCommandCompletion {
    pub source_range: Range<usize>,
    pub command: Option<String>,
    pub argument: Option<String>,
}
- [L1276:L1280]struct MentionCompletion {
    source_range: Range<usize>,
    mode: Option<PromptContextType>,
    argument: Option<String>,
}
- [L1598:L1600]struct SymbolMatch {
    pub symbol: Symbol,
}
- [L1602:L1605]struct FileMatch {
    pub mat: PathMatch,
    pub is_recent: bool,
}
- [L1607:L1626]fn extract_file_name_and_directory(
    path: &RelPath,
    path_prefix: &RelPath,
    path_style: PathStyle,
) -> (SharedString, Option<SharedString>) 
- [L1628:L1658]fn build_code_label_for_path(
    file: &str,
    directory: Option<&str>,
    line_number: Option<u32>,
    label_max_chars: usize,
    cx: &App,
) -> CodeLabel 
- [L1660:L1691]fn selection_ranges(
    workspace: &Entity<Workspace>,
    cx: &mut App,
) -> Vec<(Entity<Buffer>, Range<text::Anchor>)> 

## crates/agent_ui/src/context.rs
- [L10:L13]struct LoadedContext {
    pub text: String,
    pub images: Vec<LanguageModelImage>,
}
- [L40:L63]fn load_context(mention_set: &Entity<MentionSet>, cx: &mut App) -> Task<Option<LoadedContext>> 

## crates/agent_ui/src/context_server_configuration.rs
- [L66:L77]fn remove_context_server_settings(
    context_server_ids: Vec<Arc<str>>,
    fs: Arc<dyn Fs>,
    cx: &mut App,
) 
- [L79:L116]fn show_configure_mcp_modal(
    language_registry: Arc<LanguageRegistry>,
    manifest: &Arc<ExtensionManifest>,
    workspace: WeakEntity<Workspace>,
    window: &mut Window,
    cx: &mut Context<'_, Workspace>,
) 

## crates/agent_ui/src/favorite_models.rs
- [L8:L13]fn language_model_to_selection(model: &Arc<dyn LanguageModel>) -> LanguageModelSelection 
- [L15:L30]fn toggle_in_settings(
    model: Arc<dyn LanguageModel>,
    should_be_favorite: bool,
    fs: Arc<dyn Fs>,
    cx: &mut App,
) 

## crates/agent_ui/src/inline_assistant.rs
- [L57:L80]fn init(fs: Arc<dyn Fs>, prompt_builder: Arc<PromptBuilder>, cx: &mut App) 
- [L84:L87]enum InlineAssistTarget {
    Editor(Entity<Editor>),
    Terminal(Entity<TerminalView>),
}
- [L89:L100]struct InlineAssistant {
    next_assist_id: InlineAssistId,
    next_assist_group_id: InlineAssistGroupId,
    assists: HashMap<InlineAssistId, InlineAssist>,
    assists_by_editor: HashMap<WeakEntity<Editor>, EditorInlineAssists>,
    assist_groups: HashMap<InlineAssistGroupId, InlineAssistGroup>,
    confirmed_assists: HashMap<InlineAssistId, Entity<CodegenAlternative>>,
    prompt_history: VecDeque<String>,
    prompt_builder: Arc<PromptBuilder>,
    fs: Arc<dyn Fs>,
    _inline_assistant_completions: Option<mpsc::UnboundedSender<anyhow::Result<InlineAssistId>>>,
}
- [L1609:L1615]struct EditorInlineAssists {
    assist_ids: Vec<InlineAssistId>,
    scroll_lock: Option<InlineAssistScrollLock>,
    highlight_updates: watch::Sender<()>,
    _update_highlights: Task<Result<()>>,
    _subscriptions: Vec<gpui::Subscription>,
}
- [L1617:L1620]struct InlineAssistScrollLock {
    assist_id: InlineAssistId,
    distance_from_top: ScrollOffset,
}
- [L1685:L1689]struct InlineAssistGroup {
    assist_ids: Vec<InlineAssistId>,
    linked: bool,
    active_assist_id: Option<InlineAssistId>,
}
- [L1701:L1710]fn build_assist_editor_renderer(editor: &Entity<PromptEditor<BufferCodegen>>) -> RenderBlock 
- [L1713:L1713]struct InlineAssistGroupId(usize);
- [L1723:L1731]struct InlineAssist {
    group_id: InlineAssistGroupId,
    range: Range<Anchor>,
    editor: WeakEntity<Editor>,
    decorations: Option<InlineAssistDecorations>,
    codegen: Entity<BufferCodegen>,
    _subscriptions: Vec<Subscription>,
    workspace: WeakEntity<Workspace>,
}
- [L1856:L1862]struct InlineAssistDecorations {
    prompt_block_id: CustomBlockId,
    prompt_editor: Entity<PromptEditor<BufferCodegen>>,
    removed_line_block_ids: HashSet<CustomBlockId>,
    model_explanation: Option<CustomBlockId>,
    end_block_id: CustomBlockId,
}
- [L1864:L1867]struct AssistantCodeActionProvider {
    editor: WeakEntity<Editor>,
    workspace: WeakEntity<Workspace>,
}
- [L2006:L2026]fn merge_ranges(ranges: &mut Vec<Range<Anchor>>, buffer: &MultiBufferSnapshot) 
- [L2030:L2030]mod test {
- [L2205:L2205]mod evals {

## crates/agent_ui/src/inline_prompt_editor.rs
- [L49:L53]enum CompletionState {
    Pending,
    Generated { completion_text: Option<String> },
    Rated,
}
- [L55:L58]struct SessionState {
    session_id: Uuid,
    completion: CompletionState,
}
- [L60:L77]struct PromptEditor<T> {
    pub editor: Entity<Editor>,
    mode: PromptEditorMode,
    mention_set: Entity<MentionSet>,
    history_store: Entity<HistoryStore>,
    prompt_store: Option<Entity<PromptStore>>,
    workspace: WeakEntity<Workspace>,
    model_selector: Entity<AgentModelSelector>,
    edited_since_done: bool,
    prompt_history: VecDeque<String>,
    prompt_history_ix: Option<usize>,
    pending_prompt: String,
    _codegen_subscription: Subscription,
    editor_subscriptions: Vec<Subscription>,
    show_rate_limit_notice: bool,
    session_state: SessionState,
    _phantom: std::marker::PhantomData<T>,
}
- [L252:L302]fn markdown_style(window: &Window, cx: &App) -> MarkdownStyle 
- [L1149:L1160]enum PromptEditorMode {
    Buffer {
        id: InlineAssistId,
        codegen: Entity<BufferCodegen>,
        editor_margins: Arc<Mutex<EditorMargins>>,
    },
    Terminal {
        id: TerminalInlineAssistId,
        codegen: Entity<TerminalCodegen>,
        height_in_lines: u8,
    },
}
- [L1162:L1168]enum PromptEditorEvent {
    StartRequested,
    StopRequested,
    ConfirmRequested { execute: bool },
    CancelRequested,
    Resized { height_in_lines: u8 },
}
- [L1171:L1171]struct InlineAssistId(pub usize);
- [L1181:L1181]struct PromptEditorCompletionProviderDelegate;
- [L1183:L1187]fn inline_assistant_model_supports_images(cx: &App) -> bool 
- [L1360:L1360]struct TerminalInlineAssistId(pub usize);
- [L1519:L1524]enum CodegenStatus {
    Idle,
    Pending,
    Done,
    Error(anyhow::Error),
}
- [L1526:L1533]enum CancelButtonState {
    Idle,
    Pending,
    Done,
    Error,
}
- [L1547:L1550]enum GenerationMode {
    Generate,
    Transform,
}
- [L1581:L1587]struct MessageCrease {
    range: Range<MultiBufferOffset>,
    icon_path: SharedString,
    label: SharedString,
}
- [L1589:L1610]fn extract_message_creases(
    editor: &mut Editor,
    mention_set: &Entity<MentionSet>,
    window: &mut Window,
    cx: &mut Context<'_, Editor>,
) -> Vec<MessageCrease> 
- [L1612:L1635]fn insert_message_creases(
    editor: &mut Editor,
    message_creases: &[MessageCrease],
    window: &mut Window,
    cx: &mut Context<'_, Editor>,
) -> Vec<CreaseId> 

## crates/agent_ui/src/language_model_selector.rs
- [L25:L25]type LanguageModelSelector = Picker<LanguageModelPickerDelegate>;
- [L27:L54]fn language_model_selector(
    get_active_model: impl Fn(&App) -> Option<ConfiguredModel> + 'static,
    on_model_changed: impl Fn(Arc<dyn LanguageModel>, &mut App) + 'static,
    on_toggle_favorite: impl Fn(Arc<dyn LanguageModel>, bool, &mut App) + 'static,
    popover_styles: bool,
    focus_handle: FocusHandle,
    window: &mut Window,
    cx: &mut Context<LanguageModelSelector>,
) -> LanguageModelSelector 
- [L56:L90]fn all_models(cx: &App) -> GroupedModels 
- [L95:L99]struct ModelInfo {
    model: Arc<dyn LanguageModel>,
    icon: IconOrSvg,
    is_favorite: bool,
}
- [L119:L130]struct LanguageModelPickerDelegate {
    on_model_changed: OnModelChanged,
    get_active_model: GetActiveModel,
    on_toggle_favorite: OnToggleFavorite,
    all_models: Arc<GroupedModels>,
    filtered_entries: Vec<LanguageModelPickerEntry>,
    selected_index: usize,
    _authenticate_all_providers_task: Task<()>,
    _subscriptions: Vec<Subscription>,
    popover_styles: bool,
    focus_handle: FocusHandle,
}
- [L293:L297]struct GroupedModels {
    favorites: Vec<ModelInfo>,
    recommended: Vec<ModelInfo>,
    all: IndexMap<LanguageModelProviderId, Vec<ModelInfo>>,
}
- [L357:L360]enum LanguageModelPickerEntry {
    Model(ModelInfo),
    Separator(SharedString),
}
- [L362:L366]struct ModelMatcher {
    models: Vec<ModelInfo>,
    bg_executor: BackgroundExecutor,
    candidates: Vec<StringMatchCandidate>,
}

## crates/agent_ui/src/mention_set.rs
- [L42:L42]type MentionTask = Shared<Task<Result<Mention, String>>>;
- [L45:L52]enum Mention {
    Text {
        content: String,
        tracked_buffers: Vec<Entity<Buffer>>,
    },
    Image(MentionImage),
    Link,
}
- [L55:L58]struct MentionImage {
    pub data: SharedString,
    pub format: ImageFormat,
}
- [L60:L65]struct MentionSet {
    project: WeakEntity<Project>,
    history_store: Entity<HistoryStore>,
    prompt_store: Option<Entity<PromptStore>>,
    mentions: HashMap<CreaseId, (MentionUri, MentionTask)>,
}
- [L746:L779]fn render_fold_icon_button(
    icon_path: SharedString,
    label: SharedString,
    editor: WeakEntity<Editor>,
) -> Arc<dyn Send + Sync + Fn(FoldId, Range<Anchor>, &mut App) -> AnyElement> 
- [L781:L796]fn fold_toggle(
    name: &'static str,
) -> impl Fn(
    MultiBufferRow,
    bool,
    Arc<dyn Fn(bool, &mut Window, &mut App) + Send + Sync>,
    &mut Window,
    &mut App,
) -> AnyElement 
- [L798:L892]fn full_mention_for_directory(
    project: &Entity<Project>,
    abs_path: &Path,
    cx: &mut App,
) -> Task<Result<Mention>> 
- [L894:L901]fn render_directory_contents(entries: Vec<(Arc<RelPath>, String, String)>) -> String 
- [L903:L932]fn render_mention_fold_button(
    label: SharedString,
    icon: SharedString,
    range: Range<Anchor>,
    mut loading_finished: postage::barrier::Receiver,
    image_task: Option<Shared<Task<Result<Arc<Image>, String>>>>,
    editor: WeakEntity<Editor>,
    cx: &mut App,
) -> Arc<dyn Send + Sync + Fn(FoldId, Range<Anchor>, &mut App) -> AnyElement> 
- [L934:L942]struct LoadingContext {
    id: EntityId,
    label: SharedString,
    icon: SharedString,
    range: Range<Anchor>,
    editor: WeakEntity<Editor>,
    loading: Option<Task<()>>,
    image: Option<Shared<Task<Result<Arc<Image>, String>>>>,
}
- [L1006:L1009]struct ImageHover {
    image: Option<Arc<Image>>,
    _task: Task<()>,
}

## crates/agent_ui/src/profile_selector.rs
- [L23:L23]trait ProfileProvider {
- [L34:L43]struct ProfileSelector {
    profiles: AvailableProfiles,
    pending_refresh: bool,
    fs: Arc<dyn Fs>,
    provider: Arc<dyn ProfileProvider>,
    picker: Option<Entity<Picker<ProfilePickerDelegate>>>,
    picker_handle: PopoverMenuHandle<Picker<ProfilePickerDelegate>>,
    focus_handle: FocusHandle,
    _subscriptions: Vec<Subscription>,
}
- [L222:L226]struct ProfileCandidate {
    id: AgentProfileId,
    name: SharedString,
    is_builtin: bool,
}
- [L229:L232]struct ProfileMatchEntry {
    candidate_index: usize,
    positions: Vec<usize>,
}
- [L234:L237]enum ProfilePickerEntry {
    Header(SharedString),
    Profile(ProfileMatchEntry),
}

## crates/agent_ui/src/slash_command.rs
- [L24:L29]struct SlashCommandCompletionProvider {
    cancel_flag: Mutex<Arc<AtomicBool>>,
    slash_commands: Arc<SlashCommandWorkingSet>,
    editor: Option<WeakEntity<TextThreadEditor>>,
    workspace: Option<WeakEntity<Workspace>>,
}

## crates/agent_ui/src/slash_command_picker.rs
- [L21:L26]struct SlashCommandInfo {
    name: SharedString,
    description: SharedString,
    args: Option<SharedString>,
    icon: IconName,
}
- [L29:L36]enum SlashCommandEntry {
    Info(SlashCommandInfo),
    Advert {
        name: SharedString,
        renderer: fn(&mut Window, &mut App) -> AnyElement,
        on_confirm: fn(&mut Window, &mut App),
    },
}

## crates/agent_ui/src/terminal_codegen.rs
- [L9:L16]struct TerminalCodegen {
    pub status: CodegenStatus,
    terminal: Entity<Terminal>,
    generation: Task<()>,
    pub message_id: Option<String>,
    transaction: Option<TerminalTransaction>,
    session_id: Uuid,
}
- [L169:L171]enum CodegenEvent {
    Finished,
}
- [L174:L174]const CLEAR_INPUT: &str = "\x15";
- [L176:L176]const CLEAR_INPUT: &str = "\x03";
- [L179:L182]struct TerminalTransaction {
    completion: String,
    terminal: Entity<Terminal>,
}

## crates/agent_ui/src/terminal_inline_assistant.rs
- [L31:L33]fn init(fs: Arc<dyn Fs>, prompt_builder: Arc<PromptBuilder>, cx: &mut App) 
- [L38:L44]struct TerminalInlineAssistant {
    next_assist_id: TerminalInlineAssistId,
    assists: HashMap<TerminalInlineAssistId, TerminalInlineAssist>,
    prompt_history: VecDeque<String>,
    fs: Arc<dyn Fs>,
    prompt_builder: Arc<PromptBuilder>,
}
- [L402:L408]struct TerminalInlineAssist {
    terminal: WeakEntity<TerminalView>,
    prompt_editor: Option<Entity<PromptEditor<TerminalCodegen>>>,
    codegen: Entity<TerminalCodegen>,
    workspace: WeakEntity<Workspace>,
    _subscriptions: Vec<Subscription>,
}

## crates/agent_ui/src/text_thread_editor.rs
- [L104:L110]enum InsertDraggedFiles {
    ProjectPaths(Vec<ProjectPath>),
    ExternalFiles(Vec<PathBuf>),
}
- [L113:L116]struct ScrollPosition {
    offset_before_cursor: gpui::Point<ScrollOffset>,
    cursor: Anchor,
}
- [L121:L124]enum AssistError {
    PaymentRequired,
    Message(SharedString),
}
- [L126:L129]enum ThoughtProcessStatus {
    Pending,
    Completed,
}
- [L131:L131]trait AgentPanelDelegate {
- [L178:L178]struct GlobalAssistantPanelDelegate(Arc<dyn AgentPanelDelegate>);
- [L182:L209]struct TextThreadEditor {
    text_thread: Entity<TextThread>,
    fs: Arc<dyn Fs>,
    slash_commands: Arc<SlashCommandWorkingSet>,
    workspace: WeakEntity<Workspace>,
    project: Entity<Project>,
    lsp_adapter_delegate: Option<Arc<dyn LspAdapterDelegate>>,
    editor: Entity<Editor>,
    pending_thought_process: Option<(CreaseId, language::Anchor)>,
    blocks: HashMap<MessageId, (MessageHeader, CustomBlockId)>,
    image_blocks: HashSet<CustomBlockId>,
    scroll_position: Option<ScrollPosition>,
    remote_id: Option<workspace::ViewId>,
    pending_slash_command_creases: HashMap<Range<language::Anchor>, CreaseId>,
    invoked_slash_command_creases: HashMap<InvokedSlashCommandId, CreaseId>,
    _subscriptions: Vec<Subscription>,
    last_error: Option<AssistError>,
    pub(crate) slash_menu_handle:
        PopoverMenuHandle<Picker<slash_command_picker::SlashCommandDelegate>>,
    dragged_file_worktrees: Vec<Entity<Worktree>>,
    language_model_selector: Entity<LanguageModelSelector>,
    language_model_selector_menu_handle: PopoverMenuHandle<LanguageModelSelector>,
}
- [L2396:L2436]fn find_surrounding_code_block(snapshot: &BufferSnapshot, offset: usize) -> Option<Range<usize>> 
- [L2438:L2482]fn render_thought_process_fold_icon_button(
    editor: WeakEntity<Editor>,
    status: ThoughtProcessStatus,
) -> Arc<dyn Send + Sync + Fn(FoldId, Range<Anchor>, &mut App) -> AnyElement> 
- [L2484:L2509]fn render_fold_icon_button(
    editor: WeakEntity<Editor>,
    icon_path: SharedString,
    label: SharedString,
) -> Arc<dyn Send + Sync + Fn(FoldId, Range<Anchor>, &mut App) -> AnyElement> 
- [L2513:L2527]fn render_slash_command_output_toggle(
    row: MultiBufferRow,
    is_folded: bool,
    fold: ToggleFold,
    _window: &mut Window,
    _cx: &mut App,
) -> AnyElement 
- [L2529:L2544]fn fold_toggle(
    name: &'static str,
) -> impl Fn(
    MultiBufferRow,
    bool,
    Arc<dyn Fn(bool, &mut Window, &mut App) + Send + Sync>,
    &mut Window,
    &mut App,
) -> AnyElement 
- [L2546:L2573]fn quote_selection_fold_placeholder(title: String, editor: WeakEntity<Editor>) -> FoldPlaceholder 
- [L2575:L2586]fn render_quote_selection_output_toggle(
    row: MultiBufferRow,
    is_folded: bool,
    fold: ToggleFold,
    _window: &mut Window,
    _cx: &mut App,
) -> AnyElement 
- [L2588:L2612]fn render_pending_slash_command_gutter_decoration(
    row: MultiBufferRow,
    status: &PendingSlashCommandStatus,
    confirm_command: Arc<dyn Fn(&mut Window, &mut App)>,
) -> AnyElement 
- [L2615:L2617]struct CopyMetadata {
    creases: Vec<SelectedCreaseMetadata>,
}
- [L2620:L2623]struct SelectedCreaseMetadata {
    range_relative_to_selection: Range<usize>,
    crease: CreaseMetadata,
}
- [L2980:L2980]enum PendingSlashCommand {}
- [L2982:L3021]fn invoked_slash_command_fold_placeholder(
    command_id: InvokedSlashCommandId,
    text_thread: WeakEntity<TextThread>,
) -> FoldPlaceholder 
- [L3023:L3033]enum TokenState {
    NoTokensLeft {
        max_token_count: u64,
        token_count: u64,
    },
    HasMoreTokens {
        max_token_count: u64,
        token_count: u64,
        over_warn_threshold: bool,
    },
}
- [L3035:L3059]fn token_state(text_thread: &Entity<TextThread>, cx: &App) -> Option<TokenState> 
- [L3061:L3083]fn size_for_image(data: &RenderImage, max_size: Size<Pixels>) -> Size<Pixels> 
- [L3085:L3113]fn humanize_token_count(count: u64) -> String 
- [L3115:L3137]fn make_lsp_adapter_delegate(
    project: &Entity<Project>,
    cx: &mut App,
) -> Result<Option<Arc<dyn LspAdapterDelegate>>> 

## crates/agent_ui/src/ui.rs

## crates/agent_ui/src/ui/acp_onboarding_modal.rs
- [L20:L23]struct AcpOnboardingModal {
    focus_handle: FocusHandle,
    workspace: Entity<Workspace>,
}

## crates/agent_ui/src/ui/agent_notification.rs
- [L11:L16]struct AgentNotification {
    title: SharedString,
    caption: SharedString,
    icon: IconName,
    project_name: Option<SharedString>,
}
- [L71:L74]enum AgentNotificationEvent {
    Accepted,
    Dismissed,
}

## crates/agent_ui/src/ui/burn_mode_tooltip.rs
- [L5:L7]struct BurnModeTooltip {
    selected: bool,
}

## crates/agent_ui/src/ui/claude_code_onboarding_modal.rs
- [L20:L23]struct ClaudeCodeOnboardingModal {
    focus_handle: FocusHandle,
    workspace: Entity<Workspace>,
}

## crates/agent_ui/src/ui/end_trial_upsell.rs
- [L10:L13]struct EndTrialUpsell {
    plan: Plan,
    dismiss_upsell: Arc<dyn Fn(&mut Window, &mut App)>,
}

## crates/agent_ui/src/ui/hold_for_default.rs
- [L5:L7]struct HoldForDefault {
    is_default: bool,
}

## crates/agent_ui/src/ui/model_selector_components.rs
- [L7:L10]enum ModelIcon {
    Name(IconName),
    Path(SharedString),
}
- [L13:L16]struct ModelSelectorHeader {
    title: SharedString,
    has_border: bool,
}
- [L47:L55]struct ModelSelectorListItem {
    index: usize,
    title: SharedString,
    icon: Option<ModelIcon>,
    is_selected: bool,
    is_focused: bool,
    is_favorite: bool,
    on_toggle_favorite: Option<Box<dyn Fn(&ClickEvent, &mut Window, &mut App) + 'static>>,
}
- [L158:L161]struct ModelSelectorFooter {
    action: Box<dyn Action>,
    focus_handle: FocusHandle,
}
- [L198:L201]struct ModelSelectorTooltip {
    focus_handle: FocusHandle,
    show_cycle_row: bool,
}

## crates/agent_ui/src/ui/onboarding_modal.rs
- [L18:L21]struct AgentOnboardingModal {
    focus_handle: FocusHandle,
    workspace: Entity<Workspace>,
}

## crates/agent_ui/src/ui/usage_callout.rs
- [L8:L11]struct UsageCallout {
    plan: Plan,
    usage: ModelRequestUsage,
}

## crates/agent_ui_v2/src/agent_thread_pane.rs
- [L23:L23]const DEFAULT_UTILITY_PANE_WIDTH: Pixels = gpui::px(400.0);
- [L26:L29]enum SerializedHistoryEntryId {
    AcpThread(String),
    TextThread(String),
}
- [L45:L49]struct SerializedAgentThreadPane {
    pub expanded: bool,
    pub width: Option<Pixels>,
    pub thread_id: Option<SerializedHistoryEntryId>,
}
- [L51:L53]enum AgentsUtilityPaneEvent {
    StateChanged,
}
- [L59:L63]struct ActiveThreadView {
    view: Entity<AcpThreadView>,
    thread_id: HistoryEntryId,
    _notify: Subscription,
}
- [L65:L71]struct AgentThreadPane {
    focus_handle: gpui::FocusHandle,
    expanded: bool,
    width: Option<Pixels>,
    thread_view: Option<ActiveThreadView>,
    workspace: WeakEntity<Workspace>,
}

## crates/agent_ui_v2/src/agent_ui_v2.rs
- [L4:L4]mod agents_panel;

## crates/agent_ui_v2/src/agents_panel.rs
- [L33:L36]struct SerializedAgentsPanel {
    width: Option<Pixels>,
    pane: Option<SerializedAgentThreadPane>,
}
- [L46:L53]fn init(cx: &mut App) 
- [L55:L67]struct AgentsPanel {
    focus_handle: gpui::FocusHandle,
    workspace: WeakEntity<Workspace>,
    project: Entity<Project>,
    agent_thread_pane: Option<Entity<AgentThreadPane>>,
    history: Entity<AcpThreadHistory>,
    history_store: Entity<HistoryStore>,
    prompt_store: Option<Entity<PromptStore>>,
    fs: Arc<dyn Fs>,
    width: Option<Pixels>,
    pending_serialization: Task<Option<()>>,
    _subscriptions: Vec<Subscription>,
}

## crates/agent_ui_v2/src/thread_history.rs
- [L27:L39]struct AcpThreadHistory {
    pub(crate) history_store: Entity<HistoryStore>,
    scroll_handle: UniformListScrollHandle,
    selected_index: usize,
    hovered_index: Option<usize>,
    search_editor: Entity<Editor>,
    search_query: SharedString,
    visible_items: Vec<ListItemType>,
    local_timezone: UtcOffset,
    confirming_delete_history: bool,
    _update_task: Task<()>,
    _subscriptions: Vec<gpui::Subscription>,
}
- [L41:L51]enum ListItemType {
    BucketSeparator(TimeBucket),
    Entry {
        entry: HistoryEntry,
        format: EntryTimeFormat,
    },
    SearchResult {
        entry: HistoryEntry,
        positions: Vec<usize>,
    },
}
- [L64:L66]enum ThreadHistoryEvent {
    Open(HistoryEntry),
}
- [L630:L633]enum EntryTimeFormat {
    DateAndTime,
    TimeOnly,
}
- [L664:L670]enum TimeBucket {
    Today,
    Yesterday,
    ThisWeek,
    PastWeek,
    All,
}

## crates/ai_onboarding/src/agent_api_keys_onboarding.rs
- [L5:L7]struct ApiKeysWithProviders {
    configured_providers: Vec<(IconOrSvg, SharedString)>,
}
- [L113:L113]struct ApiKeysWithoutProviders;

## crates/ai_onboarding/src/agent_panel_onboarding_card.rs
- [L6:L7]struct AgentPanelOnboardingCard {
    children: SmallVec<[AnyElement; 2]>,

## crates/ai_onboarding/src/agent_panel_onboarding_content.rs
- [L11:L16]struct AgentPanelOnboarding {
    user_store: Entity<UserStore>,
    client: Arc<Client>,
    has_configured_providers: bool,
    continue_with_zed_ai: Arc<dyn Fn(&mut Window, &mut App)>,
}

## crates/ai_onboarding/src/ai_onboarding.rs
- [L25:L29]enum SignInStatus {
    SignedIn,
    SigningIn,
    SignedOut,
}
- [L44:L51]struct ZedAiOnboarding {
    pub sign_in_status: SignInStatus,
    pub plan: Option<Plan>,
    pub account_too_young: bool,
    pub continue_with_zed_ai: Arc<dyn Fn(&mut Window, &mut App)>,
    pub sign_in: Arc<dyn Fn(&mut Window, &mut App)>,
    pub dismiss_onboarding: Option<Arc<dyn Fn(&mut Window, &mut App)>>,
}

## crates/ai_onboarding/src/ai_upsell_card.rs
- [L11:L17]struct AiUpsellCard {
    sign_in_status: SignInStatus,
    sign_in: Arc<dyn Fn(&mut Window, &mut App)>,
    account_too_young: bool,
    user_plan: Option<Plan>,
    tab_index: Option<isize>,
}

## crates/ai_onboarding/src/edit_prediction_onboarding_content.rs
- [L10:L16]struct EditPredictionOnboarding {
    user_store: Entity<UserStore>,
    client: Arc<Client>,
    copilot_is_configured: bool,
    continue_with_zed_ai: Arc<dyn Fn(&mut Window, &mut App)>,
    continue_with_copilot: Arc<dyn Fn(&mut Window, &mut App)>,
}

## crates/ai_onboarding/src/plan_definitions.rs
- [L4:L5]struct PlanDefinitions;

## crates/ai_onboarding/src/young_account_banner.rs
- [L5:L5]struct YoungAccountBanner;

## crates/anthropic/src/anthropic.rs
- [L15:L15]mod batches;
- [L17:L17]const ANTHROPIC_API_URL: &str = "https://api.anthropic.com";
- [L21:L25]struct AnthropicModelCacheConfiguration {
    pub min_total_token: u64,
    pub should_speculate: bool,
    pub max_cache_anchors: usize,
}
- [L29:L35]enum AnthropicModelMode {
    Default,
    Thinking {
        budget_tokens: Option<u32>,
    },
}
- [L57:L135]enum Model {
    ClaudeOpus4,
    ClaudeOpus4_1,
        rename = "claude-opus-4-thinking",
        alias = "claude-opus-4-thinking-latest"
    )]
    ClaudeOpus4Thinking,
        rename = "claude-opus-4-1-thinking",
        alias = "claude-opus-4-1-thinking-latest"
    )]
    ClaudeOpus4_1Thinking,
    ClaudeOpus4_5,
        rename = "claude-opus-4-5-thinking",
        alias = "claude-opus-4-5-thinking-latest"
    )]
    ClaudeOpus4_5Thinking,
    ClaudeSonnet4,
        rename = "claude-sonnet-4-thinking",
        alias = "claude-sonnet-4-thinking-latest"
    )]
    ClaudeSonnet4Thinking,
    ClaudeSonnet4_5,
        rename = "claude-sonnet-4-5-thinking",
        alias = "claude-sonnet-4-5-thinking-latest"
    )]
    ClaudeSonnet4_5Thinking,
    Claude3_7Sonnet,
        rename = "claude-3-7-sonnet-thinking",
        alias = "claude-3-7-sonnet-thinking-latest"
    )]
    Claude3_7SonnetThinking,
    Claude3_5Sonnet,
    ClaudeHaiku4_5,
        rename = "claude-haiku-4-5-thinking",
        alias = "claude-haiku-4-5-thinking-latest"
    )]
    ClaudeHaiku4_5Thinking,
    Claude3_5Haiku,
    Claude3Opus,
    Claude3Sonnet,
    Claude3Haiku,
    Custom {
        name: String,
        max_tokens: u64,
        display_name: Option<String>,
        tool_override: Option<String>,
        cache_configuration: Option<AnthropicModelCacheConfiguration>,
        max_output_tokens: Option<u64>,
        default_temperature: Option<f32>,
        extra_beta_headers: Vec<String>,
        mode: AnthropicModelMode,
    },
}
- [L485:L485]async fn stream_completion(
- [L498:L498]async fn non_streaming_completion(
- [L592:L598]struct RateLimit {
    pub limit: usize,
    pub remaining: usize,
    pub reset: DateTime<Utc>,
}
- [L623:L631]struct RateLimitInfo {
    pub retry_after: Option<Duration>,
    pub requests: Option<RateLimit>,
    pub tokens: Option<RateLimit>,
    pub input_tokens: Option<RateLimit>,
    pub output_tokens: Option<RateLimit>,
}
- [L660:L669]fn parse_retry_after(headers: &HeaderMap<HeaderValue>) -> Option<Duration> 
- [L671:L676]fn get_header<'a>(key: &str, headers: &'a HeaderMap) -> anyhow::Result<&'a str> 
- [L678:L678]async fn stream_completion_with_rate_limit_info(
- [L724:L726]enum CacheControlType {
    Ephemeral,
}
- [L729:L732]struct CacheControl {
    pub cache_type: CacheControlType,
}
- [L735:L738]struct Message {
    pub role: Role,
    pub content: Vec<RequestContent>,
}
- [L742:L745]enum Role {
    User,
    Assistant,
}
- [L749:L787]enum RequestContent {
    Text {
        text: String,
        cache_control: Option<CacheControl>,
    },
    Thinking {
        thinking: String,
        signature: String,
        cache_control: Option<CacheControl>,
    },
    RedactedThinking { data: String },
    Image {
        source: ImageSource,
        cache_control: Option<CacheControl>,
    },
    ToolUse {
        id: String,
        name: String,
        input: serde_json::Value,
        cache_control: Option<CacheControl>,
    },
    ToolResult {
        tool_use_id: String,
        is_error: bool,
        content: ToolResultContent,
        cache_control: Option<CacheControl>,
    },
}
- [L791:L794]enum ToolResultContent {
    Plain(String),
    Multipart(Vec<ToolResultPart>),
}
- [L798:L801]enum ToolResultPart {
    Text { text: String },
    Image { source: ImageSource },
}
- [L805:L818]enum ResponseContent {
    Text { text: String },
    Thinking { thinking: String },
    RedactedThinking { data: String },
    ToolUse {
        id: String,
        name: String,
        input: serde_json::Value,
    },
}
- [L821:L826]struct ImageSource {
    pub source_type: String,
    pub media_type: String,
    pub data: String,
}
- [L829:L833]struct Tool {
    pub name: String,
    pub description: String,
    pub input_schema: serde_json::Value,
}
- [L837:L842]enum ToolChoice {
    Auto,
    Any,
    Tool { name: String },
    None,
}
- [L846:L848]enum Thinking {
    Enabled { budget_tokens: Option<u32> },
}
- [L852:L855]enum StringOrContents {
    String(String),
    Content(Vec<RequestContent>),
}
- [L858:L880]struct Request {
    pub model: String,
    pub max_tokens: u64,
    pub messages: Vec<Message>,
    pub tools: Vec<Tool>,
    pub thinking: Option<Thinking>,
    pub tool_choice: Option<ToolChoice>,
    pub system: Option<StringOrContents>,
    pub metadata: Option<Metadata>,
    pub stop_sequences: Vec<String>,
    pub temperature: Option<f32>,
    pub top_k: Option<u32>,
    pub top_p: Option<f32>,
}
- [L883:L887]struct StreamingRequest {
    pub base: Request,
    pub stream: bool,
}
- [L890:L892]struct Metadata {
    pub user_id: Option<String>,
}
- [L895:L904]struct Usage {
    pub input_tokens: Option<u64>,
    pub output_tokens: Option<u64>,
    pub cache_creation_input_tokens: Option<u64>,
    pub cache_read_input_tokens: Option<u64>,
}
- [L907:L919]struct Response {
    pub id: String,
    pub response_type: String,
    pub role: Role,
    pub content: Vec<ResponseContent>,
    pub model: String,
    pub stop_reason: Option<String>,
    pub stop_sequence: Option<String>,
    pub usage: Usage,
}
- [L923:L943]enum Event {
    MessageStart { message: Response },
    ContentBlockStart {
        index: usize,
        content_block: ResponseContent,
    },
    ContentBlockDelta { index: usize, delta: ContentDelta },
    ContentBlockStop { index: usize },
    MessageDelta { delta: MessageDelta, usage: Usage },
    MessageStop,
    Ping,
    Error { error: ApiError },
}
- [L947:L956]enum ContentDelta {
    TextDelta { text: String },
    ThinkingDelta { thinking: String },
    SignatureDelta { signature: String },
    InputJsonDelta { partial_json: String },
}
- [L959:L962]struct MessageDelta {
    pub stop_reason: Option<String>,
    pub stop_sequence: Option<String>,
}
- [L965:L995]enum AnthropicError {
    SerializeRequest(serde_json::Error),
    BuildRequestBody(http::Error),
    HttpSend(anyhow::Error),
    DeserializeResponse(serde_json::Error),
    ReadResponse(io::Error),
    HttpResponseError {
        status_code: StatusCode,
        message: String,
    },
    RateLimit { retry_after: Duration },
    ServerOverloaded { retry_after: Option<Duration> },
    ApiError(ApiError),
}
- [L999:L1003]struct ApiError {
    pub error_type: String,
    pub message: String,
}
- [L1005:L1026]enum ApiErrorCode {
    InvalidRequestError,
    AuthenticationError,
    PermissionError,
    NotFoundError,
    RequestTooLarge,
    RateLimitError,
    ApiError,
    OverloadedError,
}
- [L1046:L1053]fn parse_prompt_too_long(message: &str) -> Option<u64> 
- [L1055:L1069]struct CountTokensRequest {
    pub model: String,
    pub messages: Vec<Message>,
    pub system: Option<StringOrContents>,
    pub tools: Vec<Tool>,
    pub thinking: Option<Thinking>,
    pub tool_choice: Option<ToolChoice>,
}
- [L1071:L1075]struct CountTokensResponse {
    pub input_tokens: u64,
}
- [L1078:L1078]async fn count_tokens(
- [L1121:L1151]fn test_match_window_exceeded() 

## crates/anthropic/src/batches.rs
- [L9:L12]struct BatchRequest {
    pub custom_id: String,
    pub params: Request,
}
- [L15:L17]struct CreateBatchRequest {
    pub requests: Vec<BatchRequest>,
}
- [L20:L26]struct MessageBatchRequestCounts {
    pub processing: u64,
    pub succeeded: u64,
    pub errored: u64,
    pub canceled: u64,
    pub expired: u64,
}
- [L29:L41]struct MessageBatch {
    pub id: String,
    pub batch_type: String,
    pub processing_status: String,
    pub request_counts: MessageBatchRequestCounts,
    pub ended_at: Option<String>,
    pub created_at: String,
    pub expires_at: String,
    pub archived_at: Option<String>,
    pub cancel_initiated_at: Option<String>,
    pub results_url: Option<String>,
}
- [L45:L54]enum BatchResult {
    Succeeded { message: Response },
    Errored { error: ApiError },
    Canceled,
    Expired,
}
- [L57:L60]struct BatchIndividualResponse {
    pub custom_id: String,
    pub result: BatchResult,
}
- [L62:L62]async fn create_batch(
- [L104:L104]async fn retrieve_batch(
- [L143:L143]async fn retrieve_batch_results(

## crates/askpass/src/askpass.rs
- [L29:L29]static ASKPASS_PROGRAM: OnceLock<std::path::PathBuf> = OnceLock::new();
- [L25:L35]enum AskPassResult {
    CancelledByUser,
    Timedout,
}
- [L37:L41]struct AskPassDelegate {
    tx: mpsc::UnboundedSender<(String, oneshot::Sender<EncryptedPassword>)>,
    executor: BackgroundExecutor,
    _task: Task<()>,
}
- [L74:L80]struct AskPassSession {
    secret: std::sync::Arc<OnceLock<EncryptedPassword>>,
    askpass_task: PasswordProxy,
    askpass_opened_rx: Option<oneshot::Receiver<()>>,
    askpass_kill_master_rx: Option<oneshot::Receiver<()>>,
}
- [L180:L186]struct PasswordProxy {
    _task: Task<()>,
    askpass_script_path: std::path::PathBuf,
    askpass_helper: String,
}
- [L284:L328]fn main(socket: &str) 
- [L330:L334]fn set_askpass_program(path: std::path::PathBuf) 
- [L338:L359]fn generate_askpass_script(
    shell_kind: ShellKind,
    askpass_program: &std::path::Path,
    askpass_socket: &std::path::Path,
) -> Result<String> 
- [L363:L385]fn generate_askpass_script(
    shell_kind: ShellKind,
    askpass_program: &std::path::Path,
    askpass_socket: &std::path::Path,
) -> Result<String> 

## crates/askpass/src/encrypted_password.rs
- [L22:L22]struct EncryptedPassword(Vec<u8>, LengthWithoutPadding);
- [L61:L63]struct IKnowWhatIAmDoingAndIHaveReadTheDocs;

## crates/assets/src/assets.rs
- [L18:L18]struct Assets;

## crates/assistant_slash_command/src/assistant_slash_command.rs
- [L24:L27]fn init(cx: &mut App) 
- [L30:L37]enum AfterCompletion {
    Run,
    Compose,
    Continue,
}
- [L59:L68]struct ArgumentCompletion {
    pub label: CodeLabel,
    pub new_text: String,
    pub after_completion: AfterCompletion,
    pub replace_previous_arguments: bool,
}
- [L70:L70]type SlashCommandResult = Result<BoxStream<'static, Result<SlashCommandEvent>>>;
- [L72:L72]trait SlashCommand: 'static + Send + Sync {
- [L112:L117]enum SlashCommandContent {
    Text {
        text: String,
        run_commands_in_text: bool,
    },
}
- [L129:L141]enum SlashCommandEvent {
    StartMessage {
        role: Role,
        merge_same_roles: bool,
    },
    StartSection {
        icon: IconName,
        label: SharedString,
        metadata: Option<serde_json::Value>,
    },
    Content(SlashCommandContent),
    EndSection,
}
- [L144:L148]struct SlashCommandOutput {
    pub text: String,
    pub sections: Vec<SlashCommandOutputSection<usize>>,
    pub run_commands_in_text: bool,
}
- [L257:L262]struct SlashCommandOutputSection<T> {
    pub range: Range<T>,
    pub icon: IconName,
    pub label: SharedString,
    pub metadata: Option<serde_json::Value>,
}
- [L270:L275]struct SlashCommandLine {
    pub name: Range<usize>,
    pub arguments: Vec<Range<usize>>,
}
- [L331:L341]fn create_label_for_command(command_name: &str, arguments: &[&str], cx: &App) -> CodeLabel 

## crates/assistant_slash_command/src/extension_slash_command.rs
- [L16:L21]fn init(cx: &mut App) 
- [L23:L25]struct SlashCommandRegistryProxy {
    slash_command_registry: Arc<SlashCommandRegistry>,
}
- [L43:L44]struct WorktreeDelegateAdapter(Arc<dyn LspAdapterDelegate>);
- [L72:L75]struct ExtensionSlashCommand {
    extension: Arc<dyn Extension>,
    command: extension::SlashCommand,
}

## crates/assistant_slash_command/src/slash_command_registry.rs
- [L12:L12]struct GlobalSlashCommandRegistry(Arc<SlashCommandRegistry>);
- [L17:L20]struct SlashCommandRegistryState {
    commands: HashMap<Arc<str>, Arc<dyn SlashCommand>>,
    featured_commands: BTreeSet<Arc<str>>,
}
- [L23:L25]struct SlashCommandRegistry {
    state: RwLock<SlashCommandRegistryState>,
}

## crates/assistant_slash_command/src/slash_command_working_set.rs
- [L10:L10]struct SlashCommandId(usize);
- [L12:L16]struct SlashCommandWorkingSet {
    state: Mutex<WorkingSetState>,
}
- [L19:L23]struct WorkingSetState {
    context_server_commands_by_id: HashMap<SlashCommandId, Arc<dyn SlashCommand>>,
    context_server_commands_by_name: HashMap<Arc<str>, Arc<dyn SlashCommand>>,
    next_command_id: SlashCommandId,
}

## crates/assistant_slash_commands/src/assistant_slash_commands.rs

## crates/assistant_slash_commands/src/cargo_workspace_command.rs
- [L19:L19]struct CargoWorkspaceSlashCommand;

## crates/assistant_slash_commands/src/context_server_command.rs
- [L19:L23]struct ContextServerSlashCommand {
    store: Entity<ContextServerStore>,
    server_id: ContextServerId,
    prompt: Prompt,
}
- [L202:L214]fn completion_argument(prompt: &Prompt, arguments: &[String]) -> Result<(String, String)> 
- [L216:L240]fn prompt_arguments(prompt: &Prompt, arguments: &[String]) -> Result<HashMap<String, String>> 
- [L242:L251]fn acceptable_prompt(prompt: &Prompt) -> bool 

## crates/assistant_slash_commands/src/default_command.rs
- [L16:L16]struct DefaultSlashCommand;

## crates/assistant_slash_commands/src/delta_command.rs
- [L16:L16]struct DeltaSlashCommand;

## crates/assistant_slash_commands/src/diagnostics_command.rs
- [L26:L26]struct DiagnosticsSlashCommand;
- [L202:L205]struct Options {
    include_warnings: bool,
    path_matcher: Option<PathMatcher>,
}
- [L231:L355]fn collect_diagnostics(
    project: Entity<Project>,
    options: Options,
    cx: &mut App,
) -> Task<Result<Option<SlashCommandOutput>>> 
- [L357:L366]fn collect_buffer_diagnostics(
    output: &mut SlashCommandOutput,
    snapshot: &BufferSnapshot,
    include_warnings: bool,
) 
- [L368:L432]fn collect_diagnostic(
    output: &mut SlashCommandOutput,
    entry: &DiagnosticEntryRef<'_, Anchor>,
    snapshot: &BufferSnapshot,
    include_warnings: bool,
) 

## crates/assistant_slash_commands/src/fetch_command.rs
- [L20:L24]enum ContentType {
    Html,
    Plaintext,
    Json,
}
- [L26:L26]struct FetchSlashCommand;

## crates/assistant_slash_commands/src/file_command.rs
- [L25:L25]struct FileSlashCommand;
- [L221:L397]fn collect_files(
    project: Entity<Project>,
    glob_inputs: &[String],
    cx: &mut App,
) -> impl Stream<Item = Result<SlashCommandEvent>> + use<> 
- [L399:L422]fn codeblock_fence_for_path(
    path: Option<&str>,
    row_range: Option<RangeInclusive<u32>>,
) -> String 
- [L425:L427]struct FileCommandMetadata {
    pub path: String,
}
- [L429:L465]fn build_entry_output_section(
    range: Range<usize>,
    path: Option<&str>,
    is_directory: bool,
    line_range: Option<Range<u32>>,
) -> SlashCommandOutputSection<usize> 
- [L467:L493]fn append_buffer_to_output(
    buffer: &BufferSnapshot,
    path: Option<&str>,
    output: &mut SlashCommandOutput,
) -> Result<()> 

## crates/assistant_slash_commands/src/now_command.rs
- [L15:L15]struct NowSlashCommand;

## crates/assistant_slash_commands/src/prompt_command.rs
- [L13:L13]struct PromptSlashCommand;

## crates/assistant_slash_commands/src/selection_command.rs
- [L19:L19]struct SelectionCommand;
- [L121:L202]fn selections_creases(
    selection_ranges: Vec<Range<Point>>,
    snapshot: MultiBufferSnapshot,
    cx: &App,
) -> Vec<(String, String)> 

## crates/assistant_slash_commands/src/streaming_example_command.rs
- [L19:L19]struct StreamingExampleSlashCommandFeatureFlag;
- [L25:L25]struct StreamingExampleSlashCommand;

## crates/assistant_slash_commands/src/symbols_command.rs
- [L14:L14]struct OutlineSlashCommand;

## crates/assistant_slash_commands/src/tab_command.rs
- [L18:L18]struct TabSlashCommand;
- [L170:L283]fn tab_items_for_queries(
    workspace: Option<WeakEntity<Workspace>>,
    queries: &[String],
    cancel: Arc<AtomicBool>,
    strict_match: bool,
    window: &mut Window,
    cx: &mut App,
) -> Task<anyhow::Result<Vec<(Option<String>, BufferSnapshot, usize)>>> 
- [L285:L303]fn active_item_buffer(
    workspace: &mut Workspace,
    cx: &mut Context<Workspace>,
) -> anyhow::Result<BufferSnapshot> 
- [L305:L317]fn create_tab_completion_label(
    path: &str,
    path_style: PathStyle,
    comment_id: Option<HighlightId>,
) -> CodeLabel 

## crates/assistant_text_thread/src/assistant_text_thread.rs
- [L13:L15]fn init(client: Arc<Client>, _: &mut App) 

## crates/assistant_text_thread/src/assistant_text_thread_tests.rs
- [L44:L178]fn test_inserting_and_removing_messages(cx: &mut App) 
- [L181:L283]fn test_message_splitting(cx: &mut App) 
- [L286:L374]fn test_messages_for_offsets(cx: &mut App) 
- [L1028:L1188]fn test_mark_cache_anchors(cx: &mut App) 
- [L1298:L1336]fn test_summarize_error(
    model: &Arc<FakeLanguageModel>,
    text_thread: &Entity<TextThread>,
    cx: &mut TestAppContext,
) 
- [L1338:L1370]fn setup_context_editor_with_fake_model(
    cx: &mut TestAppContext,
) -> (Entity<TextThread>, Arc<FakeLanguageModel>) 
- [L1372:L1377]fn simulate_successful_response(fake_model: &FakeLanguageModel, cx: &mut TestAppContext) 
- [L1379:L1385]fn messages(context: &Entity<TextThread>, cx: &App) -> Vec<(MessageId, Role, Range<usize>)> 
- [L1387:L1396]fn messages_cache(
    context: &Entity<TextThread>,
    cx: &App,
) -> Vec<(MessageId, Option<MessageCacheMetadata>)> 
- [L1398:L1403]fn init_test(cx: &mut App) 
- [L1406:L1406]struct FakeSlashCommand(String);

## crates/assistant_text_thread/src/text_thread.rs
- [L51:L51]struct TextThreadId(String);
- [L68:L68]struct MessageId(pub clock::Lamport);
- [L77:L82]enum MessageStatus {
    Pending,
    Done,
    Error(SharedString),
    Canceled,
}
- [L126:L164]enum TextThreadOperation {
    InsertMessage {
        anchor: MessageAnchor,
        metadata: MessageMetadata,
        version: clock::Global,
    },
    UpdateMessage {
        message_id: MessageId,
        metadata: MessageMetadata,
        version: clock::Global,
    },
    UpdateSummary {
        summary: TextThreadSummaryContent,
        version: clock::Global,
    },
    SlashCommandStarted {
        id: InvokedSlashCommandId,
        output_range: Range<language::Anchor>,
        name: String,
        version: clock::Global,
    },
    SlashCommandFinished {
        id: InvokedSlashCommandId,
        timestamp: clock::Lamport,
        error_message: Option<String>,
        version: clock::Global,
    },
    SlashCommandOutputSectionAdded {
        timestamp: clock::Lamport,
        section: SlashCommandOutputSection<language::Anchor>,
        version: clock::Global,
    },
    ThoughtProcessOutputSectionAdded {
        timestamp: clock::Lamport,
        section: ThoughtProcessOutputSection<language::Anchor>,
        version: clock::Global,
    },
    BufferOperation(language::Operation),
}
- [L449:L473]enum TextThreadEvent {
    ShowAssistError(SharedString),
    ShowPaymentRequiredError,
    MessagesEdited,
    SummaryChanged,
    SummaryGenerated,
    PathChanged {
        old_path: Option<Arc<Path>>,
        new_path: Arc<Path>,
    },
    StreamedCompletion,
    StartedThoughtProcess(Range<language::Anchor>),
    EndedThoughtProcess(language::Anchor),
    InvokedSlashCommandChanged {
        command_id: InvokedSlashCommandId,
    },
    ParsedSlashCommandsUpdated {
        removed: Vec<Range<language::Anchor>>,
        updated: Vec<ParsedSlashCommand>,
    },
    SlashCommandOutputSectionAdded {
        section: SlashCommandOutputSection<language::Anchor>,
    },
    Operation(TextThreadOperation),
}
- [L476:L480]enum TextThreadSummary {
    Pending,
    Content(TextThreadSummaryContent),
    Error,
}
- [L483:L487]struct TextThreadSummaryContent {
    pub text: String,
    pub done: bool,
    pub timestamp: clock::Lamport,
}
- [L549:L552]struct MessageAnchor {
    pub id: MessageId,
    pub start: language::Anchor,
}
- [L555:L558]enum CacheStatus {
    Pending,
    Cached,
}
- [L561:L566]struct MessageCacheMetadata {
    pub is_anchor: bool,
    pub is_final_anchor: bool,
    pub status: CacheStatus,
    pub cached_at: clock::Global,
}
- [L569:L575]struct MessageMetadata {
    pub role: Role,
    pub status: MessageStatus,
    pub timestamp: clock::Lamport,
    pub cache: Option<MessageCacheMetadata>,
}
- [L604:L606]struct ThoughtProcessOutputSection<T> {
    pub range: Range<T>,
}
- [L615:L623]struct Message {
    pub offset_range: Range<usize>,
    pub index_range: Range<usize>,
    pub anchor_range: Range<language::Anchor>,
    pub id: MessageId,
    pub role: Role,
    pub status: MessageStatus,
    pub cache: Option<MessageCacheMetadata>,
}
- [L626:L633]enum Content {
    Image {
        anchor: language::Anchor,
        image_id: u64,
        render_image: Arc<RenderImage>,
        image: Shared<Task<Option<LanguageModelImage>>>,
    },
}
- [L655:L659]struct PendingCompletion {
    id: usize,
    assistant_message_id: MessageId,
    _task: Task<()>,
}
- [L662:L662]struct InvokedSlashCommandId(clock::Lamport);
- [L664:L694]struct TextThread {
    id: TextThreadId,
    timestamp: clock::Lamport,
    version: clock::Global,
    pub(crate) pending_ops: Vec<TextThreadOperation>,
    operations: Vec<TextThreadOperation>,
    buffer: Entity<Buffer>,
    pub(crate) parsed_slash_commands: Vec<ParsedSlashCommand>,
    invoked_slash_commands: HashMap<InvokedSlashCommandId, InvokedSlashCommand>,
    edits_since_last_parse: language::Subscription<usize>,
    slash_commands: Arc<SlashCommandWorkingSet>,
    pub(crate) slash_command_output_sections: Vec<SlashCommandOutputSection<language::Anchor>>,
    thought_process_output_sections: Vec<ThoughtProcessOutputSection<language::Anchor>>,
    pub(crate) message_anchors: Vec<MessageAnchor>,
    contents: Vec<Content>,
    pub(crate) messages_metadata: HashMap<MessageId, MessageMetadata>,
    summary: TextThreadSummary,
    summary_task: Task<Option<()>>,
    completion_count: usize,
    pending_completions: Vec<PendingCompletion>,
    pub(crate) token_count: Option<u64>,
    pending_token_count: Task<Option<()>>,
    pending_save: Task<Result<()>>,
    pending_cache_warming_task: Task<Option<()>>,
    path: Option<Arc<Path>>,
    _subscriptions: Vec<Subscription>,
    language_registry: Arc<LanguageRegistry>,
    project: Option<WeakEntity<Project>>,
    prompt_builder: Arc<PromptBuilder>,
    completion_mode: agent_settings::CompletionMode,
}
- [L2978:L2981]struct TextThreadVersion {
    text_thread: clock::Global,
    buffer: clock::Global,
}
- [L3001:L3003]struct ParsedSlashCommand {
    pub name: String,
    pub arguments: SmallVec<[String; 3]>,
- [L3009:L3016]struct InvokedSlashCommand {
    pub name: SharedString,
    pub range: Range<language::Anchor>,
    pub run_commands_in_ranges: Vec<Range<language::Anchor>>,
    pub status: InvokedSlashCommandStatus,
    pub transaction: Option<language::TransactionId>,
    timestamp: clock::Lamport,
}
- [L3019:L3023]enum InvokedSlashCommandStatus {
    Running(Task<()>),
    Error(SharedString),
    Finished,
}
- [L3026:L3030]enum PendingSlashCommandStatus {
    Idle,
    Running { _task: Shared<Task<()>> },
    Error(String),
}
- [L3033:L3039]struct PendingToolUse {
    pub id: LanguageModelToolUseId,
    pub name: String,
    pub input: serde_json::Value,
    pub status: PendingToolUseStatus,
    pub source_range: Range<language::Anchor>,
}
- [L3042:L3046]enum PendingToolUseStatus {
    Idle,
    Running { _task: Shared<Task<()>> },
    Error(String),
}
- [L3055:L3059]struct SavedMessage {
    pub id: MessageId,
    pub start: usize,
    pub metadata: MessageMetadata,
}
- [L3062:L3073]struct SavedTextThread {
    pub id: Option<TextThreadId>,
    pub zed: String,
    pub version: String,
    pub text: String,
    pub messages: Vec<SavedMessage>,
    pub summary: String,
    pub slash_command_output_sections:
        Vec<assistant_slash_command::SlashCommandOutputSection<usize>>,
    pub thought_process_output_sections: Vec<ThoughtProcessOutputSection<usize>>,
}
- [L3204:L3204]struct SavedMessageIdPreV0_4_0(usize);
- [L3207:L3210]struct SavedMessagePreV0_4_0 {
    id: SavedMessageIdPreV0_4_0,
    start: usize,
}
- [L3213:L3216]struct SavedMessageMetadataPreV0_4_0 {
    role: Role,
    status: MessageStatus,
}
- [L3219:L3228]struct SavedContextV0_3_0 {
    id: Option<TextThreadId>,
    zed: String,
    version: String,
    text: String,
    messages: Vec<SavedMessagePreV0_4_0>,
    message_metadata: HashMap<SavedMessageIdPreV0_4_0, SavedMessageMetadataPreV0_4_0>,
    summary: String,
    slash_command_output_sections: Vec<assistant_slash_command::SlashCommandOutputSection<usize>>,
}
- [L3268:L3276]struct SavedContextV0_2_0 {
    id: Option<TextThreadId>,
    zed: String,
    version: String,
    text: String,
    messages: Vec<SavedMessagePreV0_4_0>,
    message_metadata: HashMap<SavedMessageIdPreV0_4_0, SavedMessageMetadataPreV0_4_0>,
    summary: String,
}
- [L3297:L3307]struct SavedContextV0_1_0 {
    id: Option<TextThreadId>,
    zed: String,
    version: String,
    text: String,
    messages: Vec<SavedMessagePreV0_4_0>,
    message_metadata: HashMap<SavedMessageIdPreV0_4_0, SavedMessageMetadataPreV0_4_0>,
    summary: String,
    api_url: Option<String>,
    model: OpenAiModel,
}
- [L3327:L3331]struct SavedTextThreadMetadata {
    pub title: SharedString,
    pub path: Arc<Path>,
    pub mtime: chrono::DateTime<chrono::Local>,
}

## crates/assistant_text_thread/src/text_thread_store.rs
- [L38:L41]struct RemoteTextThreadMetadata {
    pub id: TextThreadId,
    pub summary: Option<String>,
}
- [L43:L58]struct TextThreadStore {
    text_threads: Vec<TextThreadHandle>,
    text_threads_metadata: Vec<SavedTextThreadMetadata>,
    context_server_slash_command_ids: HashMap<ContextServerId, Vec<SlashCommandId>>,
    host_text_threads: Vec<RemoteTextThreadMetadata>,
    fs: Arc<dyn Fs>,
    languages: Arc<LanguageRegistry>,
    slash_commands: Arc<SlashCommandWorkingSet>,
    _watch_updates: Task<Option<()>>,
    client: Arc<Client>,
    project: WeakEntity<Project>,
    project_is_shared: bool,
    client_subscription: Option<client::Subscription>,
    _project_subscriptions: Vec<gpui::Subscription>,
    prompt_builder: Arc<PromptBuilder>,
}
- [L60:L63]enum TextThreadHandle {
    Weak(WeakEntity<TextThread>),
    Strong(Entity<TextThread>),
}

## crates/audio/src/audio.rs
- [L40:L40]const SAMPLE_RATE: NonZero<u32> = nz!(16000);
- [L41:L41]const CHANNEL_COUNT: NonZero<u16> = nz!(1);
- [L42:L42]const BUFFER_SIZE: usize = // echo canceller and livekit want 10ms of audio
- [L45:L45]const LEGACY_SAMPLE_RATE: NonZero<u32> = nz!(48000);
- [L46:L46]const LEGACY_CHANNEL_COUNT: NonZero<u16> = nz!(2);
- [L48:L48]const REPLAY_DURATION: Duration = Duration::from_secs(30);
- [L50:L52]fn init(cx: &mut App) 
- [L55:L64]enum Sound {
    Joined,
    GuestJoined,
    Leave,
    Mute,
    Unmute,
    StartScreenshare,
    StopScreenshare,
    AgentDone,
}
- [L81:L88]struct Audio {
    output_handle: Option<OutputStream>,
    output_mixer: Option<Mixer>,
    pub echo_canceller: Arc<Mutex<apm::AudioProcessingModule>>,
    source_cache: HashMap<Sound, Buffered<Decoder<Cursor<Vec<u8>>>>>,
    replays: replays::Replays,
}
- [L297:L301]struct VoipParts {
    echo_canceller: Arc<Mutex<apm::AudioProcessingModule>>,
    replays: replays::Replays,
    legacy_audio_compatible: bool,
}

## crates/audio/src/audio_settings.rs
- [L7:L41]struct AudioSettings {
    pub rodio_audio: bool,
    pub auto_microphone_volume: bool,
    pub auto_speaker_volume: bool,
    pub denoise: bool,
    pub legacy_audio_compatible: bool,
}

## crates/audio/src/replays.rs

## crates/audio/src/rodio_ext.rs
- [L22:L22]struct ReplayDurationTooShort;
- [L27:L27]trait RodioExt: Source + Sized {
- [L142:L146]struct ConstantSampleRate<S: Source> {
    inner: SampleRateConverter<S>,
    channels: ChannelCount,
    sample_rate: SampleRate,
}
- [L193:L199]struct ToMono<S> {
    inner: S,
    input_channel_count: ChannelCount,
    connected_channels: ChannelCount,
    means: [f32; MAX_CHANNELS],
- [L237:L241]fn update_mean(mean: &mut f32, sample: Sample) 
- [L265:L269]struct TakeSamples<S> {
    inner: S,
    left_to_take: usize,
}
- [L310:L320]struct ReplayQueue {
    inner: ArrayQueue<Vec<Sample>>,
    normal_chunk_len: usize,
    last_chunk: Mutex<Vec<Sample>>,
}
- [L357:L361]struct ProcessBuffer<const N: usize, S, F>
where
    S: Source + Sized,
    F: FnMut(&mut [Sample; N]),
- [L425:L429]struct InspectBuffer<const N: usize, S, F>
where
    S: Source + Sized,
    F: FnMut(&[Sample; N]),
- [L490:L498]struct Replayable<S: Source> {
    inner: S,
    buffer: Vec<Sample>,
    chunk_size: usize,
    tx: Arc<ReplayQueue>,
    is_active: Arc<AtomicBool>,
}
- [L542:L551]struct Replay {
    rx: Arc<ReplayQueue>,
    buffer: std::vec::IntoIter<Sample>,
    sleep_duration: Duration,
    sample_rate: SampleRate,
    channel_count: ChannelCount,
    source_is_active: Arc<AtomicBool>,
}

## crates/auto_update/src/auto_update.rs
- [L46:L49]enum VersionCheckType {
    Sha(AppCommitSha),
    Semantic(Version),
}
- [L52:L59]struct AssetQuery<'a> {
    asset: &'a str,
    os: &'a str,
    arch: &'a str,
    metrics_id: Option<&'a str>,
    system_id: Option<&'a str>,
    is_staff: Option<bool>,
}
- [L62:L69]enum AutoUpdateStatus {
    Idle,
    Checking,
    Downloading { version: VersionCheckType },
    Installing { version: VersionCheckType },
    Updated { version: VersionCheckType },
    Errored { error: Arc<anyhow::Error> },
}
- [L102:L108]struct AutoUpdater {
    status: AutoUpdateStatus,
    current_version: Version,
    client: Arc<Client>,
    pending_poll: Option<Task<Option<()>>>,
    quit_subscription: Option<gpui::Subscription>,
}
- [L111:L114]struct ReleaseAsset {
    pub version: String,
    pub url: String,
}
- [L116:L119]struct MacOsUnmounter<'a> {
    mount_path: PathBuf,
    background_executor: &'a BackgroundExecutor,
}
- [L151:L151]struct AutoUpdateSetting(bool);
- [L163:L163]struct GlobalAutoUpdate(Option<Entity<AutoUpdater>>);
- [L167:L208]fn init(client: Arc<Client>, cx: &mut App) 
- [L210:L251]fn check(_: &Check, window: &mut Window, cx: &mut App) 
- [L253:L274]fn view_release_notes(_: &ViewReleaseNotes, cx: &mut App) -> Option<()> 
- [L277:L277]struct InstallerDir(tempfile::TempDir);
- [L295:L295]struct InstallerDir(PathBuf);
- [L316:L319]enum UpdateCheckType {
    Automatic,
    Manual,
}
- [L958:L958]async fn finalize_auto_update_on_quit() {

## crates/auto_update_helper/build.rs
- [L1:L15]fn main() 

## crates/auto_update_helper/src/auto_update_helper.rs
- [L9:L14]fn main() 
- [L17:L17]fn main() 

## crates/auto_update_helper/src/dialog.rs
- [L36:L39]struct DialogInfo {
    rx: Receiver<Result<()>>,
    progress_bar: isize,
}
- [L208:L217]fn with_dialog_data<F, T>(hwnd: HWND, f: F) -> T
where
    F: FnOnce(&RefCell<DialogInfo>) -> T,
- [L219:L236]fn get_system_ui_font_name() -> String 

## crates/auto_update_helper/src/updater.rs

## crates/auto_update_ui/src/auto_update_ui.rs
- [L22:L30]fn init(cx: &mut App) 
- [L33:L36]struct ReleaseNotesBody {
        unused,
        reason = "This field was found to be unused with serde library bump; it's left as is due to insufficient context on PO's side, but it *may* be fine to remove"
- [L42:L131]fn view_release_notes_locally(
    workspace: &mut Workspace,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) 
- [L133:L188]fn notify_if_app_was_updated(cx: &mut App) 

## crates/aws_http_client/src/aws_http_client.rs
- [L17:L19]struct AwsHttpConnector {
    client: Arc<dyn HttpClient>,
}
- [L67:L69]struct AwsHttpClient {
    client: Arc<dyn HttpClient>,
}
- [L95:L97]fn convert_to_sdk_body(body: AsyncBody) -> SdkBody 
- [L99:L104]fn convert_to_async_body(body: SdkBody) -> AsyncBody 

## crates/bedrock/src/bedrock.rs
- [L34:L34]async fn stream_completion(
- [L102:L119]fn aws_document_to_value(document: &Document) -> Value 
- [L121:L144]fn value_to_aws_document(value: &Value) -> Document 
- [L147:L149]enum Thinking {
    Enabled { budget_tokens: Option<u64> },
}
- [L152:L164]struct Request {
    pub model: String,
    pub max_tokens: u64,
    pub messages: Vec<BedrockMessage>,
    pub tools: Option<BedrockToolConfig>,
    pub thinking: Option<Thinking>,
    pub system: Option<String>,
    pub metadata: Option<Metadata>,
    pub stop_sequences: Vec<String>,
    pub temperature: Option<f32>,
    pub top_k: Option<u32>,
    pub top_p: Option<f32>,
}
- [L167:L169]struct Metadata {
    pub user_id: Option<String>,
}
- [L172:L179]enum BedrockError {
    ClientError(anyhow::Error),
    ExtensionError(anyhow::Error),
}

## crates/bedrock/src/models.rs
- [L6:L12]enum BedrockModelMode {
    Default,
    Thinking {
        budget_tokens: Option<u64>,
    },
}
- [L16:L19]struct BedrockModelCacheConfiguration {
    pub max_cache_anchors: usize,
    pub min_total_token: u64,
}
- [L23:L139]enum Model {
    ClaudeSonnet4,
        rename = "claude-sonnet-4-thinking",
        alias = "claude-sonnet-4-thinking-latest"
    )]
    ClaudeSonnet4Thinking,
    ClaudeSonnet4_5,
        rename = "claude-sonnet-4-5-thinking",
        alias = "claude-sonnet-4-5-thinking-latest"
    )]
    ClaudeSonnet4_5Thinking,
    ClaudeOpus4,
    ClaudeOpus4_1,
        rename = "claude-opus-4-thinking",
        alias = "claude-opus-4-thinking-latest"
    )]
    ClaudeOpus4Thinking,
        rename = "claude-opus-4-1-thinking",
        alias = "claude-opus-4-1-thinking-latest"
    )]
    ClaudeOpus4_1Thinking,
    ClaudeOpus4_5,
        rename = "claude-opus-4-5-thinking",
        alias = "claude-opus-4-5-thinking-latest"
    )]
    ClaudeOpus4_5Thinking,
    Claude3_5SonnetV2,
    Claude3_7Sonnet,
        rename = "claude-3-7-sonnet-thinking",
        alias = "claude-3-7-sonnet-thinking-latest"
    )]
    Claude3_7SonnetThinking,
    Claude3Opus,
    Claude3Sonnet,
    Claude3_5Haiku,
    ClaudeHaiku4_5,
    Claude3_5Sonnet,
    Claude3Haiku,
    AmazonNovaLite,
    AmazonNovaMicro,
    AmazonNovaPro,
    AmazonNovaPremier,
    AI21J2GrandeInstruct,
    AI21J2JumboInstruct,
    AI21J2Mid,
    AI21J2MidV1,
    AI21J2Ultra,
    AI21J2UltraV1_8k,
    AI21J2UltraV1,
    AI21JambaInstructV1,
    AI21Jamba15LargeV1,
    AI21Jamba15MiniV1,
    CohereCommandTextV14_4k,
    CohereCommandRV1,
    CohereCommandRPlusV1,
    CohereCommandLightTextV14_4k,
    DeepSeekR1,
    MetaLlama38BInstructV1,
    MetaLlama370BInstructV1,
    MetaLlama318BInstructV1_128k,
    MetaLlama318BInstructV1,
    MetaLlama3170BInstructV1_128k,
    MetaLlama3170BInstructV1,
    MetaLlama31405BInstructV1,
    MetaLlama321BInstructV1,
    MetaLlama323BInstructV1,
    MetaLlama3211BInstructV1,
    MetaLlama3290BInstructV1,
    MetaLlama3370BInstructV1,
    MetaLlama4Scout17BInstructV1,
    MetaLlama4Maverick17BInstructV1,
    MistralMistral7BInstructV0,
    MistralMixtral8x7BInstructV0,
    MistralMistralLarge2402V1,
    MistralMistralSmall2402V1,
    MistralPixtralLarge2502V1,
    PalmyraWriterX5,
    PalmyraWriterX4,
    Custom {
        name: String,
        max_tokens: u64,
        display_name: Option<String>,
        max_output_tokens: Option<u64>,
        default_temperature: Option<f32>,
        cache_configuration: Option<BedrockModelCacheConfiguration>,
    },
}
- [L965:L987]fn test_global_inference_ids() -> anyhow::Result<()> 

## crates/breadcrumbs/src/breadcrumbs.rs
- [L16:L20]struct Breadcrumbs {
    pane_focused: bool,
    active_item: Option<Box<dyn ItemHandle>>,
    subscription: Option<Subscription>,
}
- [L203:L244]fn apply_dirty_filename_style(
    segment: &BreadcrumbText,
    text_style: &gpui::TextStyle,
    cx: &mut Context<Breadcrumbs>,
) -> Option<gpui::AnyElement> 

## crates/buffer_diff/src/buffer_diff.rs
- [L20:L20]static CALCULATE_DIFF_TASK: LazyLock<TaskLabel> = LazyLock::new(TaskLabel::new);
- [L21:L21]const MAX_WORD_DIFF_LINE_COUNT: usize = 5;
- [L23:L28]struct BufferDiff {
    pub buffer_id: BufferId,
    inner: BufferDiffInner,
    secondary_diff: Option<Entity<BufferDiff>>,
}
- [L31:L34]struct BufferDiffSnapshot {
    inner: BufferDiffInner,
    secondary_diff: Option<Box<BufferDiffSnapshot>>,
}
- [L37:L43]struct BufferDiffInner {
    hunks: SumTree<InternalDiffHunk>,
    pending_hunks: SumTree<PendingHunk>,
    base_text: language::BufferSnapshot,
    base_text_exists: bool,
}
- [L46:L49]struct DiffHunkStatus {
    pub kind: DiffHunkStatusKind,
    pub secondary: DiffHunkSecondaryStatus,
}
- [L52:L56]enum DiffHunkStatusKind {
    Added,
    Modified,
    Deleted,
}
- [L59:L72]enum DiffHunkSecondaryStatus {
    HasSecondaryHunk,
    OverlapsWithSecondaryHunk,
    NoSecondaryHunk,
    SecondaryHunkAdditionPending,
    SecondaryHunkRemovalPending,
}
- [L74:L88]struct DiffHunk {
    pub range: Range<Point>,
    pub buffer_range: Range<Anchor>,
    pub diff_base_byte_range: Range<usize>,
    pub secondary_status: DiffHunkSecondaryStatus,
    pub buffer_word_diffs: Vec<Range<Anchor>>,
    pub base_word_diffs: Vec<Range<usize>>,
}
- [L90:L97]struct InternalDiffHunk {
    buffer_range: Range<Anchor>,
    diff_base_byte_range: Range<usize>,
    base_word_diffs: Vec<Range<usize>>,
    buffer_word_diffs: Vec<Range<Anchor>>,
}
- [L100:L105]struct PendingHunk {
    buffer_range: Range<Anchor>,
    diff_base_byte_range: Range<usize>,
    buffer_version: clock::Global,
    new_status: DiffHunkSecondaryStatus,
}
- [L108:L111]struct DiffHunkSummary {
    buffer_range: Range<Anchor>,
    diff_base_byte_range: Range<usize>,
}
- [L847:L871]fn build_diff_options(
    file: Option<&Arc<dyn File>>,
    language: Option<LanguageName>,
    language_scope: Option<language::LanguageScope>,
    cx: &App,
) -> Option<DiffOptions> 
- [L873:L937]fn compute_hunks(
    diff_base: Option<(Arc<String>, Rope)>,
    buffer: text::BufferSnapshot,
    diff_options: Option<DiffOptions>,
) -> SumTree<InternalDiffHunk> 
- [L939:L1054]fn process_patch_hunk(
    patch: &GitPatch<'_>,
    hunk_index: usize,
    diff_base: &Rope,
    buffer: &text::BufferSnapshot,
    buffer_row_divergence: &mut i64,
    diff_options: Option<&DiffOptions>,
) -> InternalDiffHunk 
- [L1066:L1072]enum BufferDiffEvent {
    DiffChanged {
        changed_range: Option<Range<text::Anchor>>,
    },
    LanguageChanged,
    HunksStagedOrUnstaged(Option<Rope>),
}
- [L1543:L1579]fn assert_hunks<ExpectedText, HunkIter>(
    diff_hunks: HunkIter,
    buffer: &text::BufferSnapshot,
    diff_base: &str,
    // Line range, deleted, added, status
    expected_hunks: &[(Range<u32>, ExpectedText, ExpectedText, DiffHunkStatus)],
) where
    HunkIter: Iterator<Item = DiffHunk>,
    ExpectedText: AsRef<str>,

## crates/call/src/call.rs
- [L1:L1]mod call_settings;

## crates/call/src/call_impl/mod.rs
- [L1:L1]mod participant;
- [L2:L2]mod room;
- [L22:L22]struct GlobalActiveCall(Entity<ActiveCall>);
- [L26:L29]fn init(client: Arc<Client>, user_store: Entity<UserStore>, cx: &mut App) 
- [L31:L33]struct OneAtATime {
    cancel: Option<oneshot::Sender<()>>,
}
- [L63:L68]struct IncomingCall {
    pub room_id: u64,
    pub calling_user: Arc<User>,
    pub participants: Vec<Arc<User>>,
    pub initial_project: Option<proto::ParticipantProject>,
}
- [L70:L84]struct ActiveCall {
    room: Option<(Entity<Room>, Vec<Subscription>)>,
    pending_room_creation: Option<Shared<Task<Result<Entity<Room>, Arc<anyhow::Error>>>>>,
    location: Option<WeakEntity<Project>>,
    _join_debouncer: OneAtATime,
    pending_invites: HashSet<u64>,
    incoming_call: (
        watch::Sender<Option<IncomingCall>>,
        watch::Receiver<Option<IncomingCall>>,
    ),
    client: Arc<Client>,
    user_store: Entity<UserStore>,
    _subscriptions: Vec<client::Subscription>,
}

## crates/call/src/call_impl/participant.rs
- [L13:L17]enum ParticipantLocation {
    SharedProject { project_id: u64 },
    UnsharedProject,
    External,
}
- [L37:L41]struct LocalParticipant {
    pub projects: Vec<proto::ParticipantProject>,
    pub active_project: Option<WeakEntity<Project>>,
    pub role: proto::ChannelRole,
}
- [L52:L63]struct RemoteParticipant {
    pub user: Arc<User>,
    pub peer_id: proto::PeerId,
    pub role: proto::ChannelRole,
    pub projects: Vec<proto::ParticipantProject>,
    pub location: ParticipantLocation,
    pub participant_index: ParticipantIndex,
    pub muted: bool,
    pub speaking: bool,
    pub video_tracks: HashMap<TrackSid, RemoteVideoTrack>,
    pub audio_tracks: HashMap<TrackSid, (RemoteAudioTrack, AudioStream)>,
}

## crates/call/src/call_impl/room.rs
- [L29:L29]const RECONNECT_TIMEOUT: Duration = Duration::from_secs(30);
- [L32:L65]enum Event {
    RoomJoined {
        channel_id: Option<ChannelId>,
    },
    ParticipantLocationChanged {
        participant_id: proto::PeerId,
    },
    RemoteVideoTracksChanged {
        participant_id: proto::PeerId,
    },
    RemoteVideoTrackUnsubscribed {
        sid: TrackSid,
    },
    RemoteAudioTracksChanged {
        participant_id: proto::PeerId,
    },
    RemoteProjectShared {
        owner: Arc<User>,
        project_id: u64,
        worktree_root_names: Vec<String>,
    },
    RemoteProjectUnshared {
        project_id: u64,
    },
    RemoteProjectJoined {
        project_id: u64,
    },
    RemoteProjectInvitationDiscarded {
        project_id: u64,
    },
    RoomLeft {
        channel_id: Option<ChannelId>,
    },
}
- [L67:L90]struct Room {
    id: u64,
    channel_id: Option<ChannelId>,
    live_kit: Option<LiveKitRoom>,
    status: RoomStatus,
    shared_projects: HashSet<WeakEntity<Project>>,
    joined_projects: HashSet<WeakEntity<Project>>,
    local_participant: LocalParticipant,
    remote_participants: BTreeMap<u64, RemoteParticipant>,
    pending_participants: Vec<Arc<User>>,
    participant_user_ids: HashSet<u64>,
    pending_call_count: usize,
    leave_when_empty: bool,
    client: Arc<Client>,
    user_store: Entity<UserStore>,
    follows_by_leader_id_project_id: HashMap<(PeerId, u64), Vec<PeerId>>,
    client_subscriptions: Vec<client::Subscription>,
    _subscriptions: Vec<gpui::Subscription>,
    room_update_completed_tx: watch::Sender<Option<()>>,
    room_update_completed_rx: watch::Receiver<Option<()>>,
    pending_room_update: Option<Task<()>>,
    maintain_connection: Option<Task<Option<()>>>,
    created: Instant,
}
- [L1619:L1665]fn spawn_room_connection(
    livekit_connection_info: Option<proto::LiveKitConnectionInfo>,
    cx: &mut Context<Room>,
) 
- [L1667:L1677]struct LiveKitRoom {
    room: Rc<livekit::Room>,
    screen_track: LocalTrack<dyn ScreenCaptureStream>,
    microphone_track: LocalTrack<AudioStream>,
    muted_by_user: bool,
    deafened: bool,
    speaking: bool,
    next_publish_id: usize,
    _handle_updates: Task<()>,
}
- [L1709:L1719]enum LocalTrack<Stream: ?Sized> {
    None,
    Pending {
        publish_id: usize,
    },
    Published {
        track_publication: LocalTrackPublication,
        _stream: Box<Stream>,
    },
}
- [L1722:L1726]enum RoomStatus {
    Online,
    Rejoining,
    Offline,
}

## crates/call/src/call_settings.rs
- [L4:L7]struct CallSettings {
    pub mute_on_join: bool,
    pub share_on_join: bool,
}

## crates/channel/src/channel.rs
- [L14:L17]fn init(client: &Arc<Client>, user_store: Entity<UserStore>, cx: &mut App) 

## crates/channel/src/channel_buffer.rs
- [L15:L15]const ACKNOWLEDGE_DEBOUNCE_INTERVAL: Duration = Duration::from_millis(250);
- [L22:L33]struct ChannelBuffer {
    pub channel_id: ChannelId,
    connected: bool,
    collaborators: HashMap<PeerId, Collaborator>,
    user_store: Entity<UserStore>,
    channel_store: Entity<ChannelStore>,
    buffer: Entity<language::Buffer>,
    buffer_epoch: u64,
    client: Arc<Client>,
    subscription: Option<client::Subscription>,
    acknowledge_task: Option<Task<Result<()>>>,
}
- [L35:L41]enum ChannelBufferEvent {
    CollaboratorsChanged,
    Disconnected,
    Connected,
    BufferEdited,
    ChannelChanged,
}

## crates/channel/src/channel_store.rs
- [L23:L23]const RECONNECT_TIMEOUT: Duration = Duration::from_secs(30);
- [L25:L28]fn init(client: &Arc<Client>, user_store: Entity<UserStore>, cx: &mut App) 
- [L31:L34]struct NotesVersion {
    epoch: u64,
    version: clock::Global,
}
- [L36:L48]struct ChannelStore {
    pub channel_index: ChannelIndex,
    channel_invitations: Vec<Arc<Channel>>,
    channel_participants: HashMap<ChannelId, Vec<Arc<User>>>,
    channel_states: HashMap<ChannelId, ChannelState>,
    outgoing_invites: HashSet<(ChannelId, UserId)>,
    update_channels_tx: mpsc::UnboundedSender<proto::UpdateChannels>,
    opened_buffers: HashMap<ChannelId, OpenEntityHandle<ChannelBuffer>>,
    client: Arc<Client>,
    did_subscribe: bool,
    channels_loaded: (watch::Sender<bool>, watch::Receiver<bool>),
    user_store: Entity<UserStore>,
    _rpc_subscriptions: [Subscription; 2],
- [L55:L61]struct Channel {
    pub id: ChannelId,
    pub name: SharedString,
    pub visibility: proto::ChannelVisibility,
    pub parent_path: Vec<ChannelId>,
    pub channel_order: i32,
}
- [L64:L68]struct ChannelState {
    latest_notes_version: NotesVersion,
    observed_notes_version: NotesVersion,
    role: Option<ChannelRole>,
}
- [L107:L111]struct ChannelMembership {
    pub user: Arc<User>,
    pub kind: proto::channel_member::Kind,
    pub role: proto::ChannelRole,
}
- [L132:L136]struct MembershipSortKey<'a> {
    role_order: u8,
    kind_order: u8,
    username_order: &'a str,
}
- [L138:L141]enum ChannelEvent {
    ChannelCreated(ChannelId),
    ChannelRenamed(ChannelId),
}
- [L145:L148]enum OpenEntityHandle<E> {
    Open(WeakEntity<E>),
    Loading(Shared<Task<Result<Entity<E>, Arc<anyhow::Error>>>>),
}
- [L150:L150]struct GlobalChannelStore(Entity<ChannelStore>);

## crates/channel/src/channel_store/channel_index.rs
- [L8:L11]struct ChannelIndex {
    channels_ordered: Vec<ChannelId>,
    channels_by_id: BTreeMap<ChannelId, Arc<Channel>>,
}
- [L43:L49]struct ChannelPathsInsertGuard<'a> {
    channels_ordered: &'a mut Vec<ChannelId>,
    channels_by_id: &'a mut BTreeMap<ChannelId, Arc<Channel>>,
}
- [L103:L120]fn channel_path_sorting_key(
    id: ChannelId,
    channels_by_id: &BTreeMap<ChannelId, Arc<Channel>>,
) -> impl Iterator<Item = (i32, ChannelId)> 

## crates/channel/src/channel_store_tests.rs
- [L10:L79]fn test_update_channels(cx: &mut App) 
- [L82:L175]fn test_update_channels_order_independent(cx: &mut App) 
- [L178:L234]fn test_dangling_channel_paths(cx: &mut App) 
- [L236:L250]fn init_test(cx: &mut App) -> Entity<ChannelStore> 
- [L252:L259]fn update_channels(
    channel_store: &Entity<ChannelStore>,
    message: proto::UpdateChannels,
    cx: &mut App,
) 
- [L262:L274]fn assert_channels(
    channel_store: &Entity<ChannelStore>,
    expected_channels: &[(usize, String)],
    cx: &mut App,
) 

## crates/cli/build.rs
- [L4:L29]fn main() 

## crates/cli/src/cli.rs
- [L6:L9]struct IpcHandshake {
    pub requests: ipc::IpcSender<CliRequest>,
    pub responses: ipc::IpcReceiver<CliResponse>,
}
- [L12:L16]enum CliRequest {
    Open {
        paths: Vec<String>,
        urls: Vec<String>,
        diff_paths: Vec<[String; 2]>,
- [L27:L32]enum CliResponse {
    Ping,
    Stdout { message: String },
    Stderr { message: String },
    Exit { status: i32 },
}
- [L36:L36]const FORCE_CLI_MODE_ENV_VAR_NAME: &str = "ZED_FORCE_CLI_MODE";

## crates/cli/src/main.rs
- [L31:L31]struct Detect;
- [L62:L134]struct Args {
    wait: bool,
    add: bool,
    new: bool,
    reuse: bool,
        not(any(target_os = "windows", target_os = "macos")),
        doc = "`$XDG_DATA_HOME/zed`."
    )]
    user_data_dir: Option<String>,
    paths_with_position: Vec<String>,
    version: bool,
    foreground: bool,
    zed: Option<PathBuf>,
    dev_server_token: Option<String>,
    wsl: Option<String>,
    system_specs: bool,
    diff: Vec<String>,
        any(target_os = "linux", target_os = "macos"),
        not(feature = "no-bundled-uninstall")
    ))]
    uninstall: bool,
    askpass: Option<String>,
}
- [L136:L181]fn parse_path_with_position(argument_str: &str) -> anyhow::Result<String> 
- [L305:L348]fn parse_path_in_wsl(source: &str, wsl: &str) -> Result<String> 
- [L350:L607]fn main() -> Result<()> 
- [L609:L649]fn anonymous_fd(path: &str) -> Option<fs::File> 

## crates/client/src/client.rs
- [L2:L2]mod test;
- [L5:L5]mod telemetry;
- [L6:L6]mod user;
- [L7:L7]mod zed_urls;
- [L58:L58]static ZED_SERVER_URL: LazyLock<Option<String>> =
- [L60:L60]static ZED_RPC_URL: LazyLock<Option<String>> = LazyLock::new(|| std::env::var("ZED_RPC_URL").ok());
- [L62:L62]static IMPERSONATE_LOGIN: LazyLock<Option<String>> = LazyLock::new(|| {
- [L68:L68]static USE_WEB_LOGIN: LazyLock<bool> = LazyLock::new(|| std::env::var("ZED_WEB_LOGIN").is_ok());
- [L70:L70]static ADMIN_API_TOKEN: LazyLock<Option<String>> = LazyLock::new(|| {
- [L76:L76]static ZED_APP_PATH: LazyLock<Option<PathBuf>> =
- [L79:L79]static ZED_ALWAYS_ACTIVE: LazyLock<bool> =
- [L82:L82]const INITIAL_RECONNECTION_DELAY: Duration = Duration::from_millis(500);
- [L83:L83]const MAX_RECONNECTION_DELAY: Duration = Duration::from_secs(30);
- [L84:L84]const CONNECTION_TIMEOUT: Duration = Duration::from_secs(20);
- [L99:L101]struct ClientSettings {
    pub server_url: String,
}
- [L117:L119]struct ProxySettings {
    pub proxy: Option<String>,
}
- [L143:L176]fn init(client: &Arc<Client>, cx: &mut App) 
- [L178:L178]type MessageToClientHandler = Box<dyn Fn(&MessageToClient, &mut App) + Send + Sync + 'static>;
- [L180:L180]struct GlobalClient(Arc<Client>);
- [L184:L218]struct Client {
    id: AtomicU64,
    peer: Arc<Peer>,
    http: Arc<HttpClientWithUrl>,
    cloud_client: Arc<CloudApiClient>,
    telemetry: Arc<Telemetry>,
    credentials_provider: ClientCredentialsProvider,
    state: RwLock<ClientState>,
    handler_set: parking_lot::Mutex<ProtoMessageHandlerSet>,
    message_to_client_handlers: parking_lot::Mutex<Vec<MessageToClientHandler>>,
    authenticate:
        RwLock<Option<Box<dyn 'static + Send + Sync + Fn(&AsyncApp) -> Task<Result<Credentials>>>>>,
    establish_connection: RwLock<
        Option<
            Box<
                dyn 'static
                    + Send
                    + Sync
                    + Fn(
                        &Credentials,
                        &AsyncApp,
                    ) -> Task<Result<Connection, EstablishConnectionError>>,
            >,
        >,
    >,
    rpc_url: RwLock<Option<Url>>,
}
- [L221:L234]enum EstablishConnectionError {
    UpgradeRequired,
    Unauthorized,
}
- [L256:L275]enum Status {
    SignedOut,
    UpgradeRequired,
    Authenticating,
    Authenticated,
    AuthenticationError,
    Connecting,
    ConnectionError,
    Connected {
        peer_id: PeerId,
        connection_id: ConnectionId,
    },
    ConnectionLost,
    Reauthenticating,
    Reauthenticated,
    Reconnecting,
    ReconnectionError {
        next_reconnection: Instant,
    },
}
- [L309:L313]struct ClientState {
    credentials: Option<Credentials>,
    status: (watch::Sender<Status>, watch::Receiver<Status>),
    _reconnect_task: Option<Task<()>>,
}
- [L316:L319]struct Credentials {
    pub user_id: u64,
    pub access_token: String,
}
- [L327:L329]struct ClientCredentialsProvider {
    provider: Arc<dyn CredentialsProvider>,
}
- [L412:L421]enum Subscription {
    Entity {
        client: Weak<Client>,
        id: (TypeId, u64),
    },
    Message {
        client: Weak<Client>,
        id: TypeId,
    },
}
- [L443:L448]struct PendingEntitySubscription<T: 'static> {
    client: Arc<Client>,
    remote_id: u64,
    _entity_type: PhantomData<T>,
    consumed: bool,
}
- [L504:L507]struct TelemetrySettings {
    pub diagnostics: bool,
    pub metrics: bool,
}
- [L1731:L1731]const ZED_URL_SCHEME: &str = "zed";
- [L1730:L1743]enum ZedLink {
    Channel { channel_id: u64 },
    ChannelNotes {
        channel_id: u64,
        heading: Option<String>,
    },
}
- [L1745:L1779]fn parse_zed_link(link: &str, cx: &App) -> Option<ZedLink> 

## crates/client/src/proxy.rs
- [L37:L40]enum ProxyType<'t> {
    SocksProxy(SocksVersion<'t>),
    HttpProxy(HttpProxyType<'t>),
}
- [L42:L57]fn parse_proxy_type(proxy: &Url) -> Option<((String, u16), ProxyType<'_>)> 

## crates/client/src/proxy/http_proxy.rs
- [L100:L113]fn make_request(target: (&str, u16), auth: Option<HttpProxyAuthorization<'_>>) -> String 

## crates/client/src/proxy/socks_proxy.rs

## crates/client/src/telemetry.rs
- [L27:L32]struct Telemetry {
    clock: Arc<dyn SystemClock>,
    http_client: Arc<HttpClientWithUrl>,
    executor: BackgroundExecutor,
    state: Arc<Mutex<TelemetryState>>,
}
- [L34:L54]struct TelemetryState {
    settings: TelemetrySettings,
    system_id: Option<Arc<str>>,
    installation_id: Option<Arc<str>>,
    session_id: Option<String>,
    metrics_id: Option<Arc<str>>,
    release_channel: Option<&'static str>,
    architecture: &'static str,
    events_queue: Vec<EventWrapper>,
    flush_events_task: Option<Task<()>>,
    log_file: Option<File>,
    is_staff: Option<bool>,
    first_event_date_time: Option<Instant>,
    event_coalescer: EventCoalescer,
    max_queue_size: usize,
    worktrees_with_project_type_events_sent: HashSet<WorktreeId>,
    os_name: String,
    app_version: String,
    os_version: Option<String>,
}
- [L67:L67]static ZED_CLIENT_CHECKSUM_SEED: LazyLock<Option<Vec<u8>>> = LazyLock::new(|| {
- [L77:L77]static MINIDUMP_ENDPOINT: LazyLock<Option<String>> = LazyLock::new(|| {
- [L83:L83]static DOTNET_PROJECT_FILES_REGEX: LazyLock<Regex> = LazyLock::new(|| {
- [L88:L88]static MACOS_VERSION_REGEX: LazyLock<Regex> =
- [L91:L109]fn os_name() -> String 
- [L111:L171]fn os_version() -> String 
- [L583:L599]fn calculate_json_checksum(json: &impl AsRef<[u8]>) -> Option<String> 

## crates/client/src/telemetry/event_coalescer.rs
- [L10:L14]struct PeriodData {
    environment: &'static str,
    start: Instant,
    end: Option<Instant>,
}
- [L16:L19]struct EventCoalescer {
    clock: Arc<dyn SystemClock>,
    state: Option<PeriodData>,
}

## crates/client/src/test.rs
- [L12:L17]struct FakeServer {
    peer: Arc<Peer>,
    state: Arc<Mutex<FakeServerState>>,
    user_id: u64,
    executor: BackgroundExecutor,
}
- [L20:L26]struct FakeServerState {
    incoming: Option<BoxStream<'static, Box<dyn proto::AnyTypedEnvelope>>>,
    connection_id: Option<ConnectionId>,
    forbid_connections: bool,
    auth_count: usize,
    access_token: usize,
}
- [L241:L254]fn parse_authorization_header(req: &Request<AsyncBody>) -> Option<Credentials> 
- [L256:L291]fn make_get_authenticated_user_response(
    user_id: i32,
    github_login: String,
) -> GetAuthenticatedUserResponse 

## crates/client/src/user.rs
- [L28:L28]type UserId = u64;
- [L33:L33]struct ChannelId(pub u64);
- [L42:L42]struct ProjectId(pub u64);
- [L51:L51]struct ParticipantIndex(pub u32);
- [L54:L59]struct User {
    pub id: UserId,
    pub github_login: SharedString,
    pub avatar_uri: SharedUri,
    pub name: Option<String>,
}
- [L62:L69]struct Collaborator {
    pub peer_id: proto::PeerId,
    pub replica_id: ReplicaId,
    pub user_id: UserId,
    pub is_host: bool,
    pub committer_name: Option<String>,
    pub committer_email: Option<String>,
}
- [L92:L96]struct Contact {
    pub user: Arc<User>,
    pub online: bool,
    pub busy: bool,
}
- [L99:L104]enum ContactRequestStatus {
    None,
    RequestSent,
    RequestReceived,
    RequestAccepted,
}
- [L106:L124]struct UserStore {
    users: HashMap<u64, Arc<User>>,
    by_github_login: HashMap<SharedString, u64>,
    participant_indices: HashMap<u64, ParticipantIndex>,
    update_contacts_tx: mpsc::UnboundedSender<UpdateContacts>,
    model_request_usage: Option<ModelRequestUsage>,
    edit_prediction_usage: Option<EditPredictionUsage>,
    plan_info: Option<PlanInfo>,
    current_user: watch::Receiver<Option<Arc<User>>>,
    contacts: Vec<Arc<Contact>>,
    incoming_contact_requests: Vec<Arc<User>>,
    outgoing_contact_requests: Vec<Arc<User>>,
    pending_contact_requests: HashMap<u64, usize>,
    invite_info: Option<InviteInfo>,
    client: Weak<Client>,
    _maintain_contacts: Task<()>,
    _maintain_current_user: Task<Result<()>>,
    weak_self: WeakEntity<Self>,
}
- [L127:L130]struct InviteInfo {
    pub count: u32,
    pub url: Arc<str>,
}
- [L132:L141]enum Event {
    Contact {
        user: Arc<User>,
        kind: ContactEventKind,
    },
    ShowContacts,
    ParticipantIndicesChanged,
    PrivateUserInfoUpdated,
    PlanUpdated,
}
- [L144:L148]enum ContactEventKind {
    Requested,
    Accepted,
    Cancelled,
}
- [L152:L156]enum UpdateContacts {
    Update(proto::UpdateContacts),
    Wait(postage::barrier::Sender),
    Clear(postage::barrier::Sender),
}
- [L159:L159]struct ModelRequestUsage(pub RequestUsage);
- [L162:L162]struct EditPredictionUsage(pub RequestUsage);
- [L165:L168]struct RequestUsage {
    pub limit: UsageLimit,
    pub amount: i32,
}

## crates/client/src/zed_urls.rs
- [L12:L14]fn server_url(cx: &App) -> &str 
- [L16:L19]fn account_url(cx: &App) -> String 
- [L21:L27]fn start_trial_url(cx: &App) -> String 
- [L29:L32]fn upgrade_to_zed_pro_url(cx: &App) -> String 
- [L34:L37]fn terms_of_service(cx: &App) -> String 
- [L39:L45]fn ai_privacy_and_security(cx: &App) -> String 
- [L47:L53]fn external_agents_docs(cx: &App) -> String 
- [L55:L61]fn agent_server_docs(cx: &App) -> String 
- [L63:L69]fn edit_prediction_docs(cx: &App) -> String 

## crates/clock/src/clock.rs
- [L12:L14]struct ReplicaId(u16);
- [L58:L58]type Seq = u32;
- [L57:L66]struct Lamport {
    pub replica_id: ReplicaId,
    pub value: Seq,
}
- [L68:L73]struct Global {
    values: SmallVec<[u32; 4]>,

## crates/clock/src/system_clock.rs
- [L3:L3]trait SystemClock: Send + Sync {
- [L8:L8]struct RealSystemClock;
- [L17:L19]struct FakeSystemClockState {
    now: Instant,
}
- [L22:L25]struct FakeSystemClock {
    state: parking_lot::Mutex<FakeSystemClockState>,
}

## crates/cloud_api_client/src/cloud_api_client.rs
- [L18:L21]struct Credentials {
    user_id: u32,
    access_token: String,
}
- [L23:L26]struct CloudApiClient {
    credentials: RwLock<Option<Credentials>>,
    http_client: Arc<HttpClientWithUrl>,
}
- [L186:L198]fn build_request(
    req: request::Builder,
    body: impl Into<AsyncBody>,
    credentials: &Credentials,
) -> Result<Request<AsyncBody>> 

## crates/cloud_api_client/src/websocket.rs
- [L15:L15]type MessageStream = Pin<Box<dyn Stream<Item = Result<MessageToClient>>>>;
- [L17:L20]struct Connection {
    tx: SplitSink<WebSocket, FrameView>,
    rx: SplitStream<WebSocket>,
}

## crates/cloud_api_types/src/cloud_api_types.rs
- [L2:L2]mod websocket_protocol;
- [L9:L9]const ZED_SYSTEM_ID_HEADER_NAME: &str = "x-zed-system-id";
- [L12:L16]struct GetAuthenticatedUserResponse {
    pub user: AuthenticatedUser,
    pub feature_flags: Vec<String>,
    pub plan: PlanInfo,
}
- [L19:L27]struct AuthenticatedUser {
    pub id: i32,
    pub metrics_id: String,
    pub avatar_url: String,
    pub github_login: String,
    pub name: Option<String>,
    pub is_staff: bool,
    pub accepted_tos_at: Option<Timestamp>,
}
- [L30:L40]struct PlanInfo {
    pub plan: cloud_llm_client::PlanV1,
    pub plan_v2: Option<cloud_llm_client::PlanV2>,
    pub subscription_period: Option<SubscriptionPeriod>,
    pub usage: cloud_llm_client::CurrentUsage,
    pub trial_started_at: Option<Timestamp>,
    pub is_usage_based_billing_enabled: bool,
    pub is_account_too_young: bool,
    pub has_overdue_invoices: bool,
}
- [L49:L52]struct SubscriptionPeriod {
    pub started_at: Timestamp,
    pub ended_at: Timestamp,
}
- [L55:L57]struct AcceptTermsOfServiceResponse {
    pub user: AuthenticatedUser,
}
- [L60:L60]struct LlmToken(pub String);
- [L63:L65]struct CreateLlmTokenResponse {
    pub token: LlmToken,
}

## crates/cloud_api_types/src/timestamp.rs
- [L4:L6]struct Timestamp(pub DateTime<Utc>);

## crates/cloud_api_types/src/websocket_protocol.rs
- [L5:L5]const PROTOCOL_VERSION: u32 = 0;
- [L8:L8]const PROTOCOL_VERSION_HEADER_NAME: &str = "x-zed-protocol-version";
- [L4:L15]enum MessageToClient {
    UserUpdated,
}

## crates/cloud_llm_client/src/cloud_llm_client.rs
- [L1:L1]mod predict_edits_v3;
- [L12:L12]const ZED_VERSION_HEADER_NAME: &str = "x-zed-version";
- [L18:L18]const EXPIRED_LLM_TOKEN_HEADER_NAME: &str = "x-zed-expired-token";
- [L21:L21]const CURRENT_PLAN_HEADER_NAME: &str = "x-zed-plan";
- [L24:L24]const MODEL_REQUESTS_USAGE_LIMIT_HEADER_NAME: &str = "x-zed-model-requests-usage-limit";
- [L27:L27]const MODEL_REQUESTS_USAGE_AMOUNT_HEADER_NAME: &str = "x-zed-model-requests-usage-amount";
- [L30:L30]const EDIT_PREDICTIONS_USAGE_LIMIT_HEADER_NAME: &str = "x-zed-edit-predictions-usage-limit";
- [L33:L33]const EDIT_PREDICTIONS_USAGE_AMOUNT_HEADER_NAME: &str = "x-zed-edit-predictions-usage-amount";
- [L36:L36]const SUBSCRIPTION_LIMIT_RESOURCE_HEADER_NAME: &str = "x-zed-subscription-limit-resource";
- [L38:L38]const MODEL_REQUESTS_RESOURCE_HEADER_VALUE: &str = "model_requests";
- [L39:L39]const EDIT_PREDICTIONS_RESOURCE_HEADER_VALUE: &str = "edit_predictions";
- [L42:L42]const TOOL_USE_LIMIT_REACHED_HEADER_NAME: &str = "x-zed-tool-use-limit-reached";
- [L48:L48]const MINIMUM_REQUIRED_VERSION_HEADER_NAME: &str = "x-zed-minimum-required-version";
- [L51:L51]const CLIENT_SUPPORTS_STATUS_MESSAGES_HEADER_NAME: &str =
- [L55:L55]const SERVER_SUPPORTS_STATUS_MESSAGES_HEADER_NAME: &str =
- [L59:L59]const CLIENT_SUPPORTS_X_AI_HEADER_NAME: &str = "x-zed-client-supports-x-ai";
- [L62:L62]const MAX_EDIT_PREDICTION_REJECTIONS_PER_REQUEST: usize = 100;
- [L58:L69]enum UsageLimit {
    Limited(i32),
    Unlimited,
}
- [L86:L89]enum Plan {
    V1(PlanV1),
    V2(PlanV2),
}
- [L99:L107]enum PlanV1 {
    ZedFree,
    ZedPro,
    ZedProTrial,
}
- [L124:L129]enum PlanV2 {
    ZedFree,
    ZedPro,
    ZedProTrial,
}
- [L149:L154]enum LanguageModelProvider {
    Anthropic,
    OpenAi,
    Google,
    XAi,
}
- [L157:L175]struct PredictEditsBody {
    pub outline: Option<String>,
    pub input_events: String,
    pub input_excerpt: String,
    pub speculated_output: Option<String>,
    pub can_collect_data: bool,
    pub diagnostic_groups: Option<Vec<(String, serde_json::Value)>>,
    pub git_info: Option<PredictEditsGitInfo>,
    pub trigger: PredictEditsRequestTrigger,
}
- [L178:L183]enum PredictEditsRequestTrigger {
    Diagnostics,
    Cli,
    Other,
}
- [L186:L196]struct PredictEditsGitInfo {
    pub head_sha: Option<String>,
    pub remote_origin_url: Option<String>,
    pub remote_upstream_url: Option<String>,
}
- [L199:L202]struct PredictEditsResponse {
    pub request_id: String,
    pub output_excerpt: String,
}
- [L205:L207]struct AcceptEditPredictionBody {
    pub request_id: String,
}
- [L210:L212]struct RejectEditPredictionsBody {
    pub rejections: Vec<EditPredictionRejection>,
}
- [L215:L217]struct RejectEditPredictionsBodyRef<'a> {
    pub rejections: &'a [EditPredictionRejection],
}
- [L220:L225]struct EditPredictionRejection {
    pub request_id: String,
    pub reason: EditPredictionRejectReason,
    pub was_shown: bool,
}
- [L228:L242]enum EditPredictionRejectReason {
    Canceled,
    Empty,
    InterpolatedEmpty,
    Replaced,
    CurrentPreferred,
    Discarded,
}
- [L246:L249]enum CompletionMode {
    Normal,
    Max,
}
- [L253:L263]enum CompletionIntent {
    UserPrompt,
    ToolResults,
    ThreadSummarization,
    ThreadContextSummarization,
    CreateFile,
    EditFile,
    InlineAssist,
    TerminalInlineAssist,
    GenerateGitCommitMessage,
}
- [L266:L278]struct CompletionBody {
    pub thread_id: Option<String>,
    pub prompt_id: Option<String>,
    pub intent: Option<CompletionIntent>,
    pub mode: Option<CompletionMode>,
    pub provider: LanguageModelProvider,
    pub model: String,
    pub provider_request: serde_json::Value,
}
- [L282:L299]enum CompletionRequestStatus {
    Queued {
        position: usize,
    },
    Started,
    Failed {
        code: String,
        message: String,
        request_id: Uuid,
        retry_after: Option<f64>,
    },
    UsageUpdated {
        amount: usize,
        limit: UsageLimit,
    },
    ToolUseLimitReached,
}
- [L303:L306]enum CompletionEvent<T> {
    Status(CompletionRequestStatus),
    Event(T),
}
- [L325:L327]struct WebSearchBody {
    pub query: String,
}
- [L330:L332]struct WebSearchResponse {
    pub results: Vec<WebSearchResult>,
}
- [L335:L339]struct WebSearchResult {
    pub title: String,
    pub url: String,
    pub text: String,
}
- [L342:L346]struct CountTokensBody {
    pub provider: LanguageModelProvider,
    pub model: String,
    pub provider_request: serde_json::Value,
}
- [L349:L351]struct CountTokensResponse {
    pub tokens: usize,
}
- [L354:L354]struct LanguageModelId(pub Arc<str>);
- [L363:L379]struct LanguageModel {
    pub provider: LanguageModelProvider,
    pub id: LanguageModelId,
    pub display_name: String,
    pub max_token_count: usize,
    pub max_token_count_in_max_mode: Option<usize>,
    pub max_output_tokens: usize,
    pub supports_tools: bool,
    pub supports_images: bool,
    pub supports_thinking: bool,
    pub supports_max_mode: bool,
    pub supports_streaming_tools: bool,
    pub supports_parallel_tool_calls: bool,
}
- [L382:L387]struct ListModelsResponse {
    pub models: Vec<LanguageModel>,
    pub default_model: Option<LanguageModelId>,
    pub default_fast_model: Option<LanguageModelId>,
    pub recommended_models: Vec<LanguageModelId>,
}
- [L390:L393]struct GetSubscriptionResponse {
    pub plan: PlanV1,
    pub usage: Option<CurrentUsage>,
}
- [L396:L399]struct CurrentUsage {
    pub model_requests: UsageData,
    pub edit_predictions: UsageData,
}
- [L402:L405]struct UsageData {
    pub used: u32,
    pub limit: UsageLimit,
}

## crates/cloud_llm_client/src/predict_edits_v3.rs
- [L15:L21]struct PlanContextRetrievalRequest {
    pub excerpt: String,
    pub excerpt_path: Arc<Path>,
    pub excerpt_line_range: Range<Line>,
    pub cursor_file_max_row: Line,
    pub events: Vec<Arc<Event>>,
}
- [L24:L50]struct PredictEditsRequest {
    pub excerpt: String,
    pub excerpt_path: Arc<Path>,
    pub excerpt_range: Range<usize>,
    pub excerpt_line_range: Range<Line>,
    pub cursor_point: Point,
    pub excerpt_parent: Option<usize>,
    pub related_files: Vec<RelatedFile>,
    pub events: Vec<Arc<Event>>,
    pub can_collect_data: bool,
    pub git_info: Option<PredictEditsGitInfo>,
    pub debug_info: bool,
    pub prompt_max_bytes: Option<usize>,
    pub prompt_format: PromptFormat,
    pub trigger: PredictEditsRequestTrigger,
}
- [L53:L57]struct RelatedFile {
    pub path: Arc<Path>,
    pub max_row: Line,
    pub excerpts: Vec<Excerpt>,
}
- [L60:L63]struct Excerpt {
    pub start_line: Line,
    pub text: Arc<str>,
}
- [L66:L77]enum PromptFormat {
    OldTextNewText,
    OnlySnippets,
    Minimal,
    MinimalQwen,
    SeedCoder1120,
}
- [L110:L118]enum Event {
    BufferChange {
        path: Arc<Path>,
        old_path: Arc<Path>,
        diff: String,
        predicted: bool,
        in_open_source_repo: bool,
    },
}
- [L150:L151]struct DiffPathFmt<'a>(pub &'a Path);
- [L169:L173]struct PredictEditsResponse {
    pub request_id: Uuid,
    pub edits: Vec<Edit>,
    pub debug_info: Option<DebugInfo>,
}
- [L176:L182]struct DebugInfo {
    pub prompt: String,
    pub prompt_planning_time: Duration,
    pub model_response: String,
    pub inference_time: Duration,
    pub parsing_time: Duration,
}
- [L185:L189]struct Edit {
    pub path: Arc<Path>,
    pub range: Range<Line>,
    pub content: String,
}
- [L192:L195]struct Point {
    pub line: Line,
    pub column: u32,
}
- [L199:L199]struct Line(pub u32);

## crates/codestral/src/codestral.rs
- [L20:L20]const DEBOUNCE_TIMEOUT: Duration = Duration::from_millis(150);
- [L28:L40]struct CurrentCompletion {
    snapshot: BufferSnapshot,
    edits: Arc<[(Range<Anchor>, Arc<str>)]>,
    edit_preview: EditPreview,
}
- [L50:L54]struct CodestralEditPredictionDelegate {
    http_client: Arc<dyn HttpClient>,
    pending_request: Option<Task<Result<()>>>,
    current_completion: Option<CurrentCompletion>,
}
- [L337:L356]struct CodestralRequest {
    pub model: String,
    pub prompt: String,
    pub suffix: Option<String>,
    pub max_tokens: Option<u32>,
    pub temperature: Option<f32>,
    pub top_p: Option<f32>,
    pub stream: Option<bool>,
    pub stop: Option<Vec<String>>,
    pub random_seed: Option<u32>,
    pub min_tokens: Option<u32>,
}
- [L359:L366]struct CodestralResponse {
    pub id: String,
    pub object: String,
    pub model: String,
    pub usage: Usage,
    pub created: u64,
    pub choices: Vec<Choice>,
}
- [L369:L373]struct Usage {
    pub prompt_tokens: u32,
    pub completion_tokens: u32,
    pub total_tokens: u32,
}
- [L376:L380]struct Choice {
    pub index: u32,
    pub message: Message,
    pub finish_reason: String,
}
- [L383:L386]struct Message {
    pub content: String,
    pub role: String,
}

## crates/collab/src/api.rs
- [L1:L1]mod contributors;
- [L2:L2]mod events;
- [L3:L3]mod extensions;
- [L24:L24]struct CloudflareIpCountryHeader(String);
- [L57:L57]struct SystemIdHeader(String);
- [L90:L100]fn routes(rpc_server: Arc<rpc::Server>) -> Router<(), Body> 
- [L102:L102]async fn validate_api_token<B>(req: Request<B>, next: Next<B>) -> impl IntoResponse {
- [L140:L143]struct CreateAccessTokenQueryParams {
    public_key: String,
    impersonate: Option<String>,
}
- [L146:L149]struct CreateAccessTokenResponse {
    user_id: UserId,
    encrypted_access_token: String,
}

## crates/collab/src/api/contributors.rs
- [L14:L18]fn router() -> Router 
- [L25:L28]struct CheckIsContributorParams {
    github_user_id: Option<i32>,
    github_login: Option<String>,
}
- [L47:L49]struct CheckIsContributorResponse {
    signed_at: Option<String>,
}
- [L106:L109]struct CopilotSweAgentBot;
- [L141:L144]struct Dependabot;
- [L171:L174]struct RenovateBot;
- [L201:L204]struct ZedZippyBot;
- [L232:L238]struct AddContributorBody {
    github_user_id: i32,
    github_login: String,
    github_email: Option<String>,
    github_name: Option<String>,
    github_user_created_at: chrono::DateTime<chrono::Utc>,
}

## crates/collab/src/api/events.rs
- [L20:L26]fn router() -> Router 
- [L28:L28]struct ZedChecksumHeader(Vec<u8>);
- [L56:L56]async fn post_panic() -> Result<()> {
- [L62:L62]async fn post_events(
- [L121:L129]fn calculate_json_checksum(app: Arc<AppState>, json: &impl AsRef<[u8]>) -> Option<Vec<u8>> 
- [L131:L182]fn for_snowflake(
    body: EventRequestBody,
    first_event_at: chrono::DateTime<chrono::Utc>,
    country_code: Option<String>,
    checksum_matched: bool,
) -> impl Iterator<Item = SnowflakeRow> 
- [L185:L193]struct SnowflakeRow {
    pub time: chrono::DateTime<chrono::Utc>,
    pub user_id: Option<String>,
    pub device_id: Option<String>,
    pub event_type: String,
    pub event_properties: serde_json::Value,
    pub user_properties: Option<serde_json::Value>,
    pub insert_id: Option<String>,
}

## crates/collab/src/api/extensions.rs
- [L21:L34]fn router() -> Router 
- [L37:L49]struct GetExtensionsParams {
    filter: Option<String>,
    provides: Option<String>,
    max_schema_version: i32,
}
- [L107:L113]struct GetExtensionUpdatesParams {
    ids: String,
    min_schema_version: i32,
    max_schema_version: i32,
    min_wasm_api_version: semver::Version,
    max_wasm_api_version: semver::Version,
}
- [L135:L137]struct GetExtensionVersionsParams {
    extension_id: String,
}
- [L151:L153]struct DownloadLatestExtensionPathParams {
    extension_id: String,
}
- [L156:L161]struct DownloadLatestExtensionQueryParams {
    min_schema_version: Option<i32>,
    max_schema_version: Option<i32>,
    min_wasm_api_version: Option<SemanticVersion>,
    max_wasm_api_version: Option<SemanticVersion>,
}
- [L196:L199]struct DownloadExtensionParams {
    extension_id: String,
    version: String,
}
- [L249:L275]fn fetch_extensions_from_blob_store_periodically(app_state: Arc<AppState>) 

## crates/collab/src/auth.rs
- [L30:L30]async fn validate_header<B>(mut req: Request<B>, next: Next<B>) -> impl IntoResponse {
- [L114:L118]struct AccessTokenJson {
    version: usize,
    id: AccessTokenId,
    token: String,
}
- [L122:L122]async fn create_access_token(
- [L145:L151]fn hash_access_token(token: &str) -> String 
- [L153:L167]fn encrypt_access_token(access_token: &str, public_key: String) -> Result<String> 
- [L169:L172]struct VerifyAccessTokenResult {
    pub is_valid: bool,
    pub impersonator_id: Option<UserId>,
}
- [L175:L175]async fn verify_access_token(

## crates/collab/src/bin/dotenv.rs
- [L3:L12]fn main() -> anyhow::Result<()> 

## crates/collab/src/completion.rs

## crates/collab/src/db.rs
- [L5:L5]mod tests;
- [L50:L54]struct DatabaseTestOptions {
    pub executor: gpui::BackgroundExecutor,
    pub runtime: tokio::runtime::Runtime,
    pub query_failure_probability: parking_lot::Mutex<f64>,
}
- [L56:L67]struct Database {
    options: ConnectOptions,
    pool: DatabaseConnection,
    rooms: DashMap<RoomId, Arc<Mutex<()>>>,
    projects: DashMap<ProjectId, Arc<Mutex<()>>>,
    notification_kinds_by_id: HashMap<NotificationKindId, &'static str>,
    notification_kinds_by_name: HashMap<String, NotificationKindId>,
    test_options: Option<DatabaseTestOptions>,
}
- [L273:L274]struct TransactionHandle(pub(crate) Arc<Option<DatabaseTransaction>>);
- [L284:L291]struct TransactionGuard<T> {
    data: T,
    _guard: OwnedMutexGuard<()>,
    _not_send: PhantomData<Rc<()>>,
}
- [L315:L319]enum Contact {
    Accepted { user_id: UserId, busy: bool },
    Outgoing { user_id: UserId },
    Incoming { user_id: UserId },
}
- [L331:L331]type NotificationBatch = Vec<(UserId, proto::Notification)>;
- [L333:L337]struct CreatedChannelMessage {
    pub message_id: MessageId,
    pub participant_connection_ids: HashSet<ConnectionId>,
    pub notifications: NotificationBatch,
}
- [L339:L347]struct UpdatedChannelMessage {
    pub message_id: MessageId,
    pub participant_connection_ids: Vec<ConnectionId>,
    pub notifications: NotificationBatch,
    pub reply_to_message_id: Option<MessageId>,
    pub timestamp: PrimitiveDateTime,
    pub deleted_mention_notification_ids: Vec<NotificationId>,
    pub updated_mention_notifications: Vec<rpc::proto::Notification>,
}
- [L350:L353]struct Invite {
    pub email_address: String,
    pub email_confirmation_code: String,
}
- [L356:L366]struct NewSignup {
    pub email_address: String,
    pub platform_mac: bool,
    pub platform_windows: bool,
    pub platform_linux: bool,
    pub editor_features: Vec<String>,
    pub programming_languages: Vec<String>,
    pub device_id: Option<String>,
    pub added_to_mailing_list: bool,
    pub created_at: Option<DateTime>,
}
- [L369:L375]struct WaitlistSummary {
    pub count: i64,
    pub linux_count: i64,
    pub mac_count: i64,
    pub windows_count: i64,
    pub unknown_count: i64,
}
- [L377:L382]struct NewUserParams {
    pub github_login: String,
    pub github_user_id: i32,
}
- [L384:L391]struct NewUserResult {
    pub user_id: UserId,
    pub metrics_id: String,
    pub inviting_user_id: Option<UserId>,
    pub signup_device_id: Option<String>,
}
- [L393:L399]struct MembershipUpdated {
    pub channel_id: ChannelId,
    pub new_channels: ChannelsForUser,
    pub removed_channels: Vec<ChannelId>,
}
- [L401:L407]enum SetMemberRoleResult {
    InviteUpdated(Channel),
    MembershipUpdated(MembershipUpdated),
}
- [L409:L414]struct InviteMemberResult {
    pub channel: Channel,
    pub notifications: NotificationBatch,
}
- [L417:L420]struct RespondToChannelInvite {
    pub membership_update: Option<MembershipUpdated>,
    pub notifications: NotificationBatch,
}
- [L423:L426]struct RemoveChannelMemberResult {
    pub membership_update: MembershipUpdated,
    pub notification_id: Option<NotificationId>,
}
- [L429:L436]struct Channel {
    pub id: ChannelId,
    pub name: String,
    pub visibility: ChannelVisibility,
    pub parent_path: Vec<ChannelId>,
    pub channel_order: i32,
}
- [L465:L469]struct ChannelMember {
    pub role: ChannelRole,
    pub user_id: UserId,
    pub kind: proto::channel_member::Kind,
}
- [L482:L490]struct ChannelsForUser {
    pub channels: Vec<Channel>,
    pub channel_memberships: Vec<channel_member::Model>,
    pub channel_participants: HashMap<ChannelId, Vec<UserId>>,
    pub invited_channels: Vec<Channel>,
    pub observed_buffer_versions: Vec<proto::ChannelBufferVersion>,
    pub latest_buffer_versions: Vec<proto::ChannelBufferVersion>,
}
- [L493:L496]struct RejoinedChannelBuffer {
    pub buffer: proto::RejoinedChannelBuffer,
    pub old_connection_id: ConnectionId,
}
- [L499:L502]struct JoinRoom {
    pub room: proto::Room,
    pub channel: Option<channel::Model>,
}
- [L504:L509]struct RejoinedRoom {
    pub room: proto::Room,
    pub rejoined_projects: Vec<RejoinedProject>,
    pub reshared_projects: Vec<ResharedProject>,
    pub channel: Option<channel::Model>,
}
- [L511:L516]struct ResharedProject {
    pub id: ProjectId,
    pub old_connection_id: ConnectionId,
    pub collaborators: Vec<ProjectCollaborator>,
    pub worktrees: Vec<proto::WorktreeMetadata>,
}
- [L518:L526]struct RejoinedProject {
    pub id: ProjectId,
    pub old_connection_id: ConnectionId,
    pub collaborators: Vec<ProjectCollaborator>,
    pub worktrees: Vec<RejoinedWorktree>,
    pub updated_repositories: Vec<proto::UpdateRepository>,
    pub removed_repositories: Vec<u64>,
    pub language_servers: Vec<LanguageServer>,
}
- [L560:L573]struct RejoinedWorktree {
    pub id: u64,
    pub abs_path: String,
    pub root_name: String,
    pub visible: bool,
    pub updated_entries: Vec<proto::Entry>,
    pub removed_entries: Vec<u64>,
    pub updated_repositories: Vec<proto::RepositoryEntry>,
    pub removed_repositories: Vec<u64>,
    pub diagnostic_summaries: Vec<proto::DiagnosticSummary>,
    pub settings_files: Vec<WorktreeSettingsFile>,
    pub scan_id: u64,
    pub completed_scan_id: u64,
}
- [L575:L581]struct LeftRoom {
    pub room: proto::Room,
    pub channel: Option<channel::Model>,
    pub left_projects: HashMap<ProjectId, LeftProject>,
    pub canceled_calls_to_user_ids: Vec<UserId>,
    pub deleted: bool,
}
- [L583:L588]struct RefreshedRoom {
    pub room: proto::Room,
    pub channel: Option<channel::Model>,
    pub stale_participant_user_ids: Vec<UserId>,
    pub canceled_calls_to_user_ids: Vec<UserId>,
}
- [L590:L593]struct RefreshedChannelBuffer {
    pub connection_ids: Vec<ConnectionId>,
    pub collaborators: Vec<proto::Collaborator>,
}
- [L595:L603]struct Project {
    pub id: ProjectId,
    pub role: ChannelRole,
    pub collaborators: Vec<ProjectCollaborator>,
    pub worktrees: BTreeMap<u64, Worktree>,
    pub repositories: Vec<proto::UpdateRepository>,
    pub language_servers: Vec<LanguageServer>,
    pub path_style: PathStyle,
}
- [L605:L612]struct ProjectCollaborator {
    pub connection_id: ConnectionId,
    pub user_id: UserId,
    pub replica_id: ReplicaId,
    pub is_host: bool,
    pub committer_name: Option<String>,
    pub committer_email: Option<String>,
}
- [L628:L631]struct LanguageServer {
    pub server: proto::LanguageServer,
    pub capabilities: String,
}
- [L634:L638]struct LeftProject {
    pub id: ProjectId,
    pub should_unshare: bool,
    pub connection_ids: Vec<ConnectionId>,
}
- [L640:L651]struct Worktree {
    pub id: u64,
    pub abs_path: String,
    pub root_name: String,
    pub visible: bool,
    pub entries: Vec<proto::Entry>,
    pub legacy_repository_entries: BTreeMap<u64, proto::RepositoryEntry>,
    pub diagnostic_summaries: Vec<proto::DiagnosticSummary>,
    pub settings_files: Vec<WorktreeSettingsFile>,
    pub scan_id: u64,
    pub completed_scan_id: u64,
}
- [L654:L658]struct WorktreeSettingsFile {
    pub path: String,
    pub content: String,
    pub kind: LocalSettingsKind,
}
- [L660:L670]struct NewExtensionVersion {
    pub name: String,
    pub version: semver::Version,
    pub description: String,
    pub authors: Vec<String>,
    pub repository: String,
    pub schema_version: i32,
    pub wasm_api_version: Option<String>,
    pub provides: BTreeSet<ExtensionProvides>,
    pub published_at: PrimitiveDateTime,
}
- [L672:L675]struct ExtensionVersionConstraints {
    pub schema_versions: RangeInclusive<i32>,
    pub wasm_api_versions: RangeInclusive<semver::Version>,
}
- [L697:L746]fn db_status_to_proto(
    entry: project_repository_statuses::Model,
) -> anyhow::Result<proto::StatusEntry> 
- [L748:L782]fn proto_status_to_db(
    status_entry: proto::StatusEntry,
) -> (String, StatusKind, Option<i32>, Option<i32>) 

## crates/collab/src/db/ids.rs
- [L100:L119]enum ChannelRole {
    Admin,
    Member,
    Talker,
    Guest,
    Banned,
}
- [L237:L248]enum ChannelVisibility {
    Public,
    Members,
}
- [L275:L282]enum Capability {
    ReadWrite,
    ReadOnly,
}

## crates/collab/src/db/queries.rs
- [L3:L3]mod access_tokens;
- [L4:L4]mod buffers;
- [L5:L5]mod channels;
- [L6:L6]mod contacts;
- [L7:L7]mod contributors;
- [L8:L8]mod extensions;
- [L9:L9]mod notifications;
- [L10:L10]mod projects;
- [L11:L11]mod rooms;
- [L12:L12]mod servers;
- [L13:L13]mod users;

## crates/collab/src/db/queries/access_tokens.rs

## crates/collab/src/db/queries/buffers.rs
- [L6:L10]struct LeftChannelBuffer {
    pub channel_id: ChannelId,
    pub collaborators: Vec<proto::Collaborator>,
    pub connections: Vec<ConnectionId>,
}
- [L821:L874]fn operation_to_storage(
    operation: &proto::Operation,
    buffer: &buffer::Model,
    _format: i32,
) -> Option<buffer_operation::ActiveModel> 
- [L876:L914]fn operation_from_storage(
    row: buffer_operation::Model,
    _format_version: i32,
) -> Result<proto::operation::Variant, Error> 
- [L916:L924]fn version_to_storage(version: &[proto::VectorClockEntry]) -> Vec<storage::VectorClockEntry> 
- [L926:L934]fn version_from_storage(version: &[storage::VectorClockEntry]) -> Vec<proto::VectorClockEntry> 
- [L937:L976]fn operation_from_wire(operation: proto::Operation) -> Option<text::Operation> 
- [L978:L987]fn version_from_wire(message: &[proto::VectorClockEntry]) -> clock::Global 
- [L989:L998]fn version_to_wire(version: &clock::Global) -> Vec<proto::VectorClockEntry> 
- [L1001:L1003]enum QueryOperationSerializationVersion {
    OperationSerializationVersion,
}

## crates/collab/src/db/queries/channels.rs
- [L1129:L1131]enum QueryIds {
    Id,
}

## crates/collab/src/db/queries/contacts.rs

## crates/collab/src/db/queries/contributors.rs
- [L4:L7]enum ContributorSelector {
    GitHubUserId { github_user_id: i32 },
    GitHubLogin { github_login: String },
}

## crates/collab/src/db/queries/dev_server_projects.rs

## crates/collab/src/db/queries/dev_servers.rs

## crates/collab/src/db/queries/extensions.rs
- [L399:L448]fn apply_provides_filter(
    mut condition: Condition,
    provides_filter: &BTreeSet<ExtensionProvides>,
) -> Condition 
- [L450:L476]fn metadata_from_extension_and_version(
    extension: extension::Model,
    version: extension_version::Model,
) -> ExtensionMetadata 
- [L478:L484]fn convert_time_to_chrono(time: time::PrimitiveDateTime) -> chrono::DateTime<Utc> 

## crates/collab/src/db/queries/notifications.rs
- [L256:L270]fn model_to_proto(this: &Database, row: notification::Model) -> Result<proto::Notification> 
- [L272:L281]fn notification_kind_from_proto(
    this: &Database,
    proto: &proto::Notification,
) -> Result<NotificationKindId> 

## crates/collab/src/db/queries/projects.rs

## crates/collab/src/db/queries/rooms.rs

## crates/collab/src/db/queries/servers.rs

## crates/collab/src/db/queries/users.rs

## crates/collab/src/db/tables.rs
- [L1:L1]mod access_token;
- [L2:L2]mod buffer;
- [L3:L3]mod buffer_operation;
- [L4:L4]mod buffer_snapshot;
- [L5:L5]mod channel;
- [L6:L6]mod channel_buffer_collaborator;
- [L7:L7]mod channel_chat_participant;
- [L8:L8]mod channel_member;
- [L9:L9]mod contact;
- [L10:L10]mod contributor;
- [L11:L11]mod extension;
- [L12:L12]mod extension_version;
- [L13:L13]mod follower;
- [L14:L14]mod language_server;
- [L15:L15]mod notification;
- [L16:L16]mod notification_kind;
- [L17:L17]mod observed_buffer_edits;
- [L18:L18]mod project;
- [L19:L19]mod project_collaborator;
- [L20:L20]mod project_repository;
- [L21:L21]mod project_repository_statuses;
- [L22:L22]mod room;
- [L23:L23]mod room_participant;
- [L24:L24]mod server;
- [L25:L25]mod user;
- [L26:L26]mod worktree;
- [L27:L27]mod worktree_diagnostic_summary;
- [L28:L28]mod worktree_entry;
- [L29:L29]mod worktree_settings_file;

## crates/collab/src/db/tables/access_token.rs
- [L6:L12]struct Model {
    pub id: AccessTokenId,
    pub user_id: UserId,
    pub impersonated_user_id: Option<UserId>,
    pub hash: String,
}
- [L15:L22]enum Relation {
        belongs_to = "super::user::Entity",
        from = "Column::UserId",
        to = "super::user::Column::Id"
    )]
    User,
}

## crates/collab/src/db/tables/buffer.rs
- [L6:L14]struct Model {
    pub id: BufferId,
    pub epoch: i32,
    pub channel_id: ChannelId,
    pub latest_operation_epoch: Option<i32>,
    pub latest_operation_lamport_timestamp: Option<i32>,
    pub latest_operation_replica_id: Option<i32>,
}
- [L17:L28]enum Relation {
    Operations,
    Snapshots,
        belongs_to = "super::channel::Entity",
        from = "Column::ChannelId",
        to = "super::channel::Column::Id"
    )]
    Channel,
}

## crates/collab/src/db/tables/buffer_operation.rs
- [L6:L16]struct Model {
    pub buffer_id: BufferId,
    pub epoch: i32,
    pub lamport_timestamp: i32,
    pub replica_id: i32,
    pub value: Vec<u8>,
}
- [L19:L26]enum Relation {
        belongs_to = "super::buffer::Entity",
        from = "Column::BufferId",
        to = "super::buffer::Column::Id"
    )]
    Buffer,
}

## crates/collab/src/db/tables/buffer_snapshot.rs
- [L6:L13]struct Model {
    pub buffer_id: BufferId,
    pub epoch: i32,
    pub text: String,
    pub operation_serialization_version: i32,
}
- [L16:L23]enum Relation {
        belongs_to = "super::buffer::Entity",
        from = "Column::BufferId",
        to = "super::buffer::Column::Id"
    )]
    Buffer,
}

## crates/collab/src/db/tables/channel.rs
- [L6:L16]struct Model {
    pub id: ChannelId,
    pub name: String,
    pub visibility: ChannelVisibility,
    pub parent_path: String,
    pub requires_zed_cla: bool,
    pub channel_order: i32,
}
- [L54:L65]enum Relation {
    Room,
    Buffer,
    Member,
    BufferCollaborators,
    ChatParticipants,
}

## crates/collab/src/db/tables/channel_buffer_collaborator.rs
- [L7:L16]struct Model {
    pub id: ChannelBufferCollaboratorId,
    pub channel_id: ChannelId,
    pub connection_id: i32,
    pub connection_server_id: ServerId,
    pub connection_lost: bool,
    pub user_id: UserId,
    pub replica_id: ReplicaId,
}
- [L28:L35]enum Relation {
        belongs_to = "super::channel::Entity",
        from = "Column::ChannelId",
        to = "super::channel::Column::Id"
    )]
    Channel,
}

## crates/collab/src/db/tables/channel_chat_participant.rs
- [L7:L14]struct Model {
    pub id: ChannelChatParticipantId,
    pub channel_id: ChannelId,
    pub user_id: UserId,
    pub connection_id: i32,
    pub connection_server_id: ServerId,
}
- [L26:L33]enum Relation {
        belongs_to = "super::channel::Entity",
        from = "Column::ChannelId",
        to = "super::channel::Column::Id"
    )]
    Channel,
}

## crates/collab/src/db/tables/channel_member.rs
- [L6:L13]struct Model {
    pub id: ChannelMemberId,
    pub channel_id: ChannelId,
    pub user_id: UserId,
    pub accepted: bool,
    pub role: ChannelRole,
}
- [L18:L31]enum Relation {
        belongs_to = "super::channel::Entity",
        from = "Column::ChannelId",
        to = "super::channel::Column::Id"
    )]
    Channel,
        belongs_to = "super::user::Entity",
        from = "Column::UserId",
        to = "super::user::Column::Id"
    )]
    User,
}
- [L46:L46]struct UserToChannel;

## crates/collab/src/db/tables/contact.rs
- [L6:L14]struct Model {
    pub id: ContactId,
    pub user_id_a: UserId,
    pub user_id_b: UserId,
    pub a_to_b: bool,
    pub should_notify: bool,
    pub accepted: bool,
}
- [L17:L30]enum Relation {
        belongs_to = "super::room_participant::Entity",
        from = "Column::UserIdA",
        to = "super::room_participant::Column::UserId"
    )]
    UserARoomParticipant,
        belongs_to = "super::room_participant::Entity",
        from = "Column::UserIdB",
        to = "super::room_participant::Column::UserId"
    )]
    UserBRoomParticipant,
}

## crates/collab/src/db/tables/contributor.rs
- [L5:L12]struct Model {
    pub user_id: UserId,
    pub signed_at: DateTime,
}
- [L15:L22]enum Relation {
        belongs_to = "super::user::Entity",
        from = "Column::UserId",
        to = "super::user::Column::Id"
    )]
    User,
}

## crates/collab/src/db/tables/extension.rs
- [L6:L13]struct Model {
    pub id: ExtensionId,
    pub external_id: String,
    pub name: String,
    pub latest_version: String,
    pub total_download_count: i64,
}
- [L16:L19]enum Relation {
    LatestVersion,
}

## crates/collab/src/db/tables/extension_version.rs
- [L9:L32]struct Model {
    pub extension_id: ExtensionId,
    pub version: String,
    pub published_at: PrimitiveDateTime,
    pub authors: String,
    pub repository: String,
    pub description: String,
    pub schema_version: i32,
    pub wasm_api_version: Option<String>,
    pub download_count: i64,
    pub provides_themes: bool,
    pub provides_icon_themes: bool,
    pub provides_languages: bool,
    pub provides_grammars: bool,
    pub provides_language_servers: bool,
    pub provides_context_servers: bool,
    pub provides_agent_servers: bool,
    pub provides_slash_commands: bool,
    pub provides_indexed_docs_providers: bool,
    pub provides_snippets: bool,
    pub provides_debug_adapters: bool,
}
- [L86:L94]enum Relation {
        belongs_to = "super::extension::Entity",
        from = "Column::ExtensionId",
        to = "super::extension::Column::Id"
    )]
    Extension,
}

## crates/collab/src/db/tables/follower.rs
- [L7:L16]struct Model {
    pub id: FollowerId,
    pub room_id: RoomId,
    pub project_id: ProjectId,
    pub leader_connection_server_id: ServerId,
    pub leader_connection_id: i32,
    pub follower_connection_server_id: ServerId,
    pub follower_connection_id: i32,
}
- [L35:L42]enum Relation {
        belongs_to = "super::room::Entity",
        from = "Column::RoomId",
        to = "super::room::Column::Id"
    )]
    Room,
}

## crates/collab/src/db/tables/language_server.rs
- [L6:L14]struct Model {
    pub project_id: ProjectId,
    pub id: i64,
    pub name: String,
    pub capabilities: String,
    pub worktree_id: Option<i64>,
}
- [L17:L24]enum Relation {
        belongs_to = "super::project::Entity",
        from = "Column::ProjectId",
        to = "super::project::Column::Id"
    )]
    Project,
}

## crates/collab/src/db/tables/notification.rs
- [L7:L17]struct Model {
    pub id: NotificationId,
    pub created_at: PrimitiveDateTime,
    pub recipient_id: UserId,
    pub kind: NotificationKindId,
    pub entity_id: Option<i32>,
    pub content: String,
    pub is_read: bool,
    pub response: Option<bool>,
}
- [L20:L27]enum Relation {
        belongs_to = "super::user::Entity",
        from = "Column::RecipientId",
        to = "super::user::Column::Id"
    )]
    Recipient,
}

## crates/collab/src/db/tables/notification_kind.rs
- [L6:L10]struct Model {
    pub id: NotificationKindId,
    pub name: String,
}
- [L13:L13]enum Relation {}

## crates/collab/src/db/tables/observed_buffer_edits.rs
- [L6:L13]struct Model {
    pub user_id: UserId,
    pub buffer_id: BufferId,
    pub epoch: i32,
    pub lamport_timestamp: i32,
    pub replica_id: i32,
}
- [L16:L29]enum Relation {
        belongs_to = "super::buffer::Entity",
        from = "Column::BufferId",
        to = "super::buffer::Column::Id"
    )]
    Buffer,
        belongs_to = "super::user::Entity",
        from = "Column::UserId",
        to = "super::user::Column::Id"
    )]
    User,
}

## crates/collab/src/db/tables/project.rs
- [L8:L16]struct Model {
    pub id: ProjectId,
    pub room_id: Option<RoomId>,
    pub host_user_id: Option<UserId>,
    pub host_connection_id: Option<i32>,
    pub host_connection_server_id: Option<ServerId>,
    pub windows_paths: bool,
}
- [L34:L55]enum Relation {
        belongs_to = "super::user::Entity",
        from = "Column::HostUserId",
        to = "super::user::Column::Id"
    )]
    HostUser,
        belongs_to = "super::room::Entity",
        from = "Column::RoomId",
        to = "super::room::Column::Id"
    )]
    Room,
    Worktrees,
    Repositories,
    Collaborators,
    LanguageServers,
}

## crates/collab/src/db/tables/project_collaborator.rs
- [L7:L18]struct Model {
    pub id: ProjectCollaboratorId,
    pub project_id: ProjectId,
    pub connection_id: i32,
    pub connection_server_id: ServerId,
    pub user_id: UserId,
    pub replica_id: ReplicaId,
    pub is_host: bool,
    pub committer_name: Option<String>,
    pub committer_email: Option<String>,
}
- [L30:L37]enum Relation {
        belongs_to = "super::project::Entity",
        from = "Column::ProjectId",
        to = "super::project::Column::Id"
    )]
    Project,
}

## crates/collab/src/db/tables/project_repository.rs
- [L6:L27]struct Model {
    pub project_id: ProjectId,
    pub id: i64,
    pub abs_path: String,
    pub legacy_worktree_id: Option<i64>,
    pub entry_ids: String,
    pub scan_id: i64,
    pub is_deleted: bool,
    pub current_merge_conflicts: Option<String>,
    pub merge_message: Option<String>,
    pub branch_summary: Option<String>,
    pub head_commit_details: Option<String>,
    pub remote_upstream_url: Option<String>,
    pub remote_origin_url: Option<String>,
}
- [L30:L37]enum Relation {
        belongs_to = "super::project::Entity",
        from = "Column::ProjectId",
        to = "super::project::Column::Id"
    )]
    Project,
}

## crates/collab/src/db/tables/project_repository_statuses.rs
- [L6:L22]struct Model {
    pub project_id: ProjectId,
    pub repository_id: i64,
    pub repo_path: String,
    pub status: i64,
    pub status_kind: StatusKind,
    pub first_status: Option<i32>,
    pub second_status: Option<i32>,
    pub scan_id: i64,
    pub is_deleted: bool,
}
- [L26:L31]enum StatusKind {
    Untracked = 0,
    Ignored = 1,
    Unmerged = 2,
    Tracked = 3,
}
- [L34:L34]enum Relation {}

## crates/collab/src/db/tables/room.rs
- [L6:L11]struct Model {
    pub id: RoomId,
    pub live_kit_room: String,
    pub channel_id: Option<ChannelId>,
}
- [L14:L27]enum Relation {
    RoomParticipant,
    Project,
    Follower,
        belongs_to = "super::channel::Entity",
        from = "Column::ChannelId",
        to = "super::channel::Column::Id"
    )]
    Channel,
}

## crates/collab/src/db/tables/room_participant.rs
- [L7:L23]struct Model {
    pub id: RoomParticipantId,
    pub room_id: RoomId,
    pub user_id: UserId,
    pub answering_connection_id: Option<i32>,
    pub answering_connection_server_id: Option<ServerId>,
    pub answering_connection_lost: bool,
    pub location_kind: Option<i32>,
    pub location_project_id: Option<ProjectId>,
    pub initial_project_id: Option<ProjectId>,
    pub calling_user_id: UserId,
    pub calling_connection_id: i32,
    pub calling_connection_server_id: Option<ServerId>,
    pub participant_index: Option<i32>,
    pub role: Option<ChannelRole>,
}
- [L35:L48]enum Relation {
        belongs_to = "super::user::Entity",
        from = "Column::UserId",
        to = "super::user::Column::Id"
    )]
    User,
        belongs_to = "super::room::Entity",
        from = "Column::RoomId",
        to = "super::room::Column::Id"
    )]
    Room,
}

## crates/collab/src/db/tables/server.rs
- [L6:L10]struct Model {
    pub id: ServerId,
    pub environment: String,
}
- [L13:L13]enum Relation {}

## crates/collab/src/db/tables/user.rs
- [L6:L26]struct Model {
    pub id: UserId,
    pub github_login: String,
    pub github_user_id: i32,
    pub github_user_created_at: Option<NaiveDateTime>,
    pub email_address: Option<String>,
    pub name: Option<String>,
    pub admin: bool,
    pub invite_code: Option<String>,
    pub invite_count: i32,
    pub inviter_id: Option<UserId>,
    pub connected_once: bool,
    pub metrics_id: Uuid,
    pub created_at: NaiveDateTime,
    pub accepted_tos_at: Option<NaiveDateTime>,
    pub custom_llm_monthly_allowance_in_cents: Option<i32>,
}
- [L29:L40]enum Relation {
    AccessToken,
    RoomParticipant,
    HostedProjects,
    ChannelMemberships,
    Contributor,
}

## crates/collab/src/db/tables/worktree.rs
- [L6:L18]struct Model {
    pub id: i64,
    pub project_id: ProjectId,
    pub abs_path: String,
    pub root_name: String,
    pub visible: bool,
    pub scan_id: i64,
    pub completed_scan_id: i64,
}
- [L21:L28]enum Relation {
        belongs_to = "super::project::Entity",
        from = "Column::ProjectId",
        to = "super::project::Column::Id"
    )]
    Project,
}

## crates/collab/src/db/tables/worktree_diagnostic_summary.rs
- [L6:L16]struct Model {
    pub project_id: ProjectId,
    pub worktree_id: i64,
    pub path: String,
    pub language_server_id: i64,
    pub error_count: i32,
    pub warning_count: i32,
}
- [L19:L19]enum Relation {}

## crates/collab/src/db/tables/worktree_entry.rs
- [L6:L26]struct Model {
    pub project_id: ProjectId,
    pub worktree_id: i64,
    pub id: i64,
    pub is_dir: bool,
    pub path: String,
    pub inode: i64,
    pub mtime_seconds: i64,
    pub mtime_nanos: i32,
    pub git_status: Option<i64>,
    pub is_ignored: bool,
    pub is_external: bool,
    pub is_deleted: bool,
    pub is_hidden: bool,
    pub scan_id: i64,
    pub is_fifo: bool,
    pub canonical_path: Option<String>,
}
- [L29:L29]enum Relation {}

## crates/collab/src/db/tables/worktree_settings_file.rs
- [L6:L15]struct Model {
    pub project_id: ProjectId,
    pub worktree_id: i64,
    pub path: String,
    pub content: String,
    pub kind: LocalSettingsKind,
}
- [L18:L18]enum Relation {}
- [L27:L37]enum LocalSettingsKind {
    Settings,
    Tasks,
    Editorconfig,
    Debug,
}

## crates/collab/src/db/tests.rs
- [L22:L25]struct TestDb {
    pub db: Option<Arc<Database>>,
    pub connection: Option<sqlx::AnyConnection>,
}
- [L169:L173]fn assert_channel_tree_matches(actual: Vec<Channel>, expected: Vec<Channel>) 
- [L175:L202]fn channel_tree(channels: &[(ChannelId, &[ChannelId], &'static str)]) -> Vec<Channel> 
- [L204:L204]static GITHUB_USER_ID: AtomicI32 = AtomicI32::new(5);

## crates/collab/src/db/tests/buffer_tests.rs

## crates/collab/src/db/tests/channel_tests.rs
- [L953:L963]fn assert_channel_tree(actual: Vec<Channel>, expected: &[(ChannelId, &[ChannelId])]) 
- [L966:L982]fn assert_channel_tree_order(actual: Vec<Channel>, expected: &[(ChannelId, &[ChannelId], i32)]) 

## crates/collab/src/db/tests/contributor_tests.rs

## crates/collab/src/db/tests/db_tests.rs
- [L537:L541]fn test_fuzzy_like_string() 

## crates/collab/src/db/tests/extension_tests.rs

## crates/collab/src/db/tests/migrations.rs
- [L11:L11]async fn run_database_migrations(

## crates/collab/src/env.rs
- [L5:L19]fn get_dotenv_vars(current_dir: impl AsRef<Path>) -> Result<Vec<(String, String)>> 
- [L21:L26]fn load_dotenv() -> Result<()> 
- [L28:L41]fn add_vars(env_content: String, vars: &mut Vec<(String, String)>) -> Result<()> 

## crates/collab/src/errors.rs
- [L3:L3]trait TideResultExt {

## crates/collab/src/executor.rs
- [L7:L11]enum Executor {
    Production,
    Deterministic(BackgroundExecutor),
}

## crates/collab/src/lib.rs
- [L1:L1]mod api;
- [L2:L2]mod auth;
- [L3:L3]mod db;
- [L4:L4]mod env;
- [L5:L5]mod executor;
- [L6:L6]mod rpc;
- [L7:L7]mod seed;
- [L24:L24]type Result<T, E = Error> = std::result::Result<T, E>;
- [L26:L30]enum Error {
    Http(StatusCode, String, HeaderMap),
    Database(sea_orm::error::DbErr),
    Internal(anyhow::Error),
}
- [L118:L156]struct Config {
    pub http_port: u16,
    pub database_url: String,
    pub migrations_path: Option<PathBuf>,
    pub seed_path: Option<PathBuf>,
    pub database_max_connections: u32,
    pub api_token: String,
    pub invite_link_prefix: String,
    pub livekit_server: Option<String>,
    pub livekit_key: Option<String>,
    pub livekit_secret: Option<String>,
    pub llm_database_url: Option<String>,
    pub llm_database_max_connections: Option<u32>,
    pub llm_database_migrations_path: Option<PathBuf>,
    pub llm_api_secret: Option<String>,
    pub rust_log: Option<String>,
    pub log_json: Option<bool>,
    pub blob_store_url: Option<String>,
    pub blob_store_region: Option<String>,
    pub blob_store_access_key: Option<String>,
    pub blob_store_secret_key: Option<String>,
    pub blob_store_bucket: Option<String>,
    pub kinesis_region: Option<String>,
    pub kinesis_stream: Option<String>,
    pub kinesis_access_key: Option<String>,
    pub kinesis_secret_key: Option<String>,
    pub zed_environment: Arc<str>,
    pub openai_api_key: Option<Arc<str>>,
    pub google_ai_api_key: Option<Arc<str>>,
    pub anthropic_api_key: Option<Arc<str>>,
    pub anthropic_staff_api_key: Option<Arc<str>>,
    pub llm_closed_beta_model_name: Option<Arc<str>>,
    pub prediction_api_url: Option<Arc<str>>,
    pub prediction_api_key: Option<Arc<str>>,
    pub prediction_model: Option<Arc<str>>,
    pub zed_client_checksum_seed: Option<String>,
    pub auto_join_channel_id: Option<ChannelId>,
    pub supermaven_admin_api_key: Option<Arc<str>>,
}
- [L216:L223]enum ServiceMode {
    Api,
    Collab,
    All,
}
- [L235:L242]struct AppState {
    pub db: Arc<Database>,
    pub livekit_client: Option<Arc<dyn livekit_api::Client>>,
    pub blob_store_client: Option<aws_sdk_s3::Client>,
    pub executor: Executor,
    pub kinesis_client: Option<::aws_sdk_kinesis::Client>,
    pub config: Config,
}

## crates/collab/src/main.rs
- [L227:L256]fn init_tracing(config: &Config) -> Option<()> 
- [L258:L273]fn init_panic_hook() 

## crates/collab/src/rpc.rs
- [L77:L77]const RECONNECT_TIMEOUT: Duration = Duration::from_secs(30);
- [L80:L80]const CLEANUP_TIMEOUT: Duration = Duration::from_secs(15);
- [L85:L85]static CONCURRENT_CONNECTIONS: AtomicUsize = AtomicUsize::new(0);
- [L95:L95]struct ConnectionGuard;
- [L118:L122]struct Response<R> {
    peer: Arc<Peer>,
    receipt: Receipt<R>,
    responded: Arc<AtomicBool>,
}
- [L133:L136]enum Principal {
    User(User),
    Impersonated { user: User, admin: User },
}
- [L155:L158]struct MessageContext {
    session: Session,
    span: tracing::Span,
}
- [L191:L205]struct Session {
    principal: Principal,
    connection_id: ConnectionId,
    db: Arc<tokio::sync::Mutex<DbHandle>>,
    peer: Arc<Peer>,
    connection_pool: Arc<parking_lot::Mutex<ConnectionPool>>,
    app_state: Arc<AppState>,
    supermaven_client: Option<Arc<SupermavenAdminApi>>,
    geoip_country_code: Option<String>,
    system_id: Option<String>,
    _executor: Executor,
}
- [L265:L265]struct DbHandle(Arc<Database>);
- [L275:L282]struct Server {
    id: parking_lot::Mutex<ServerId>,
    peer: Arc<Peer>,
    pub(crate) connection_pool: Arc<parking_lot::Mutex<ConnectionPool>>,
    app_state: Arc<AppState>,
    handlers: HashMap<TypeId, MessageHandler>,
    teardown: watch::Sender<bool>,
}
- [L290:L294]struct ServerSnapshot<'a> {
    peer: &'a Peer,
    connection_pool: ConnectionPoolGuard<'a>,
}
- [L296:L303]fn serialize_deref<S, T, U>(value: &T, serializer: S) -> Result<S::Ok, S::Error>
where
    S: Serializer,
    T: Deref<Target = U>,
    U: Serialize,
- [L1097:L1111]fn broadcast<F>(
    sender_id: Option<ConnectionId>,
    receiver_ids: impl IntoIterator<Item = ConnectionId>,
    mut f: F,
) where
    F: FnMut(ConnectionId) -> anyhow::Result<()>,
- [L1113:L1113]struct ProtocolVersion(u32);
- [L1141:L1141]struct AppVersionHeader(Version);
- [L1169:L1169]struct ReleaseChannelHeader(String);
- [L1197:L1207]fn routes(server: Arc<Server>) -> Router<(), Body> 
- [L1209:L1209]async fn handle_websocket_request(
- [L1287:L1287]async fn handle_metrics(Extension(server): Extension<Arc<Server>>) -> Result<String> {
- [L1574:L1657]fn notify_rejoined_projects(
    rejoined_projects: &mut Vec<RejoinedProject>,
    session: &Session,
) -> Result<()> 
- [L2839:L2841]fn should_auto_subscribe_to_channels(version: &ZedVersion) -> bool 
- [L3570:L3579]fn channel_buffer_updated<T: EnvelopedMessage>(
    sender_id: ConnectionId,
    collaborators: impl IntoIterator<Item = ConnectionId>,
    message: &T,
    peer: &Peer,
) 
- [L3581:L3602]fn send_notifications(
    connection_pool: &ConnectionPool,
    peer: &Peer,
    notifications: db::NotificationBatch,
) 
- [L3765:L3789]fn to_axum_message(message: TungsteniteMessage) -> anyhow::Result<AxumMessage> 
- [L3791:L3804]fn to_tungstenite_message(message: AxumMessage) -> TungsteniteMessage 
- [L3806:L3845]fn notify_membership_updated(
    connection_pool: &mut ConnectionPool,
    result: MembershipUpdated,
    user_id: UserId,
    peer: &Peer,
) 
- [L3847:L3859]fn build_update_user_channels(channels: &ChannelsForUser) -> proto::UpdateUserChannels 
- [L3861:L3884]fn build_channels_update(channels: ChannelsForUser) -> proto::UpdateChannels 
- [L3886:L3909]fn build_initial_contacts_update(
    contacts: Vec<db::Contact>,
    pool: &ConnectionPool,
) -> proto::UpdateContacts 
- [L3911:L3917]fn contact_for_user(user_id: UserId, busy: bool, pool: &ConnectionPool) -> proto::Contact 
- [L3919:L3934]fn room_updated(room: &proto::Room, peer: &Peer) 
- [L3936:L3968]fn channel_updated(
    channel: &db::channel::Model,
    room: &proto::Room,
    peer: &Peer,
    pool: &ConnectionPool,
) 
- [L4101:L4126]fn project_left(project: &db::LeftProject, session: &Session) 
- [L4128:L4128]trait ResultExt {

## crates/collab/src/rpc/connection_pool.rs
- [L11:L15]struct ConnectionPool {
    connections: BTreeMap<ConnectionId, Connection>,
    connected_users: BTreeMap<UserId, ConnectedPrincipal>,
    channels: ChannelPool,
}
- [L18:L20]struct ConnectedPrincipal {
    connection_ids: HashSet<ConnectionId>,
}
- [L23:L23]struct ZedVersion(pub Version);
- [L50:L54]struct Connection {
    pub user_id: UserId,
    pub admin: bool,
    pub zed_version: ZedVersion,
}
- [L195:L198]struct ChannelPool {
    by_user: HashMap<UserId, HashMap<ChannelId, ChannelRole>>,
    by_channel: HashMap<ChannelId, HashSet<UserId>>,
}

## crates/collab/src/seed.rs
- [L11:L21]struct GithubUser {
    id: i32,
    login: String,
    email: Option<String>,
    name: Option<String>,
    created_at: DateTime<Utc>,
}
- [L24:L29]struct SeedConfig {
    admins: Vec<String>,
    channels: Vec<String>,
}
- [L31:L31]async fn seed(config: &Config, db: &Database, force: bool) -> anyhow::Result<()> {
- [L114:L117]fn load_admins(path: impl AsRef<Path>) -> anyhow::Result<SeedConfig> 

## crates/collab/src/tests.rs
- [L25:L28]struct RoomParticipants {
    remote: Vec<String>,
    pending: Vec<String>,
}
- [L30:L46]fn room_participants(room: &Entity<Room>, cx: &mut TestAppContext) -> RoomParticipants 
- [L48:L50]fn channel_id(room: &Entity<Room>, cx: &mut TestAppContext) -> Option<ChannelId> 

## crates/collab/src/tests/channel_buffer_tests.rs
- [L310:L337]fn assert_remote_selections(
    editor: &mut Editor,
    expected_selections: &[(Option<ParticipantIndex>, Range<usize>)],
    window: &mut Window,
    cx: &mut Context<Editor>,
) 
- [L706:L716]fn assert_collaborators(collaborators: &HashMap<PeerId, Collaborator>, ids: &[Option<UserId>]) 
- [L718:L720]fn buffer_text(channel_buffer: &Entity<language::Buffer>, cx: &mut TestAppContext) -> String 

## crates/collab/src/tests/channel_guest_tests.rs

## crates/collab/src/tests/channel_tests.rs
- [L305:L310]fn assert_participants_eq(participants: &[Arc<User>], expected_partitipants: &[u64]) 
- [L313:L324]fn assert_members_eq(
    members: &[ChannelMembership],
    expected_members: &[(u64, proto::ChannelRole, proto::channel_member::Kind)],
) 
- [L1402:L1406]struct ExpectedChannel {
    depth: usize,
    id: ChannelId,
    name: SharedString,
}
- [L1409:L1428]fn assert_channel_invitations(
    channel_store: &Entity<ChannelStore>,
    cx: &TestAppContext,
    expected_channels: &[ExpectedChannel],
) 
- [L1431:L1449]fn assert_channels(
    channel_store: &Entity<ChannelStore>,
    cx: &TestAppContext,
    expected_channels: &[ExpectedChannel],
) 
- [L1452:L1466]fn assert_channels_list_shape(
    channel_store: &Entity<ChannelStore>,
    cx: &TestAppContext,
    expected_channels: &[(ChannelId, usize)],
) 

## crates/collab/src/tests/debug_panel_tests.rs
- [L20:L29]fn init_test(cx: &mut gpui::TestAppContext) 
- [L44:L54]fn _active_session(
    workspace: Entity<Workspace>,
    cx: &mut VisualTestContext,
) -> Entity<DebugSession> 
- [L56:L61]struct ZedInstance<'a> {
    client: TestClient,
    project: Option<Entity<Project>>,
    active_call: Entity<ActiveCall>,
    cx: &'a mut TestAppContext,
}

## crates/collab/src/tests/editor_tests.rs
- [L3785:L3786]fn main() 
- [L3793:L3809]fn main() 
- [L3841:L3857]fn main() 
- [L4555:L4594]fn tab_undo_assert(
    cx_a: &mut EditorTestContext,
    cx_b: &mut EditorTestContext,
    expected_initial: &str,
    expected_tabbed: &str,
    a_tabs: bool,
) 
- [L4596:L4625]fn extract_hint_labels(editor: &Editor, cx: &mut App) -> Vec<String> 
- [L4628:L4635]fn extract_color_inlays(editor: &Editor, cx: &App) -> Vec<Rgba> 
- [L4637:L4643]fn blame_entry(sha: &str, range: Range<u32>) -> git::blame::BlameEntry 

## crates/collab/src/tests/following_tests.rs
- [L1895:L1907]fn visible_push_notifications(cx: &mut TestAppContext) -> Vec<Entity<ProjectSharedNotification>> 
- [L1910:L1914]struct PaneSummary {
    active: bool,
    leader: Option<PeerId>,
    items: Vec<(bool, String)>,
}
- [L1916:L1938]fn followers_by_leader(project_id: u64, cx: &TestAppContext) -> Vec<(PeerId, Vec<PeerId>)> 
- [L1940:L1967]fn pane_summaries(workspace: &Entity<Workspace>, cx: &mut VisualTestContext) -> Vec<PaneSummary> 

## crates/collab/src/tests/git_tests.rs

## crates/collab/src/tests/integration_tests.rs
- [L59:L61]fn init_logger() 
- [L1938:L1951]fn active_call_events(cx: &mut TestAppContext) -> Rc<RefCell<Vec<room::Event>>> 

## crates/collab/src/tests/notification_tests.rs

## crates/collab/src/tests/random_channel_buffer_tests.rs
- [L28:L28]struct RandomChannelBufferTest;
- [L31:L43]enum ChannelBufferOperation {
    JoinChannelNotes {
        channel_name: SharedString,
    },
    LeaveChannelNotes {
        channel_name: SharedString,
    },
    EditChannelNotes {
        channel_name: SharedString,
        edits: Vec<(Range<usize>, Arc<str>)>,
    },
    Noop,
}

## crates/collab/src/tests/random_project_collaboration_tests.rs
- [L49:L120]enum ClientOperation {
    AcceptIncomingCall,
    RejectIncomingCall,
    LeaveCall,
    InviteContactToCall {
        user_id: UserId,
    },
    OpenLocalProject {
        first_root_name: String,
    },
    OpenRemoteProject {
        host_id: UserId,
        first_root_name: String,
    },
    AddWorktreeToProject {
        project_root_name: String,
        new_root_path: PathBuf,
    },
    CloseRemoteProject {
        project_root_name: String,
    },
    OpenBuffer {
        project_root_name: String,
        is_local: bool,
        full_path: RelPathBuf,
    },
    SearchProject {
        project_root_name: String,
        is_local: bool,
        query: String,
        detach: bool,
    },
    EditBuffer {
        project_root_name: String,
        is_local: bool,
        full_path: RelPathBuf,
        edits: Vec<(Range<usize>, Arc<str>)>,
    },
    CloseBuffer {
        project_root_name: String,
        is_local: bool,
        full_path: RelPathBuf,
    },
    SaveBuffer {
        project_root_name: String,
        is_local: bool,
        full_path: RelPathBuf,
        detach: bool,
    },
    RequestLspDataInBuffer {
        project_root_name: String,
        is_local: bool,
        full_path: RelPathBuf,
        offset: usize,
        kind: LspRequestKind,
        detach: bool,
    },
    CreateWorktreeEntry {
        project_root_name: String,
        is_local: bool,
        full_path: RelPathBuf,
        is_dir: bool,
    },
    WriteFsEntry {
        path: PathBuf,
        is_dir: bool,
        content: String,
    },
    GitOperation {
        operation: GitOperation,
    },
}
- [L123:L136]enum GitOperation {
    WriteGitIndex {
        repo_path: PathBuf,
        contents: Vec<(RelPathBuf, String)>,
    },
    WriteGitBranch {
        repo_path: PathBuf,
        new_branch: Option<String>,
    },
    WriteGitStatuses {
        repo_path: PathBuf,
        statuses: Vec<(RelPathBuf, FileStatus)>,
    },
}
- [L139:L145]enum LspRequestKind {
    Rename,
    Completion,
    CodeAction,
    Definition,
    Highlights,
}
- [L147:L147]struct ProjectCollaborationTest;
- [L1446:L1511]fn generate_git_operation(rng: &mut StdRng, client: &TestClient) -> GitOperation 
- [L1513:L1533]fn buffer_for_full_path(
    client: &TestClient,
    project: &Entity<Project>,
    full_path: &RelPath,
    cx: &TestAppContext,
) -> Option<Entity<language::Buffer>> 
- [L1535:L1548]fn project_for_root_name(
    client: &TestClient,
    root_name: &str,
    cx: &TestAppContext,
) -> Option<Entity<Project>> 
- [L1550:L1561]fn project_ix_for_root_name(
    projects: &[Entity<Project>],
    root_name: &str,
    cx: &TestAppContext,
) -> Option<usize> 
- [L1563:L1573]fn root_name_for_project(project: &Entity<Project>, cx: &TestAppContext) -> String 
- [L1575:L1594]fn project_path_for_full_path(
    project: &Entity<Project>,
    full_path: &RelPath,
    cx: &TestAppContext,
) -> Option<ProjectPath> 
- [L1630:L1638]fn choose_random_project(client: &TestClient, rng: &mut StdRng) -> Option<Entity<Project>> 
- [L1640:L1647]fn gen_file_name(rng: &mut StdRng) -> String 
- [L1649:L1689]fn gen_status(rng: &mut StdRng) -> FileStatus 

## crates/collab/src/tests/randomized_test_helpers.rs
- [L25:L28]fn plan_load_path() -> &'static Option<PathBuf> 
- [L30:L33]fn plan_save_path() -> &'static Option<PathBuf> 
- [L35:L42]fn max_peers() -> usize 
- [L44:L51]fn max_operations() -> usize 
- [L53:L53]static LOADED_PLAN_JSON: Mutex<Option<Vec<u8>>> = Mutex::new(None);
- [L54:L54]static LAST_PLAN: Mutex<Option<Box<dyn Send + FnOnce() -> Vec<u8>>>> = Mutex::new(None);
- [L56:L67]struct TestPlan<T: RandomizedTest> {
    rng: StdRng,
    replay: bool,
    stored_operations: Vec<(StoredOperation<T::Operation>, Arc<AtomicBool>)>,
    max_operations: usize,
    operation_ix: usize,
    users: Vec<UserTestPlan>,
    next_batch_id: usize,
    allow_server_restarts: bool,
    allow_client_reconnection: bool,
    allow_client_disconnection: bool,
}
- [L69:L76]struct UserTestPlan {
    pub user_id: UserId,
    pub username: String,
    pub allow_client_disconnection: bool,
    next_root_id: usize,
    operation_ix: usize,
    online: bool,
}
- [L80:L87]enum StoredOperation<T> {
    Server(ServerOperation),
    Client {
        user_id: UserId,
        batch_id: usize,
        operation: T,
    },
}
- [L90:L108]enum ServerOperation {
    AddConnection {
        user_id: UserId,
    },
    RemoveConnection {
        user_id: UserId,
    },
    BounceConnection {
        user_id: UserId,
    },
    RestartServer,
    MutateClients {
        batch_id: usize,
        user_ids: Vec<UserId>,
        quiesce: bool,
    },
}
- [L110:L113]enum TestError {
    Inapplicable,
    Other(anyhow::Error),
}
- [L116:L116]trait RandomizedTest: 'static + Sized {
- [L139:L139]async fn run_randomized_test<T: RandomizedTest>(
- [L201:L208]fn save_randomized_test_plan() 
- [L681:L692]fn path_env_var(name: &str) -> Option<PathBuf> 

## crates/collab/src/tests/remote_editing_collaboration_tests.rs

## crates/collab/src/tests/test_server.rs
- [L52:L60]struct TestServer {
    pub app_state: Arc<AppState>,
    pub test_livekit_server: Arc<LivekitTestServer>,
    pub test_db: TestDb,
    server: Arc<Server>,
    next_github_user_id: i32,
    connection_killers: Arc<Mutex<HashMap<PeerId, Arc<AtomicBool>>>>,
    forbid_connections: Arc<AtomicBool>,
}
- [L62:L68]struct TestClient {
    pub username: String,
    pub app_state: Arc<workspace::AppState>,
    channel_store: Entity<ChannelStore>,
    notification_store: Entity<NotificationStore>,
    state: RefCell<TestClientState>,
}
- [L71:L76]struct TestClientState {
    local_projects: Vec<Entity<Project>>,
    dev_server_projects: Vec<Entity<Project>>,
    buffers: HashMap<Entity<Project>, HashSet<Entity<language::Buffer>>>,
    channel_buffers: HashSet<Entity<ChannelBuffer>>,
}
- [L78:L82]struct ContactsSummary {
    pub current: Vec<String>,
    pub outgoing_requests: Vec<String>,
    pub incoming_requests: Vec<String>,
}
- [L904:L912]fn open_channel_notes(
    channel_id: ChannelId,
    cx: &mut VisualTestContext,
) -> Task<anyhow::Result<Entity<ChannelView>>> 

## crates/collab_ui/src/channel_view.rs
- [L41:L43]fn init(cx: &mut App) 
- [L45:L54]struct ChannelView {
    pub editor: Entity<Editor>,
    workspace: WeakEntity<Workspace>,
    project: Entity<Project>,
    channel_store: Entity<ChannelStore>,
    channel_buffer: Entity<ChannelBuffer>,
    remote_id: Option<ViewId>,
    _editor_event_subscription: Subscription,
    _reparse_subscription: Option<Subscription>,
}
- [L693:L693]struct ChannelBufferCollaborationHub(Entity<ChannelBuffer>);

## crates/collab_ui/src/collab_panel.rs
- [L76:L78]struct ChannelMoveClipboard {
    channel_id: ChannelId,
}
- [L82:L187]fn init(cx: &mut App) 
- [L190:L199]enum ChannelEditingState {
    Create {
        location: Option<ChannelId>,
        pending_name: Option<String>,
    },
    Rename {
        location: ChannelId,
        pending_name: Option<String>,
    },
}
- [L210:L232]struct CollabPanel {
    width: Option<Pixels>,
    fs: Arc<dyn Fs>,
    focus_handle: FocusHandle,
    channel_clipboard: Option<ChannelMoveClipboard>,
    pending_serialization: Task<Option<()>>,
    context_menu: Option<(Entity<ContextMenu>, Point<Pixels>, Subscription)>,
    list_state: ListState,
    filter_editor: Entity<Editor>,
    channel_name_editor: Entity<Editor>,
    channel_editing_state: Option<ChannelEditingState>,
    entries: Vec<ListEntry>,
    selection: Option<usize>,
    channel_store: Entity<ChannelStore>,
    user_store: Entity<UserStore>,
    client: Arc<Client>,
    project: Entity<Project>,
    match_candidates: Vec<StringMatchCandidate>,
    subscriptions: Vec<Subscription>,
    collapsed_sections: Vec<Section>,
    collapsed_channels: Vec<ChannelId>,
    workspace: WeakEntity<Workspace>,
}
- [L235:L238]struct SerializedCollabPanel {
    width: Option<Pixels>,
    collapsed_channels: Option<Vec<u64>>,
}
- [L241:L249]enum Section {
    ActiveCall,
    Channels,
    ChannelInvites,
    ContactRequests,
    Contacts,
    Online,
    Offline,
}
- [L252:L291]enum ListEntry {
    Header(Section),
    CallParticipant {
        user: Arc<User>,
        peer_id: Option<PeerId>,
        is_pending: bool,
        role: proto::ChannelRole,
    },
    ParticipantProject {
        project_id: u64,
        worktree_root_names: Vec<String>,
        host_user_id: u64,
        is_last: bool,
    },
    ParticipantScreen {
        peer_id: Option<PeerId>,
        is_last: bool,
    },
    IncomingRequest(Arc<User>),
    OutgoingRequest(Arc<User>),
    ChannelInvite(Arc<Channel>),
    Channel {
        channel: Arc<Channel>,
        depth: usize,
        has_children: bool,
        string_match: Option<StringMatch>,
    },
    ChannelNotes {
        channel_id: ChannelId,
    },
    ChannelEditor {
        depth: usize,
    },
    Contact {
        contact: Arc<Contact>,
        calling: bool,
    },
    ContactPlaceholder,
}
- [L2999:L3041]fn render_tree_branch(
    is_last: bool,
    overdraw: bool,
    window: &mut Window,
    cx: &mut App,
) -> impl IntoElement 
- [L3043:L3049]fn render_participant_name_and_handle(user: &User) -> impl IntoElement 
- [L3249:L3252]struct DraggedChannelView {
    channel: Channel,
    width: Pixels,
}
- [L3278:L3283]struct JoinChannelTooltip {
    channel_store: Entity<ChannelStore>,
    channel_id: ChannelId,
    has_notes_notification: bool,
}

## crates/collab_ui/src/collab_panel/channel_modal.rs
- [L31:L35]struct ChannelModal {
    picker: Entity<Picker<ChannelModalDelegate>>,
    channel_store: Entity<ChannelStore>,
    channel_id: ChannelId,
}
- [L238:L241]enum Mode {
    ManageMembers,
    InviteMembers,
}
- [L243:L256]struct ChannelModalDelegate {
    channel_modal: WeakEntity<ChannelModal>,
    matching_users: Vec<Arc<User>>,
    matching_member_indices: Vec<usize>,
    user_store: Entity<UserStore>,
    channel_store: Entity<ChannelStore>,
    channel_id: ChannelId,
    selected_index: usize,
    mode: Mode,
    match_candidates: Vec<StringMatchCandidate>,
    members: Vec<ChannelMembership>,
    has_all_members: bool,
    context_menu: Option<(Entity<ContextMenu>, Subscription)>,
}

## crates/collab_ui/src/collab_panel/contact_finder.rs
- [L12:L14]struct ContactFinder {
    picker: Entity<Picker<ContactFinderDelegate>>,
}
- [L55:L60]struct ContactFinderDelegate {
    parent: WeakEntity<ContactFinder>,
    potential_contacts: Arc<[Arc<User>]>,
    user_store: Entity<UserStore>,
    selected_index: usize,
}

## crates/collab_ui/src/collab_ui.rs
- [L1:L1]mod channel_view;
- [L2:L2]mod collab_panel;
- [L3:L3]mod notification_panel;
- [L4:L4]mod notifications;
- [L19:L25]fn init(app_state: &Arc<AppState>, cx: &mut App) 
- [L27:L61]fn notification_window_options(
    screen: Rc<dyn PlatformDisplay>,
    size: Size<Pixels>,
    cx: &App,
) -> WindowOptions 

## crates/collab_ui/src/notification_panel.rs
- [L38:L55]struct NotificationPanel {
    client: Arc<Client>,
    user_store: Entity<UserStore>,
    channel_store: Entity<ChannelStore>,
    notification_store: Entity<NotificationStore>,
    fs: Arc<dyn Fs>,
    width: Option<Pixels>,
    active: bool,
    notification_list: ListState,
    pending_serialization: Task<Option<()>>,
    subscriptions: Vec<gpui::Subscription>,
    workspace: WeakEntity<Workspace>,
    current_notification_toast: Option<(u64, Task<()>)>,
    local_timezone: UtcOffset,
    focus_handle: FocusHandle,
    mark_as_read_tasks: HashMap<u64, Task<Result<()>>>,
    unseen_notifications: Vec<NotificationEntry>,
}
- [L58:L60]struct SerializedNotificationPanel {
    width: Option<Pixels>,
}
- [L63:L67]enum Event {
    DockPositionChanged,
    Focus,
    Dismissed,
}
- [L69:L74]struct NotificationPresenter {
    pub actor: Option<Arc<client::User>>,
    pub text: String,
    pub icon: &'static str,
    pub needs_response: bool,
}
- [L84:L91]fn init(cx: &mut App) 
- [L692:L697]struct NotificationToast {
    actor: Option<Arc<User>>,
    text: String,
    workspace: WeakEntity<Workspace>,
    focus_handle: FocusHandle,
}

## crates/collab_ui/src/notifications.rs
- [L2:L2]mod incoming_call_notification;
- [L3:L3]mod project_shared_notification;
- [L15:L18]fn init(app_state: &Arc<AppState>, cx: &mut App) 

## crates/collab_ui/src/notifications/collab_notification.rs
- [L6:L10]struct CollabNotification {
    avatar_uri: SharedUri,
    accept_button: Button,
    dismiss_button: Button,
    children: SmallVec<[AnyElement; 2]>,

## crates/collab_ui/src/notifications/incoming_call_notification.rs
- [L12:L55]fn init(app_state: &Arc<AppState>, cx: &mut App) 
- [L57:L60]struct IncomingCallNotificationState {
    call: IncomingCall,
    app_state: Weak<AppState>,
}
- [L62:L64]struct IncomingCallNotification {
    state: Arc<IncomingCallNotificationState>,
}

## crates/collab_ui/src/notifications/project_shared_notification.rs
- [L13:L80]fn init(app_state: &Arc<AppState>, cx: &mut App) 
- [L82:L87]struct ProjectSharedNotification {
    project_id: u64,
    worktree_root_names: Vec<String>,
    owner: Arc<User>,
    app_state: Weak<AppState>,
}

## crates/collab_ui/src/notifications/stories.rs

## crates/collab_ui/src/notifications/stories/collab_notification.rs
- [L7:L7]struct CollabNotificationStory;

## crates/collab_ui/src/panel_settings.rs
- [L7:L11]struct CollaborationPanelSettings {
    pub button: bool,
    pub dock: DockPosition,
    pub default_width: Pixels,
}
- [L14:L18]struct NotificationPanelSettings {
    pub button: bool,
    pub dock: DockPosition,
    pub default_width: Pixels,
}

## crates/collections/src/collections.rs
- [L1:L1]type HashMap<K, V> = FxHashMap<K, V>;
- [L2:L2]type HashSet<T> = FxHashSet<T>;
- [L3:L3]type IndexMap<K, V> = indexmap::IndexMap<K, V, rustc_hash::FxBuildHasher>;
- [L4:L4]type IndexSet<T> = indexmap::IndexSet<T, rustc_hash::FxBuildHasher>;

## crates/command_palette/src/command_palette.rs
- [L31:L34]fn init(cx: &mut App) 
- [L38:L40]struct CommandPalette {
    picker: Entity<Picker<CommandPaletteDelegate>>,
}
- [L42:L63]fn normalize_action_query(input: &str) -> String 
- [L154:L168]struct CommandPaletteDelegate {
    latest_query: String,
    command_palette: WeakEntity<CommandPalette>,
    workspace: WeakEntity<Workspace>,
    all_commands: Vec<Command>,
    commands: Vec<Command>,
    matches: Vec<StringMatch>,
    selected_ix: usize,
    previous_focus_handle: FocusHandle,
    updating_matches: Option<(
        Task<()>,
        postage::dispatch::Receiver<(Vec<Command>, Vec<StringMatch>, CommandInterceptResult)>,
    )>,
    query_history: QueryHistory,
}
- [L170:L173]struct Command {
    name: String,
    action: Box<dyn Action>,
}
- [L176:L180]struct QueryHistory {
    history: Option<VecDeque<String>>,
    cursor: Option<usize>,
    prefix: Option<String>,
}
- [L683:L705]fn humanize_action_name(name: &str) -> String 

## crates/command_palette/src/persistence.rs
- [L58:L58]struct CommandPaletteDB(ThreadSafeConnection);

## crates/command_palette_hooks/src/command_palette_hooks.rs
- [L12:L15]fn init(cx: &mut App) 
- [L17:L25]struct CommandPaletteFilter {
    hidden_namespaces: HashSet<&'static str>,
    hidden_action_types: HashSet<TypeId>,
    shown_action_types: HashSet<TypeId>,
}
- [L28:L28]struct GlobalCommandPaletteFilter(CommandPaletteFilter);
- [L95:L105]struct CommandInterceptItem {
    pub action: Box<dyn Action>,
    pub string: String,
    pub positions: Vec<usize>,
}
- [L107:L114]struct CommandInterceptResult {
    pub results: Vec<CommandInterceptItem>,
    pub exclusive: bool,
}
- [L116:L120]struct GlobalCommandPaletteInterceptor(
    Rc<dyn Fn(&str, WeakEntity<Workspace>, &mut App) -> Task<CommandInterceptResult>>,
);

## crates/component/src/component.rs
- [L21:L23]fn components() -> ComponentRegistry 
- [L25:L29]fn init() 
- [L31:L31]struct ComponentFn(fn());
- [L43:L43]mod __private {
- [L47:L61]fn register_component<T: Component>() 
- [L63:L63]static COMPONENT_DATA: LazyLock<RwLock<ComponentRegistry>> =
- [L67:L69]struct ComponentRegistry {
    components: HashMap<ComponentId, ComponentMetadata>,
}
- [L110:L110]struct ComponentId(pub &'static str);
- [L113:L121]struct ComponentMetadata {
    id: ComponentId,
    description: Option<SharedString>,
    name: SharedString,
    preview: Option<fn(&mut Window, &mut App) -> Option<AnyElement>>,
    scope: ComponentScope,
    sort_name: SharedString,
    status: ComponentStatus,
}
- [L173:L173]trait Component {
- [L267:L283]enum ComponentStatus {
    WorkInProgress,
    EngineeringReady,
    Live,
    Deprecated,
}
- [L303:L329]enum ComponentScope {
    Agent,
    Collaboration,
    DataDisplay,
    Editor,
    Images,
    Input,
    Layout,
    Loading,
    Navigation,
    None,
    Notification,
    Overlays,
    Onboarding,
    Status,
    Typography,
    Utilities,
    VersionControl,
}

## crates/component/src/component_layout.rs
- [L7:L14]struct ComponentExample {
    pub variant_name: SharedString,
    pub description: Option<SharedString>,
    pub element: AnyElement,
    pub width: Option<Pixels>,
}
- [L92:L100]struct ComponentExampleGroup {
    pub title: Option<SharedString>,
    pub examples: Vec<ComponentExample>,
    pub width: Option<Pixels>,
    pub grow: bool,
    pub vertical: bool,
}
- [L185:L190]fn single_example(
    variant_name: impl Into<SharedString>,
    example: AnyElement,
) -> ComponentExample 
- [L192:L194]fn empty_example(variant_name: impl Into<SharedString>) -> ComponentExample 
- [L196:L198]fn example_group(examples: Vec<ComponentExample>) -> ComponentExampleGroup 
- [L200:L205]fn example_group_with_title(
    title: impl Into<SharedString>,
    examples: Vec<ComponentExample>,
) -> ComponentExampleGroup 

## crates/component_preview/examples/component_preview.rs
- [L16:L18]fn main() 

## crates/component_preview/src/component_preview.rs
- [L26:L66]fn init(app_state: Arc<AppState>, cx: &mut App) 
- [L68:L73]enum PreviewEntry {
    AllComponents,
    Separator,
    Component(ComponentMetadata, Option<Vec<usize>>),
    SectionHeader(SharedString),
}
- [L88:L92]enum PreviewPage {
    AllComponents,
    Component(ComponentId),
}
- [L94:L112]struct ComponentPreview {
    active_page: PreviewPage,
    reset_key: usize,
    component_list: ListState,
    entries: Vec<PreviewEntry>,
    component_map: HashMap<ComponentId, ComponentMetadata>,
    components: Vec<ComponentMetadata>,
    cursor_index: usize,
    filter_editor: Entity<InputField>,
    filter_text: String,
    focus_handle: FocusHandle,
    language_registry: Arc<LanguageRegistry>,
    nav_scroll_handle: UniformListScrollHandle,
    project: Entity<Project>,
    user_store: Entity<UserStore>,
    workspace: WeakEntity<Workspace>,
    workspace_id: Option<WorkspaceId>,
    _view_scroll_handle: ScrollHandle,
}
- [L691:L691]struct ActivePageId(pub String);
- [L881:L885]struct ComponentPreviewPage {
    component: ComponentMetadata,
    reset_key: usize,
}

## crates/component_preview/src/component_preview_example.rs
- [L1:L145]fn run_component_preview() 

## crates/component_preview/src/persistence.rs
- [L9:L9]struct ComponentPreviewDb(ThreadSafeConnection);

## crates/context_server/src/client.rs
- [L32:L32]const PARSE_ERROR: i32 = -32700;
- [L33:L33]const INVALID_REQUEST: i32 = -32600;
- [L34:L34]const METHOD_NOT_FOUND: i32 = -32601;
- [L35:L35]const INVALID_PARAMS: i32 = -32602;
- [L36:L36]const INTERNAL_ERROR: i32 = -32603;
- [L44:L47]enum RequestId {
    Int(i32),
    Str(String),
}
- [L71:L73]fn is_null_value<T: Serialize>(value: &T) -> bool 
- [L76:L82]struct Request<'a, T> {
    pub jsonrpc: &'static str,
    pub id: RequestId,
    pub method: &'a str,
    pub params: T,
}
- [L85:L91]struct AnyRequest<'a> {
    pub jsonrpc: &'a str,
    pub id: RequestId,
    pub method: &'a str,
    pub params: Option<&'a RawValue>,
}
- [L94:L101]struct AnyResponse<'a> {
    jsonrpc: &'a str,
    id: RequestId,
    error: Option<Error>,
    result: Option<&'a RawValue>,
}
- [L122:L127]struct Notification<'a, T> {
    jsonrpc: &'static str,
    method: &'a str,
    params: T,
}
- [L130:L139]struct AnyNotification<'a> {
        unused,
        reason = "Part of the JSON-RPC protocol - we expect the field to be present in a valid JSON-RPC notification"
    )]
    jsonrpc: &'a str,
    method: String,
    params: Option<Value>,
}
- [L148:L153]struct ModelContextServerBinary {
    pub executable: PathBuf,
    pub args: Vec<String>,
    pub env: Option<HashMap<String, String>>,
    pub timeout: Option<u64>,
}
- [L471:L471]struct RequestCanceled;
- [L501:L505]struct NotificationSubscriptionSet {
    methods: Vec<(&'static str, Vec<NotificationSubscriptionId>)>,
    handlers: SlotMap<NotificationSubscriptionId, NotificationHandler>,
}
- [L550:L553]struct NotificationSubscription {
    id: NotificationSubscriptionId,
    set: Arc<Mutex<NotificationSubscriptionSet>>,
}

## crates/context_server/src/context_server.rs
- [L1:L1]mod client;
- [L2:L2]mod listener;
- [L3:L3]mod protocol;
- [L5:L5]mod test;
- [L6:L6]mod transport;
- [L7:L7]mod types;
- [L25:L25]struct ContextServerId(pub Arc<str>);
- [L33:L36]enum ContextServerTransport {
    Stdio(ContextServerCommand, Option<PathBuf>),
    Custom(Arc<dyn crate::transport::Transport>),
}
- [L38:L42]struct ContextServer {
    id: ContextServerId,
    client: RwLock<Option<Arc<crate::protocol::InitializedContextServerProtocol>>>,
    configuration: ContextServerTransport,
}

## crates/context_server/src/listener.rs
- [L33:L38]struct McpServer {
    socket_path: PathBuf,
    tools: Rc<RefCell<HashMap<&'static str, RegisteredTool>>>,
    handlers: Rc<RefCell<HashMap<&'static str, RequestHandler>>>,
    _server_task: Task<()>,
}
- [L40:L43]struct RegisteredTool {
    tool: Tool,
    handler: ToolHandler,
}
- [L404:L404]trait McpServerTool {
- [L428:L431]struct ToolResponse<T> {
    pub content: Vec<ToolResponseContent>,
    pub structured_content: T,
}
- [L434:L440]struct RawRequest {
    id: Option<RequestId>,
    method: String,
    params: Option<Box<serde_json::value::RawValue>>,
}

## crates/context_server/src/protocol.rs
- [L18:L20]struct ModelContextProtocol {
    inner: Client,
}
- [L73:L76]struct InitializedContextServerProtocol {
    inner: Client,
    pub initialize: types::InitializeResponse,
}
- [L79:L85]enum ServerCapability {
    Experimental,
    Logging,
    Prompts,
    Resources,
    Tools,
}

## crates/context_server/src/test.rs
- [L12:L23]fn create_fake_transport(
    name: impl Into<String>,
    executor: BackgroundExecutor,
) -> FakeTransport 
- [L25:L35]fn create_initialize_response(server_name: String) -> InitializeResponse 
- [L37:L45]struct FakeTransport {
    request_handlers: HashMap<
        &'static str,
        Arc<dyn Send + Sync + Fn(serde_json::Value) -> BoxFuture<'static, serde_json::Value>>,
    >,
    tx: futures::channel::mpsc::UnboundedSender<String>,
    rx: Arc<Mutex<futures::channel::mpsc::UnboundedReceiver<String>>>,
    executor: BackgroundExecutor,
}

## crates/context_server/src/transport.rs
- [L1:L1]mod http;
- [L13:L13]trait Transport: Send + Sync {

## crates/context_server/src/transport/http.rs
- [L18:L30]struct HttpTransport {
    http_client: Arc<dyn HttpClient>,
    endpoint: String,
    session_id: Arc<SyncMutex<Option<String>>>,
    executor: BackgroundExecutor,
    response_tx: channel::Sender<String>,
    response_rx: channel::Receiver<String>,
    error_tx: channel::Sender<String>,
    error_rx: channel::Receiver<String>,
    headers: HashMap<String, String>,
}

## crates/context_server/src/transport/stdio_transport.rs
- [L21:L26]struct StdioTransport {
    stdout_sender: channel::Sender<String>,
    stdin_receiver: channel::Receiver<String>,
    stderr_receiver: channel::Receiver<String>,
    server: Child,
}

## crates/context_server/src/types.rs
- [L8:L8]const LATEST_PROTOCOL_VERSION: &str = "2025-03-26";
- [L9:L9]const VERSION_2024_11_05: &str = "2024-11-05";
- [L11:L11]mod requests {
- [L82:L82]trait Request {
- [L88:L88]mod notifications {
- [L121:L121]trait Notification {
- [L128:L132]struct MessageParams {
    pub level: LoggingLevel,
    pub logger: Option<String>,
    pub data: serde_json::Value,
}
- [L136:L138]struct ResourcesUpdatedParams {
    pub uri: String,
}
- [L142:L142]struct ProtocolVersion(pub String);
- [L146:L152]struct InitializeParams {
    pub protocol_version: ProtocolVersion,
    pub capabilities: ClientCapabilities,
    pub client_info: Implementation,
    pub meta: Option<HashMap<String, serde_json::Value>>,
}
- [L156:L162]struct CallToolParams {
    pub name: String,
    pub arguments: Option<serde_json::Value>,
    pub meta: Option<HashMap<String, serde_json::Value>>,
}
- [L166:L170]struct ResourcesUnsubscribeParams {
    pub uri: Url,
    pub meta: Option<HashMap<String, serde_json::Value>>,
}
- [L174:L178]struct ResourcesSubscribeParams {
    pub uri: Url,
    pub meta: Option<HashMap<String, serde_json::Value>>,
}
- [L182:L186]struct ResourcesReadParams {
    pub uri: Url,
    pub meta: Option<HashMap<String, serde_json::Value>>,
}
- [L190:L194]struct LoggingSetLevelParams {
    pub level: LoggingLevel,
    pub meta: Option<HashMap<String, serde_json::Value>>,
}
- [L198:L204]struct PromptsGetParams {
    pub name: String,
    pub arguments: Option<HashMap<String, String>>,
    pub meta: Option<HashMap<String, serde_json::Value>>,
}
- [L208:L214]struct CompletionCompleteParams {
    pub reference: CompletionReference,
    pub argument: CompletionArgument,
    pub meta: Option<HashMap<String, serde_json::Value>>,
}
- [L218:L221]enum CompletionReference {
    Prompt(PromptReference),
    Resource(ResourceReference),
}
- [L225:L229]struct PromptReference {
    pub ty: PromptReferenceType,
    pub name: String,
}
- [L233:L237]struct ResourceReference {
    pub ty: PromptReferenceType,
    pub uri: Url,
}
- [L241:L246]enum PromptReferenceType {
    Prompt,
    Resource,
}
- [L250:L253]struct CompletionArgument {
    pub name: String,
    pub value: String,
}
- [L257:L263]struct InitializeResponse {
    pub protocol_version: ProtocolVersion,
    pub capabilities: ServerCapabilities,
    pub server_info: Implementation,
    pub meta: Option<HashMap<String, serde_json::Value>>,
}
- [L267:L271]struct ResourcesReadResponse {
    pub contents: Vec<ResourceContentsType>,
    pub meta: Option<HashMap<String, serde_json::Value>>,
}
- [L275:L278]enum ResourceContentsType {
    Text(TextResourceContents),
    Blob(BlobResourceContents),
}
- [L282:L288]struct ResourcesListResponse {
    pub resources: Vec<Resource>,
    pub next_cursor: Option<String>,
    pub meta: Option<HashMap<String, serde_json::Value>>,
}
- [L292:L295]struct SamplingMessage {
    pub role: Role,
    pub content: MessageContent,
}
- [L299:L314]struct CreateMessageRequest {
    pub messages: Vec<SamplingMessage>,
    pub model_preferences: Option<ModelPreferences>,
    pub system_prompt: Option<String>,
    pub include_context: Option<String>,
    pub temperature: Option<f64>,
    pub max_tokens: u32,
    pub stop_sequences: Option<Vec<String>>,
    pub metadata: Option<serde_json::Value>,
}
- [L318:L324]struct CreateMessageResult {
    pub role: Role,
    pub content: MessageContent,
    pub model: String,
    pub stop_reason: Option<String>,
}
- [L328:L331]struct PromptMessage {
    pub role: Role,
    pub content: MessageContent,
}
- [L335:L338]enum Role {
    User,
    Assistant,
}
- [L342:L369]enum MessageContent {
    Text {
        text: String,
        annotations: Option<MessageAnnotations>,
    },
    Image {
        data: String,
        mime_type: String,
        annotations: Option<MessageAnnotations>,
    },
    Audio {
        data: String,
        mime_type: String,
        annotations: Option<MessageAnnotations>,
    },
    Resource {
        resource: ResourceContents,
        annotations: Option<MessageAnnotations>,
    },
}
- [L373:L378]struct MessageAnnotations {
    pub audience: Option<Vec<Role>>,
    pub priority: Option<f64>,
}
- [L382:L388]struct PromptsGetResponse {
    pub description: Option<String>,
    pub messages: Vec<PromptMessage>,
    pub meta: Option<HashMap<String, serde_json::Value>>,
}
- [L392:L398]struct PromptsListResponse {
    pub prompts: Vec<Prompt>,
    pub next_cursor: Option<String>,
    pub meta: Option<HashMap<String, serde_json::Value>>,
}
- [L402:L406]struct CompletionCompleteResponse {
    pub completion: CompletionResult,
    pub meta: Option<HashMap<String, serde_json::Value>>,
}
- [L410:L418]struct CompletionResult {
    pub values: Vec<String>,
    pub total: Option<u32>,
    pub has_more: Option<bool>,
    pub meta: Option<HashMap<String, serde_json::Value>>,
}
- [L422:L428]struct Prompt {
    pub name: String,
    pub description: Option<String>,
    pub arguments: Option<Vec<PromptArgument>>,
}
- [L432:L438]struct PromptArgument {
    pub name: String,
    pub description: Option<String>,
    pub required: Option<bool>,
}
- [L442:L449]struct ClientCapabilities {
    pub experimental: Option<HashMap<String, serde_json::Value>>,
    pub sampling: Option<serde_json::Value>,
    pub roots: Option<RootsCapabilities>,
}
- [L453:L466]struct ServerCapabilities {
    pub experimental: Option<HashMap<String, serde_json::Value>>,
    pub logging: Option<serde_json::Value>,
    pub completions: Option<serde_json::Value>,
    pub prompts: Option<PromptsCapabilities>,
    pub resources: Option<ResourcesCapabilities>,
    pub tools: Option<ToolsCapabilities>,
}
- [L470:L473]struct PromptsCapabilities {
    pub list_changed: Option<bool>,
}
- [L477:L482]struct ResourcesCapabilities {
    pub subscribe: Option<bool>,
    pub list_changed: Option<bool>,
}
- [L486:L489]struct ToolsCapabilities {
    pub list_changed: Option<bool>,
}
- [L493:L496]struct RootsCapabilities {
    pub list_changed: Option<bool>,
}
- [L500:L509]struct Tool {
    pub name: String,
    pub description: Option<String>,
    pub input_schema: serde_json::Value,
    pub output_schema: Option<serde_json::Value>,
    pub annotations: Option<ToolAnnotations>,
}
- [L513:L529]struct ToolAnnotations {
    pub title: Option<String>,
    pub read_only_hint: Option<bool>,
    pub destructive_hint: Option<bool>,
    pub idempotent_hint: Option<bool>,
    pub open_world_hint: Option<bool>,
}
- [L533:L536]struct Implementation {
    pub name: String,
    pub version: String,
}
- [L540:L547]struct Resource {
    pub uri: Url,
    pub name: String,
    pub description: Option<String>,
    pub mime_type: Option<String>,
}
- [L551:L555]struct ResourceContents {
    pub uri: Url,
    pub mime_type: Option<String>,
}
- [L559:L564]struct TextResourceContents {
    pub uri: Url,
    pub mime_type: Option<String>,
    pub text: String,
}
- [L568:L573]struct BlobResourceContents {
    pub uri: Url,
    pub mime_type: Option<String>,
    pub blob: String,
}
- [L577:L584]struct ResourceTemplate {
    pub uri_template: String,
    pub name: String,
    pub description: Option<String>,
    pub mime_type: Option<String>,
}
- [L588:L597]enum LoggingLevel {
    Debug,
    Info,
    Notice,
    Warning,
    Error,
    Critical,
    Alert,
    Emergency,
}
- [L601:L610]struct ModelPreferences {
    pub hints: Option<Vec<ModelHint>>,
    pub cost_priority: Option<f64>,
    pub speed_priority: Option<f64>,
    pub intelligence_priority: Option<f64>,
}
- [L614:L617]struct ModelHint {
    pub name: Option<String>,
}
- [L621:L626]enum ClientNotification {
    Initialized,
    Progress(ProgressParams),
    RootsListChanged,
    Cancelled(CancelledParams),
}
- [L630:L634]struct CancelledParams {
    pub request_id: RequestId,
    pub reason: Option<String>,
}
- [L638:L641]enum ProgressToken {
    String(String),
    Number(f64),
}
- [L645:L654]struct ProgressParams {
    pub progress_token: ProgressToken,
    pub progress: f64,
    pub message: Option<String>,
    pub total: Option<f64>,
    pub meta: Option<HashMap<String, serde_json::Value>>,
}
- [L656:L660]enum CompletionTotal {
    Exact(u32),
    HasMore,
    Unknown,
}
- [L672:L675]struct Completion {
    pub values: Vec<String>,
    pub total: CompletionTotal,
}
- [L679:L687]struct CallToolResponse {
    pub content: Vec<ToolResponseContent>,
    pub is_error: Option<bool>,
    pub meta: Option<HashMap<String, serde_json::Value>>,
    pub structured_content: Option<serde_json::Value>,
}
- [L703:L712]enum ToolResponseContent {
    Text { text: String },
    Image { data: String, mime_type: String },
    Audio { data: String, mime_type: String },
    Resource { resource: ResourceContents },
}
- [L726:L732]struct ListToolsResponse {
    pub tools: Vec<Tool>,
    pub next_cursor: Option<String>,
    pub meta: Option<HashMap<String, serde_json::Value>>,
}
- [L736:L742]struct ListResourceTemplatesResponse {
    pub resource_templates: Vec<ResourceTemplate>,
    pub next_cursor: Option<String>,
    pub meta: Option<HashMap<String, serde_json::Value>>,
}
- [L746:L750]struct ListRootsResponse {
    pub roots: Vec<Root>,
    pub meta: Option<HashMap<String, serde_json::Value>>,
}
- [L754:L758]struct Root {
    pub uri: Url,
    pub name: Option<String>,
}

## crates/copilot/src/copilot.rs
- [L1:L1]mod copilot_chat;
- [L3:L3]mod copilot_responses;
- [L4:L4]mod request;
- [L71:L113]fn init(
    new_server_id: LanguageServerId,
    fs: Arc<dyn Fs>,
    http: Arc<dyn HttpClient>,
    node_runtime: NodeRuntime,
    cx: &mut App,
) 
- [L115:L120]enum CopilotServer {
    Disabled,
    Starting { task: Shared<Task<()>> },
    Error(Arc<str>),
    Running(RunningCopilotServer),
}
- [L144:L148]struct RunningCopilotServer {
    lsp: Arc<LanguageServer>,
    sign_in_status: SignInStatus,
    registered_buffers: HashMap<EntityId, RegisteredBuffer>,
}
- [L151:L161]enum SignInStatus {
    Authorized,
    Unauthorized,
    SigningIn {
        prompt: Option<request::PromptUserDeviceFlow>,
        task: Shared<Task<Result<(), Arc<anyhow::Error>>>>,
    },
    SignedOut {
        awaiting_signing_in: bool,
    },
}
- [L164:L178]enum Status {
    Starting {
        task: Shared<Task<()>>,
    },
    Error(Arc<str>),
    Disabled,
    SignedOut {
        awaiting_signing_in: bool,
    },
    SigningIn {
        prompt: Option<request::PromptUserDeviceFlow>,
    },
    Unauthorized,
    Authorized,
}
- [L196:L201]struct RegisteredBuffer {
    uri: lsp::Uri,
    language_id: String,
    snapshot: BufferSnapshot,
    snapshot_version: i32,
    _subscriptions: [gpui::Subscription; 2],
- [L292:L296]struct Completion {
    pub uuid: String,
    pub range: Range<Anchor>,
    pub text: String,
}
- [L298:L305]struct Copilot {
    fs: Arc<dyn Fs>,
    node_runtime: NodeRuntime,
    server: CopilotServer,
    buffers: HashSet<WeakEntity<Buffer>>,
    server_id: LanguageServerId,
    _subscription: gpui::Subscription,
}
- [L307:L311]enum Event {
    CopilotLanguageServerStarted,
    CopilotAuthSignedIn,
    CopilotAuthSignedOut,
}
- [L315:L315]struct GlobalCopilot(Entity<Copilot>);
- [L319:L326]struct CopilotEditPrediction {
    buffer: Entity<Buffer>,
    range: Range<Anchor>,
    text: String,
    command: Option<lsp::Command>,
    snapshot: BufferSnapshot,
}
- [L1069:L1073]fn id_for_language(language: Option<&Arc<Language>>) -> String 
- [L1075:L1083]fn uri_for_buffer(buffer: &Entity<Buffer>, cx: &App) -> Result<lsp::Uri, ()> 
- [L1085:L1121]fn notify_did_change_config_to_server(
    server: &Arc<LanguageServer>,
    cx: &mut Context<Copilot>,
) -> std::result::Result<(), anyhow::Error> 
- [L1430:L1432]fn init_logger() 

## crates/copilot/src/copilot_chat.rs
- [L22:L22]const COPILOT_OAUTH_ENV_VAR: &str = "GH_COPILOT_TOKEN";
- [L25:L27]struct CopilotChatConfiguration {
    pub enterprise_uri: Option<String>,
}
- [L74:L78]enum Role {
    User,
    Assistant,
    System,
}
- [L81:L86]enum ModelSupportedEndpoint {
    ChatCompletions,
    Responses,
}
- [L89:L92]struct ModelSchema {
    data: Vec<Model>,
}
- [L94:L111]fn deserialize_models_skip_errors<'de, D>(deserializer: D) -> Result<Vec<Model>, D::Error>
where
    D: serde::Deserializer<'de>,
- [L114:L128]struct Model {
    billing: ModelBilling,
    capabilities: ModelCapabilities,
    id: String,
    name: String,
    policy: Option<ModelPolicy>,
    vendor: ModelVendor,
    is_chat_default: bool,
    is_chat_fallback: bool,
    model_picker_enabled: bool,
    supported_endpoints: Vec<ModelSupportedEndpoint>,
}
- [L131:L138]struct ModelBilling {
    is_premium: bool,
    multiplier: f64,
    restricted_to: Option<Vec<String>>,
}
- [L141:L150]struct ModelCapabilities {
    family: String,
    limits: ModelLimits,
    supports: ModelSupportedFeatures,
    model_type: String,
    tokenizer: Option<String>,
}
- [L153:L160]struct ModelLimits {
    max_context_window_tokens: usize,
    max_output_tokens: usize,
    max_prompt_tokens: u64,
}
- [L163:L165]struct ModelPolicy {
    state: String,
}
- [L168:L177]struct ModelSupportedFeatures {
    streaming: bool,
    tool_calls: bool,
    parallel_tool_calls: bool,
    vision: bool,
}
- [L180:L191]enum ModelVendor {
    OpenAI,
    Google,
    Anthropic,
    XAI,
    Unknown,
}
- [L195:L200]enum ChatMessagePart {
    Text { text: String },
    Image { image_url: ImageUrl },
}
- [L203:L205]struct ImageUrl {
    pub url: String,
}
- [L256:L267]struct Request {
    pub intent: bool,
    pub n: usize,
    pub stream: bool,
    pub temperature: f32,
    pub model: String,
    pub messages: Vec<ChatMessage>,
    pub tools: Vec<Tool>,
    pub tool_choice: Option<ToolChoice>,
}
- [L270:L274]struct Function {
    pub name: String,
    pub description: String,
    pub parameters: serde_json::Value,
}
- [L278:L280]enum Tool {
    Function { function: Function },
}
- [L284:L288]enum ToolChoice {
    Auto,
    Any,
    None,
}
- [L292:L312]enum ChatMessage {
    Assistant {
        content: ChatMessageContent,
        tool_calls: Vec<ToolCall>,
        reasoning_opaque: Option<String>,
        reasoning_text: Option<String>,
    },
    User {
        content: ChatMessageContent,
    },
    System {
        content: String,
    },
    Tool {
        content: ChatMessageContent,
        tool_call_id: String,
    },
}
- [L316:L319]enum ChatMessageContent {
    Plain(String),
    Multipart(Vec<ChatMessagePart>),
}
- [L344:L348]struct ToolCall {
    pub id: String,
    pub content: ToolCallContent,
}
- [L352:L354]enum ToolCallContent {
    Function { function: FunctionContent },
}
- [L357:L362]struct FunctionContent {
    pub name: String,
    pub arguments: String,
    pub thought_signature: Option<String>,
}
- [L366:L370]struct ResponseEvent {
    pub choices: Vec<ResponseChoice>,
    pub id: String,
    pub usage: Option<Usage>,
}
- [L373:L377]struct Usage {
    pub completion_tokens: u64,
    pub prompt_tokens: u64,
    pub total_tokens: u64,
}
- [L380:L385]struct ResponseChoice {
    pub index: Option<usize>,
    pub finish_reason: Option<String>,
    pub delta: Option<ResponseDelta>,
    pub message: Option<ResponseDelta>,
}
- [L388:L395]struct ResponseDelta {
    pub content: Option<String>,
    pub role: Option<Role>,
    pub tool_calls: Vec<ToolCallChunk>,
    pub reasoning_opaque: Option<String>,
    pub reasoning_text: Option<String>,
}
- [L397:L401]struct ToolCallChunk {
    pub index: Option<usize>,
    pub id: Option<String>,
    pub function: Option<FunctionChunk>,
}
- [L404:L408]struct FunctionChunk {
    pub name: Option<String>,
    pub arguments: Option<String>,
    pub thought_signature: Option<String>,
}
- [L411:L415]struct ApiTokenResponse {
    token: String,
    expires_at: i64,
    endpoints: ApiTokenResponseEndpoints,
}
- [L418:L420]struct ApiTokenResponseEndpoints {
    api: String,
}
- [L423:L427]struct ApiToken {
    api_key: String,
    expires_at: DateTime<chrono::Utc>,
    api_endpoint: String,
}
- [L452:L452]struct GlobalCopilotChat(gpui::Entity<CopilotChat>);
- [L456:L462]struct CopilotChat {
    oauth_token: Option<String>,
    api_token: Option<ApiToken>,
    configuration: CopilotChatConfiguration,
    models: Option<Vec<Model>>,
    client: Arc<dyn HttpClient>,
}
- [L464:L472]fn init(
    fs: Arc<dyn Fs>,
    client: Arc<dyn HttpClient>,
    configuration: CopilotChatConfiguration,
    cx: &mut App,
) 
- [L474:L488]fn copilot_chat_config_dir() -> &'static PathBuf 
- [L490:L493]fn copilot_chat_config_paths() -> [PathBuf; 2] 
- [L770:L785]fn extract_oauth_token(contents: String, domain: &str) -> Option<String> 

## crates/copilot/src/copilot_edit_prediction_delegate.rs
- [L8:L8]const COPILOT_DEBOUNCE_TIMEOUT: Duration = Duration::from_millis(75);
- [L10:L14]struct CopilotEditPredictionDelegate {
    completion: Option<(CopilotEditPrediction, EditPreview)>,
    pending_refresh: Option<Task<Result<()>>>,
    copilot: Entity<Copilot>,
}
- [L147:L172]fn trim_completion(
    completion: &CopilotEditPrediction,
    cx: &mut App,
) -> Option<(Range<Anchor>, Arc<str>)> 
- [L174:L179]fn common_prefix<T1: Iterator<Item = char>, T2: Iterator<Item = char>>(a: T1, b: T2) -> usize 

## crates/copilot/src/copilot_responses.rs
- [L10:L25]struct Request {
    pub model: String,
    pub input: Vec<ResponseInputItem>,
    pub stream: bool,
    pub temperature: Option<f32>,
    pub tools: Vec<ToolDefinition>,
    pub tool_choice: Option<ToolChoice>,
    pub reasoning: Option<ReasoningConfig>,
    pub include: Option<Vec<ResponseIncludable>>,
}
- [L29:L32]enum ResponseIncludable {
    ReasoningEncryptedContent,
}
- [L36:L46]enum ToolDefinition {
    Function {
        name: String,
        description: Option<String>,
        parameters: Option<Value>,
        strict: Option<bool>,
    },
}
- [L50:L56]enum ToolChoice {
    Auto,
    Any,
    None,
    Other(ToolDefinition),
}
- [L60:L64]enum ReasoningSummary {
    Auto,
    Concise,
    Detailed,
}
- [L67:L71]struct ReasoningConfig {
    pub effort: ReasoningEffort,
    pub summary: Option<ReasoningSummary>,
}
- [L75:L80]enum ResponseImageDetail {
    Low,
    High,
    Auto,
}
- [L84:L97]enum ResponseInputContent {
    InputText {
        text: String,
    },
    OutputText {
        text: String,
    },
    InputImage {
        image_url: Option<String>,
        detail: ResponseImageDetail,
    },
}
- [L101:L105]enum ItemStatus {
    InProgress,
    Completed,
    Incomplete,
}
- [L109:L112]enum ResponseFunctionOutput {
    Text(String),
    Content(Vec<ResponseInputContent>),
}
- [L116:L145]enum ResponseInputItem {
    Message {
        role: String,
        content: Option<Vec<ResponseInputContent>>,
        status: Option<String>,
    },
    FunctionCall {
        call_id: String,
        name: String,
        arguments: String,
        status: Option<ItemStatus>,
        thought_signature: Option<String>,
    },
    FunctionCallOutput {
        call_id: String,
        output: ResponseFunctionOutput,
        status: Option<ItemStatus>,
    },
    Reasoning {
        id: Option<String>,
        summary: Vec<ResponseReasoningItem>,
        encrypted_content: String,
    },
}
- [L149:L154]enum IncompleteReason {
    MaxOutputTokens,
    ContentFilter,
}
- [L157:L160]struct IncompleteDetails {
    pub reason: Option<IncompleteReason>,
}
- [L163:L167]struct ResponseReasoningItem {
    pub kind: String,
    pub text: String,
}
- [L171:L212]enum StreamEvent {
    GenericError { error: ResponseError },
    Created { response: Response },
    OutputItemAdded {
        output_index: usize,
        sequence_number: Option<u64>,
        item: ResponseOutputItem,
    },
    OutputTextDelta {
        item_id: String,
        output_index: usize,
        delta: String,
    },
    OutputItemDone {
        output_index: usize,
        sequence_number: Option<u64>,
        item: ResponseOutputItem,
    },
    Incomplete { response: Response },
    Completed { response: Response },
    Failed { response: Response },
    Unknown,
}
- [L215:L218]struct ResponseError {
    pub code: String,
    pub message: String,
}
- [L221:L230]struct Response {
    pub id: Option<String>,
    pub status: Option<String>,
    pub usage: Option<ResponseUsage>,
    pub output: Vec<ResponseOutputItem>,
    pub incomplete_details: Option<IncompleteDetails>,
    pub error: Option<ResponseError>,
}
- [L233:L237]struct ResponseUsage {
    pub input_tokens: Option<u64>,
    pub output_tokens: Option<u64>,
    pub total_tokens: Option<u64>,
}
- [L241:L266]enum ResponseOutputItem {
    Message {
        id: String,
        role: String,
        content: Option<Vec<ResponseOutputContent>>,
    },
    FunctionCall {
        id: Option<String>,
        call_id: String,
        name: String,
        arguments: String,
        status: Option<ItemStatus>,
        thought_signature: Option<String>,
    },
    Reasoning {
        id: String,
        summary: Option<Vec<ResponseReasoningItem>>,
        encrypted_content: Option<String>,
    },
}
- [L270:L273]enum ResponseOutputContent {
    OutputText { text: String },
    Refusal { refusal: String },
}
- [L275:L275]async fn stream_response(

## crates/copilot/src/request.rs
- [L4:L4]enum CheckStatus {}
- [L8:L10]struct CheckStatusParams {
    pub local_checks_only: bool,
}
- [L18:L18]enum SignInInitiate {}
- [L21:L21]struct SignInInitiateParams {}
- [L25:L28]enum SignInInitiateResult {
    AlreadySignedIn { user: String },
    PromptUserDeviceFlow(PromptUserDeviceFlow),
}
- [L32:L35]struct PromptUserDeviceFlow {
    pub user_code: String,
    pub verification_uri: String,
}
- [L43:L43]enum SignInConfirm {}
- [L47:L49]struct SignInConfirmParams {
    pub user_code: String,
}
- [L53:L68]enum SignInStatus {
    Ok {
        user: Option<String>,
    },
    MaybeOk {
        user: String,
    },
    AlreadySignedIn {
        user: String,
    },
    NotAuthorized {
        user: String,
    },
    NotSignedIn,
}
- [L76:L76]enum SignOut {}
- [L80:L80]struct SignOutParams {}
- [L84:L84]struct SignOutResult {}
- [L92:L92]enum StatusNotification {}
- [L95:L98]struct StatusNotificationParams {
    pub message: String,
    pub status: String,
}
- [L105:L105]enum SetEditorInfo {}
- [L109:L112]struct SetEditorInfoParams {
    pub editor_info: EditorInfo,
    pub editor_plugin_info: EditorPluginInfo,
}
- [L122:L125]struct EditorInfo {
    pub name: String,
    pub version: String,
}
- [L129:L132]struct EditorPluginInfo {
    pub name: String,
    pub version: String,
}
- [L134:L134]enum NotifyAccepted {}
- [L138:L140]struct NotifyAcceptedParams {
    pub uuid: String,
}
- [L148:L148]enum NotifyRejected {}
- [L152:L154]struct NotifyRejectedParams {
    pub uuids: Vec<String>,
}
- [L164:L164]struct NextEditSuggestions;
- [L168:L171]struct NextEditSuggestionsParams {
    pub(crate) text_document: VersionedTextDocumentIdentifier,
    pub(crate) position: lsp::Position,
}
- [L175:L180]struct NextEditSuggestion {
    pub text: String,
    pub text_document: VersionedTextDocumentIdentifier,
    pub range: lsp::Range,
    pub command: Option<lsp::Command>,
}
- [L184:L186]struct NextEditSuggestionsResult {
    pub edits: Vec<NextEditSuggestion>,
}

## crates/copilot/src/sign_in.rs
- [L17:L17]struct CopilotStatusToast;
- [L19:L22]fn initiate_sign_in(window: &mut Window, cx: &mut App) 
- [L24:L48]fn initiate_sign_out(window: &mut Window, cx: &mut App) 
- [L50:L57]fn reinstall_and_sign_in(window: &mut Window, cx: &mut App) 
- [L59:L83]fn open_copilot_code_verification_window(copilot: &Entity<Copilot>, window: &Window, cx: &mut App) 
- [L85:L96]fn copilot_toast(message: Option<&'static str>, window: &Window, cx: &mut App) 
- [L98:L148]fn initiate_sign_in_impl(is_reinstall: bool, window: &mut Window, cx: &mut App) 
- [L150:L157]struct CopilotCodeVerification {
    status: Status,
    connect_clicked: bool,
    focus_handle: FocusHandle,
    copilot: Entity<Copilot>,
    _subscription: Subscription,
    sign_up_url: Option<String>,
}
- [L449:L454]struct ConfigurationView {
    copilot_status: Option<Status>,
    is_authenticated: fn(cx: &App) -> bool,
    edit_prediction: bool,
    _subscription: Option<Subscription>,
}
- [L456:L459]enum ConfigurationMode {
    Chat,
    EditPrediction,
}

## crates/crashes/src/crashes.rs
- [L28:L28]static CRASH_HANDLER: OnceLock<Arc<Client>> = OnceLock::new();
- [L30:L30]static REQUESTED_MINIDUMP: AtomicBool = AtomicBool::new(false);
- [L35:L35]static PANIC_THREAD_ID: AtomicU32 = AtomicU32::new(0);
- [L37:L37]async fn init(crash_init: InitCrashHandler) {
- [L163:L168]struct CrashServer {
    initialization_params: OnceLock<InitCrashHandler>,
    panic_info: OnceLock<CrashPanic>,
    active_gpu: OnceLock<system_specs::GpuSpecs>,
    has_connection: Arc<AtomicBool>,
}
- [L171:L177]struct CrashInfo {
    pub init: InitCrashHandler,
    pub panic: Option<CrashPanic>,
    pub minidump_error: Option<String>,
    pub gpus: Vec<system_specs::GpuInfo>,
    pub active_gpu: Option<system_specs::GpuSpecs>,
}
- [L180:L186]struct InitCrashHandler {
    pub session_id: String,
    pub zed_version: String,
    pub binary: String,
    pub release_channel: String,
    pub commit_sha: String,
}
- [L189:L192]struct CrashPanic {
    pub message: String,
    pub span: String,
}
- [L298:L349]fn panic_hook(info: &PanicHookInfo) 
- [L353:L401]fn spawn_crash_handler_windows(exe: &Path, socket_name: &Path) 
- [L403:L438]fn crash_server(socket: &Path) 

## crates/credentials_provider/src/credentials_provider.rs
- [L21:L21]static ZED_DEVELOPMENT_USE_KEYCHAIN: LazyLock<bool> = LazyLock::new(|| {
- [L29:L29]trait CredentialsProvider: Send + Sync {
- [L86:L87]struct KeychainCredentialsProvider;
- [L121:L130]struct DevelopmentCredentialsProvider {
    path: PathBuf,
}

## crates/dap/src/adapters.rs
- [L30:L35]enum DapStatus {
    None,
    CheckingForUpdate,
    Downloading,
    Failed { error: String },
}
- [L38:L38]trait DapDelegate: Send + Sync + 'static {
- [L56:L56]struct DebugAdapterName(pub SharedString);
- [L108:L112]struct TcpArguments {
    pub host: Ipv4Addr,
    pub port: u16,
    pub timeout: Option<u64>,
}
- [L144:L157]struct DebugTaskDefinition {
    pub label: SharedString,
    pub adapter: DebugAdapterName,
    pub config: serde_json::Value,
    pub tcp_connection: Option<TcpArgumentsTemplate>,
}
- [L192:L201]struct DebugAdapterBinary {
    pub command: Option<String>,
    pub arguments: Vec<String>,
    pub envs: HashMap<String, String>,
    pub cwd: Option<PathBuf>,
    pub connection: Option<TcpArguments>,
    pub request_args: StartDebuggingRequestArguments,
}
- [L258:L261]struct AdapterVersion {
    pub tag_name: String,
    pub url: String,
}
- [L263:L267]enum DownloadedFileType {
    Vsix,
    GzipTar,
    Zip,
}
- [L269:L272]struct GithubRepo {
    pub repo_name: String,
    pub repo_owner: String,
}
- [L274:L274]async fn download_adapter_from_github(
- [L349:L349]trait DebugAdapter: 'static + Send + Sync {
- [L401:L401]struct FakeAdapter {}

## crates/dap/src/client.rs
- [L19:L19]struct SessionId(pub u32);
- [L31:L37]struct DebugAdapterClient {
    id: SessionId,
    sequence_count: AtomicU64,
    binary: DebugAdapterBinary,
    transport_delegate: TransportDelegate,
}
- [L39:L39]type DapMessageHandler = Box<dyn FnMut(Message) + 'static + Send + Sync>;

## crates/dap/src/dap.rs
- [L1:L1]mod adapters;
- [L2:L2]mod client;
- [L3:L3]mod debugger_settings;
- [L4:L4]mod inline_value;
- [L5:L5]mod proto_conversions;
- [L7:L7]mod transport;
- [L19:L19]type ScopeId = u64;
- [L20:L20]type VariableReference = u64;
- [L21:L21]type StackFrameId = u64;
- [L27:L27]async fn configure_tcp_connection(
- [L44:L48]enum TelemetrySpawnLocation {
    Gutter,
    ScenarioList,
    Custom,
}
- [L50:L76]fn send_telemetry(scenario: &DebugScenario, location: TelemetrySpawnLocation, cx: &App) 

## crates/dap/src/debugger_settings.rs
- [L5:L34]struct DebuggerSettings {
    pub stepping_granularity: SteppingGranularity,
    pub save_breakpoints: bool,
    pub button: bool,
    pub timeout: u64,
    pub log_dap_communications: bool,
    pub format_dap_log_messages: bool,
    pub dock: settings::DockPosition,
}
- [L53:L61]fn dap_granularity_from_settings(
    granularity: settings::SteppingGranularity,
) -> dap_types::SteppingGranularity 

## crates/dap/src/inline_value.rs
- [L2:L5]enum VariableLookupKind {
    Variable,
    Expression,
}
- [L8:L11]enum VariableScope {
    Local,
    Global,
}
- [L14:L20]struct InlineValueLocation {
    pub variable_name: String,
    pub scope: VariableScope,
    pub lookup: VariableLookupKind,
    pub row: usize,
    pub column: usize,
}

## crates/dap/src/proto_conversions.rs
- [L8:L8]trait ProtoConversion {

## crates/dap/src/registry.rs
- [L16:L16]trait DapLocator: Send + Sync {
- [L30:L33]struct DapRegistryState {
    adapters: BTreeMap<DebugAdapterName, Arc<dyn DebugAdapter>>,
    locators: FxHashMap<SharedString, Arc<dyn DapLocator>>,
}
- [L36:L37]struct DapRegistry(Arc<RwLock<DapRegistryState>>);

## crates/dap/src/transport.rs
- [L37:L37]type IoHandler = Box<dyn Send + FnMut(IoKind, Option<&Command>, &IoMessage)>;
- [L40:L43]enum LogKind {
    Adapter,
    Rpc,
}
- [L46:L50]enum IoKind {
    StdIn,
    StdOut,
    StdErr,
}
- [L53:L56]enum RequestHandling<T> {
    Respond(T),
    Exit,
}
- [L60:L60]trait Transport: Send + Sync {
- [L477:L485]struct TcpTransport {
    executor: BackgroundExecutor,
    pub port: u16,
    pub host: Ipv4Addr,
    pub timeout: u64,
    process: Arc<Mutex<Option<Child>>>,
    _stderr_task: Option<Task<()>>,
    _stdout_task: Option<Task<()>>,
}
- [L655:L658]struct StdioTransport {
    process: Mutex<Child>,
    _stderr_task: Option<Task<()>>,
}
- [L745:L752]struct FakeTransport {
    request_handlers: Arc<Mutex<HashMap<&'static str, RequestHandler>>>,
    response_handlers: Arc<Mutex<HashMap<&'static str, ResponseHandler>>>,
    message_handler: Option<Task<Result<()>>>,
    kind: FakeTransportKind,
}
- [L755:L764]enum FakeTransportKind {
    Stdio {
        stdin_writer: Option<PipeWriter>,
        stdout_reader: Option<PipeReader>,
    },
    Tcp {
        connection: TcpArguments,
        executor: BackgroundExecutor,
    },
}
- [L1028:L1030]struct Child {
    process: smol::process::Child,
}

## crates/dap_adapters/src/codelldb.rs

## crates/dap_adapters/src/dap_adapters.rs
- [L29:L42]fn init(cx: &mut App) 

## crates/dap_adapters/src/gdb.rs
- [L18:L24]fn ensure_dap_interface(mut gdb_args: Vec<String>) -> Vec<String> 

## crates/dap_adapters/src/go.rs

## crates/dap_adapters/src/javascript.rs
- [L555:L569]fn normalize_task_type(task_type: &mut Value) 

## crates/dap_adapters/src/python.rs
- [L26:L29]enum DebugpyLaunchMode<'a> {
    Normal,
    AttachWithConnect { host: Option<&'a str> },
}

## crates/db/src/db.rs
- [L1:L1]mod kvp;
- [L2:L2]mod query;
- [L40:L40]static ALL_FILE_DB_FAILED: LazyLock<AtomicBool> = LazyLock::new(|| AtomicBool::new(false));
- [L46:L46]async fn open_db<M: Migrator + 'static>(db_dir: &Path, scope: &str) -> ThreadSafeConnection {
- [L97:L97]async fn open_test_db<M: Migrator>(db_name: &str) -> ThreadSafeConnection {
- [L154:L160]fn write_and_log<F>(cx: &App, db_write: impl FnOnce() -> F + Send + 'static)
where
    F: Future<Output = anyhow::Result<()>> + Send,

## crates/db/src/kvp.rs
- [L11:L11]struct KeyValueStore(crate::sqlez::thread_safe_connection::ThreadSafeConnection);
- [L26:L26]trait Dismissable {
- [L104:L104]struct GlobalKeyValueStore(ThreadSafeConnection);

## crates/db/src/query.rs

## crates/debug_adapter_extension/src/debug_adapter_extension.rs
- [L14:L17]fn init(extension_host_proxy: Arc<ExtensionHostProxy>, cx: &mut App) 
- [L20:L22]struct DebugAdapterRegistryProxy {
    debug_adapter_registry: DapRegistry,
}

## crates/debug_adapter_extension/src/extension_dap_adapter.rs
- [L49:L50]struct WorktreeDelegateAdapter(pub Arc<dyn DapDelegate>);

## crates/debug_adapter_extension/src/extension_locator_adapter.rs

## crates/debugger_tools/src/dap_log.rs
- [L36:L40]enum View {
    AdapterLogs,
    RpcMessages,
    InitializationSequence,
}
- [L42:L50]struct DapLogView {
    editor: Entity<Editor>,
    focus_handle: FocusHandle,
    log_store: Entity<LogStore>,
    editor_subscriptions: Vec<Subscription>,
    current_view: Option<(SessionId, View)>,
    project: Entity<Project>,
    _subscriptions: Vec<Subscription>,
}
- [L52:L55]struct LogStoreEntryIdentifier<'a> {
    session_id: SessionId,
    project: Cow<'a, WeakEntity<Project>>,
}
- [L65:L70]struct LogStoreMessage {
    id: LogStoreEntryIdentifier<'static>,
    kind: IoKind,
    command: Option<SharedString>,
    message: SharedString,
}
- [L72:L76]struct LogStore {
    projects: HashMap<WeakEntity<Project>, ProjectState>,
    rpc_tx: UnboundedSender<LogStoreMessage>,
    adapter_log_tx: UnboundedSender<LogStoreMessage>,
}
- [L78:L80]struct ProjectState {
    debug_sessions: BTreeMap<SessionId, DebugAdapterState>,
    _subscriptions: [gpui::Subscription; 2],
- [L83:L91]struct DebugAdapterState {
    id: SessionId,
    log_messages: VecDeque<SharedString>,
    rpc_messages: RpcMessages,
    session_label: SharedString,
    adapter_name: DebugAdapterName,
    has_adapter_logs: bool,
    is_terminated: bool,
}
- [L93:L98]struct RpcMessages {
    messages: VecDeque<SharedString>,
    last_message_kind: Option<MessageKind>,
    initialization_sequence: Vec<SharedString>,
    last_init_message_kind: Option<MessageKind>,
}
- [L117:L120]enum MessageKind {
    Send,
    Receive,
}
- [L493:L495]struct DapLogToolbarItemView {
    log_view: Option<Entity<DapLogView>>,
}
- [L920:L926]fn log_contents(lines: impl Iterator<Item = SharedString>) -> String 
- [L929:L935]struct DapMenuItem {
    session_id: SessionId,
    session_label: SharedString,
    adapter_name: DebugAdapterName,
    has_adapter_logs: bool,
    selected_entry: View,
}
- [L957:L984]fn init(cx: &mut App) 
- [L1105:L1111]enum Event {
    NewLogEntry {
        id: LogStoreEntryIdentifier<'static>,
        entry: SharedString,
        kind: LogKind,
    },
}

## crates/debugger_tools/src/debugger_tools.rs
- [L6:L8]fn init(cx: &mut App) 

## crates/debugger_ui/src/attach_modal.rs
- [L59:L62]struct AttachModal {
    _subscription: Subscription,
    pub(crate) picker: Entity<Picker<AttachModalDelegate>>,
}
- [L360:L414]fn get_processes_for_project(project: &Entity<Project>, cx: &mut App) -> Task<Arc<[Candidate]>> 

## crates/debugger_ui/src/debugger_panel.rs
- [L48:L48]struct DebuggerHistoryFeatureFlag;
- [L56:L70]struct DebugPanel {
    size: Pixels,
    active_session: Option<Entity<DebugSession>>,
    project: Entity<Project>,
    workspace: WeakEntity<Workspace>,
    focus_handle: FocusHandle,
    context_menu: Option<(Entity<ContextMenu>, Point<Pixels>, Subscription)>,
    debug_scenario_scheduled_last: bool,
    pub(crate) sessions_with_children:
        IndexMap<Entity<DebugSession>, Vec<WeakEntity<DebugSession>>>,
    pub(crate) thread_picker_menu_handle: PopoverMenuHandle<ContextMenu>,
    pub(crate) session_picker_menu_handle: PopoverMenuHandle<ContextMenu>,
    fs: Arc<dyn Fs>,
    is_zoomed: bool,
    _subscriptions: [Subscription; 1],
- [L1955:L1955]struct DebuggerProvider(Entity<DebugPanel>);

## crates/debugger_ui/src/debugger_ui.rs
- [L20:L20]mod attach_modal;
- [L21:L21]mod debugger_panel;
- [L30:L30]mod tests;
- [L93:L105]struct ToggleDataBreakpoint {
    pub access_type: Option<dap::DataBreakpointAccessType>,
}
- [L115:L438]fn init(cx: &mut App) 
- [L440:L483]fn spawn_task_or_modal(
    workspace: &mut Workspace,
    action: &Spawn,
    window: &mut ui::Window,
    cx: &mut ui::Context<Workspace>,
) 

## crates/debugger_ui/src/dropdown_menus.rs
- [L14:L17]struct SessionListEntry {
    ancestors: Vec<Entity<DebugSession>>,
    leaf: Entity<DebugSession>,
}

## crates/debugger_ui/src/new_process_modal.rs
- [L51:L67]fn suggested_label(request: &DebugRequest, debugger: &str) -> SharedString 
- [L520:L520]static SELECT_DEBUGGER_LABEL: SharedString = SharedString::new_static("Select Debugger");

## crates/debugger_ui/src/onboarding_modal.rs
- [L18:L21]struct DebuggerOnboardingModal {
    focus_handle: FocusHandle,
    workspace: Entity<Workspace>,
}

## crates/debugger_ui/src/persistence.rs
- [L169:L188]fn serialize_pane(pane: &Entity<Pane>, cx: &App) -> SerializedPane 

## crates/debugger_ui/src/session.rs
- [L1:L1]mod running;
- [L18:L25]struct DebugSession {
    remote_id: Option<workspace::ViewId>,
    pub(crate) running_state: Entity<RunningState>,
    pub(crate) quirks: SessionQuirks,
    stack_trace_view: OnceCell<Entity<StackTraceView>>,
    _worktree_store: WeakEntity<WorktreeStore>,
    workspace: WeakEntity<Workspace>,
}

## crates/debugger_ui/src/session/running.rs
- [L6:L6]mod stack_frame_list;
- [L7:L7]mod variable_list;
- [L66:L66]static PROCESS_ID_PLACEHOLDER: LazyLock<String> =
- [L69:L92]struct RunningState {
    session: Entity<Session>,
    thread_id: Option<ThreadId>,
    focus_handle: FocusHandle,
    _remote_id: Option<ViewId>,
    workspace: WeakEntity<Workspace>,
    session_id: SessionId,
    variable_list: Entity<variable_list::VariableList>,
    _subscriptions: Vec<Subscription>,
    stack_frame_list: Entity<stack_frame_list::StackFrameList>,
    loaded_sources_list: Entity<LoadedSourceList>,
    pub debug_terminal: Entity<DebugTerminal>,
    module_list: Entity<module_list::ModuleList>,
    console: Entity<Console>,
    breakpoint_list: Entity<BreakpointList>,
    panes: PaneGroup,
    active_pane: Entity<Pane>,
    pane_close_subscriptions: HashMap<EntityId, Subscription>,
    dock_axis: Axis,
    _schedule_serialize: Option<Task<()>>,
    pub(crate) scenario: Option<DebugScenario>,
    pub(crate) scenario_context: Option<DebugScenarioContext>,
    memory_view: Entity<MemoryView>,
}
- [L596:L599]struct DebugTerminal {
    pub terminal: Option<Entity<TerminalView>>,
    focus_handle: FocusHandle,
    _subscriptions: [Subscription; 1],

## crates/debugger_ui/src/session/running/breakpoint_list.rs
- [L72:L76]enum ActiveBreakpointStripMode {
    Log,
    Condition,
    HitCondition,
}
- [L814:L819]struct LineBreakpoint {
    name: SharedString,
    dir: Option<SharedString>,
    line: u32,
    breakpoint: SourceBreakpoint,
}
- [L966:L970]struct ExceptionBreakpoint {
    id: String,
    data: ExceptionBreakpointsFilter,
    is_enabled: bool,
}
- [L973:L973]struct DataBreakpoint(project::debugger::session::DataBreakpointState);
- [L1174:L1178]enum BreakpointEntryKind {
    LineBreakpoint(LineBreakpoint),
    ExceptionBreakpoint(ExceptionBreakpoint),
    DataBreakpoint(DataBreakpoint),
}
- [L1181:L1184]struct BreakpointEntry {
    kind: BreakpointEntryKind,
    weak: WeakEntity<BreakpointList>,
}
- [L1318:L1325]struct BreakpointOptionsStrip {
    props: SupportedBreakpointProperties,
    breakpoint: BreakpointEntry,
    is_selected: bool,
    focus_handle: FocusHandle,
    strip_mode: Option<ActiveBreakpointStripMode>,
    index: usize,
}

## crates/debugger_ui/src/session/running/console.rs
- [L41:L53]struct Console {
    console: Entity<Editor>,
    query_bar: Entity<Editor>,
    session: Entity<Session>,
    _subscriptions: Vec<Subscription>,
    variable_list: Entity<VariableList>,
    stack_frame_list: Entity<StackFrameList>,
    last_token: OutputToken,
    update_output_task: Option<Task<()>>,
    focus_handle: FocusHandle,
    history: SearchHistory,
    cursor: SearchHistoryCursor,
}
- [L526:L526]struct ConsoleQueryBarCompletionProvider(WeakEntity<Console>);
- [L803:L812]struct ConsoleHandler {
    output: String,
    spans: Vec<(Range<usize>, Option<ansi::Color>)>,
    background_spans: Vec<(Range<usize>, Option<ansi::Color>)>,
    current_range_start: usize,
    current_background_range_start: usize,
    current_color: Option<ansi::Color>,
    current_background_color: Option<ansi::Color>,
    pos: usize,
}
- [L868:L947]fn color_fetcher(color: ansi::Color) -> fn(&Theme) -> Hsla 

## crates/debugger_ui/src/session/running/loaded_source_list.rs

## crates/debugger_ui/src/session/running/memory_view.rs
- [L49:L52]struct Drag {
    start_address: u64,
    end_address: u64,
}
- [L69:L72]enum SelectedMemoryRange {
    DragUnderway(Drag),
    DragComplete(Drag),
}
- [L93:L93]struct ViewStateHandle(Rc<RefCell<ViewState>>);
- [L102:L109]struct ViewState {
    base_row: u64,
    line_width: ViewWidth,
    scroll_handle: UniformListScrollHandle,
    selection: Option<SelectedMemoryRange>,
}
- [L161:L161]static HEX_BYTES_MEMOIZED: LazyLock<[SharedString; 256]> =
- [L163:L163]static UNKNOWN_BYTE: SharedString = SharedString::new_static("??");
- [L667:L670]struct ViewWidth {
    width: u8,
    label: SharedString,
}
- [L681:L681]static WIDTHS: [ViewWidth; 7] = [
- [L691:L846]fn render_single_memory_view_line(
    memory: &[MemoryCell],
    ix: u64,
    weak: gpui::WeakEntity<MemoryView>,
    cx: &mut App,
) -> AnyElement 

## crates/debugger_ui/src/session/running/module_list.rs
- [L15:L24]struct ModuleList {
    scroll_handle: UniformListScrollHandle,
    selected_ix: Option<usize>,
    session: Entity<Session>,
    workspace: WeakEntity<Workspace>,
    focus_handle: FocusHandle,
    entries: Vec<Module>,
    _rebuild_task: Option<Task<()>>,
    _subscription: Subscription,
}

## crates/debugger_ui/src/session/running/stack_frame_list.rs
- [L29:L32]enum StackFrameListEvent {
    SelectedStackFrameChanged(StackFrameId),
    BuiltEntries,
}
- [L70:L84]struct StackFrameList {
    focus_handle: FocusHandle,
    _subscription: Subscription,
    session: Entity<Session>,
    state: WeakEntity<RunningState>,
    entries: Vec<StackFrameEntry>,
    workspace: WeakEntity<Workspace>,
    selected_ix: Option<usize>,
    opened_stack_frame_id: Option<StackFrameId>,
    list_state: ListState,
    list_filter: StackFrameFilter,
    filter_entries_indices: Vec<usize>,
    error: Option<SharedString>,
    _refresh_task: Task<()>,
}
- [L87:L92]enum StackFrameEntry {
    Normal(dap::StackFrame),
    Label(dap::StackFrame),
    Collapsed(Vec<dap::StackFrame>),
}

## crates/debugger_ui/src/session/running/variable_list.rs
- [L24:L24]static INDENT_STEP_SIZE: Pixels = px(10.0);
- [L99:L103]enum DapEntry {
    Watcher(Watcher),
    Variable(dap::Variable),
    Scope(dap::Scope),
}
- [L138:L141]struct ListEntry {
    entry: DapEntry,
    path: EntryPath,
}
- [L184:L187]struct VariableColor {
    name: Option<Hsla>,
    value: Option<Hsla>,
}
- [L189:L204]struct VariableList {
    entries: Vec<ListEntry>,
    max_width_index: Option<usize>,
    entry_states: HashMap<EntryPath, EntryState>,
    selected_stack_frame_id: Option<StackFrameId>,
    list_handle: UniformListScrollHandle,
    session: Entity<Session>,
    selection: Option<EntryPath>,
    open_context_menu: Option<(Entity<ContextMenu>, Point<Pixels>, Subscription)>,
    focus_handle: FocusHandle,
    edited_path: Option<(EntryPath, Entity<Editor>)>,
    disabled: bool,
    memory_view: Entity<MemoryView>,
    weak_running: WeakEntity<RunningState>,
    _subscriptions: Vec<Subscription>,
}
- [L1594:L1598]struct EntryColors {
    default: Hsla,
    hover: Hsla,
    marked_active: Hsla,
}
- [L1600:L1608]fn get_entry_color(cx: &Context<VariableList>) -> EntryColors 

## crates/debugger_ui/src/stack_trace_view.rs

## crates/debugger_ui/src/tests.rs
- [L36:L50]fn init_test(cx: &mut gpui::TestAppContext) 
- [L52:L52]async fn init_test_workspace(
- [L89:L101]fn active_debug_session_panel(
    workspace: WindowHandle<Workspace>,
    cx: &mut TestAppContext,
) -> Entity<DebugSession> 
- [L103:L131]fn start_debug_session_with<T: Fn(&Arc<DebugAdapterClient>) + 'static>(
    workspace: &WindowHandle<Workspace>,
    cx: &mut gpui::TestAppContext,
    config: DebugTaskDefinition,
    configure: T,
) -> Result<Entity<Session>> 
- [L133:L153]fn start_debug_session<T: Fn(&Arc<DebugAdapterClient>) + 'static>(
    workspace: &WindowHandle<Workspace>,
    cx: &mut gpui::TestAppContext,
    configure: T,
) -> Result<Entity<Session>> 

## crates/debugger_ui/src/tests/attach_modal.rs

## crates/debugger_ui/src/tests/console.rs

## crates/debugger_ui/src/tests/dap_logger.rs

## crates/debugger_ui/src/tests/debugger_panel.rs

## crates/debugger_ui/src/tests/inline_values.rs
- [L51:L51]static mut GLOBAL: usize = 1;
- [L53:L78]fn main() 
- [L1828:L1843]fn python_lang() -> Language 
- [L1845:L1862]fn go_lang() -> Arc<Language> 
- [L2111:L2116]fn main() 
- [L2121:L2126]fn main() 
- [L2148:L2148]static mut GLOBAL_COUNTER: usize = 42;
- [L2150:L2157]fn main() 
- [L2162:L2162]static mut GLOBAL_COUNTER: 42: usize = 42;
- [L2164:L2171]fn main() 
- [L2238:L2240]fn main() 
- [L2245:L2247]fn main() 
- [L2264:L2281]fn javascript_lang() -> Arc<Language> 
- [L2283:L2300]fn typescript_lang() -> Arc<Language> 
- [L2302:L2319]fn tsx_lang() -> Arc<Language> 

## crates/debugger_ui/src/tests/module_list.rs

## crates/debugger_ui/src/tests/new_process_modal.rs

## crates/debugger_ui/src/tests/persistence.rs

## crates/debugger_ui/src/tests/stack_frame_list.rs

## crates/debugger_ui/src/tests/variable_list.rs

## crates/deepseek/src/deepseek.rs
- [L12:L12]const DEEPSEEK_API_URL: &str = "https://api.deepseek.com/v1";
- [L16:L21]enum Role {
    User,
    Assistant,
    System,
    Tool,
}
- [L50:L64]enum Model {
    Chat,
    Reasoner,
    Custom {
        name: String,
        display_name: Option<String>,
        max_tokens: u64,
        max_output_tokens: Option<u64>,
    },
}
- [L117:L129]struct Request {
    pub model: String,
    pub messages: Vec<RequestMessage>,
    pub stream: bool,
    pub max_tokens: Option<u64>,
    pub temperature: Option<f32>,
    pub response_format: Option<ResponseFormat>,
    pub tools: Vec<ToolDefinition>,
}
- [L133:L137]enum ResponseFormat {
    Text,
    JsonObject,
}
- [L141:L143]enum ToolDefinition {
    Function { function: FunctionDefinition },
}
- [L146:L150]struct FunctionDefinition {
    pub name: String,
    pub description: Option<String>,
    pub parameters: Option<Value>,
}
- [L154:L172]enum RequestMessage {
    Assistant {
        content: Option<String>,
        tool_calls: Vec<ToolCall>,
        reasoning_content: Option<String>,
    },
    User {
        content: String,
    },
    System {
        content: String,
    },
    Tool {
        content: String,
        tool_call_id: String,
    },
}
- [L175:L179]struct ToolCall {
    pub id: String,
    pub content: ToolCallContent,
}
- [L183:L185]enum ToolCallContent {
    Function { function: FunctionContent },
}
- [L188:L191]struct FunctionContent {
    pub name: String,
    pub arguments: String,
}
- [L194:L203]struct Response {
    pub id: String,
    pub object: String,
    pub created: u64,
    pub model: String,
    pub choices: Vec<Choice>,
    pub usage: Usage,
    pub reasoning_content: Option<String>,
}
- [L206:L214]struct Usage {
    pub prompt_tokens: u64,
    pub completion_tokens: u64,
    pub total_tokens: u64,
    pub prompt_cache_hit_tokens: u64,
    pub prompt_cache_miss_tokens: u64,
}
- [L217:L221]struct Choice {
    pub index: u32,
    pub message: RequestMessage,
    pub finish_reason: Option<String>,
}
- [L224:L231]struct StreamResponse {
    pub id: String,
    pub object: String,
    pub created: u64,
    pub model: String,
    pub choices: Vec<StreamChoice>,
    pub usage: Option<Usage>,
}
- [L234:L238]struct StreamChoice {
    pub index: u32,
    pub delta: StreamDelta,
    pub finish_reason: Option<String>,
}
- [L241:L248]struct StreamDelta {
    pub role: Option<Role>,
    pub content: Option<String>,
    pub tool_calls: Option<Vec<ToolCallChunk>>,
    pub reasoning_content: Option<String>,
}
- [L251:L255]struct ToolCallChunk {
    pub index: usize,
    pub id: Option<String>,
    pub function: Option<FunctionChunk>,
}
- [L258:L261]struct FunctionChunk {
    pub name: Option<String>,
    pub arguments: Option<String>,
}
- [L263:L263]async fn stream_completion(

## crates/denoise/examples/denoise.rs
- [L3:L11]fn main() -> Result<(), Box<dyn std::error::Error>> 

## crates/denoise/examples/enable_disable.rs
- [L7:L23]fn main() -> Result<(), Box<dyn std::error::Error>> 

## crates/denoise/src/engine.rs
- [L11:L17]struct Engine {
    spectral_model: ModelProto,
    signal_model: ModelProto,
    fft_planner: RealFftPlanner<f32>,
    fft_scratch: Vec<Complex<f32>>,
    spectrum: [Complex<f32>; FFT_OUT_SIZE],
- [L31:L31]const BLOCK_LEN: usize = 512;
- [L33:L33]const BLOCK_SHIFT: usize = 128;
- [L34:L34]const FFT_OUT_SIZE: usize = BLOCK_LEN / 2 + 1;
- [L196:L204]fn model_outputs(mut outputs: HashMap<String, Tensor>) -> Vec<f32> 

## crates/denoise/src/lib.rs
- [L14:L16]struct Denoiser<S: Source> {
    inner: S,
    input_tx: mpsc::Sender<[Sample; BLOCK_SHIFT]>,
- [L35:L35]struct Queue(VecDeque<[Sample; BLOCK_SHIFT]>);
- [L54:L59]enum IterState {
    Enabled,
    StartingMidAudio { fed_to_denoiser: usize },
    Disabled,
    Startup { enabled: bool },
}
- [L62:L67]enum DenoiserError {
    UnsupportedSampleRate,
    UnsupportedChannelCount,
}
- [L116:L132]fn run_neural_denoiser(
    denoised_tx: mpsc::Sender<[f32; BLOCK_SHIFT]>,
    input_rx: mpsc::Receiver<[f32; BLOCK_SHIFT]>,
) 
- [L176:L176]struct DenoiseEngineCrashed;
- [L267:L273]fn read_sub_block(s: &mut impl Source) -> Option<[f32; BLOCK_SHIFT]> 

## crates/diagnostics/src/buffer_diagnostics.rs

## crates/diagnostics/src/diagnostic_renderer.rs
- [L23:L23]struct DiagnosticRenderer;

## crates/diagnostics/src/diagnostics.rs
- [L1:L1]mod items;
- [L69:L73]fn init(cx: &mut App) 
- [L154:L157]enum RetainExcerpts {
    All,
    Dirty,
}
- [L1145:L1153]fn is_line_blank_or_indented_less(
    indent_level: u32,
    row: u32,
    tab_size: u32,
    snapshot: &BufferSnapshot,
) -> bool 

## crates/diagnostics/src/diagnostics_tests.rs
- [L33:L35]fn init_logger() 
- [L2019:L2028]fn init_test(cx: &mut TestAppContext) 
- [L2030:L2071]fn randomly_update_diagnostics_for_path(
    fs: &FakeFs,
    path: &Path,
    diagnostics: &mut Vec<lsp::Diagnostic>,
    next_id: &mut usize,
    rng: &mut impl Rng,
) 
- [L2073:L2141]fn random_lsp_diagnostic(
    rng: &mut impl Rng,
    fs: &FakeFs,
    path: &Path,
    unique_id: usize,
) -> lsp::Diagnostic 

## crates/diagnostics/src/items.rs
- [L17:L27]struct DiagnosticIndicator {
    summary: project::DiagnosticSummary,
    workspace: WeakEntity<Workspace>,
    current_diagnostic: Option<Diagnostic>,
    active_editor: Option<WeakEntity<Editor>>,
    _observe_active_editor: Option<Subscription>,
    diagnostics_update: Task<()>,
    diagnostic_summary_update: Task<()>,
}

## crates/diagnostics/src/toolbar_controls.rs
- [L9:L11]struct ToolbarControls {
    editor: Option<Box<dyn DiagnosticsToolbarEditor>>,
}

## crates/docs_preprocessor/src/main.rs
- [L13:L13]static KEYMAP_MACOS: LazyLock<KeymapFile> = LazyLock::new(|| {
- [L17:L17]static KEYMAP_LINUX: LazyLock<KeymapFile> = LazyLock::new(|| {
- [L21:L21]static KEYMAP_WINDOWS: LazyLock<KeymapFile> = LazyLock::new(|| {
- [L25:L25]static ALL_ACTIONS: LazyLock<Vec<ActionDef>> = LazyLock::new(load_all_actions);
- [L29:L49]fn main() -> Result<()> 
- [L52:L67]enum PreprocessorError {
    ActionNotFound {
        action_name: String,
    },
    DeprecatedActionUsed {
        used: String,
        should_be: String,
    },
    InvalidFrontmatterLine(String),
    InvalidSettingsJson {
        file: std::path::PathBuf,
        line: usize,
        snippet: String,
        error: String,
    },
}
- [L132:L158]fn handle_preprocessing() -> Result<()> 
- [L160:L189]fn handle_frontmatter(book: &mut Book, errors: &mut HashSet<PreprocessorError>) 
- [L191:L201]fn template_big_table_of_actions(book: &mut Book) 
- [L203:L205]fn format_binding(binding: String) -> String 
- [L207:L234]fn template_and_validate_keybindings(book: &mut Book, errors: &mut HashSet<PreprocessorError>) 
- [L236:L255]fn template_and_validate_actions(book: &mut Book, errors: &mut HashSet<PreprocessorError>) 
- [L257:L262]fn find_action_by_name(name: &str) -> Option<&ActionDef> 
- [L264:L266]fn actions_available() -> bool 
- [L268:L270]fn is_missing_action(name: &str) -> bool 
- [L272:L290]fn find_binding(os: &str, action: &str) -> Option<String> 
- [L292:L440]fn template_and_validate_json_snippets(book: &mut Book, errors: &mut HashSet<PreprocessorError>) 
- [L442:L470]fn name_for_action(action_as_str: String) -> String 
- [L472:L477]fn chapter_breadcrumbs(chapter: &Chapter) -> String 
- [L479:L482]fn load_keymap(asset_path: &str) -> Result<KeymapFile> 
- [L484:L494]fn for_each_chapter_mut<F>(book: &mut Book, mut func: F)
where
    F: FnMut(&mut Chapter),
- [L497:L503]struct ActionDef {
    name: String,
    human_name: String,
    deprecated_aliases: Vec<String>,
    docs: Option<String>,
}
- [L505:L525]fn load_all_actions() -> Vec<ActionDef> 
- [L527:L648]fn handle_postprocessing() -> Result<()> 
- [L650:L653]fn title_regex() -> &'static Regex 
- [L655:L704]fn generate_big_table_of_actions() -> String 

## crates/edit_prediction/src/capture_example.rs
- [L14:L84]fn capture_example(
    project: Entity<Project>,
    buffer: Entity<Buffer>,
    cursor_anchor: language::Anchor,
    last_event_is_expected_patch: bool,
    cx: &mut App,
) -> Option<Task<Result<ExampleSpec>>> 
- [L86:L102]fn compute_cursor_excerpt(
    snapshot: &language::BufferSnapshot,
    cursor_anchor: language::Anchor,
) -> String 
- [L143:L162]fn compute_uncommitted_diff(
    snapshots_by_path: HashMap<Arc<Path>, (TextBufferSnapshot, BufferDiffSnapshot)>,
) -> String 
- [L164:L175]fn generate_timestamp_name() -> String 

## crates/edit_prediction/src/cursor_excerpt.rs
- [L4:L36]fn editable_and_context_ranges_for_cursor_position(
    position: Point,
    snapshot: &BufferSnapshot,
    editable_region_token_limit: usize,
    context_token_limit: usize,
) -> (Range<Point>, Range<Point>) 
- [L38:L70]fn expand_range(
    snapshot: &BufferSnapshot,
    range: Range<Point>,
    mut remaining_tokens: usize,
) -> Range<Point> 
- [L76:L78]fn guess_token_count(bytes: usize) -> usize 

## crates/edit_prediction/src/edit_prediction.rs
- [L52:L52]mod cursor_excerpt;
- [L53:L53]mod example_spec;
- [L55:L55]mod mercury;
- [L57:L57]mod open_ai_response;
- [L59:L59]mod sweep_ai;
- [L61:L61]mod udiff;
- [L65:L65]mod zeta1;
- [L66:L66]mod zeta2;
- [L100:L100]struct SweepFeatureFlag;
- [L106:L106]struct MercuryFeatureFlag;
- [L112:L112]const DEFAULT_OPTIONS: ZetaOptions = ZetaOptions {
- [L121:L121]static USE_OLLAMA: LazyLock<bool> =
- [L124:L124]static EDIT_PREDICTIONS_MODEL_ID: LazyLock<String> = LazyLock::new(|| {
- [L134:L134]struct Zeta2FeatureFlag;
- [L145:L145]struct EditPredictionStoreGlobal(Entity<EditPredictionStore>);
- [L149:L168]struct EditPredictionStore {
    client: Arc<Client>,
    user_store: Entity<UserStore>,
    llm_token: LlmApiToken,
    _llm_token_subscription: Subscription,
    projects: HashMap<EntityId, ProjectState>,
    use_context: bool,
    options: ZetaOptions,
    update_required: bool,
    eval_cache: Option<Arc<dyn EvalCache>>,
    edit_prediction_model: EditPredictionModel,
    pub sweep_ai: SweepAi,
    pub mercury: Mercury,
    data_collection_choice: DataCollectionChoice,
    reject_predictions_tx: mpsc::UnboundedSender<EditPredictionRejection>,
    shown_predictions: VecDeque<EditPrediction>,
    rated_predictions: HashSet<EditPredictionId>,
    custom_predict_edits_url: Option<Arc<Url>>,
}
- [L171:L177]enum EditPredictionModel {
    Zeta1,
    Zeta2,
    Sweep,
    Mercury,
}
- [L179:L190]struct EditPredictionModelInput {
    project: Entity<Project>,
    buffer: Entity<Buffer>,
    snapshot: BufferSnapshot,
    position: Anchor,
    events: Vec<Arc<zeta_prompt::Event>>,
    related_files: Arc<[RelatedFile]>,
    recent_paths: VecDeque<ProjectPath>,
    trigger: PredictEditsRequestTrigger,
    diagnostic_search_range: Range<Point>,
    debug_tx: Option<mpsc::UnboundedSender<DebugEvent>>,
}
- [L193:L196]struct ZetaOptions {
    pub context: EditPredictionExcerptOptions,
    pub prompt_format: predict_edits_v3::PromptFormat,
}
- [L199:L204]enum DebugEvent {
    ContextRetrievalStarted(ContextRetrievalStartedDebugEvent),
    ContextRetrievalFinished(ContextRetrievalFinishedDebugEvent),
    EditPredictionStarted(EditPredictionStartedDebugEvent),
    EditPredictionFinished(EditPredictionFinishedDebugEvent),
}
- [L207:L211]struct ContextRetrievalStartedDebugEvent {
    pub project_entity_id: EntityId,
    pub timestamp: Instant,
    pub search_prompt: String,
}
- [L214:L218]struct ContextRetrievalFinishedDebugEvent {
    pub project_entity_id: EntityId,
    pub timestamp: Instant,
    pub metadata: Vec<(&'static str, SharedString)>,
}
- [L221:L225]struct EditPredictionStartedDebugEvent {
    pub buffer: WeakEntity<Buffer>,
    pub position: Anchor,
    pub prompt: Option<String>,
}
- [L228:L232]struct EditPredictionFinishedDebugEvent {
    pub buffer: WeakEntity<Buffer>,
    pub position: Anchor,
    pub model_output: Option<String>,
}
- [L234:L234]type RequestDebugInfo = predict_edits_v3::DebugInfo;
- [L236:L241]struct StoredEvent {
    pub event: Arc<zeta_prompt::Event>,
    pub old_snapshot: TextBufferSnapshot,
}
- [L243:L257]struct ProjectState {
    events: VecDeque<StoredEvent>,
    last_event: Option<LastEvent>,
    recent_paths: VecDeque<ProjectPath>,
    registered_buffers: HashMap<gpui::EntityId, RegisteredBuffer>,
    current_prediction: Option<CurrentEditPrediction>,
    next_pending_prediction_id: usize,
    pending_predictions: ArrayVec<PendingPrediction, 2>,
    debug_tx: Option<mpsc::UnboundedSender<DebugEvent>>,
    last_prediction_refresh: Option<(EntityId, Instant)>,
    cancelled_predictions: HashSet<usize>,
    context: Entity<RelatedExcerptStore>,
    license_detection_watchers: HashMap<WorktreeId, Rc<LicenseDetectionWatcher>>,
    _subscription: gpui::Subscription,
}
- [L319:L323]struct CurrentEditPrediction {
    pub requested_by: PredictionRequestedBy,
    pub prediction: EditPrediction,
    pub was_shown: bool,
}
- [L365:L368]enum PredictionRequestedBy {
    DiagnosticsUpdate,
    Buffer(EntityId),
}
- [L380:L383]struct PendingPrediction {
    id: usize,
    task: Task<Option<EditPredictionId>>,
}
- [L385:L390]enum BufferEditPrediction<'a> {
    Local { prediction: &'a EditPrediction },
    Jump { prediction: &'a EditPrediction },
}
- [L404:L408]struct RegisteredBuffer {
    file: Option<Arc<dyn File>>,
    snapshot: TextBufferSnapshot,
    last_position: Option<Anchor>,
    _subscriptions: [gpui::Subscription; 2],
- [L412:L420]struct LastEvent {
    old_snapshot: TextBufferSnapshot,
    new_snapshot: TextBufferSnapshot,
    old_file: Option<Arc<dyn File>>,
    new_file: Option<Arc<dyn File>>,
    end_edit_anchor: Option<Anchor>,
    snapshot_after_last_editing_pause: Option<TextBufferSnapshot>,
    last_edit_time: Option<Instant>,
}
- [L536:L546]fn buffer_path_with_id_fallback(
    file: Option<&Arc<dyn File>>,
    snapshot: &TextBufferSnapshot,
    cx: &App,
) -> Arc<Path> 
- [L2064:L2066]struct ZedUpdateRequiredError {
    minimum_version: Version,
}
- [L2069:L2069]type EvalCacheKey = (EvalCacheEntryKind, u64);
- [L2073:L2077]enum EvalCacheEntryKind {
    Context,
    Search,
    Prediction,
}
- [L2091:L2091]trait EvalCache: Send + Sync {
- [L2097:L2101]enum DataCollectionChoice {
    NotAnswered,
    Enabled,
    Disabled,
}
- [L2137:L2137]struct ZedPredictUpsell;
- [L2162:L2164]fn should_show_upsell_modal() -> bool 
- [L2166:L2192]fn init(cx: &mut App) 

## crates/edit_prediction/src/edit_prediction_tests.rs
- [L1138:L1174]fn model_response(request: open_ai::Request, diff_to_apply: &str) -> open_ai::Response 
- [L1176:L1189]fn prompt_from_request(request: &open_ai::Request) -> &str 
- [L1191:L1194]struct RequestChannels {
    predict: mpsc::UnboundedReceiver<(open_ai::Request, oneshot::Sender<open_ai::Response>)>,
    reject: mpsc::UnboundedReceiver<(RejectEditPredictionsBody, oneshot::Sender<()>)>,
}
- [L1196:L1263]fn init_test_with_fake_client(
    cx: &mut TestAppContext,
) -> (Entity<EditPredictionStore>, RequestChannels) 
- [L1751:L1756]fn init_test(cx: &mut TestAppContext) 
- [L1883:L1898]fn to_completion_edits(
    iterator: impl IntoIterator<Item = (Range<usize>, Arc<str>)>,
    buffer: &Entity<Buffer>,
    cx: &App,
) -> Vec<(Range<Anchor>, Arc<str>)> 
- [L1900:L1915]fn from_completion_edits(
    editor_edits: &[(Range<Anchor>, Arc<str>)],
    buffer: &Entity<Buffer>,
    cx: &App,
) -> Vec<(Range<usize>, Arc<str>)> 
- [L2086:L2151]fn test_compute_diff_between_snapshots(cx: &mut TestAppContext) 
- [L2154:L2156]fn init_logger() 

## crates/edit_prediction/src/example_spec.rs
- [L5:L16]struct ExampleSpec {
    pub name: String,
    pub repository_url: String,
    pub revision: String,
    pub uncommitted_diff: String,
    pub cursor_path: Arc<Path>,
    pub cursor_position: String,
    pub edit_history: String,
    pub expected_patch: String,
}

## crates/edit_prediction/src/license_detection.rs
- [L21:L21]static LICENSE_FILE_NAME_REGEX: LazyLock<regex::bytes::Regex> = LazyLock::new(|| {
- [L43:L51]enum OpenSourceLicense {
    Apache2_0,
    BSDZero,
    BSD,
    ISC,
    MIT,
    UPL1_0,
    Zlib,
}
- [L91:L91]static LICENSE_PATTERNS: LazyLock<LicensePatterns> = LazyLock::new(|| {
- [L107:L117]fn detect_license(text: &str) -> Option<OpenSourceLicense> 
- [L119:L122]struct LicensePatterns {
    patterns: Vec<(OpenSourceLicense, Vec<PatternPart>)>,
    approximate_max_length: usize,
}
- [L125:L133]struct PatternPart {
    optional: bool,
    match_any_chars: Range<usize>,
    text: String,
}
- [L135:L191]fn parse_pattern(pattern_source: &str) -> Result<(Vec<PatternPart>, usize)> 
- [L193:L227]fn check_pattern(pattern: &[PatternPart], input: &str) -> bool 
- [L229:L237]fn n_chars_before_offset(char_count: usize, offset: usize, string: &str) -> usize 
- [L239:L247]fn is_char_count_within_range(string: &str, char_count_range: Range<usize>) -> bool 
- [L249:L261]fn canonicalize_license_text(license: &str) -> String 
- [L263:L271]enum LicenseDetectionWatcher {
    Local {
        is_open_source_rx: watch::Receiver<bool>,
        _is_open_source_task: Task<()>,
        _worktree_subscription: Subscription,
    },
    SingleFile,
    Remote,
}

## crates/edit_prediction/src/mercury.rs
- [L21:L23]struct Mercury {
    pub api_token: Entity<ApiKeyState>,
}
- [L218:L291]fn build_prompt(inputs: &ZetaPromptInput) -> String 
- [L293:L297]fn push_delimited(prompt: &mut String, delimiters: Range<&str>, cb: impl FnOnce(&mut String)) 
- [L299:L299]const MERCURY_CREDENTIALS_URL: SharedString =
- [L301:L301]const MERCURY_CREDENTIALS_USERNAME: &str = "mercury-api-token";
- [L302:L302]static MERCURY_TOKEN_ENV_VAR: std::sync::LazyLock<EnvVar> = env_var!("MERCURY_AI_TOKEN");
- [L304:L304]struct GlobalMercuryApiKey(Entity<ApiKeyState>);
- [L308:L316]fn mercury_api_token(cx: &mut App) -> Entity<ApiKeyState> 
- [L318:L322]fn load_mercury_api_token(cx: &mut App) -> Task<Result<(), language_model::AuthenticateError>> 

## crates/edit_prediction/src/onboarding_modal.rs
- [L27:L31]struct ZedPredictModal {
    onboarding: Entity<EditPredictionOnboarding>,
    focus_handle: FocusHandle,
}

## crates/edit_prediction/src/open_ai_response.rs
- [L1:L31]fn text_from_response(mut res: open_ai::Response) -> Option<String> 

## crates/edit_prediction/src/prediction.rs
- [L14:L14]struct EditPredictionId(pub SharedString);
- [L28:L32]struct EditPredictionResult {
    pub id: EditPredictionId,
    pub prediction: Result<EditPrediction, EditPredictionRejectReason>,
}
- [L88:L97]struct EditPrediction {
    pub id: EditPredictionId,
    pub edits: Arc<[(Range<Anchor>, Arc<str>)]>,
    pub snapshot: BufferSnapshot,
    pub edit_preview: EditPreview,
    pub buffer: Entity<Buffer>,
    pub buffer_snapshotted_at: Instant,
    pub response_received_at: Instant,
    pub inputs: zeta_prompt::ZetaPromptInput,
}

## crates/edit_prediction/src/sweep_ai.rs
- [L22:L25]struct SweepAi {
    pub api_token: Entity<ApiKeyState>,
    pub debug_info: Arc<str>,
}
- [L271:L271]const SWEEP_CREDENTIALS_URL: SharedString =
- [L273:L273]const SWEEP_CREDENTIALS_USERNAME: &str = "sweep-api-token";
- [L274:L274]static SWEEP_AI_TOKEN_ENV_VAR: std::sync::LazyLock<EnvVar> = env_var!("SWEEP_AI_TOKEN");
- [L276:L276]struct GlobalSweepApiKey(Entity<ApiKeyState>);
- [L280:L288]fn sweep_api_token(cx: &mut App) -> Entity<ApiKeyState> 
- [L290:L294]fn load_sweep_api_token(cx: &mut App) -> Task<Result<(), language_model::AuthenticateError>> 
- [L297:L313]struct AutocompleteRequest {
    pub debug_info: Arc<str>,
    pub repo_name: String,
    pub branch: Option<String>,
    pub file_path: Arc<Path>,
    pub file_contents: String,
    pub recent_changes: String,
    pub cursor_position: usize,
    pub original_file_contents: String,
    pub file_chunks: Vec<FileChunk>,
    pub retrieval_chunks: Vec<FileChunk>,
    pub recent_user_actions: Vec<UserAction>,
    pub multiple_suggestions: bool,
    pub privacy_mode_enabled: bool,
    pub changes_above_cursor: bool,
    pub use_bytes: bool,
}
- [L316:L322]struct FileChunk {
    pub file_path: String,
    pub start_line: usize,
    pub end_line: usize,
    pub content: String,
    pub timestamp: Option<u64>,
}
- [L325:L331]struct UserAction {
    pub action_type: ActionType,
    pub line_number: usize,
    pub offset: usize,
    pub file_path: String,
    pub timestamp: u64,
}
- [L336:L342]enum ActionType {
    CursorMovement,
    InsertChar,
    DeleteChar,
    InsertSelection,
    DeleteSelection,
}
- [L345:L361]struct AutocompleteResponse {
    pub autocomplete_id: String,
    pub start_index: usize,
    pub end_index: usize,
    pub completion: String,
    pub confidence: f64,
    pub logprobs: Option<serde_json::Value>,
    pub finish_reason: Option<String>,
    pub elapsed_time_ms: u64,
    pub additional_completions: Vec<AdditionalCompletion>,
}
- [L365:L373]struct AdditionalCompletion {
    pub start_index: usize,
    pub end_index: usize,
    pub completion: String,
    pub confidence: f64,
    pub autocomplete_id: String,
    pub logprobs: Option<serde_json::Value>,
    pub finish_reason: Option<String>,
}
- [L375:L395]fn write_event(event: &zeta_prompt::Event, f: &mut impl fmt::Write) -> fmt::Result 
- [L397:L406]fn debug_info(cx: &gpui::App) -> Arc<str> 

## crates/edit_prediction/src/udiff.rs
- [L23:L23]struct OpenedBuffers(#[allow(unused)] HashMap<String, Entity<Buffer>>);
- [L26:L26]async fn apply_diff(
- [L131:L152]fn apply_diff_to_string(diff_str: &str, text: &str) -> Result<String> 
- [L154:L157]struct PatchFile<'a> {
    old_path: Cow<'a, str>,
    new_path: Cow<'a, str>,
}
- [L159:L164]struct DiffParser<'a> {
    current_file: Option<PatchFile<'a>>,
    current_line: Option<(&'a str, DiffLine<'a>)>,
    hunk: Hunk,
    diff: std::str::Lines<'a>,
}
- [L167:L170]enum DiffEvent<'a> {
    Hunk { path: Cow<'a, str>, hunk: Hunk },
    FileEnd { renamed_to: Option<Cow<'a, str>> },
}
- [L173:L176]struct Hunk {
    context: String,
    edits: Vec<Edit>,
}
- [L185:L188]struct Edit {
    range: Range<usize>,
    text: String,
}
- [L302:L339]fn resolve_hunk_edits_in_buffer(
    hunk: Hunk,
    buffer: &TextBufferSnapshot,
    ranges: &[Range<Anchor>],
) -> Result<impl Iterator<Item = (Range<Anchor>, Arc<str>)>, anyhow::Error> 
- [L342:L350]enum DiffLine<'a> {
    OldPath { path: Cow<'a, str> },
    NewPath { path: Cow<'a, str> },
    HunkHeader(Option<HunkLocation>),
    Context(&'a str),
    Deletion(&'a str),
    Addition(&'a str),
    Garbage(&'a str),
}
- [L353:L358]struct HunkLocation {
    start_line_old: u32,
    count_old: u32,
    start_line_new: u32,
    count_new: u32,
}
- [L427:L462]fn parse_header_path<'a>(strip_prefix: &'static str, header: &'a str) -> Cow<'a, str> 
- [L464:L472]fn eat_required_whitespace(header: &str) -> Option<&str> 

## crates/edit_prediction/src/zed_edit_prediction_delegate.rs
- [L12:L16]struct ZedEditPredictionDelegate {
    store: Entity<EditPredictionStore>,
    project: Entity<Project>,
    singleton_buffer: Option<Entity<Buffer>>,
}

## crates/edit_prediction/src/zeta1.rs
- [L244:L283]fn process_completion_response(
    prediction_response: PredictEditsResponse,
    buffer: Entity<Buffer>,
    snapshot: &BufferSnapshot,
    editable_range: Range<usize>,
    inputs: ZetaPromptInput,
    buffer_snapshotted_at: Instant,
    received_response_at: Instant,
    cx: &AsyncApp,
) -> Task<Result<EditPredictionResult>> 
- [L285:L340]fn parse_edits(
    output_excerpt: Arc<str>,
    editable_range: Range<usize>,
    snapshot: &BufferSnapshot,
) -> Result<Vec<(Range<Anchor>, Arc<str>)>> 
- [L342:L376]fn compute_edits(
    old_text: String,
    new_text: &str,
    offset: usize,
    snapshot: &BufferSnapshot,
) -> Vec<(Range<Anchor>, Arc<str>)> 
- [L378:L383]fn common_prefix<T1: Iterator<Item = char>, T2: Iterator<Item = char>>(a: T1, b: T2) -> usize 
- [L385:L412]fn git_info_for_file(
    project: &Entity<Project>,
    project_path: &ProjectPath,
    cx: &App,
) -> Option<PredictEditsGitInfo> 
- [L414:L419]struct GatherContextOutput {
    pub body: PredictEditsBody,
    pub context_range: Range<Point>,
    pub editable_range: Range<usize>,
    pub included_events_count: usize,
}
- [L421:L461]fn gather_context(
    full_path_str: String,
    snapshot: &BufferSnapshot,
    cursor_point: language::Point,
    prompt_for_events: impl FnOnce() -> (String, usize) + Send + 'static,
    trigger: PredictEditsRequestTrigger,
    cx: &App,
) -> Task<Result<GatherContextOutput>> 
- [L463:L479]fn prompt_for_events_impl(events: &[Arc<Event>], mut remaining_tokens: usize) -> (String, usize) 
- [L481:L514]fn format_event(event: &Event) -> String 
- [L517:L521]struct InputExcerpt {
    pub context_range: Range<Point>,
    pub editable_range: Range<Point>,
    pub prompt: String,
}
- [L523:L560]fn excerpt_for_cursor_position(
    position: Point,
    path: &str,
    snapshot: &BufferSnapshot,
    editable_region_token_limit: usize,
    context_token_limit: usize,
) -> InputExcerpt 
- [L562:L577]fn push_editable_range(
    cursor_position: Point,
    snapshot: &BufferSnapshot,
    editable_range: Range<Point>,
    prompt: &mut String,
) 

## crates/edit_prediction/src/zeta2.rs
- [L21:L31]fn request_prediction_with_zeta2(
    store: &mut EditPredictionStore,
    EditPredictionModelInput 
- [L193:L228]fn zeta2_prompt_input(
    snapshot: &language::BufferSnapshot,
    related_files: Arc<[zeta_prompt::RelatedFile]>,
    events: Vec<Arc<zeta_prompt::Event>>,
    excerpt_path: Arc<Path>,
    cursor_offset: usize,
) -> (std::ops::Range<usize>, zeta_prompt::ZetaPromptInput) 
- [L231:L243]fn zeta2_output_for_patch(input: &zeta_prompt::ZetaPromptInput, patch: &str) -> Result<String> 

## crates/edit_prediction_cli/build.rs
- [L1:L14]fn main() 

## crates/edit_prediction_cli/src/anthropic_client.rs
- [L17:L20]struct PlainLlmClient {
    http_client: Arc<dyn HttpClient>,
    api_key: String,
}
- [L68:L72]struct BatchingLlmClient {
    connection: sqlez::connection::Connection,
    http_client: Arc<dyn HttpClient>,
    api_key: String,
}
- [L74:L79]struct CacheRow {
    request_hash: String,
    request: Option<String>,
    response: Option<String>,
    batch_id: Option<String>,
}
- [L98:L102]struct SerializableRequest {
    model: String,
    max_tokens: u64,
    messages: Vec<SerializableMessage>,
}
- [L105:L108]struct SerializableMessage {
    role: String,
    content: String,
}
- [L359:L368]fn message_content_to_string(content: &[RequestContent]) -> String 
- [L370:L375]enum AnthropicClient {
    Plain(PlainLlmClient),
    Batch(BatchingLlmClient),
    Dummy,
}

## crates/edit_prediction_cli/src/distill.rs
- [L6:L6]async fn run_distill(example: &mut Example) -> Result<()> {

## crates/edit_prediction_cli/src/example.rs
- [L20:L50]struct Example {
    pub spec: ExampleSpec,
    pub buffer: Option<ExampleBuffer>,
    pub context: Option<ExampleContext>,
    pub prompt: Option<ExamplePrompt>,
    pub predictions: Vec<ExamplePrediction>,
    pub score: Vec<ExampleScore>,
    pub state: Option<ExampleState>,
}
- [L53:L58]struct ExampleState {
    pub project: Entity<Project>,
    pub buffer: Entity<Buffer>,
    pub cursor_position: Anchor,
    pub _open_buffers: OpenedBuffers,
}
- [L61:L63]struct ExampleContext {
    pub files: Arc<[RelatedFile]>,
}
- [L66:L71]struct ExampleBuffer {
    pub content: String,
    pub cursor_row: u32,
    pub cursor_column: u32,
    pub cursor_offset: usize,
}
- [L74:L78]struct ExamplePrompt {
    pub input: String,
    pub expected_output: String,
    pub format: PromptFormat,
}
- [L81:L85]struct ExamplePrediction {
    pub actual_patch: String,
    pub actual_output: String,
    pub provider: PredictionProvider,
}
- [L88:L91]struct ExampleScore {
    pub delta_chr_f: f32,
    pub line_match: ClassificationMetrics,
}
- [L129:L203]fn read_examples(inputs: &[PathBuf]) -> Vec<Example> 
- [L205:L217]fn write_examples(examples: &[Example], output_path: Option<&PathBuf>) 
- [L219:L226]fn sort_examples_by_repo_and_rev(examples: &mut [Example]) 
- [L228:L237]fn group_examples_by_repo(examples: &mut [Example]) -> Vec<Vec<&mut Example>> 
- [L239:L250]fn parse_markdown_example(name: String, input: &str) -> Result<Example> 

## crates/edit_prediction_cli/src/format_prompt.rs
- [L18:L18]async fn run_format_prompt(
- [L83:L83]struct TeacherPrompt;
- [L216:L246]fn extract_last_codeblock(text: &str) -> String 

## crates/edit_prediction_cli/src/headless.rs
- [L19:L27]struct EpAppState {
    pub languages: Arc<LanguageRegistry>,
    pub client: Arc<Client>,
    pub user_store: Entity<UserStore>,
    pub fs: Arc<dyn fs::Fs>,
    pub node_runtime: NodeRuntime,
    pub project_cache: ProjectCache,
}
- [L30:L30]struct ProjectCache(Mutex<HashMap<String, Entity<Project>>>);
- [L42:L139]fn init(cx: &mut App) -> EpAppState 

## crates/edit_prediction_cli/src/load_project.rs
- [L28:L28]async fn run_load_project(
- [L328:L328]async fn lock_repo(path: impl AsRef<Path>) -> OwnedMutexGuard<()> {

## crates/edit_prediction_cli/src/main.rs
- [L34:L49]struct EpArgs {
    printenv: bool,
    max_parallelism: usize,
    command: Option<Command>,
    inputs: Vec<PathBuf>,
    output: Option<PathBuf>,
    in_place: bool,
    failfast: bool,
}
- [L52:L72]enum Command {
    ParseExample,
    LoadProject,
    Context,
    FormatPrompt(FormatPromptArgs),
    Predict(PredictArgs),
    Score(PredictArgs),
    Distill,
    Eval(PredictArgs),
    Clean,
}
- [L127:L130]struct FormatPromptArgs {
    prompt_format: PromptFormat,
}
- [L133:L136]enum PromptFormat {
    Teacher,
    Zeta2,
}
- [L139:L144]struct PredictArgs {
    provider: PredictionProvider,
    repetitions: usize,
}
- [L147:L154]enum PredictionProvider {
    Sweep,
    Mercury,
    Zeta1,
    Zeta2,
    Teacher,
    TeacherNonBatching,
}
- [L170:L343]fn main() 

## crates/edit_prediction_cli/src/metrics.rs
- [L9:L13]struct ClassificationMetrics {
    pub true_positives: usize,
    pub false_positives: usize,
    pub false_negatives: usize,
}
- [L106:L123]fn line_match_score(
    expected_patch: &[DiffLine],
    actual_patch: &[DiffLine],
) -> ClassificationMetrics 
- [L125:L129]enum ChrfWhitespace {
    Unchanged,
    Ignore,
}
- [L135:L212]fn delta_chr_f(expected: &[DiffLine], actual: &[DiffLine]) -> f64 
- [L214:L229]fn chr_f_ngram_counts(text: &str) -> Vec<Counts> 
- [L231:L246]fn compute_ngram_delta(after: &Counts, before: &Counts) -> CountsDelta 
- [L248:L264]fn ngram_delta_to_counts(delta: &CountsDelta) -> Counts 
- [L266:L276]fn count_ngrams(text: &str, n: usize) -> Counts 

## crates/edit_prediction_cli/src/paths.rs
- [L6:L6]static DATA_DIR: LazyLock<PathBuf> = LazyLock::new(|| {
- [L10:L10]static CACHE_DIR: LazyLock<PathBuf> = LazyLock::new(|| ensure_dir(&DATA_DIR.join("cache")));
- [L11:L11]static REPOS_DIR: LazyLock<PathBuf> = LazyLock::new(|| ensure_dir(&DATA_DIR.join("repos")));
- [L12:L12]static WORKTREES_DIR: LazyLock<PathBuf> =
- [L14:L14]static RUN_DIR: LazyLock<PathBuf> = LazyLock::new(|| {
- [L19:L19]static LATEST_EXAMPLE_RUN_DIR: LazyLock<PathBuf> = LazyLock::new(|| DATA_DIR.join("latest"));
- [L20:L20]static LLM_CACHE_DB: LazyLock<PathBuf> = LazyLock::new(|| CACHE_DIR.join("llm_cache.sqlite"));
- [L21:L21]static FAILED_EXAMPLES_DIR: LazyLock<PathBuf> =
- [L24:L27]fn ensure_dir(path: &Path) -> PathBuf 

## crates/edit_prediction_cli/src/predict.rs
- [L24:L24]async fn run_prediction(
- [L277:L277]async fn sync_batches(provider: &PredictionProvider) -> anyhow::Result<()> {

## crates/edit_prediction_cli/src/progress.rs
- [L11:L13]struct Progress {
    inner: Mutex<ProgressInner>,
}
- [L15:L25]struct ProgressInner {
    completed: Vec<CompletedTask>,
    in_progress: HashMap<String, InProgressTask>,
    is_tty: bool,
    terminal_width: usize,
    max_example_name_len: usize,
    status_lines_displayed: usize,
    total_examples: usize,
    failed_examples: usize,
    last_line_is_logging: bool,
}
- [L28:L33]struct InProgressTask {
    step: Step,
    started_at: Instant,
    substatus: Option<String>,
    info: Option<(String, InfoStyle)>,
}
- [L35:L40]struct CompletedTask {
    step: Step,
    example_name: String,
    duration: Duration,
    info: Option<(String, InfoStyle)>,
}
- [L43:L49]enum Step {
    LoadProject,
    Context,
    FormatPrompt,
    Predict,
    Score,
}
- [L52:L55]enum InfoStyle {
    Normal,
    Warning,
}
- [L79:L79]static GLOBAL: OnceLock<Arc<Progress>> = OnceLock::new();
- [L80:L80]static LOGGER: ProgressLogger = ProgressLogger;
- [L367:L371]struct StepProgress {
    progress: Arc<Progress>,
    step: Step,
    example_name: String,
}
- [L406:L406]struct ProgressLogger;
- [L454:L465]fn get_terminal_width() -> usize 
- [L468:L470]fn get_terminal_width() -> usize 
- [L472:L487]fn strip_ansi_len(s: &str) -> usize 
- [L489:L495]fn truncate_with_ellipsis(s: &str, max_len: usize) -> String 
- [L497:L508]fn format_duration(duration: Duration) -> String 

## crates/edit_prediction_cli/src/retrieve_context.rs
- [L17:L17]async fn run_context_retrieval(

## crates/edit_prediction_cli/src/score.rs
- [L13:L13]async fn run_scoring(
- [L49:L51]fn parse_patch(patch: &str) -> Vec<DiffLine<'_>> 
- [L53:L115]fn print_report(examples: &[Example]) 
- [L117:L123]fn truncate_name(name: &str, max_len: usize) -> String 

## crates/edit_prediction_context/src/assemble_excerpts.rs
- [L10:L84]fn assemble_excerpts(
    buffer: &BufferSnapshot,
    mut input_ranges: Vec<Range<Point>>,
) -> Vec<RelatedExcerpt> 
- [L86:L104]fn clip_range_to_lines(
    range: &Range<Point>,
    inward: bool,
    buffer: &BufferSnapshot,
) -> Range<Point> 
- [L106:L132]fn add_outline_item(
    mut item_range: Range<Point>,
    body_range: Option<Range<Point>>,
    buffer: &BufferSnapshot,
    outline_ranges: &mut Vec<Range<Point>>,
) 
- [L134:L156]fn merge_ranges(ranges: &mut Vec<Range<Point>>) 

## crates/edit_prediction_context/src/edit_prediction_context.rs
- [L31:L38]struct RelatedExcerptStore {
    project: WeakEntity<Project>,
    related_files: Arc<[RelatedFile]>,
    related_file_buffers: Vec<Entity<Buffer>>,
    cache: HashMap<Identifier, Arc<CacheEntry>>,
    update_tx: mpsc::UnboundedSender<(Entity<Buffer>, Anchor)>,
    identifier_line_count: u32,
}
- [L40:L48]enum RelatedExcerptStoreEvent {
    StartedRefresh,
    FinishedRefresh {
        cache_hit_count: usize,
        cache_miss_count: usize,
        mean_definition_latency: Duration,
        max_definition_latency: Duration,
    },
}
- [L51:L54]struct Identifier {
    pub name: String,
    pub range: Range<Anchor>,
}
- [L56:L59]enum DefinitionTask {
    CacheHit(Arc<CacheEntry>),
    CacheMiss(Task<Result<Option<Vec<LocationLink>>>>),
}
- [L62:L63]struct CacheEntry {
    definitions: SmallVec<[CachedDefinition; 1]>,
- [L67:L71]struct CachedDefinition {
    path: ProjectPath,
    buffer: Entity<Buffer>,
    anchor_range: Range<Anchor>,
}
- [L361:L390]fn process_definition(
    location: LocationLink,
    project: &Entity<Project>,
    cx: &mut App,
) -> Option<CachedDefinition> 
- [L392:L474]fn identifiers_for_position(
    buffer: &BufferSnapshot,
    position: Anchor,
    identifier_line_count: u32,
) -> Vec<Identifier> 

## crates/edit_prediction_context/src/edit_prediction_context_tests.rs
- [L90:L164]fn test_assemble_excerpts(cx: &mut TestAppContext) 
- [L286:L290]fn init_test(cx: &mut TestAppContext) 
- [L292:L302]fn setup_fake_lsp(
    project: &Entity<Project>,
    cx: &mut TestAppContext,
) -> UnboundedReceiver<FakeLanguageServer> 
- [L304:L438]fn test_project_1() -> serde_json::Value 
- [L440:L465]fn assert_related_files(actual_files: &[RelatedFile], expected_files: &[(&str, &[&str])]) 
- [L467:L485]fn assert_definitions(definitions: &[LocationLink], first_lines: &[&str], cx: &mut TestAppContext) 
- [L487:L510]fn format_excerpts(buffer: &Buffer, excerpts: &[RelatedExcerpt]) -> String 

## crates/edit_prediction_context/src/excerpt.rs
- [L22:L30]struct EditPredictionExcerptOptions {
    pub max_bytes: usize,
    pub min_bytes: usize,
    pub target_before_cursor_over_total_bytes: f32,
}
- [L33:L37]struct EditPredictionExcerpt {
    pub range: Range<usize>,
    pub line_range: Range<Line>,
    pub size: usize,
}
- [L40:L43]struct EditPredictionExcerptText {
    pub body: String,
    pub language_id: Option<LanguageId>,
}
- [L135:L141]struct ExcerptSelector<'a> {
    query_offset: usize,
    query_range: Range<usize>,
    query_line_range: Range<Line>,
    buffer: &'a BufferSnapshot,
    options: &'a EditPredictionExcerptOptions,
}
- [L410:L412]fn node_line_start(node: Node) -> Point 
- [L414:L416]fn node_line_end(node: Node) -> Point 
- [L455:L468]fn main() 
- [L474:L474]fn foo() 
- [L482:L482]fn bar() 
- [L497:L510]fn main() 
- [L516:L531]fn main() 

## crates/edit_prediction_context/src/fake_definition_lsp.rs
- [L12:L160]fn register_fake_definition_server(
    language_registry: &Arc<LanguageRegistry>,
    language: Arc<Language>,
    fs: Arc<dyn Fs>,
) -> UnboundedReceiver<FakeLanguageServer> 
- [L162:L166]struct DefinitionIndex {
    language: Arc<Language>,
    definitions: HashMap<String, Vec<lsp::Location>>,
    files: HashMap<Uri, FileEntry>,
}
- [L169:L172]struct FileEntry {
    contents: String,
    is_open_in_buffer: bool,
}
- [L254:L286]fn extract_declarations_from_tree(
    tree: &Tree,
    content: &str,
    outline_config: &language::OutlineConfig,
) -> Vec<(String, Range<usize>)> 
- [L288:L292]fn byte_range_to_lsp_range(content: &str, byte_range: Range<usize>) -> lsp::Range 
- [L294:L311]fn byte_offset_to_position(content: &str, offset: usize) -> lsp::Position 
- [L313:L329]fn word_at_position(content: &str, position: lsp::Position) -> Option<&str> 

## crates/edit_prediction_types/src/edit_prediction_types.rs
- [L12:L15]enum Direction {
    Prev,
    Next,
}
- [L18:L31]enum EditPrediction {
    Local {
        id: Option<SharedString>,
        edits: Vec<(Range<language::Anchor>, Arc<str>)>,
        edit_preview: Option<language::EditPreview>,
    },
    Jump {
        id: Option<SharedString>,
        snapshot: language::BufferSnapshot,
        target: language::Anchor,
    },
}
- [L33:L40]enum DataCollectionState {
    Unsupported,
    Enabled { is_project_open_source: bool },
    Disabled { is_project_open_source: bool },
}
- [L64:L64]trait EditPredictionDelegate: 'static + Sized {
- [L109:L109]trait EditPredictionDelegateHandle {
- [L227:L231]enum EditPredictionGranularity {
    Word,
    Line,
    Full,
}
- [L232:L278]fn interpolate_edits(
    old_snapshot: &text::BufferSnapshot,
    new_snapshot: &text::BufferSnapshot,
    current_edits: &[(Range<Anchor>, Arc<str>)],
) -> Option<Vec<(Range<Anchor>, Arc<str>)>> 

## crates/edit_prediction_ui/src/edit_prediction_button.rs
- [L65:L65]struct CopilotErrorToast;
- [L67:L78]struct EditPredictionButton {
    editor_subscription: Option<(Subscription, usize)>,
    editor_enabled: Option<bool>,
    editor_show_predictions: bool,
    editor_focus_handle: Option<FocusHandle>,
    language: Option<Arc<Language>>,
    file: Option<Arc<dyn File>>,
    edit_prediction_provider: Option<Arc<dyn EditPredictionDelegateHandle>>,
    fs: Arc<dyn Fs>,
    user_store: Entity<UserStore>,
    popover_menu_handle: PopoverMenuHandle<ContextMenu>,
}
- [L80:L85]enum SupermavenButtonStatus {
    Ready,
    Errored(String),
    NeedsActivation(String),
    Initializing,
}
- [L1312:L1321]fn set_completion_provider(fs: Arc<dyn Fs>, cx: &mut App, provider: EditPredictionProvider) 
- [L1323:L1340]fn toggle_show_edit_predictions_for_language(
    language: Arc<Language>,
    fs: Arc<dyn Fs>,
    cx: &mut App,
) 
- [L1342:L1351]fn hide_copilot(fs: Arc<dyn Fs>, cx: &mut App) 
- [L1353:L1371]fn toggle_edit_prediction_mode(fs: Arc<dyn Fs>, mode: EditPredictionsMode, cx: &mut App) 
- [L1373:L1438]fn render_zeta_tab_animation(cx: &App) -> impl IntoElement 
- [L1440:L1447]fn copilot_settings_url(enterprise_uri: Option<&str>) -> String 

## crates/edit_prediction_ui/src/edit_prediction_context_view.rs
- [L32:L39]struct EditPredictionContextView {
    empty_focus_handle: FocusHandle,
    project: Entity<Project>,
    store: Entity<EditPredictionStore>,
    runs: VecDeque<RetrievalRun>,
    current_ix: usize,
    _update_task: Task<Result<()>>,
}
- [L42:L47]struct RetrievalRun {
    editor: Entity<Editor>,
    started_at: Instant,
    metadata: Vec<(&'static str, SharedString)>,
    finished_at: Option<Instant>,
}

## crates/edit_prediction_ui/src/edit_prediction_ui.rs
- [L41:L80]fn init(cx: &mut App) 
- [L82:L133]fn feature_gate_predict_edits_actions(cx: &mut App) 
- [L135:L191]fn capture_example_as_markdown(
    workspace: &mut Workspace,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) -> Option<()> 

## crates/edit_prediction_ui/src/rate_prediction_modal.rs
- [L35:L35]struct PredictEditsRatePredictionsFeatureFlag;
- [L41:L50]struct RatePredictionsModal {
    ep_store: Entity<EditPredictionStore>,
    language_registry: Arc<LanguageRegistry>,
    active_prediction: Option<ActivePrediction>,
    selected_index: usize,
    diff_editor: Entity<Editor>,
    focus_handle: FocusHandle,
    _subscription: gpui::Subscription,
    current_view: RatePredictionView,
}
- [L52:L56]struct ActivePrediction {
    prediction: EditPrediction,
    feedback_editor: Entity<Editor>,
    formatted_inputs: Entity<Markdown>,
}
- [L59:L62]enum RatePredictionView {
    SuggestedEdits,
    RawInput,
}
- [L890:L905]fn format_time_ago(elapsed: Duration) -> String 

## crates/editor/benches/display_map.rs
- [L11:L55]fn to_tab_point_benchmark(c: &mut Criterion) 
- [L57:L104]fn to_fold_point_benchmark(c: &mut Criterion) 

## crates/editor/benches/editor_render.rs
- [L12:L59]fn editor_input_with_1000_cursors(bencher: &mut Bencher<'_>, cx: &TestAppContext) 
- [L61:L79]fn open_editor_with_one_long_line(bencher: &mut Bencher<'_>, args: &(String, TestAppContext)) 
- [L81:L116]fn editor_render(bencher: &mut Bencher<'_>, cx: &TestAppContext) 
- [L118:L160]fn benches() 
- [L162:L167]fn main() 

## crates/editor/src/actions.rs
- [L8:L15]struct SelectNext {
    pub replace_newest: bool,
}
- [L17:L24]struct SelectPrevious {
    pub replace_newest: bool,
}
- [L26:L35]struct MoveToBeginningOfLine {
    pub stop_at_soft_wraps: bool,
    pub stop_at_indent: bool,
}
- [L37:L46]struct SelectToBeginningOfLine {
    pub(super) stop_at_soft_wraps: bool,
    pub stop_at_indent: bool,
}
- [L48:L55]struct DeleteToBeginningOfLine {
    pub(super) stop_at_indent: bool,
}
- [L57:L64]struct MovePageUp {
    pub(super) center_cursor: bool,
}
- [L66:L73]struct MovePageDown {
    pub(super) center_cursor: bool,
}
- [L75:L82]struct MoveToEndOfLine {
    pub stop_at_soft_wraps: bool,
}
- [L84:L91]struct SelectToEndOfLine {
    pub(super) stop_at_soft_wraps: bool,
}
- [L93:L106]struct ToggleCodeActions {
    pub deployed_from: Option<CodeActionSource>,
    pub quick_launch: bool,
}
- [L109:L113]enum CodeActionSource {
    Indicator(DisplayRow),
    RunMenu(DisplayRow),
    QuickActionBar,
}
- [L115:L122]struct ConfirmCompletion {
    pub item_ix: Option<usize>,
}
- [L124:L131]struct ComposeCompletion {
    pub item_ix: Option<usize>,
}
- [L133:L140]struct ConfirmCodeAction {
    pub item_ix: Option<usize>,
}
- [L142:L151]struct ToggleComments {
    pub advance_downwards: bool,
    pub ignore_indent: bool,
}
- [L153:L160]struct MoveUpByLines {
    pub(super) lines: u32,
}
- [L162:L169]struct MoveDownByLines {
    pub(super) lines: u32,
}
- [L171:L178]struct SelectUpByLines {
    pub(super) lines: u32,
}
- [L180:L187]struct SelectDownByLines {
    pub(super) lines: u32,
}
- [L189:L196]struct ExpandExcerpts {
    pub(super) lines: u32,
}
- [L198:L205]struct ExpandExcerptsUp {
    pub(super) lines: u32,
}
- [L207:L214]struct ExpandExcerptsDown {
    pub(super) lines: u32,
}
- [L216:L219]struct HandleInput(pub String);
- [L221:L232]struct DeleteToNextWordEnd {
    pub ignore_newlines: bool,
    pub ignore_brackets: bool,
}
- [L234:L245]struct DeleteToPreviousWordStart {
    pub ignore_newlines: bool,
    pub ignore_brackets: bool,
}
- [L247:L254]struct CutToEndOfLine {
    pub stop_at_newlines: bool,
}
- [L256:L259]struct FoldAtLevel(pub u32);
- [L261:L268]struct SpawnNearestTask {
    pub reveal: task::RevealStrategy,
}
- [L272:L275]struct DiffClipboardWithSelectionData {
    pub clipboard_text: String,
    pub editor: Entity<Editor>,
}
- [L278:L282]enum UuidVersion {
    V4,
    V7,
}
- [L284:L292]struct SplitSelectionIntoLines {
    pub keep_selections: bool,
}
- [L294:L301]struct GoToDiagnostic {
    pub severity: GoToDiagnosticSeverityFilter,
}
- [L303:L310]struct GoToPreviousDiagnostic {
    pub severity: GoToDiagnosticSeverityFilter,
}
- [L312:L319]struct AddSelectionAbove {
    pub skip_soft_wrap: bool,
}
- [L321:L328]struct AddSelectionBelow {
    pub skip_soft_wrap: bool,
}
- [L330:L345]struct InsertSnippet {
    pub language: Option<String>,
    pub name: Option<String>,
    pub snippet: Option<String>,
}
- [L851:L858]struct FindAllReferences {
    pub always_open_multibuffer: bool,
}

## crates/editor/src/blink_manager.rs
- [L7:L18]struct BlinkManager {
    blink_interval: Duration,
    blink_epoch: usize,
    blinking_paused: bool,
    visible: bool,
    enabled: bool,
    blink_enabled_in_settings: fn(&App) -> bool,
}

## crates/editor/src/bracket_colorization.rs
- [L15:L15]struct ColorizedBracketsHighlight;
- [L206:L221]fn main() 
- [L224:L224]fn one(a: (), (): (), c: ()) -> usize 
- [L226:L231]fn two<T>(a: HashMap<String, Vec<Option<T>>>) -> usize
where
    T: Future<Output = HashMap<String, Vec<Option<Box<()>>>>>,
- [L239:L254]fn main1()1 1
- [L257:L257]fn one1(a: 2()2, 2()2: 2()2, c: 2()2)1 -> usize 1
- [L259:L264]fn two1<T>11(a: HashMap2<String, Vec3<Option4<T>4>3>2)1 -> usize
where
    T: Future1<Output = HashMap2<String, Vec3<Option4<Box5<6()6>5>4>3>2>1,
1
- [L419:L421]struct Foo<'a, T> {
    data: Vec<Option<&'a T>>,
}
- [L423:L425]fn process_data() 
- [L435:L437]struct Foo1<'a, T>1 1{
    data: Vec2<Option3<&'a T>3>2,
}1
- [L439:L441]fn process_data1()1 1
- [L458:L460]struct Foo1<'a, T>1 1{
    data: Vec2<Option3<&'a T>3>2,
}1
- [L462:L464]fn process_data1()1 1
- [L480:L482]struct Foo1<'a, T>1 1{
    data: Vec2<Option3<&'a T>3>2,
}1
- [L484:L486]fn process_data1()1 1
- [L503:L505]struct Foo1<'a, T>1 1{
    data: Vec2<Option3<&'a T>3>2,
}1
- [L507:L509]fn process_data1()1 1
- [L526:L528]struct Foo1<'a, T>1 1{
    data: Vec2<Option3<&'a T>3>2,
}1
- [L530:L532]fn process_data1()1 1
- [L1235:L1235]fn main1()1 1

## crates/editor/src/clangd_ext.rs
- [L17:L19]fn is_c_language(language: &Language) -> bool 
- [L21:L116]fn switch_source_header(
    editor: &mut Editor,
    _: &SwitchSourceHeader,
    window: &mut Window,
    cx: &mut Context<Editor>,
) 
- [L118:L130]fn apply_related_actions(editor: &Entity<Editor>, window: &mut Window, cx: &mut App) 

## crates/editor/src/code_completion_tests.rs
- [L341:L341]struct CompletionBuilder;

## crates/editor/src/code_context_menus.rs
- [L48:L48]const MENU_GAP: Pixels = px(4.);
- [L49:L49]const MENU_ASIDE_X_PADDING: Pixels = px(16.);
- [L50:L50]const MENU_ASIDE_MIN_WIDTH: Pixels = px(260.);
- [L51:L51]const MENU_ASIDE_MAX_WIDTH: Pixels = px(500.);
- [L52:L52]const COMPLETION_MENU_MIN_WIDTH: Pixels = px(280.);
- [L53:L53]const COMPLETION_MENU_MAX_WIDTH: Pixels = px(540.);
- [L54:L54]const CODE_ACTION_MENU_MIN_WIDTH: Pixels = px(220.);
- [L55:L55]const CODE_ACTION_MENU_MAX_WIDTH: Pixels = px(540.);
- [L71:L74]enum CodeContextMenu {
    Completions(CompletionsMenu),
    CodeActions(CodeActionsMenu),
}
- [L220:L224]enum ContextMenuOrigin {
    Cursor,
    GutterIndicator(DisplayRow),
    QuickActionBar,
}
- [L226:L254]struct CompletionsMenu {
    pub id: CompletionId,
    pub source: CompletionsMenuSource,
    sort_completions: bool,
    pub initial_position: Anchor,
    pub initial_query: Option<Arc<String>>,
    pub is_incomplete: bool,
    pub buffer: Entity<Buffer>,
    pub completions: Rc<RefCell<Box<[Completion]>>>,
    match_candidates: Arc<[(Option<text::Anchor>, Vec<StringMatchCandidate>)]>,
    pub entries: Rc<RefCell<Box<[StringMatch]>>>,
    pub selected_item: usize,
    filter_task: Task<()>,
    cancel_filter: Arc<AtomicBool>,
    scroll_handle: UniformListScrollHandle,
    pub scroll_handle_aside: ScrollHandle,
    resolve_completions: bool,
    show_completion_documentation: bool,
    last_rendered_range: Rc<RefCell<Option<Range<usize>>>>,
    markdown_cache: Rc<RefCell<VecDeque<(MarkdownCacheKey, Entity<Markdown>)>>>,
    language_registry: Option<Arc<LanguageRegistry>>,
    language: Option<LanguageName>,
    display_options: CompletionDisplayOptions,
    snippet_sort_order: SnippetSortOrder,
}
- [L257:L265]enum MarkdownCacheKey {
    ForCandidate {
        candidate_id: usize,
    },
    ForCompletionMatch {
        new_text: String,
        markdown_source: SharedString,
    },
}
- [L268:L281]enum CompletionsMenuSource {
    Normal,
    SnippetsOnly,
    SnippetChoices,
    Words { ignore_threshold: bool },
}
- [L290:L290]struct CompletionMenuScrollBarSetting;
- [L1318:L1322]struct AvailableCodeAction {
    pub excerpt_id: ExcerptId,
    pub action: CodeAction,
    pub provider: Rc<dyn CodeActionProvider>,
}
- [L1325:L1330]struct CodeActionContents {
    tasks: Option<Rc<ResolvedTasks>>,
    actions: Option<Rc<[AvailableCodeAction]>>,
    debug_scenarios: Vec<DebugScenario>,
    pub(crate) context: TaskContext,
}
- [L1413:L1421]enum CodeActionsItem {
    Task(TaskSourceKind, ResolvedTask),
    CodeAction {
        excerpt_id: ExcerptId,
        action: CodeAction,
        provider: Rc<dyn CodeActionProvider>,
    },
    DebugScenario(DebugScenario),
}
- [L1441:L1447]struct CodeActionsMenu {
    pub actions: CodeActionContents,
    pub buffer: Entity<Buffer>,
    pub selected_item: usize,
    pub scroll_handle: UniformListScrollHandle,
    pub deployed_from: Option<CodeActionSource>,
}

## crates/editor/src/display_map.rs
- [L130:L133]enum FoldStatus {
    Folded,
    Foldable,
}
- [L136:L139]enum HighlightKey {
    Type(TypeId),
    TypePlus(TypeId, usize),
}
- [L141:L141]trait ToDisplayPoint {
- [L148:L176]struct DisplayMap {
    buffer: Entity<MultiBuffer>,
    buffer_subscription: BufferSubscription<MultiBufferOffset>,
    inlay_map: InlayMap,
    fold_map: FoldMap,
    tab_map: TabMap,
    wrap_map: Entity<WrapMap>,
    block_map: BlockMap,
    text_highlights: TextHighlights,
    inlay_highlights: InlayHighlights,
    crease_map: CreaseMap,
    pub(crate) fold_placeholder: FoldPlaceholder,
    pub clip_at_line_ends: bool,
    pub(crate) masked: bool,
    pub(crate) diagnostics_max_severity: DiagnosticSeverity,
}
- [L726:L729]struct EditPredictionStyles {
    pub insertion: HighlightStyle,
    pub whitespace: HighlightStyle,
}
- [L732:L735]struct HighlightStyles {
    pub inlay_hint: Option<HighlightStyle>,
    pub edit_prediction: Option<EditPredictionStyles>,
}
- [L738:L741]enum ChunkReplacement {
    Renderer(ChunkRenderer),
    Str(SharedString),
}
- [L743:L749]struct HighlightedChunk<'a> {
    pub text: &'a str,
    pub style: Option<HighlightStyle>,
    pub is_tab: bool,
    pub is_inlay: bool,
    pub replacement: Option<ChunkReplacement>,
}
- [L851:L860]struct DisplaySnapshot {
    pub crease_snapshot: CreaseSnapshot,
    block_snapshot: BlockSnapshot,
    text_highlights: TextHighlights,
    inlay_highlights: InlayHighlights,
    clip_at_line_ends: bool,
    masked: bool,
    diagnostics_max_severity: DiagnosticSeverity,
    pub(crate) fold_placeholder: FoldPlaceholder,
}
- [L1583:L1585]struct DisplayPoint(BlockPoint);
- [L1615:L1615]struct DisplayRow(pub u32);
- [L1720:L1720]mod tests {

## crates/editor/src/display_map/block_map.rs
- [L35:L48]struct BlockMap {
    pub(super) wrap_snapshot: RefCell<WrapSnapshot>,
    next_block_id: AtomicUsize,
    custom_blocks: Vec<Arc<CustomBlock>>,
    custom_blocks_by_id: TreeMap<CustomBlockId, Arc<CustomBlock>>,
    transforms: RefCell<SumTree<Transform>>,
    buffer_header_height: u32,
    excerpt_header_height: u32,
    pub(super) folded_buffers: HashSet<BufferId>,
    buffers_with_disabled_headers: HashSet<BufferId>,
}
- [L50:L53]struct BlockMapReader<'a> {
    blocks: &'a Vec<Arc<CustomBlock>>,
    pub snapshot: BlockSnapshot,
}
- [L55:L55]struct BlockMapWriter<'a>(&'a mut BlockMap);
- [L58:L64]struct BlockSnapshot {
    pub(super) wrap_snapshot: WrapSnapshot,
    transforms: SumTree<Transform>,
    custom_blocks_by_id: TreeMap<CustomBlockId, Arc<CustomBlock>>,
    pub(super) buffer_header_height: u32,
    pub(super) excerpt_header_height: u32,
}
- [L75:L75]struct CustomBlockId(pub usize);
- [L83:L86]struct BlockPoint(pub Point);
- [L89:L89]struct BlockRow(pub u32);
- [L101:L101]type RenderBlock = Arc<dyn Send + Sync + Fn(&mut BlockContext) -> AnyElement>;
- [L103:L114]enum BlockPlacement<T> {
    Above(T),
    Below(T),
    Near(T),
    Replace(RangeInclusive<T>),
}
- [L214:L221]struct CustomBlock {
    pub id: CustomBlockId,
    pub placement: BlockPlacement<Anchor>,
    pub height: Option<u32>,
    style: BlockStyle,
    render: Arc<Mutex<RenderBlock>>,
    priority: usize,
}
- [L224:L232]struct BlockProperties<P> {
    pub placement: BlockPlacement<P>,
    pub height: Option<u32>,
    pub style: BlockStyle,
    pub render: RenderBlock,
    pub priority: usize,
}
- [L245:L249]enum BlockStyle {
    Fixed,
    Flex,
    Sticky,
}
- [L252:L255]struct EditorMargins {
    pub gutter: GutterDimensions,
    pub right: Pixels,
}
- [L258:L271]struct BlockContext<'a, 'b> {
    pub window: &'a mut Window,
    pub app: &'b mut App,
    pub anchor_x: Pixels,
    pub max_width: Pixels,
    pub margins: &'b EditorMargins,
    pub em_width: Pixels,
    pub line_height: Pixels,
    pub block_id: BlockId,
    pub selected: bool,
    pub editor_style: &'b EditorStyle,
}
- [L274:L278]enum BlockId {
    ExcerptBoundary(ExcerptId),
    FoldedBuffer(ExcerptId),
    Custom(CustomBlockId),
}
- [L303:L306]struct Transform {
    summary: TransformSummary,
    block: Option<Block>,
}
- [L309:L323]enum Block {
    Custom(Arc<CustomBlock>),
    FoldedBuffer {
        first_excerpt: ExcerptInfo,
        height: u32,
    },
    ExcerptBoundary {
        excerpt: ExcerptInfo,
        height: u32,
    },
    BufferHeader {
        excerpt: ExcerptInfo,
        height: u32,
    },
}
- [L453:L458]struct TransformSummary {
    input_rows: WrapRow,
    output_rows: BlockRow,
    longest_row: BlockRow,
    longest_row_chars: u32,
}
- [L460:L468]struct BlockChunks<'a> {
    transforms: sum_tree::Cursor<'a, 'static, Transform, Dimensions<BlockRow, WrapRow>>,
    input_chunks: wrap_map::WrapChunks<'a>,
    input_chunk: Chunk<'a>,
    output_row: BlockRow,
    max_output_row: BlockRow,
    line_count_overflow: RowDelta,
    masked: bool,
}
- [L471:L476]struct BlockRows<'a> {
    transforms: sum_tree::Cursor<'a, 'static, Transform, Dimensions<BlockRow, WrapRow>>,
    input_rows: wrap_map::WrapRows<'a>,
    output_row: BlockRow,
    started: bool,
}
- [L971:L1004]fn push_isomorphic(tree: &mut SumTree<Transform>, rows: RowDelta, wrap_snapshot: &WrapSnapshot) 
- [L1803:L1805]struct StickyHeaderExcerpt<'a> {
    pub excerpt: &'a ExcerptInfo,
}
- [L2047:L2061]fn offset_for_row(s: &str, target: RowDelta) -> (RowDelta, usize) 

## crates/editor/src/display_map/crease_map.rs
- [L13:L13]struct CreaseId(usize);
- [L15:L19]struct CreaseMap {
    snapshot: CreaseSnapshot,
    next_id: CreaseId,
    id_to_range: HashMap<CreaseId, Range<Anchor>>,
}
- [L33:L35]struct CreaseSnapshot {
    creases: SumTree<CreaseItem>,
}
- [L138:L154]enum Crease<T> {
    Inline {
        range: Range<T>,
        placeholder: FoldPlaceholder,
        render_toggle: Option<RenderToggleFn>,
        render_trailer: Option<RenderTrailerFn>,
        metadata: Option<CreaseMetadata>,
    },
    Block {
        range: Range<T>,
        block_height: u32,
        block_style: BlockStyle,
        render_block: RenderBlock,
        block_priority: usize,
        render_toggle: Option<RenderToggleFn>,
    },
}
- [L156:L161]struct CreaseMetadata {
    pub icon_path: SharedString,
    pub label: SharedString,
}
- [L291:L294]struct CreaseItem {
    id: CreaseId,
    crease: Crease<Anchor>,
}
- [L368:L370]struct ItemSummary {
    range: Range<Anchor>,
}

## crates/editor/src/display_map/custom_highlights.rs
- [L14:L23]struct CustomHighlightsChunks<'a> {
    buffer_chunks: MultiBufferChunks<'a>,
    buffer_chunk: Option<Chunk<'a>>,
    offset: MultiBufferOffset,
    multibuffer_snapshot: &'a MultiBufferSnapshot,
    highlight_endpoints: Peekable<vec::IntoIter<HighlightEndpoint>>,
    active_highlights: BTreeMap<HighlightKey, HighlightStyle>,
    text_highlights: Option<&'a TextHighlights>,
}
- [L26:L30]struct HighlightEndpoint {
    offset: MultiBufferOffset,
    tag: HighlightKey,
    style: Option<HighlightStyle>,
}
- [L66:L111]fn create_highlight_endpoints(
    range: &Range<MultiBufferOffset>,
    text_highlights: Option<&TextHighlights>,
    buffer: &MultiBufferSnapshot,
) -> iter::Peekable<vec::IntoIter<HighlightEndpoint>> 

## crates/editor/src/display_map/dimensions.rs
- [L2:L2]struct RowDelta(pub u32);

## crates/editor/src/display_map/fold_map.rs
- [L27:L36]struct FoldPlaceholder {
    pub render: Arc<dyn Send + Sync + Fn(FoldId, Range<Anchor>, &mut App) -> AnyElement>,
    pub constrain_width: bool,
    pub merge_adjacent: bool,
    pub type_tag: Option<TypeId>,
}
- [L78:L78]struct FoldPoint(pub Point);
- [L327:L333]struct FoldMap {
    snapshot: FoldSnapshot,
    next_fold_id: FoldId,
}
- [L639:L645]struct FoldSnapshot {
    pub inlay_snapshot: InlaySnapshot,
    transforms: SumTree<Transform>,
    folds: SumTree<Fold>,
    fold_metadata_by_id: TreeMap<FoldId, FoldMetadata>,
    pub version: usize,
}
- [L965:L967]struct FoldPointCursor<'transforms> {
    cursor: Cursor<'transforms, 'static, Transform, Dimensions<InlayPoint, FoldPoint>>,
}
- [L991:L1015]fn push_isomorphic(transforms: &mut SumTree<Transform>, summary: MBTextSummary) 
- [L1017:L1038]fn intersecting_folds<'a>(
    inlay_snapshot: &'a InlaySnapshot,
    folds: &'a SumTree<Fold>,
    range: Range<MultiBufferOffset>,
    inclusive: bool,
) -> FilterCursor<'a, 'a, impl 'a + FnMut(&FoldSummary) -> bool, Fold, MultiBufferOffset> 
- [L1040:L1074]fn consolidate_inlay_edits(mut edits: Vec<InlayEdit>) -> Vec<InlayEdit> 
- [L1076:L1108]fn consolidate_fold_edits(mut edits: Vec<FoldEdit>) -> Vec<FoldEdit> 
- [L1111:L1114]struct Transform {
    summary: TransformSummary,
    placeholder: Option<TransformPlaceholder>,
}
- [L1117:L1121]struct TransformPlaceholder {
    text: &'static str,
    chars: u128,
    renderer: ChunkRenderer,
}
- [L1130:L1133]struct TransformSummary {
    output: MBTextSummary,
    input: MBTextSummary,
}
- [L1155:L1155]struct FoldId(pub(super) usize);
- [L1164:L1168]struct Fold {
    pub id: FoldId,
    pub range: FoldRange,
    pub placeholder: FoldPlaceholder,
}
- [L1171:L1171]struct FoldRange(Range<Anchor>);
- [L1194:L1197]struct FoldMetadata {
    range: FoldRange,
    width: Option<Pixels>,
}
- [L1214:L1220]struct FoldSummary {
    start: Anchor,
    end: Anchor,
    min_start: Anchor,
    max_end: Anchor,
    count: usize,
}
- [L1292:L1296]struct FoldRows<'a> {
    cursor: Cursor<'a, 'static, Transform, Dimensions<FoldPoint, InlayPoint>>,
    input_rows: InlayBufferRows<'a>,
    fold_point: FoldPoint,
}
- [L1337:L1364]struct Chunk<'a> {
    pub text: &'a str,
    pub syntax_highlight_id: Option<HighlightId>,
    pub highlight_style: Option<HighlightStyle>,
    pub diagnostic_severity: Option<lsp::DiagnosticSeverity>,
    pub is_unnecessary: bool,
    pub underline: bool,
    pub is_tab: bool,
    pub is_inlay: bool,
    pub renderer: Option<ChunkRenderer>,
    pub tabs: u128,
    pub chars: u128,
}
- [L1367:L1370]enum ChunkRendererId {
    Fold(FoldId),
    Inlay(InlayId),
}
- [L1372:L1385]struct ChunkRenderer {
    pub id: ChunkRendererId,
    pub render: Arc<dyn Send + Sync + Fn(&mut ChunkRendererContext) -> AnyElement>,
    pub constrain_width: bool,
    pub measured_width: Option<Pixels>,
}
- [L1387:L1391]struct ChunkRendererContext<'a, 'b> {
    pub window: &'a mut Window,
    pub context: &'b mut App,
    pub max_width: Pixels,
}
- [L1415:L1422]struct FoldChunks<'a> {
    transform_cursor: Cursor<'a, 'static, Transform, Dimensions<FoldOffset, InlayOffset>>,
    inlay_chunks: InlayChunks<'a>,
    inlay_chunk: Option<(InlayOffset, InlayChunk<'a>)>,
    inlay_offset: InlayOffset,
    output_offset: FoldOffset,
    max_output_offset: FoldOffset,
}
- [L1557:L1557]struct FoldOffset(pub MultiBufferOffset);
- [L1667:L1667]type FoldEdit = Edit<FoldOffset>;

## crates/editor/src/display_map/inlay_map.rs
- [L30:L36]struct InlayMap {
    snapshot: InlaySnapshot,
    inlays: Vec<Inlay>,
}
- [L39:L43]struct InlaySnapshot {
    pub buffer: MultiBufferSnapshot,
    transforms: SumTree<Transform>,
    pub version: usize,
}
- [L54:L57]enum Transform {
    Isomorphic(MBTextSummary),
    Inlay(Inlay),
}
- [L78:L83]struct TransformSummary {
    input: MBTextSummary,
    output: MBTextSummary,
}
- [L96:L96]type InlayEdit = Edit<InlayOffset>;
- [L99:L99]struct InlayOffset(pub MultiBufferOffset);
- [L163:L163]struct InlayPoint(pub Point);
- [L212:L217]struct InlayBufferRows<'a> {
    transforms: Cursor<'a, 'static, Transform, Dimensions<InlayPoint, Point>>,
    buffer_rows: MultiBufferRows<'a>,
    inlay_row: u32,
    max_buffer_row: MultiBufferRow,
}
- [L219:L231]struct InlayChunks<'a> {
    transforms: Cursor<'a, 'static, Transform, Dimensions<InlayOffset, MultiBufferOffset>>,
    buffer_chunks: CustomHighlightsChunks<'a>,
    buffer_chunk: Option<Chunk<'a>>,
    inlay_chunks: Option<text::ChunkWithBitmaps<'a>>,
    inlay_chunk: Option<ChunkBitmaps<'a>>,
    output_offset: InlayOffset,
    max_output_offset: InlayOffset,
    highlight_styles: HighlightStyles,
    highlights: Highlights<'a>,
    snapshot: &'a InlaySnapshot,
}
- [L234:L238]struct InlayChunk<'a> {
    pub chunk: Chunk<'a>,
    pub renderer: Option<ChunkRenderer>,
}
- [L1180:L1183]struct InlayPointCursor<'transforms> {
    cursor: Cursor<'transforms, 'static, Transform, Dimensions<Point, InlayPoint>>,
    transforms: &'transforms SumTree<Transform>,
}
- [L1226:L1244]fn push_isomorphic(sum_tree: &mut SumTree<Transform>, summary: MBTextSummary) 

## crates/editor/src/display_map/invisibles.rs
- [L34:L45]fn is_invisible(c: char) -> bool 
- [L49:L59]fn replacement(c: char) -> Option<&'static str> 
- [L75:L75]const FORMAT: &[(char, char)] = &[
- [L100:L100]const OTHER: &[(char, char)] = &[
- [L123:L133]fn contains(c: char, list: &[(char, char)]) -> bool 

## crates/editor/src/display_map/tab_map.rs
- [L17:L20]struct TabMap(TabSnapshot);
- [L165:L170]struct TabSnapshot {
    pub fold_snapshot: FoldSnapshot,
    pub tab_size: NonZeroU32,
    pub max_expansion_column: u32,
    pub version: usize,
}
- [L458:L460]struct TabPointCursor<'this> {
    this: &'this TabSnapshot,
}
- [L470:L470]struct TabPoint(pub Point);
- [L496:L496]type TabEdit = text::Edit<TabPoint>;
- [L499:L505]struct TextSummary {
    pub lines: Point,
    pub first_line_chars: u32,
    pub last_line_chars: u32,
    pub longest_row: u32,
    pub longest_row_chars: u32,
}
- [L549:L562]struct TabChunks<'a> {
    snapshot: &'a TabSnapshot,
    max_expansion_column: u32,
    max_output_position: Point,
    tab_size: NonZeroU32,
    fold_chunks: FoldChunks<'a>,
    chunk: Chunk<'a>,
    column: u32,
    output_position: Point,
    input_column: u32,
    inside_leading_tab: bool,
}
- [L1462:L1472]struct TabStopCursor<'a, I>
where
    I: Iterator<Item = Chunk<'a>>,
{
    chunks: I,
    byte_offset: u32,
    char_offset: u32,
    current_chunk: Option<(Chunk<'a>, u32)>,
}
- [L1602:L1616]fn get_char_offset(range: Range<u32>, bit_map: u128) -> u32 
- [L1619:L1622]struct TabStop {
    char_offset: u32,
    byte_offset: u32,
}

## crates/editor/src/display_map/wrap_map.rs
- [L16:L16]type WrapEdit = text::Edit<WrapRow>;
- [L17:L17]type WrapPatch = text::Patch<WrapRow>;
- [L20:L20]struct WrapRow(pub u32);
- [L26:L37]struct WrapMap {
    snapshot: WrapSnapshot,
    pending_edits: VecDeque<(TabSnapshot, Vec<TabEdit>)>,
    interpolated_edits: WrapPatch,
    edits_since_sync: WrapPatch,
    wrap_width: Option<Pixels>,
    background_task: Option<Task<()>>,
    font_with_size: (Font, Pixels),
}
- [L40:L44]struct WrapSnapshot {
    pub(super) tab_snapshot: TabSnapshot,
    transforms: SumTree<Transform>,
    interpolated: bool,
}
- [L55:L58]struct Transform {
    summary: TransformSummary,
    display_text: Option<&'static str>,
}
- [L61:L64]struct TransformSummary {
    input: TextSummary,
    output: TextSummary,
}
- [L67:L67]struct WrapPoint(pub Point);
- [L69:L76]struct WrapChunks<'a> {
    input_chunks: tab_map::TabChunks<'a>,
    input_chunk: Chunk<'a>,
    output_position: WrapPoint,
    max_output_row: WrapRow,
    transforms: Cursor<'a, 'static, Transform, Dimensions<WrapPoint, TabPoint>>,
    snapshot: &'a WrapSnapshot,
}
- [L79:L86]struct WrapRows<'a> {
    input_buffer_rows: FoldRows<'a>,
    input_buffer_row: RowInfo,
    output_row: WrapRow,
    soft_wrapped: bool,
    max_output_row: WrapRow,
    transforms: Cursor<'a, 'static, Transform, Dimensions<WrapPoint, TabPoint>>,
}
- [L984:L986]struct WrapPointCursor<'transforms> {
    cursor: Cursor<'transforms, 'static, Transform, Dimensions<TabPoint, WrapPoint>>,
}
- [L1186:L1195]fn push_isomorphic(transforms: &mut Vec<Transform>, summary: TextSummary) 
- [L1282:L1308]fn consolidate_wrap_edits(edits: Vec<WrapEdit>) -> Vec<WrapEdit> 

## crates/editor/src/edit_prediction_tests.rs
- [L331:L347]fn assert_editor_active_edit_completion(
    cx: &mut EditorTestContext,
    assert: impl FnOnce(MultiBufferSnapshot, &Vec<(Range<Anchor>, Arc<str>)>),
) 
- [L349:L365]fn assert_editor_active_move_completion(
    cx: &mut EditorTestContext,
    assert: impl FnOnce(MultiBufferSnapshot, Anchor),
) 
- [L367:L371]fn accept_completion(cx: &mut EditorTestContext) 
- [L373:L393]fn propose_edits<T: ToOffset>(
    provider: &Entity<FakeEditPredictionDelegate>,
    edits: Vec<(Range<T>, &str)>,
    cx: &mut EditorTestContext,
) 
- [L395:L402]fn assign_editor_completion_provider(
    provider: Entity<FakeEditPredictionDelegate>,
    cx: &mut EditorTestContext,
) 
- [L404:L424]fn propose_edits_non_zed<T: ToOffset>(
    provider: &Entity<FakeNonZedEditPredictionDelegate>,
    edits: Vec<(Range<T>, &str)>,
    cx: &mut EditorTestContext,
) 
- [L426:L433]fn assign_editor_completion_provider_non_zed(
    provider: Entity<FakeNonZedEditPredictionDelegate>,
    cx: &mut EditorTestContext,
) 
- [L436:L438]struct FakeEditPredictionDelegate {
    pub completion: Option<edit_prediction_types::EditPrediction>,
}
- [L503:L505]struct FakeNonZedEditPredictionDelegate {
    pub completion: Option<edit_prediction_types::EditPrediction>,
}

## crates/editor/src/editor.rs
- [L14:L14]mod actions;
- [L15:L15]mod blink_manager;
- [L18:L18]mod code_context_menus;
- [L19:L19]mod display_map;
- [L25:L25]mod hover_popover;
- [L28:L28]mod items;
- [L34:L34]mod movement;
- [L37:L37]mod scroll;
- [L40:L40]mod tasks;
- [L50:L50]mod test;
- [L225:L225]const FILE_HEADER_HEIGHT: u32 = 2;
- [L226:L226]const MULTI_BUFFER_EXCERPT_HEADER_HEIGHT: u32 = 1;
- [L233:L233]const CODE_ACTIONS_DEBOUNCE_TIMEOUT: Duration = Duration::from_millis(250);
- [L234:L234]const SELECTION_HIGHLIGHT_DEBOUNCE_TIMEOUT: Duration = Duration::from_millis(100);
- [L239:L239]const FETCH_COLORS_DEBOUNCE_TIMEOUT: Duration = Duration::from_millis(150);
- [L245:L245]type RenderDiffHunkControlsFn = Arc<
- [L258:L262]enum ReportEditorEvent {
    Saved { auto_saved: bool },
    EditorOpened,
    Closed,
}
- [L274:L274]enum ActiveDebugLine {}
- [L275:L275]enum DebugStackFrameLine {}
- [L276:L276]enum DocumentHighlightRead {}
- [L277:L277]enum DocumentHighlightWrite {}
- [L278:L278]enum InputComposition {}
- [L279:L279]enum PendingInput {}
- [L280:L280]enum SelectedTextHighlight {}
- [L282:L282]enum ConflictsOuter {}
- [L283:L283]enum ConflictsOurs {}
- [L284:L284]enum ConflictsTheirs {}
- [L285:L285]enum ConflictsOursMarker {}
- [L286:L286]enum ConflictsTheirsMarker {}
- [L288:L288]struct HunkAddedColor;
- [L289:L289]struct HunkRemovedColor;
- [L292:L295]enum Navigated {
    Yes,
    No,
}
- [L304:L316]enum DisplayDiffHunk {
    Folded {
        display_row: DisplayRow,
    },
    Unfolded {
        is_created_file: bool,
        diff_base_byte_range: Range<usize>,
        display_row_range: Range<DisplayRow>,
        multi_buffer_range: Range<Anchor>,
        status: DiffHunkStatus,
        word_diffs: Vec<Range<MultiBufferOffset>>,
    },
}
- [L318:L321]enum HideMouseCursorOrigin {
    TypingAction,
    MovementAction,
}
- [L323:L371]fn init(cx: &mut App) 
- [L373:L375]fn set_blame_renderer(renderer: impl BlameRenderer + 'static, cx: &mut App) 
- [L377:L377]trait DiagnosticRenderer {
- [L415:L417]fn set_diagnostic_renderer(renderer: impl DiagnosticRenderer + 'static, cx: &mut App) 
- [L419:L419]struct SearchWithinRange;
- [L426:L448]enum SelectPhase {
    Begin {
        position: DisplayPoint,
        add: bool,
        click_count: usize,
    },
    BeginColumnar {
        position: DisplayPoint,
        reset: bool,
        mode: ColumnarMode,
        goal_column: u32,
    },
    Extend {
        position: DisplayPoint,
        click_count: usize,
    },
    Update {
        position: DisplayPoint,
        goal_column: u32,
        scroll_delta: gpui::Point<f32>,
    },
    End,
}
- [L451:L454]enum ColumnarMode {
    FromMouse,
    FromSelection,
}
- [L457:L462]enum SelectMode {
    Character,
    Word(Range<Anchor>),
    Line(Range<Anchor>),
    All,
}
- [L465:L476]enum SizingBehavior {
    Default,
    ExcludeOverscrollMargin,
    SizeByContent,
}
- [L479:L496]enum EditorMode {
    SingleLine,
    AutoHeight {
        min_lines: usize,
        max_lines: Option<usize>,
    },
    Full {
        scale_ui_elements_with_buffer_font_size: bool,
        show_active_line_background: bool,
        sizing_behavior: SizingBehavior,
    },
    Minimap {
        parent: WeakEntity<Editor>,
    },
}
- [L524:L538]enum SoftWrap {
    GitDiff,
    None,
    EditorWidth,
    Column(u32),
    Bounded(u32),
}
- [L541:L553]struct EditorStyle {
    pub background: Hsla,
    pub border: Hsla,
    pub local_player: PlayerColor,
    pub text: TextStyle,
    pub scrollbar_width: Pixels,
    pub syntax: Arc<SyntaxTheme>,
    pub status: StatusColors,
    pub inlay_hints_style: HighlightStyle,
    pub edit_prediction_styles: EditPredictionStyles,
    pub unnecessary_code_fade: f32,
    pub show_underlines: bool,
}
- [L579:L600]fn make_inlay_hints_style(cx: &App) -> HighlightStyle 
- [L602:L613]fn make_suggestion_styles(cx: &App) -> EditPredictionStyles 
- [L623:L640]enum EditPrediction {
    Edit {
        edits: Vec<(Range<Anchor>, Arc<str>)>,
        edit_preview: Option<EditPreview>,
        display_mode: EditDisplayMode,
        snapshot: BufferSnapshot,
    },
    MoveWithin {
        target: Anchor,
        snapshot: BufferSnapshot,
    },
    MoveOutside {
        target: language::Anchor,
        snapshot: BufferSnapshot,
    },
}
- [L642:L647]struct EditPredictionState {
    inlay_ids: Vec<InlayId>,
    completion: EditPrediction,
    completion_id: Option<SharedString>,
    invalidation_range: Option<Range<Anchor>>,
}
- [L649:L655]enum EditPredictionSettings {
    Disabled,
    Enabled {
        show_in_menu: bool,
        preview_requires_modifier: bool,
    },
}
- [L657:L657]enum EditPredictionHighlight {}
- [L660:L666]struct InlineDiagnostic {
    message: SharedString,
    group_id: usize,
    is_primary: bool,
    start: Point,
    severity: lsp::DiagnosticSeverity,
}
- [L668:L671]enum MenuEditPredictionsPolicy {
    Never,
    ByProvider,
}
- [L673:L681]enum EditPredictionPreview {
    Inactive { released_too_fast: bool },
    Active {
        since: Instant,
        previous_scroll_position: Option<ScrollAnchor>,
    },
}
- [L702:L706]struct ContextMenuOptions {
    pub min_entries_visible: usize,
    pub max_entries_visible: usize,
    pub placement: Option<ContextMenuPlacement>,
}
- [L709:L712]enum ContextMenuPlacement {
    Above,
    Below,
}
- [L715:L715]struct EditorActionId(usize);
- [L737:L742]struct ScrollbarMarkerState {
    scrollbar_size: Size<Pixels>,
    dirty: bool,
    markers: Arc<[PaintQuad]>,
    pending_refresh: Option<Task<Result<()>>>,
}
- [L751:L759]enum MinimapVisibility {
    Disabled,
    Enabled {
        setting_configuration: bool,
        toggle_override: bool,
    },
}
- [L825:L828]enum BufferSerialization {
    All,
    NonDirtyBuffers,
}
- [L841:L850]struct RunnableTasks {
    templates: Vec<(TaskSourceKind, TaskTemplate)>,
    offset: multi_buffer::Anchor,
    column: u32,
    extra_variables: HashMap<String, String>,
    context_range: Range<BufferOffset>,
}
- [L866:L867]struct ResolvedTasks {
    templates: SmallVec<[(TaskSourceKind, ResolvedTask); 1]>,
- [L872:L872]trait Addon: 'static {
- [L895:L898]struct ChangeLocation {
    current: Option<Vec<Anchor>>,
    original: Vec<Anchor>,
}
- [L905:L910]struct ChangeList {
    changes: Vec<ChangeLocation>,
    position: Option<usize>,
}
- [L970:L974]struct InlineBlamePopoverState {
    scroll_handle: ScrollHandle,
    commit_message: Option<ParsedCommitMessage>,
    markdown: Entity<Markdown>,
}
- [L976:L982]struct InlineBlamePopover {
    position: gpui::Point<Pixels>,
    hide_task: Option<Task<()>>,
    popover_bounds: Option<Bounds<Pixels>>,
    popover_state: InlineBlamePopoverState,
    keyboard_grace: bool,
}
- [L984:L999]enum SelectionDragState {
    None,
    ReadyToDrag {
        selection: Selection<Anchor>,
        click_position: gpui::Point<Pixels>,
        mouse_down_time: Instant,
    },
    Dragging {
        selection: Selection<Anchor>,
        drop_cursor: Selection<Anchor>,
        hide_drop_cursor: bool,
    },
}
- [L1001:L1009]enum ColumnarSelectionState {
    FromMouse {
        selection_tail: Anchor,
        display_point: Option<DisplayPoint>,
    },
    FromSelection {
        selection_tail: Anchor,
    },
}
- [L1011:L1020]struct PhantomBreakpointIndicator {
    display_row: DisplayRow,
    is_active: bool,
    collides_with_existing_breakpoint: bool,
}
- [L1022:L1219]struct Editor {
    focus_handle: FocusHandle,
    last_focused_descendant: Option<WeakFocusHandle>,
    buffer: Entity<MultiBuffer>,
    pub display_map: Entity<DisplayMap>,
    placeholder_display_map: Option<Entity<DisplayMap>>,
    pub selections: SelectionsCollection,
    pub scroll_manager: ScrollManager,
    pub(crate) show_cursor_when_unfocused: bool,
    columnar_selection_state: Option<ColumnarSelectionState>,
    add_selections_state: Option<AddSelectionsState>,
    select_next_state: Option<SelectNextState>,
    select_prev_state: Option<SelectNextState>,
    selection_history: SelectionHistory,
    defer_selection_effects: bool,
    deferred_selection_effects_state: Option<DeferredSelectionEffectsState>,
    autoclose_regions: Vec<AutocloseRegion>,
    snippet_stack: InvalidationStack<SnippetState>,
    select_syntax_node_history: SelectSyntaxNodeHistory,
    ime_transaction: Option<TransactionId>,
    pub diagnostics_max_severity: DiagnosticSeverity,
    active_diagnostics: ActiveDiagnostic,
    show_inline_diagnostics: bool,
    inline_diagnostics_update: Task<()>,
    inline_diagnostics_enabled: bool,
    diagnostics_enabled: bool,
    word_completions_enabled: bool,
    inline_diagnostics: Vec<(Anchor, InlineDiagnostic)>,
    soft_wrap_mode_override: Option<language_settings::SoftWrap>,
    hard_wrap: Option<usize>,
    project: Option<Entity<Project>>,
    semantics_provider: Option<Rc<dyn SemanticsProvider>>,
    completion_provider: Option<Rc<dyn CompletionProvider>>,
    collaboration_hub: Option<Box<dyn CollaborationHub>>,
    blink_manager: Entity<BlinkManager>,
    show_cursor_names: bool,
    hovered_cursors: HashMap<HoveredCursor, Task<()>>,
    pub show_local_selections: bool,
    mode: EditorMode,
    show_breadcrumbs: bool,
    show_gutter: bool,
    show_scrollbars: ScrollbarAxes,
    minimap_visibility: MinimapVisibility,
    offset_content: bool,
    disable_expand_excerpt_buttons: bool,
    show_line_numbers: Option<bool>,
    use_relative_line_numbers: Option<bool>,
    show_git_diff_gutter: Option<bool>,
    show_code_actions: Option<bool>,
    show_runnables: Option<bool>,
    show_breakpoints: Option<bool>,
    show_wrap_guides: Option<bool>,
    show_indent_guides: Option<bool>,
    buffers_with_disabled_indent_guides: HashSet<BufferId>,
    highlight_order: usize,
    highlighted_rows: HashMap<TypeId, Vec<RowHighlight>>,
    background_highlights: HashMap<HighlightKey, BackgroundHighlight>,
    gutter_highlights: HashMap<TypeId, GutterHighlight>,
    scrollbar_marker_state: ScrollbarMarkerState,
    active_indent_guides_state: ActiveIndentGuidesState,
    nav_history: Option<ItemNavHistory>,
    context_menu: RefCell<Option<CodeContextMenu>>,
    context_menu_options: Option<ContextMenuOptions>,
    mouse_context_menu: Option<MouseContextMenu>,
    completion_tasks: Vec<(CompletionId, Task<()>)>,
    inline_blame_popover: Option<InlineBlamePopover>,
    inline_blame_popover_show_task: Option<Task<()>>,
    signature_help_state: SignatureHelpState,
    auto_signature_help: Option<bool>,
    find_all_references_task_sources: Vec<Anchor>,
    next_completion_id: CompletionId,
    available_code_actions: Option<(Location, Rc<[AvailableCodeAction]>)>,
    code_actions_task: Option<Task<Result<()>>>,
    quick_selection_highlight_task: Option<(Range<Anchor>, Task<()>)>,
    debounced_selection_highlight_task: Option<(Range<Anchor>, Task<()>)>,
    document_highlights_task: Option<Task<()>>,
    linked_editing_range_task: Option<Task<Option<()>>>,
    linked_edit_ranges: linked_editing_ranges::LinkedEditingRanges,
    pending_rename: Option<RenameState>,
    searchable: bool,
    cursor_shape: CursorShape,
    cursor_offset_on_selection: bool,
    current_line_highlight: Option<CurrentLineHighlight>,
    pub collapse_matches: bool,
    autoindent_mode: Option<AutoindentMode>,
    workspace: Option<(WeakEntity<Workspace>, Option<WorkspaceId>)>,
    input_enabled: bool,
    use_modal_editing: bool,
    read_only: bool,
    leader_id: Option<CollaboratorId>,
    remote_id: Option<ViewId>,
    pub hover_state: HoverState,
    pending_mouse_down: Option<Rc<RefCell<Option<MouseDownEvent>>>>,
    prev_pressure_stage: Option<PressureStage>,
    gutter_hovered: bool,
    hovered_link_state: Option<HoveredLinkState>,
    edit_prediction_provider: Option<RegisteredEditPredictionDelegate>,
    code_action_providers: Vec<Rc<dyn CodeActionProvider>>,
    active_edit_prediction: Option<EditPredictionState>,
    stale_edit_prediction_in_menu: Option<EditPredictionState>,
    edit_prediction_settings: EditPredictionSettings,
    edit_predictions_hidden_for_vim_mode: bool,
    show_edit_predictions_override: Option<bool>,
    show_completions_on_input_override: Option<bool>,
    menu_edit_predictions_policy: MenuEditPredictionsPolicy,
    edit_prediction_preview: EditPredictionPreview,
    edit_prediction_indent_conflict: bool,
    edit_prediction_requires_modifier_in_indent_conflict: bool,
    next_inlay_id: usize,
    next_color_inlay_id: usize,
    _subscriptions: Vec<Subscription>,
    pixel_position_of_newest_cursor: Option<gpui::Point<Pixels>>,
    gutter_dimensions: GutterDimensions,
    style: Option<EditorStyle>,
    text_style_refinement: Option<TextStyleRefinement>,
    next_editor_action_id: EditorActionId,
    editor_actions: Rc<
        RefCell<BTreeMap<EditorActionId, Box<dyn Fn(&Editor, &mut Window, &mut Context<Self>)>>>,
    >,
    use_autoclose: bool,
    use_auto_surround: bool,
    auto_replace_emoji_shortcode: bool,
    jsx_tag_auto_close_enabled_in_any_buffer: bool,
    show_git_blame_gutter: bool,
    show_git_blame_inline: bool,
    show_git_blame_inline_delay_task: Option<Task<()>>,
    git_blame_inline_enabled: bool,
    render_diff_hunk_controls: RenderDiffHunkControlsFn,
    buffer_serialization: Option<BufferSerialization>,
    show_selection_menu: Option<bool>,
    blame: Option<Entity<GitBlame>>,
    blame_subscription: Option<Subscription>,
    custom_context_menu: Option<
        Box<
            dyn 'static
                + Fn(
                    &mut Self,
                    DisplayPoint,
                    &mut Window,
                    &mut Context<Self>,
                ) -> Option<Entity<ui::ContextMenu>>,
        >,
    >,
    last_bounds: Option<Bounds<Pixels>>,
    last_position_map: Option<Rc<PositionMap>>,
    expect_bounds_change: Option<Bounds<Pixels>>,
    tasks: BTreeMap<(BufferId, BufferRow), RunnableTasks>,
    tasks_update_task: Option<Task<()>>,
    breakpoint_store: Option<Entity<BreakpointStore>>,
    gutter_breakpoint_indicator: (Option<PhantomBreakpointIndicator>, Option<Task<()>>),
    hovered_diff_hunk_row: Option<DisplayRow>,
    pull_diagnostics_task: Task<()>,
    pull_diagnostics_background_task: Task<()>,
    in_project_search: bool,
    previous_search_ranges: Option<Arc<[Range<Anchor>]>>,
    breadcrumb_header: Option<String>,
    focused_block: Option<FocusedBlock>,
    next_scroll_position: NextScrollCursorCenterTopBottom,
    addons: HashMap<TypeId, Box<dyn Addon>>,
    registered_buffers: HashMap<BufferId, OpenLspBufferHandle>,
    load_diff_task: Option<Shared<Task<()>>>,
    temporary_diff_override: bool,
    selection_mark_mode: bool,
    toggle_fold_multiple_buffers: Task<()>,
    _scroll_cursor_center_top_bottom_task: Task<()>,
    serialize_selections: Task<()>,
    serialize_folds: Task<()>,
    mouse_cursor_hidden: bool,
    minimap: Option<Entity<Self>>,
    hide_mouse_mode: HideMouseMode,
    pub change_list: ChangeList,
    inline_value_cache: InlineValueCache,
    selection_drag_state: SelectionDragState,
    colors: Option<LspColorData>,
    post_scroll_update: Task<()>,
    refresh_colors_task: Task<()>,
    inlay_hints: Option<LspInlayHintData>,
    folding_newlines: Task<()>,
    select_next_is_case_sensitive: Option<bool>,
    pub lookup_key: Option<Box<dyn Any + Send + Sync>>,
    applicable_language_settings: HashMap<Option<LanguageName>, LanguageSettings>,
    accent_data: Option<AccentData>,
    fetched_tree_sitter_chunks: HashMap<ExcerptId, HashSet<Range<BufferRow>>>,
    use_base_text_line_numbers: bool,
}
- [L1222:L1225]struct AccentData {
    colors: AccentColors,
    overrides: Vec<SharedString>,
}
- [L1227:L1233]fn debounce_value(debounce_ms: u64) -> Option<Duration> 
- [L1236:L1241]enum NextScrollCursorCenterTopBottom {
    Center,
    Top,
    Bottom,
}
- [L1254:L1271]struct EditorSnapshot {
    pub mode: EditorMode,
    show_gutter: bool,
    offset_content: bool,
    show_line_numbers: Option<bool>,
    show_git_diff_gutter: Option<bool>,
    show_code_actions: Option<bool>,
    show_runnables: Option<bool>,
    show_breakpoints: Option<bool>,
    git_blame_gutter_max_author_length: Option<usize>,
    pub display_snapshot: DisplaySnapshot,
    pub placeholder_display_snapshot: Option<DisplaySnapshot>,
    is_focused: bool,
    scroll_anchor: ScrollAnchor,
    ongoing_scroll: OngoingScroll,
    current_line_highlight: CurrentLineHighlight,
    gutter_hovered: bool,
}
- [L1274:L1280]struct GutterDimensions {
    pub left_padding: Pixels,
    pub right_padding: Pixels,
    pub width: Pixels,
    pub margin: Pixels,
    pub git_blame_entries_width: Option<Pixels>,
}
- [L1306:L1310]struct CharacterDimensions {
    em_width: Pixels,
    em_advance: Pixels,
    line_height: Pixels,
}
- [L1313:L1321]struct RemoteSelection {
    pub replica_id: ReplicaId,
    pub selection: Selection<Anchor>,
    pub cursor_shape: CursorShape,
    pub collaborator_id: CollaboratorId,
    pub line_mode: bool,
    pub user_name: Option<SharedString>,
    pub color: PlayerColor,
}
- [L1324:L1329]struct SelectionHistoryEntry {
    selections: Arc<[Selection<Anchor>]>,
    select_next_state: Option<SelectNextState>,
    select_prev_state: Option<SelectNextState>,
    add_selections_state: Option<AddSelectionsState>,
}
- [L1332:L1338]enum SelectionHistoryMode {
    Normal,
    Undoing,
    Redoing,
    Skipping,
}
- [L1341:L1344]struct HoveredCursor {
    replica_id: ReplicaId,
    selection_id: usize,
}
- [L1347:L1365]struct SelectionEffects {
    nav_history: Option<bool>,
    completions: bool,
    scroll: Option<Autoscroll>,
}
- [L1406:L1411]struct DeferredSelectionEffectsState {
    changed: bool,
    effects: SelectionEffects,
    old_cursor_position: Anchor,
    history_entry: SelectionHistoryEntry,
}
- [L1414:L1421]struct SelectionHistory {
    selections_by_transaction:
        HashMap<TransactionId, (Arc<[Selection<Anchor>]>, Option<Arc<[Selection<Anchor>]>>)>,
    mode: SelectionHistoryMode,
    undo_stack: VecDeque<SelectionHistoryEntry>,
    redo_stack: VecDeque<SelectionHistoryEntry>,
}
- [L1499:L1502]struct RowHighlightOptions {
    pub autoscroll: bool,
    pub include_gutter: bool,
}
- [L1513:L1519]struct RowHighlight {
    index: usize,
    range: Range<Anchor>,
    color: Hsla,
    options: RowHighlightOptions,
    type_id: TypeId,
}
- [L1522:L1524]struct AddSelectionsState {
    groups: Vec<AddSelectionsGroup>,
}
- [L1527:L1530]struct AddSelectionsGroup {
    above: bool,
    stack: Vec<usize>,
}
- [L1533:L1537]struct SelectNextState {
    query: AhoCorasick,
    wordwise: bool,
    done: bool,
}
- [L1549:L1553]struct AutocloseRegion {
    selection_id: usize,
    range: Range<Anchor>,
    pair: BracketPair,
}
- [L1556:L1560]struct SnippetState {
    ranges: Vec<Vec<Range<Anchor>>>,
    active_index: usize,
    choices: Vec<Option<Vec<String>>>,
}
- [L1563:L1568]struct RenameState {
    pub range: Range<Anchor>,
    pub old_name: Arc<str>,
    pub editor: Entity<Editor>,
    block_id: CustomBlockId,
}
- [L1570:L1570]struct InvalidationStack<T>(Vec<T>);
- [L1572:L1575]struct RegisteredEditPredictionDelegate {
    provider: Arc<dyn EditPredictionDelegateHandle>,
    _subscription: Subscription,
}
- [L1578:L1583]struct ActiveDiagnosticGroup {
    pub active_range: Range<Anchor>,
    pub active_message: String,
    pub group_id: usize,
    pub blocks: HashSet<CustomBlockId>,
}
- [L1594:L1605]struct ClipboardSelection {
    pub len: usize,
    pub is_entire_line: bool,
    pub first_line_indent: u32,
    pub file_path: Option<PathBuf>,
    pub line_range: Option<RangeInclusive<u32>>,
}
- [L1650:L1654]struct SelectSyntaxNodeHistory {
    stack: Vec<SelectSyntaxNodeHistoryState>,
    pub disable_clearing: bool,
}
- [L1672:L1676]enum SelectSyntaxNodeScrollBehavior {
    CursorTop,
    FitSelection,
    CursorBottom,
}
- [L1687:L1692]enum GotoDefinitionKind {
    Symbol,
    Declaration,
    Type,
    Implementation,
}
- [L1694:L1697]enum FormatTarget {
    Buffers(HashSet<Entity<Buffer>>),
    Ranges(Vec<Range<MultiBufferPoint>>),
}
- [L1705:L1716]enum JumpData {
    MultiBufferRow {
        row: MultiBufferRow,
        line_offset_from_top: u32,
    },
    MultiBufferPoint {
        excerpt_id: ExcerptId,
        position: Point,
        anchor: text::Anchor,
        line_offset_from_top: u32,
    },
}
- [L1718:L1721]enum MultibufferSelectionMode {
    First,
    All,
}
- [L1724:L1727]struct RewrapOptions {
    pub override_language_settings: bool,
    pub preserve_existing_whitespace: bool,
}
- [L23209:L23227]fn edit_for_markdown_paste<'a>(
    buffer: &MultiBufferSnapshot,
    range: Range<MultiBufferOffset>,
    to_insert: &'a str,
    url: Option<url::Url>,
) -> (Range<MultiBufferOffset>, Cow<'a, str>) 
- [L23229:L23370]fn process_completion_for_edit(
    completion: &Completion,
    intent: CompletionIntent,
    buffer: &Entity<Buffer>,
    cursor_position: &text::Anchor,
    cx: &mut Context<Editor>,
) -> CompletionEdit 
- [L23372:L23376]struct CompletionEdit {
    new_text: String,
    replace_range: Range<BufferOffset>,
    snippet: Option<Snippet>,
}
- [L23378:L23433]fn comment_delimiter_for_newline(
    start_point: &Point,
    buffer: &MultiBufferSnapshot,
    language: &LanguageScope,
) -> Option<Arc<str>> 
- [L23435:L23546]fn documentation_delimiter_for_newline(
    start_point: &Point,
    buffer: &MultiBufferSnapshot,
    language: &LanguageScope,
    newline_config: &mut NewlineConfig,
) -> Option<Arc<str>> 
- [L23550:L23668]fn list_delimiter_for_newline(
    start_point: &Point,
    buffer: &MultiBufferSnapshot,
    language: &LanguageScope,
    newline_config: &mut NewlineConfig,
) -> Option<Arc<str>> 
- [L23670:L23734]fn is_list_prefix_row(
    row: MultiBufferRow,
    buffer: &MultiBufferSnapshot,
    language: &LanguageScope,
) -> bool 
- [L23737:L23748]enum NewlineConfig {
    Newline {
        additional_indent: IndentSize,
        extra_line_additional_indent: Option<IndentSize>,
        prevent_auto_indent: bool,
    },
    ClearCurrentLine,
    UnindentCurrentLine { continuation: Arc<str> },
}
- [L23834:L23866]fn update_uncommitted_diff_for_buffer(
    editor: Entity<Editor>,
    project: &Entity<Project>,
    buffers: impl IntoIterator<Item = Entity<Buffer>>,
    buffer: Entity<MultiBuffer>,
    cx: &mut App,
) -> Task<()> 
- [L23868:L23881]fn char_len_with_expanded_tabs(offset: usize, text: &str, tab_size: NonZeroU32) -> usize 
- [L23901:L23904]struct WordBreakingTokenizer<'a> {
    input: &'a str,
}
- [L23912:L23916]fn is_char_ideographic(ch: char) -> bool 
- [L23918:L23920]fn is_grapheme_ideographic(text: &str) -> bool 
- [L23922:L23924]fn is_grapheme_whitespace(text: &str) -> bool 
- [L23926:L23930]fn should_stay_with_preceding_ideograph(text: &str) -> bool 
- [L23933:L23937]enum WordBreakToken<'a> {
    Word { token: &'a str, grapheme_len: usize },
    InlineWhitespace { token: &'a str, grapheme_len: usize },
    Newline,
}
- [L24007:L24079]fn test_word_breaking_tokenizer() 
- [L24081:L24194]fn wrap_with_prefix(
    first_line_prefix: String,
    subsequent_lines_prefix: String,
    unwrapped_text: String,
    wrap_column: usize,
    tab_size: NonZeroU32,
    preserve_existing_whitespace: bool,
) -> String 
- [L24197:L24253]fn test_wrap_with_prefix() 
- [L24255:L24255]trait CollaborationHub {
- [L24277:L24277]trait SemanticsProvider {
- [L24343:L24343]trait CompletionProvider {
- [L24399:L24399]trait CodeActionProvider {
- [L24468:L24700]fn snippet_completions(
    project: &Project,
    buffer: &Entity<Buffer>,
    buffer_anchor: text::Anchor,
    classifier: CharClassifier,
    cx: &mut App,
) -> Task<Result<CompletionResponse>> 
- [L24927:L24946]fn consume_contiguous_rows(
    contiguous_row_selections: &mut Vec<Selection<Point>>,
    selection: &Selection<Point>,
    display_map: &DisplaySnapshot,
    selections: &mut Peekable<std::slice::Iter<Selection<Point>>>,
) -> (MultiBufferRow, MultiBufferRow) 
- [L24948:L24954]fn starting_row(selection: &Selection<Point>, display_map: &DisplaySnapshot) -> MultiBufferRow 
- [L24956:L24962]fn ending_row(next_selection: &Selection<Point>, display_map: &DisplaySnapshot) -> MultiBufferRow 
- [L25363:L25378]fn column_pixels(style: &EditorStyle, column: usize, window: &Window) -> Pixels 
- [L25389:L25446]enum EditorEvent {
    InputIgnored {
        text: Arc<str>,
    },
    InputHandled {
        utf16_range_to_replace: Option<Range<isize>>,
        text: Arc<str>,
    },
    ExcerptsAdded {
        buffer: Entity<Buffer>,
        predecessor: ExcerptId,
        excerpts: Vec<(ExcerptId, ExcerptRange<language::Anchor>)>,
    },
    ExcerptsRemoved {
        ids: Vec<ExcerptId>,
        removed_buffer_ids: Vec<BufferId>,
    },
    BufferFoldToggled {
        ids: Vec<ExcerptId>,
        folded: bool,
    },
    ExcerptsEdited {
        ids: Vec<ExcerptId>,
    },
    ExcerptsExpanded {
        ids: Vec<ExcerptId>,
    },
    BufferEdited,
    Edited {
        transaction_id: clock::Lamport,
    },
    Reparsed(BufferId),
    Focused,
    FocusedIn,
    Blurred,
    DirtyChanged,
    Saved,
    TitleChanged,
    SelectionsChanged {
        local: bool,
    },
    ScrollPositionChanged {
        local: bool,
        autoscroll: bool,
    },
    TransactionUndone {
        transaction_id: clock::Lamport,
    },
    TransactionBegun {
        transaction_id: clock::Lamport,
    },
    CursorShapeChanged,
    BreadcrumbsChanged,
    PushedToNavHistory {
        anchor: Anchor,
        is_deactivate: bool,
    },
}
- [L25872:L25885]fn edit_prediction_edit_text(
    current_snapshot: &BufferSnapshot,
    edits: &[(Range<Anchor>, impl AsRef<str>)],
    edit_preview: &EditPreview,
    include_deletions: bool,
    cx: &App,
) -> HighlightedText 
- [L25887:L25912]fn edit_prediction_fallback_text(edits: &[(Range<Anchor>, Arc<str>)], cx: &App) -> HighlightedText 
- [L25914:L25922]fn diagnostic_style(severity: lsp::DiagnosticSeverity, colors: &StatusColors) -> Hsla 
- [L25924:L25977]fn styled_runs_for_code_label<'a>(
    label: &'a CodeLabel,
    syntax_theme: &'a theme::SyntaxTheme,
    local_player: &'a theme::PlayerColor,
) -> impl 'a + Iterator<Item = (Range<usize>, HighlightStyle)> 
- [L26026:L26026]trait RangeToAnchorExt: Sized {
- [L26047:L26047]trait RowExt {
- [L26125:L26133]fn collapse_multiline_range(range: Range<Point>) -> Range<Point> 
- [L26134:L26134]struct KillRing(ClipboardItem);
- [L26139:L26143]enum BreakpointPromptEditAction {
    Log,
    Condition,
    HitCondition,
}
- [L26145:L26154]struct BreakpointPromptEditor {
    pub(crate) prompt: Entity<Editor>,
    editor: WeakEntity<Editor>,
    breakpoint_anchor: Anchor,
    breakpoint: Breakpoint,
    edit_action: BreakpointPromptEditAction,
    block_ids: HashSet<CustomBlockId>,
    editor_margins: Arc<Mutex<EditorMargins>>,
    _subscriptions: Vec<Subscription>,
}
- [L26317:L26343]fn all_edits_insertions_or_deletions(
    edits: &Vec<(Range<Anchor>, Arc<str>)>,
    snapshot: &MultiBufferSnapshot,
) -> bool 
- [L26345:L26345]struct MissingEditPredictionKeybindingTooltip;
- [L26380:L26385]struct LineHighlight {
    pub background: Background,
    pub border: Option<gpui::Hsla>,
    pub include_gutter: bool,
    pub type_id: Option<TypeId>,
}
- [L26387:L26391]struct LineManipulationResult {
    pub new_text: String,
    pub line_count_before: usize,
    pub line_count_after: usize,
}
- [L26393:L26561]fn render_diff_hunk_controls(
    row: u32,
    status: &DiffHunkStatus,
    hunk_range: Range<Anchor>,
    is_created_file: bool,
    line_height: Pixels,
    editor: &Entity<Editor>,
    _window: &mut Window,
    cx: &mut App,
) -> AnyElement 
- [L26563:L26568]fn multibuffer_context_lines(cx: &App) -> u32 

## crates/editor/src/editor_settings.rs
- [L14:L60]struct EditorSettings {
    pub cursor_blink: bool,
    pub cursor_shape: Option<CursorShape>,
    pub current_line_highlight: CurrentLineHighlight,
    pub selection_highlight: bool,
    pub rounded_selection: bool,
    pub lsp_highlight_debounce: DelayMs,
    pub hover_popover_enabled: bool,
    pub hover_popover_delay: DelayMs,
    pub toolbar: Toolbar,
    pub scrollbar: Scrollbar,
    pub minimap: Minimap,
    pub gutter: Gutter,
    pub scroll_beyond_last_line: ScrollBeyondLastLine,
    pub vertical_scroll_margin: f64,
    pub autoscroll_on_clicks: bool,
    pub horizontal_scroll_margin: f32,
    pub scroll_sensitivity: f32,
    pub fast_scroll_sensitivity: f32,
    pub sticky_scroll: StickyScroll,
    pub relative_line_numbers: RelativeLineNumbers,
    pub seed_search_query_from_cursor: SeedQuerySetting,
    pub use_smartcase_search: bool,
    pub multi_cursor_modifier: MultiCursorModifier,
    pub redact_private_values: bool,
    pub expand_excerpt_lines: u32,
    pub excerpt_context_lines: u32,
    pub middle_click_paste: bool,
    pub double_click_in_multibuffer: DoubleClickInMultibuffer,
    pub search_wrap: bool,
    pub search: SearchSettings,
    pub auto_signature_help: bool,
    pub show_signature_help_after_edits: bool,
    pub go_to_definition_fallback: GoToDefinitionFallback,
    pub jupyter: Jupyter,
    pub hide_mouse: Option<HideMouseMode>,
    pub snippet_sort_order: SnippetSortOrder,
    pub diagnostics_max_severity: Option<DiagnosticSeverity>,
    pub inline_code_actions: bool,
    pub drag_and_drop_selection: DragAndDropSelection,
    pub lsp_document_colors: DocumentColorsRenderMode,
    pub minimum_contrast_for_highlights: f32,
    pub completion_menu_scrollbar: ShowScrollbar,
}
- [L62:L67]struct Jupyter {
    pub enabled: bool,
}
- [L70:L72]struct StickyScroll {
    pub enabled: bool,
}
- [L75:L81]struct Toolbar {
    pub breadcrumbs: bool,
    pub quick_actions: bool,
    pub selections_menu: bool,
    pub agent_review: bool,
    pub code_actions: bool,
}
- [L84:L93]struct Scrollbar {
    pub show: ShowScrollbar,
    pub git_diff: bool,
    pub selected_text: bool,
    pub selected_symbol: bool,
    pub search_results: bool,
    pub diagnostics: ScrollbarDiagnostics,
    pub cursors: bool,
    pub axes: ScrollbarAxes,
}
- [L96:L103]struct Minimap {
    pub show: ShowMinimap,
    pub display_in: DisplayIn,
    pub thumb: MinimapThumb,
    pub thumb_border: MinimapThumbBorder,
    pub current_line_highlight: Option<CurrentLineHighlight>,
    pub max_width_columns: num::NonZeroU32,
}
- [L124:L130]struct Gutter {
    pub min_line_number_digits: usize,
    pub line_numbers: bool,
    pub runnables: bool,
    pub breakpoints: bool,
    pub folds: bool,
}
- [L132:L144]struct ScrollbarAxes {
    pub horizontal: bool,
    pub vertical: bool,
}
- [L146:L158]struct DragAndDropSelection {
    pub enabled: bool,
    pub delay: DelayMs,
}
- [L160:L175]struct SearchSettings {
    pub button: bool,
    pub whole_word: bool,
    pub case_sensitive: bool,
    pub include_ignored: bool,
    pub regex: bool,
    pub center_on_match: bool,
}

## crates/editor/src/editor_tests.rs
- [L77:L81]fn display_ranges(editor: &Editor, cx: &mut Context<'_, Editor>) -> Vec<Range<DisplayPoint>> 
- [L84:L210]fn test_edit_events(cx: &mut TestAppContext) 
- [L213:L320]fn test_undo_redo_with_selection_restoration(cx: &mut TestAppContext) 
- [L323:L429]fn test_ime_composition(cx: &mut TestAppContext) 
- [L432:L533]fn test_selection_with_mouse(cx: &mut TestAppContext) 
- [L536:L584]fn test_multiple_cursor_removal(cx: &mut TestAppContext) 
- [L587:L631]fn test_canceling_pending_selection(cx: &mut TestAppContext) 
- [L634:L667]fn test_movement_actions_with_pending_selection(cx: &mut TestAppContext) 
- [L670:L754]fn test_extending_selection(cx: &mut TestAppContext) 
- [L757:L849]fn test_clone(cx: &mut TestAppContext) 
- [L987:L1039]fn test_cancel(cx: &mut TestAppContext) 
- [L1042:L1134]fn test_fold_action(cx: &mut TestAppContext) 
- [L1137:L1216]fn test_fold_action_whitespace_sensitive_language(cx: &mut TestAppContext) 
- [L1219:L1309]fn test_fold_action_multiple_line_breaks(cx: &mut TestAppContext) 
- [L1312:L1479]fn test_fold_at_level(cx: &mut TestAppContext) 
- [L1482:L1557]fn test_move_cursor(cx: &mut TestAppContext) 
- [L1560:L1623]fn test_move_cursor_multibyte(cx: &mut TestAppContext) 
- [L1626:L1671]fn test_move_cursor_different_line_lengths(cx: &mut TestAppContext) 
- [L1674:L1853]fn test_beginning_end_of_line(cx: &mut TestAppContext) 
- [L1856:L1947]fn test_beginning_end_of_line_ignore_soft_wrap(cx: &mut TestAppContext) 
- [L1950:L2048]fn test_beginning_of_line_stop_at_indent(cx: &mut TestAppContext) 
- [L2051:L2093]fn test_beginning_of_line_with_cursor_between_line_start_and_indent(cx: &mut TestAppContext) 
- [L2096:L2156]fn test_prev_next_word_boundary(cx: &mut TestAppContext) 
- [L2159:L2216]fn test_prev_next_word_bounds_with_soft_wrap(cx: &mut TestAppContext) 
- [L2995:L3030]fn test_delete_to_previous_word_start_or_newline(cx: &mut TestAppContext) 
- [L3033:L3079]fn test_delete_to_next_word_end_or_newline(cx: &mut TestAppContext) 
- [L3082:L3102]fn test_newline(cx: &mut TestAppContext) 
- [L3176:L3255]fn test_newline_with_old_selections(cx: &mut TestAppContext) 
- [L3720:L3772]fn test_insert_with_old_selections(cx: &mut TestAppContext) 
- [L4294:L4398]fn test_indent_outdent_with_excerpts(cx: &mut TestAppContext) 
- [L4457:L4518]fn test_delete_line(cx: &mut TestAppContext) 
- [L4521:L4632]fn test_join_lines_with_single_selection(cx: &mut TestAppContext) 
- [L4635:L4665]fn test_join_lines_with_multi_selection(cx: &mut TestAppContext) 
- [L5654:L5776]fn test_duplicate_line(cx: &mut TestAppContext) 
- [L5889:L5986]fn test_move_line_up_down(cx: &mut TestAppContext) 
- [L5989:L6013]fn test_move_line_up_selection_at_end_of_fold(cx: &mut TestAppContext) 
- [L6016:L6041]fn test_move_line_up_down_with_blocks(cx: &mut TestAppContext) 
- [L6114:L6281]fn test_transpose(cx: &mut TestAppContext) 
- [L7721:L7735]fn test_select_all(cx: &mut TestAppContext) 
- [L7738:L7788]fn test_select_line(cx: &mut TestAppContext) 
- [L15713:L15725]fn gen_text_edit(params: &CompletionParams, text: &str) -> Option<lsp::CompletionTextEdit> 
- [L16808:L16867]fn test_editing_disjoint_excerpts(cx: &mut TestAppContext) 
- [L16870:L16956]fn test_editing_overlapping_excerpts(cx: &mut TestAppContext) 
- [L16959:L17041]fn test_refresh_selections(cx: &mut TestAppContext) 
- [L17044:L17100]fn test_refresh_selections_while_selecting_with_mouse(cx: &mut TestAppContext) 
- [L17180:L17257]fn test_highlighted_ranges(cx: &mut TestAppContext) 
- [L17912:L17925]fn test_split_words() 
- [L17928:L17960]fn test_split_words_for_snippet_prefix() 
- [L19227:L19230]fn completion_menu_entries(menu: &CompletionsMenu) -> Vec<String> 
- [L19713:L19713]struct Row1;
- [L19714:L19714]struct Row2;
- [L19716:L19716]struct Row4;
- [L19717:L19717]struct Row5;
- [L19718:L19718]struct Row6;
- [L19720:L19720]struct Row8;
- [L19721:L19721]struct Row9;
- [L19722:L19722]struct Row10;"#};
- [L21388:L21428]fn assert_indent_guides(
    range: Range<u32>,
    expected: Vec<IndentGuide>,
    active_indices: Option<Vec<usize>>,
    cx: &mut EditorTestContext,
) 
- [L21430:L21445]fn indent_guide(buffer_id: BufferId, start_row: u32, end_row: u32, depth: u32) -> IndentGuide 
- [L22519:L22587]fn test_crease_insertion_and_rendering(cx: &mut TestAppContext) 
- [L23903:L23932]fn assert_breakpoint(
    breakpoints: &BTreeMap<Arc<Path>, Vec<SourceBreakpoint>>,
    path: &Arc<Path>,
    expected: Vec<(u32, Breakpoint)>,
) 
- [L23934:L23962]fn add_log_breakpoint_at_cursor(
    editor: &mut Editor,
    log_message: &str,
    window: &mut Window,
    cx: &mut Context<Editor>,
) 
- [L25277:L25297]fn set_linked_edit_ranges(
    opening: (Point, Point),
    closing: (Point, Point),
    editor: &mut Editor,
    cx: &mut Context<Editor>,
) 
- [L26549:L26552]fn empty_range(row: usize, column: usize) -> Range<DisplayPoint> 
- [L26555:L26567]fn assert_selection_ranges(marked_text: &str, editor: &mut Editor, cx: &mut Context<Editor>) 
- [L26569:L26582]fn handle_signature_help_request(
    cx: &mut EditorLspTestContext,
    mocked_response: lsp::SignatureHelp,
) -> impl Future<Output = ()> + use<> 
- [L26585:L26598]fn check_displayed_completions(expected: Vec<&'static str>, cx: &mut EditorLspTestContext) 
- [L26789:L26847]fn handle_completion_request(
    marked_string: &str,
    completions: Vec<&'static str>,
    is_incomplete: bool,
    counter: Arc<AtomicUsize>,
    cx: &mut EditorLspTestContext,
) -> impl Future<Output = ()> 
- [L26849:L26925]fn handle_completion_request_with_insert_and_replace(
    cx: &mut EditorLspTestContext,
    marked_string: &str,
    completions: Vec<(&'static str, &'static str)>, // (label, new_text)
    counter: Arc<AtomicUsize>,
) -> impl Future<Output = ()> 
- [L26927:L26959]fn handle_resolve_completion_request(
    cx: &mut EditorLspTestContext,
    edits: Option<Vec<(&'static str, &'static str)>>,
) -> impl Future<Output = ()> 
- [L27008:L27033]fn assert_hunk_revert(
    not_reverted_text_with_selections: &str,
    expected_hunk_statuses_before: Vec<DiffHunkStatusKind>,
    expected_reverted_text_with_selections: &str,
    base_text: &str,
    cx: &mut EditorLspTestContext,
) 
- [L28416:L28423]fn extract_color_inlays(editor: &Editor, cx: &App) -> Vec<Rgba> 
- [L28426:L28459]fn test_duplicate_line_up_on_last_line_without_newline(cx: &mut TestAppContext) 
- [L28638:L28759]fn test_relative_line_numbers(cx: &mut TestAppContext) 
- [L30267:L30299]fn test_editor_rendering_when_positioned_above_viewport(cx: &mut TestAppContext) 

## crates/editor/src/element.rs
- [L102:L108]struct LineHighlightSpec {
    selection: bool,
    breakpoint: bool,
    _active_stack_frame: bool,
}
- [L111:L119]struct SelectionLayout {
    head: DisplayPoint,
    cursor_shape: CursorShape,
    is_newest: bool,
    is_local: bool,
    range: Range<DisplayPoint>,
    active_rows: Range<DisplayRow>,
    user_name: Option<SharedString>,
}
- [L121:L126]struct InlineBlameLayout {
    element: AnyElement,
    bounds: Bounds<Pixels>,
    buffer_id: BufferId,
    entry: BlameEntry,
}
- [L186:L190]struct RenderBlocksOutput {
    blocks: Vec<BlockLayout>,
    row_block_types: HashMap<DisplayRow, bool>,
    resized_blocks: Option<HashMap<CustomBlockId, u32>>,
}
- [L192:L195]struct EditorElement {
    editor: Entity<Editor>,
    style: EditorStyle,
}
- [L7876:L7890]fn file_status_label_color(file_status: Option<FileStatus>) -> Color 
- [L7892:L7920]fn header_jump_data(
    editor_snapshot: &EditorSnapshot,
    block_row_start: DisplayRow,
    height: u32,
    first_excerpt: &ExcerptInfo,
    latest_selection_anchors: &HashMap<BufferId, Anchor>,
) -> JumpData 
- [L7922:L7927]struct JumpTargetInExcerptInput<'a> {
    id: ExcerptId,
    buffer: &'a language::BufferSnapshot,
    excerpt_start_anchor: text::Anchor,
    jump_anchor: text::Anchor,
}
- [L7929:L7959]fn header_jump_data_inner(
    snapshot: &EditorSnapshot,
    block_row_start: DisplayRow,
    height: u32,
    for_excerpt: &JumpTargetInExcerptInput,
) -> JumpData 
- [L7961:L7961]struct AcceptEditPredictionBinding(pub(crate) Option<gpui::KeyBinding>);
- [L7976:L8032]fn prepaint_gutter_button(
    button: IconButton,
    row: DisplayRow,
    line_height: Pixels,
    gutter_dimensions: &GutterDimensions,
    scroll_position: gpui::Point<ScrollOffset>,
    gutter_hitbox: &Hitbox,
    display_hunks: &[(DisplayDiffHunk, Option<Hitbox>)],
    window: &mut Window,
    cx: &mut App,
) -> AnyElement 
- [L8034:L8041]fn render_inline_blame_entry(
    blame_entry: BlameEntry,
    style: &EditorStyle,
    cx: &mut App,
) -> Option<AnyElement> 
- [L8043:L8067]fn render_blame_entry_popover(
    blame_entry: BlameEntry,
    scroll_handle: ScrollHandle,
    commit_message: Option<ParsedCommitMessage>,
    markdown: Entity<Markdown>,
    workspace: WeakEntity<Workspace>,
    blame: &Entity<GitBlame>,
    buffer: BufferId,
    window: &mut Window,
    cx: &mut App,
) -> Option<AnyElement> 
- [L8069:L8110]fn render_blame_entry(
    ix: usize,
    blame: &Entity<GitBlame>,
    blame_entry: BlameEntry,
    style: &EditorStyle,
    last_used_color: &mut Option<(Hsla, Oid)>,
    editor: Entity<Editor>,
    workspace: Entity<Workspace>,
    buffer: BufferId,
    renderer: &dyn BlameRenderer,
    window: &mut Window,
    cx: &mut App,
) -> Option<AnyElement> 
- [L8121:L8129]enum LineFragment {
    Text(ShapedLine),
    Element {
        id: ChunkRendererId,
        element: Option<AnyElement>,
        size: Size<Pixels>,
        len: usize,
    },
}
- [L8823:L8836]enum Invisible {
    Tab {
        line_start_offset: usize,
        line_end_offset: usize,
    },
    Whitespace {
        line_offset: usize,
    },
}
- [L8890:L8895]struct EditorRequestLayoutState {
    prepaint_depth: Rc<Cell<usize>>,
}
- [L8918:L8920]struct EditorPrepaintGuard {
    prepaint_depth: Rc<Cell<usize>>,
}
- [L10370:L10373]struct ContextMenuLayout {
    y_flipped: bool,
    bounds: Bounds<Pixels>,
}
- [L10375:L10383]struct ScrollbarLayoutInformation {
    editor_bounds: Bounds<Pixels>,
    scroll_range: Size<Pixels>,
    glyph_grid_cell: Size<Pixels>,
}
- [L10419:L10427]struct EditorLayout {
    position_map: Rc<PositionMap>,
    hitbox: Hitbox,
    gutter_hitbox: Hitbox,
    content_origin: gpui::Point<Pixels>,
    scrollbars_layout: Option<EditorScrollbars>,
    minimap: Option<MinimapLayout>,
    mode: EditorMode,
    wrap_guides: SmallVec<[(Pixels, bool); 2]>,
- [L10463:L10468]struct StickyHeaders {
    lines: Vec<StickyHeaderLine>,
    gutter_background: Hsla,
    content_background: Hsla,
    gutter_right_padding: Pixels,
}
- [L10470:L10475]struct StickyHeaderLine {
    row: DisplayRow,
    offset: Pixels,
    line: LineWithInvisibles,
    line_number: Option<ShapedLine>,
    elements: SmallVec<[AnyElement; 1]>,
- [L10636:L10639]struct LineNumberSegment {
    shaped_line: ShapedLine,
    hitbox: Option<Hitbox>,
}
- [L10642:L10643]struct LineNumberLayout {
    segments: SmallVec<[LineNumberSegment; 1]>,
- [L10646:L10650]struct ColoredRange<T> {
    start: T,
    end: T,
    color: Hsla,
}
- [L10677:L10681]struct EditorScrollbars {
    pub vertical: Option<ScrollbarLayout>,
    pub horizontal: Option<ScrollbarLayout>,
    pub visible: bool,
}
- [L10770:L10776]struct ScrollbarLayout {
    hitbox: Hitbox,
    visible_range: Range<ScrollOffset>,
    text_unit_size: Pixels,
    thumb_bounds: Option<Bounds<Pixels>>,
    thumb_state: ScrollbarThumbState,
}
- [L11021:L11028]struct MinimapLayout {
    pub minimap: AnyElement,
    pub thumb_layout: ScrollbarLayout,
    pub minimap_scroll_top: ScrollOffset,
    pub minimap_line_height: Pixels,
    pub thumb_border_style: MinimapThumbBorder,
    pub max_scroll_top: ScrollOffset,
}
- [L11053:L11056]struct CreaseTrailerLayout {
    element: AnyElement,
    bounds: Bounds<Pixels>,
}
- [L11079:L11084]struct PointForPosition {
    pub previous_valid: DisplayPoint,
    pub next_valid: DisplayPoint,
    pub exact_unclipped: DisplayPoint,
    pub column_overshoot_after_line_end: u32,
}
- [L11162:L11171]struct BlockLayout {
    id: BlockId,
    x_offset: Pixels,
    row: Option<DisplayRow>,
    element: AnyElement,
    available_space: Size<AvailableSpace>,
    style: BlockStyle,
    overlaps_gutter: bool,
    is_buffer_header: bool,
}
- [L11173:L11197]fn layout_line(
    row: DisplayRow,
    snapshot: &EditorSnapshot,
    style: &EditorStyle,
    text_width: Pixels,
    is_row_soft_wrapped: impl Copy + Fn(usize) -> bool,
    window: &mut Window,
    cx: &mut App,
) -> LineWithInvisibles 
- [L11200:L11207]struct IndentGuideLayout {
    origin: gpui::Point<Pixels>,
    length: Pixels,
    single_indent_width: Pixels,
    depth: u32,
    active: bool,
    settings: IndentGuideSettings,
}
- [L11209:L11217]struct CursorLayout {
    origin: gpui::Point<Pixels>,
    block_width: Pixels,
    line_height: Pixels,
    color: Hsla,
    shape: CursorShape,
    block_text: Option<ShapedLine>,
    cursor_name: Option<AnyElement>,
}
- [L11220:L11224]struct CursorName {
    string: SharedString,
    color: Hsla,
    is_top_row: bool,
}
- [L11348:L11354]struct HighlightedRange {
    pub start_y: Pixels,
    pub line_height: Pixels,
    pub lines: Vec<HighlightedRangeLine>,
    pub color: Hsla,
    pub corner_radius: Pixels,
}
- [L11357:L11360]struct HighlightedRangeLine {
    pub start_x: Pixels,
    pub end_x: Pixels,
}
- [L11499:L11502]enum CursorPopoverType {
    CodeContextMenu,
    EditPrediction,
}
- [L11504:L11506]fn scale_vertical_mouse_autoscroll_delta(delta: Pixels) -> f32 
- [L11508:L11510]fn scale_horizontal_mouse_autoscroll_delta(delta: Pixels) -> f32 
- [L11512:L11526]fn register_action<T: Action>(
    editor: &Entity<Editor>,
    window: &mut Window,
    listener: impl Fn(&mut Editor, &T, &mut Window, &mut Context<Editor>) + 'static,
) 
- [L11528:L11581]fn compute_auto_height_layout(
    editor: &mut Editor,
    min_lines: usize,
    max_lines: Option<usize>,
    known_dimensions: Size<Option<Pixels>>,
    available_width: AvailableSpace,
    window: &mut Window,
    cx: &mut Context<Editor>,
) -> Option<Size<Pixels>> 

## crates/editor/src/git.rs
- [L1:L1]mod blame;

## crates/editor/src/git/blame.rs
- [L29:L32]struct GitBlameEntry {
    pub rows: u32,
    pub blame: Option<BlameEntry>,
}
- [L35:L37]struct GitBlameEntrySummary {
    rows: u32,
}
- [L67:L72]struct GitBlameBuffer {
    entries: SumTree<GitBlameEntry>,
    buffer_snapshot: BufferSnapshot,
    buffer_edits: text::Subscription<usize>,
    commit_details: HashMap<Oid, ParsedCommitMessage>,
}
- [L74:L84]struct GitBlame {
    project: Entity<Project>,
    multi_buffer: WeakEntity<MultiBuffer>,
    buffers: HashMap<BufferId, GitBlameBuffer>,
    task: Task<Result<()>>,
    focused: bool,
    changed_while_blurred: bool,
    user_triggered: bool,
    regenerate_on_edit_task: Task<Result<()>>,
    _regenerate_subscriptions: Vec<Subscription>,
}
- [L86:L86]trait BlameRenderer {
- [L647:L682]fn build_blame_entry_sum_tree(entries: Vec<BlameEntry>, max_row: u32) -> SumTree<GitBlameEntry> 

## crates/editor/src/highlight_matching_bracket.rs
- [L7:L7]enum MatchingBracketHighlight {}

## crates/editor/src/hover_links.rs
- [L20:L26]struct HoveredLinkState {
    pub last_trigger_point: TriggerPoint,
    pub preferred_kind: GotoDefinitionKind,
    pub symbol_range: Option<RangeInEditor>,
    pub links: Vec<HoverLink>,
    pub task: Option<Task<Option<()>>>,
}
- [L29:L32]enum RangeInEditor {
    Text(Range<Anchor>),
    Inlay(InlayHighlight),
}
- [L64:L69]enum HoverLink {
    Url(String),
    File(ResolvedPath),
    Text(LocationLink),
    InlayHint(lsp::Location, LanguageServerId),
}
- [L72:L76]struct InlayHighlight {
    pub inlay: InlayId,
    pub inlay_position: Anchor,
    pub range: Range<usize>,
}
- [L79:L82]enum TriggerPoint {
    Text(Anchor),
    InlayHint(InlayHighlight, lsp::Location, LanguageServerId),
}
- [L93:L110]fn exclude_link_to_position(
    buffer: &Entity<language::Buffer>,
    current_position: &text::Anchor,
    location: &LocationLink,
    cx: &App,
) -> bool 
- [L283:L469]fn show_link_definition(
    shift_held: bool,
    editor: &mut Editor,
    trigger_point: TriggerPoint,
    snapshot: &EditorSnapshot,
    window: &mut Window,
    cx: &mut Context<Editor>,
) 
- [L660:L674]fn link_pattern_file_candidates(candidate: &str) -> Vec<(String, Range<usize>)> 
- [L676:L765]fn surrounding_filename(
    snapshot: &language::BufferSnapshot,
    position: text::Anchor,
) -> Option<(Range<text::Anchor>, String)> 

## crates/editor/src/hover_popover.rs
- [L32:L32]const MIN_POPOVER_CHARACTER_WIDTH: f32 = 20.;
- [L33:L33]const MIN_POPOVER_LINE_HEIGHT: f32 = 4.;
- [L34:L34]const POPOVER_RIGHT_OFFSET: Pixels = px(8.0);
- [L35:L35]const HOVER_POPOVER_GAP: Pixels = px(10.);
- [L37:L41]fn hover(editor: &mut Editor, _: &Hover, window: &mut Window, cx: &mut Context<Editor>) 
- [L43:L61]fn hover_at(
    editor: &mut Editor,
    anchor: Option<Anchor>,
    window: &mut Window,
    cx: &mut Context<Editor>,
) 
- [L63:L96]fn show_keyboard_hover(
    editor: &mut Editor,
    window: &mut Window,
    cx: &mut Context<Editor>,
) -> bool 
- [L98:L101]struct InlayHover {
    pub(crate) range: InlayHighlight,
    pub tooltip: HoverBlock,
}
- [L103:L123]fn find_hovered_hint_part(
    label_parts: Vec<InlayHintLabelPart>,
    hint_start: InlayOffset,
    hovered_offset: InlayOffset,
) -> Option<(InlayHintLabelPart, Range<InlayOffset>)> 
- [L125:L207]fn hover_at_inlay(
    editor: &mut Editor,
    inlay_hover: InlayHover,
    window: &mut Window,
    cx: &mut Context<Editor>,
) 
- [L209:L227]fn hide_hover(editor: &mut Editor, cx: &mut Context<Editor>) -> bool 
- [L229:L539]fn show_hover(
    editor: &mut Editor,
    anchor: Anchor,
    ignore_timeout: bool,
    window: &mut Window,
    cx: &mut Context<Editor>,
) -> Option<()> 
- [L541:L558]fn same_info_hover(editor: &Editor, snapshot: &EditorSnapshot, anchor: Anchor) -> bool 
- [L560:L576]fn same_diagnostic_hover(editor: &Editor, snapshot: &EditorSnapshot, anchor: Anchor) -> bool 
- [L607:L662]fn hover_markdown_style(window: &Window, cx: &App) -> MarkdownStyle 
- [L664:L716]fn diagnostics_markdown_style(window: &Window, cx: &App) -> MarkdownStyle 
- [L718:L769]fn open_markdown_url(link: SharedString, window: &mut Window, cx: &mut App) 
- [L772:L777]struct HoverState {
    pub info_popovers: Vec<InfoPopover>,
    pub diagnostic_popover: Option<DiagnosticPopover>,
    pub triggered_from: Option<Anchor>,
    pub info_task: Option<Task<Option<()>>>,
}
- [L880:L887]struct InfoPopover {
    pub symbol_range: RangeInEditor,
    pub parsed_content: Option<Entity<Markdown>>,
    pub scroll_handle: ScrollHandle,
    pub keyboard_grace: Rc<RefCell<bool>>,
    pub anchor: Option<Anchor>,
    _subscription: Option<Subscription>,
}
- [L949:L958]struct DiagnosticPopover {
    pub(crate) local_diagnostic: DiagnosticEntry<Anchor>,
    markdown: Entity<Markdown>,
    border_color: Hsla,
    background_color: Hsla,
    pub keyboard_grace: Rc<RefCell<bool>>,
    pub anchor: Anchor,
    _subscription: Subscription,
    pub scroll_handle: ScrollHandle,
}

## crates/editor/src/indent_guides.rs
- [L12:L15]struct ActiveIndentedRange {
    row_range: Range<MultiBufferRow>,
    indent: LineIndent,
}
- [L18:L23]struct ActiveIndentGuidesState {
    pub dirty: bool,
    cursor_row: MultiBufferRow,
    pending_refresh: Option<Task<()>>,
    active_indent_range: Option<ActiveIndentedRange>,
}
- [L150:L207]fn indent_guides_in_range(
    editor: &Editor,
    visible_buffer_range: Range<MultiBufferRow>,
    ignore_disabled_for_language: bool,
    snapshot: &DisplaySnapshot,
    cx: &App,
) -> Vec<IndentGuide> 
- [L220:L250]fn should_recalculate_indented_range(
    prev_row: MultiBufferRow,
    new_row: MultiBufferRow,
    current_indent_range: &ActiveIndentedRange,
    snapshot: &DisplaySnapshot,
) -> bool 

## crates/editor/src/inlays.rs
- [L18:L18]mod inlay_hints;
- [L29:L37]struct InlaySplice {
    pub to_remove: Vec<InlayId>,
    pub to_insert: Vec<Inlay>,
}
- [L46:L50]struct Inlay {
    pub id: InlayId,
    pub position: Anchor,
    pub content: InlayContent,
}
- [L53:L56]enum InlayContent {
    Text(text::Rope),
    Color(Hsla),
}
- [L124:L128]struct InlineValueCache {
    pub enabled: bool,
    pub inlays: Vec<InlayId>,
    pub refresh_task: Task<Option<()>>,
}

## crates/editor/src/inlays/inlay_hints.rs
- [L34:L42]fn inlay_hint_settings(
    location: Anchor,
    snapshot: &MultiBufferSnapshot,
    cx: &mut Context<Editor>,
) -> InlayHintSettings 
- [L45:L56]struct LspInlayHintData {
    enabled: bool,
    modifiers_override: bool,
    enabled_in_settings: bool,
    allowed_hint_kinds: HashSet<Option<InlayHintKind>>,
    invalidate_debounce: Option<Duration>,
    append_debounce: Option<Duration>,
    hint_refresh_tasks: HashMap<BufferId, Vec<Task<()>>>,
    hint_chunk_fetching: HashMap<BufferId, (Global, HashSet<Range<BufferRow>>)>,
    invalidate_hints_for_buffers: HashSet<BufferId>,
    pub added_hints: HashMap<InlayId, Option<InlayHintKind>>,
}
- [L207:L218]enum InlayHintRefreshReason {
    ModifiersChanged(bool),
    Toggle(bool),
    SettingsChange(InlayHintSettings),
    NewLinesShown,
    BufferEdited(BufferId),
    RefreshRequested {
        server_id: LanguageServerId,
        request_id: Option<usize>,
    },
    ExcerptsRemoved(Vec<ExcerptId>),
}
- [L881:L885]struct VisibleExcerpts {
    ranges: Vec<Range<text::Anchor>>,
    buffer_version: Global,
    buffer: Entity<language::Buffer>,
}
- [L887:L940]fn spawn_editor_hints_refresh(
    buffer_id: BufferId,
    invalidate_cache: InvalidationStrategy,
    debounce: Option<Duration>,
    buffer_excerpts: VisibleExcerpts,
    known_chunks: Option<(Global, HashSet<Range<BufferRow>>)>,
    applicable_chunks: Vec<Range<BufferRow>>,
    cx: &mut Context<'_, Editor>,
) -> Task<()> 
- [L943:L943]mod tests {

## crates/editor/src/items.rs
- [L62:L62]const MAX_TAB_TITLE_LEN: usize = 24;
- [L501:L514]fn serialize_excerpt(
    buffer_id: BufferId,
    id: &ExcerptId,
    range: &ExcerptRange<language::Anchor>,
) -> Option<proto::Excerpt> 
- [L516:L526]fn serialize_selection(
    selection: &Selection<Anchor>,
    buffer: &MultiBufferSnapshot,
) -> proto::Selection 
- [L528:L533]fn serialize_anchor(anchor: &Anchor, buffer: &MultiBufferSnapshot) -> proto::EditorAnchor 
- [L535:L556]fn deserialize_excerpt_range(
    excerpt: proto::Excerpt,
) -> Option<(ExcerptId, ExcerptRange<language::Anchor>)> 
- [L558:L566]fn deserialize_selection(selection: proto::Selection) -> Option<Selection<Anchor>> 
- [L568:L574]fn deserialize_anchor(anchor: proto::EditorAnchor) -> Option<Anchor> 
- [L1342:L1344]struct EditorRestorationData {
    entries: HashMap<PathBuf, RestorationData>,
}
- [L1347:L1351]struct RestorationData {
    pub scroll_position: (BufferRow, gpui::Point<ScrollOffset>),
    pub folds: Vec<Range<Point>>,
    pub selections: Vec<Range<Point>>,
}
- [L1410:L1421]fn clip_ranges<'a>(
    original: impl IntoIterator<Item = &'a Range<Point>> + 'a,
    snapshot: &'a BufferSnapshot,
) -> Vec<Range<Point>> 
- [L1820:L1848]fn active_match_index(
    direction: Direction,
    ranges: &[Range<Anchor>],
    cursor: &Anchor,
    buffer: &MultiBufferSnapshot,
) -> Option<usize> 
- [L1850:L1856]fn entry_label_color(selected: bool) -> Color 
- [L1858:L1866]fn entry_diagnostic_aware_icon_name_and_color(
    diagnostic_severity: Option<DiagnosticSeverity>,
) -> Option<(IconName, Color)> 
- [L1868:L1876]fn entry_diagnostic_aware_icon_decoration_and_color(
    diagnostic_severity: Option<DiagnosticSeverity>,
) -> Option<(IconDecorationKind, Color)> 
- [L1878:L1891]fn entry_git_aware_label_color(git_status: GitSummary, ignored: bool, selected: bool) -> Color 
- [L1893:L1901]fn path_for_buffer<'a>(
    buffer: &Entity<MultiBuffer>,
    height: usize,
    include_filename: bool,
    cx: &'a App,
) -> Option<Cow<'a, str>> 
- [L1903:L1943]fn path_for_file<'a>(
    file: &'a Arc<dyn language::File>,
    mut height: usize,
    include_filename: bool,
    cx: &'a App,
) -> Option<Cow<'a, str>> 

## crates/editor/src/jsx_tag_auto_close.rs
- [L13:L16]struct JsxTagCompletionState {
    edit_index: usize,
    open_tag_range: Range<usize>,
}

## crates/editor/src/linked_editing_ranges.rs

## crates/editor/src/lsp_colors.rs
- [L27:L31]struct BufferColors {
    colors: Vec<(Range<Anchor>, DocumentColor, InlayId)>,
    inlay_colors: HashMap<InlayId, usize>,
    cache_version_used: usize,
}

## crates/editor/src/lsp_ext.rs
- [L93:L181]fn lsp_tasks(
    project: Entity<Project>,
    task_sources: &HashMap<LanguageServerName, Vec<BufferId>>,
    for_position: Option<text::Anchor>,
    cx: &mut App,
) -> Task<Vec<(TaskSourceKind, Vec<(Option<LocationLink>, ResolvedTask)>)>> 

## crates/editor/src/mouse_context_menu.rs
- [L19:L29]enum MenuPosition {
    PinnedToScreen(Point<Pixels>),
    PinnedToEditor {
        source: multi_buffer::Anchor,
        offset: Point<Pixels>,
    },
}
- [L31:L36]struct MouseContextMenu {
    pub(crate) position: MenuPosition,
    pub(crate) context_menu: Entity<ui::ContextMenu>,
    _dismiss_subscription: Subscription,
    _cursor_move_subscription: Subscription,
}
- [L144:L154]fn display_ranges<'a>(
    display_map: &'a DisplaySnapshot,
    selections: &'a SelectionsCollection,
) -> impl Iterator<Item = Range<DisplayPoint>> + 'a 
- [L156:L320]fn deploy_context_menu(
    editor: &mut Editor,
    position: Option<Point<Pixels>>,
    point: DisplayPoint,
    window: &mut Window,
    cx: &mut Context<Editor>,
) 

## crates/editor/src/movement.rs
- [L17:L24]enum FindRange {
    SingleLine,
    MultiLine,
}
- [L26:L35]struct TextLayoutDetails {
    pub(crate) text_system: Arc<WindowTextSystem>,
    pub(crate) editor_style: EditorStyle,
    pub(crate) rem_size: Pixels,
    pub scroll_anchor: ScrollAnchor,
    pub visible_rows: Option<f64>,
    pub vertical_scroll_margin: ScrollOffset,
}
- [L37:L47]fn left(map: &DisplaySnapshot, mut point: DisplayPoint) -> DisplayPoint 
- [L49:L62]fn saturating_left(map: &DisplaySnapshot, mut point: DisplayPoint) -> DisplayPoint 
- [L64:L74]fn right(map: &DisplaySnapshot, mut point: DisplayPoint) -> DisplayPoint 
- [L76:L81]fn saturating_right(map: &DisplaySnapshot, mut point: DisplayPoint) -> DisplayPoint 
- [L83:L99]fn up(
    map: &DisplaySnapshot,
    start: DisplayPoint,
    goal: SelectionGoal,
    preserve_column_at_start: bool,
    text_layout_details: &TextLayoutDetails,
) -> (DisplayPoint, SelectionGoal) 
- [L101:L117]fn down(
    map: &DisplaySnapshot,
    start: DisplayPoint,
    goal: SelectionGoal,
    preserve_column_at_end: bool,
    text_layout_details: &TextLayoutDetails,
) -> (DisplayPoint, SelectionGoal) 
- [L192:L210]fn line_beginning(
    map: &DisplaySnapshot,
    display_point: DisplayPoint,
    stop_at_soft_boundaries: bool,
) -> DisplayPoint 
- [L212:L241]fn indented_line_beginning(
    map: &DisplaySnapshot,
    display_point: DisplayPoint,
    stop_at_soft_boundaries: bool,
    stop_at_indent: bool,
) -> DisplayPoint 
- [L243:L262]fn line_end(
    map: &DisplaySnapshot,
    display_point: DisplayPoint,
    stop_at_soft_boundaries: bool,
) -> DisplayPoint 
- [L264:L286]fn previous_word_start(map: &DisplaySnapshot, point: DisplayPoint) -> DisplayPoint 
- [L288:L299]fn previous_word_start_or_newline(map: &DisplaySnapshot, point: DisplayPoint) -> DisplayPoint 
- [L301:L401]fn adjust_greedy_deletion(
    map: &DisplaySnapshot,
    delete_from: DisplayPoint,
    delete_until: DisplayPoint,
    ignore_brackets: bool,
) -> DisplayPoint 
- [L403:L413]fn previous_subword_start(map: &DisplaySnapshot, point: DisplayPoint) -> DisplayPoint 
- [L415:L421]fn is_subword_start(left: char, right: char, classifier: &CharClassifier) -> bool 
- [L423:L444]fn next_word_end(map: &DisplaySnapshot, point: DisplayPoint) -> DisplayPoint 
- [L446:L462]fn next_word_end_or_newline(map: &DisplaySnapshot, point: DisplayPoint) -> DisplayPoint 
- [L464:L474]fn next_subword_end(map: &DisplaySnapshot, point: DisplayPoint) -> DisplayPoint 
- [L476:L483]fn is_subword_end(left: char, right: char, classifier: &CharClassifier) -> bool 
- [L485:L512]fn start_of_paragraph(
    map: &DisplaySnapshot,
    display_point: DisplayPoint,
    mut count: usize,
) -> DisplayPoint 
- [L514:L541]fn end_of_paragraph(
    map: &DisplaySnapshot,
    display_point: DisplayPoint,
    mut count: usize,
) -> DisplayPoint 
- [L543:L569]fn start_of_excerpt(
    map: &DisplaySnapshot,
    display_point: DisplayPoint,
    direction: Direction,
) -> DisplayPoint 
- [L571:L608]fn end_of_excerpt(
    map: &DisplaySnapshot,
    display_point: DisplayPoint,
    direction: Direction,
) -> DisplayPoint 
- [L610:L638]fn find_preceding_boundary_point(
    buffer_snapshot: &MultiBufferSnapshot,
    from: Point,
    find_range: FindRange,
    mut is_boundary: impl FnMut(char, char) -> bool,
) -> Point 
- [L640:L657]fn find_preceding_boundary_display_point(
    map: &DisplaySnapshot,
    from: DisplayPoint,
    find_range: FindRange,
    is_boundary: impl FnMut(char, char) -> bool,
) -> DisplayPoint 
- [L659:L693]fn find_boundary_point(
    map: &DisplaySnapshot,
    from: DisplayPoint,
    find_range: FindRange,
    mut is_boundary: impl FnMut(char, char) -> bool,
    return_point_before_boundary: bool,
) -> DisplayPoint 
- [L695:L740]fn find_preceding_boundary_trail(
    map: &DisplaySnapshot,
    head: DisplayPoint,
    mut is_boundary: impl FnMut(char, char) -> bool,
) -> (Option<DisplayPoint>, DisplayPoint) 
- [L742:L788]fn find_boundary_trail(
    map: &DisplaySnapshot,
    head: DisplayPoint,
    mut is_boundary: impl FnMut(char, char) -> bool,
) -> (Option<DisplayPoint>, DisplayPoint) 
- [L790:L797]fn find_boundary(
    map: &DisplaySnapshot,
    from: DisplayPoint,
    find_range: FindRange,
    is_boundary: impl FnMut(char, char) -> bool,
) -> DisplayPoint 
- [L799:L806]fn find_boundary_exclusive(
    map: &DisplaySnapshot,
    from: DisplayPoint,
    find_range: FindRange,
    is_boundary: impl FnMut(char, char) -> bool,
) -> DisplayPoint 
- [L808:L820]fn chars_after(
    map: &DisplaySnapshot,
    mut offset: MultiBufferOffset,
) -> impl Iterator<Item = (char, Range<MultiBufferOffset>)> + '_ 
- [L822:L836]fn chars_before(
    map: &DisplaySnapshot,
    mut offset: MultiBufferOffset,
) -> impl Iterator<Item = (char, Range<MultiBufferOffset>)> + '_ 
- [L838:L868]fn split_display_range_by_lines(
    map: &DisplaySnapshot,
    range: Range<DisplayPoint>,
) -> Vec<Range<DisplayPoint>> 

## crates/editor/src/persistence.rs
- [L90:L90]struct EditorDb(db::sqlez::thread_safe_connection::ThreadSafeConnection);

## crates/editor/src/rust_analyzer_ext.rs
- [L24:L26]fn is_rust_language(language: &Language) -> bool 
- [L28:L53]fn apply_related_actions(editor: &Entity<Editor>, window: &mut Window, cx: &mut App) 
- [L55:L135]fn go_to_parent_module(
    editor: &mut Editor,
    _: &GoToParentModule,
    window: &mut Window,
    cx: &mut Context<Editor>,
) 
- [L137:L227]fn expand_macro_recursively(
    editor: &mut Editor,
    _: &ExpandMacroRecursively,
    window: &mut Window,
    cx: &mut Context<Editor>,
) 
- [L229:L309]fn open_docs(editor: &mut Editor, _: &OpenDocs, window: &mut Window, cx: &mut Context<Editor>) 
- [L311:L338]fn cancel_flycheck_action(
    editor: &mut Editor,
    _: &CancelFlycheck,
    _: &mut Window,
    cx: &mut Context<Editor>,
) 
- [L340:L367]fn run_flycheck_action(
    editor: &mut Editor,
    _: &RunFlycheck,
    _: &mut Window,
    cx: &mut Context<Editor>,
) 
- [L369:L396]fn clear_flycheck_action(
    editor: &mut Editor,
    _: &ClearFlycheck,
    _: &mut Window,
    cx: &mut Context<Editor>,
) 

## crates/editor/src/scroll.rs
- [L28:L28]const SCROLL_EVENT_SEPARATION: Duration = Duration::from_millis(28);
- [L31:L31]struct WasScrolled(pub(crate) bool);
- [L33:L33]type ScrollOffset = f64;
- [L34:L34]type ScrollPixelOffset = f64;
- [L36:L39]struct ScrollAnchor {
    pub offset: gpui::Point<ScrollOffset>,
    pub anchor: Anchor,
}
- [L66:L69]struct OngoingScroll {
    last_event: Instant,
    axis: Option<Axis>,
}
- [L128:L133]enum ScrollbarThumbState {
    Idle,
    Hovered,
    Dragging,
}
- [L136:L139]struct ActiveScrollbarState {
    axis: Axis,
    thumb_state: ScrollbarThumbState,
}
- [L151:L172]struct ScrollManager {
    pub(crate) vertical_scroll_margin: ScrollOffset,
    anchor: ScrollAnchor,
    ongoing: OngoingScroll,
    autoscroll_request: Option<(Autoscroll, bool)>,
    last_autoscroll: Option<(
        gpui::Point<ScrollOffset>,
        ScrollOffset,
        ScrollOffset,
        AutoscrollStrategy,
    )>,
    show_scrollbars: bool,
    hide_scrollbar_task: Option<Task<()>>,
    active_scrollbar: Option<ActiveScrollbarState>,
    visible_line_count: Option<f64>,
    visible_column_count: Option<f64>,
    forbid_vertical_scroll: bool,
    minimap_thumb_state: Option<ScrollbarThumbState>,
}

## crates/editor/src/scroll/actions.rs

## crates/editor/src/scroll/autoscroll.rs
- [L12:L15]enum Autoscroll {
    Next,
    Strategy(AutoscrollStrategy, Option<Anchor>),
}
- [L81:L91]enum AutoscrollStrategy {
    Fit,
    Newest,
    Center,
    Focused,
    Top,
    Bottom,
    TopRelative(usize),
    BottomRelative(usize),
}

## crates/editor/src/scroll/scroll_amount.rs
- [L5:L10]enum ScrollDirection {
    Upwards,
    Downwards,
    Rightwards,
    Leftwards,
}
- [L19:L28]enum ScrollAmount {
    Line(f32),
    Page(f32),
    Column(f32),
    PageWidth(f32),
}

## crates/editor/src/selections_collection.rs
- [L21:L24]struct PendingSelection {
    selection: Selection<Anchor>,
    mode: SelectMode,
}
- [L27:L37]struct SelectionsCollection {
    next_selection_id: usize,
    line_mode: bool,
    disjoint: Arc<[Selection<Anchor>]>,
    pending: Option<PendingSelection>,
    select_mode: SelectMode,
    is_extending: bool,
}
- [L493:L497]struct MutableSelectionsCollection<'snap, 'a> {
    collection: &'a mut SelectionsCollection,
    snapshot: &'snap DisplaySnapshot,
    selections_changed: bool,
}
- [L1037:L1053]fn selection_to_anchor_selection(
    selection: Selection<MultiBufferOffset>,
    buffer: &MultiBufferSnapshot,
) -> Selection<Anchor> 
- [L1055:L1076]fn resolve_selections_point<'a>(
    selections: impl 'a + IntoIterator<Item = &'a Selection<Anchor>>,
    map: &'a DisplaySnapshot,
) -> impl 'a + Iterator<Item = Selection<Point>> 
- [L1078:L1109]fn resolve_selections_display<'a>(
    selections: impl 'a + IntoIterator<Item = &'a Selection<Anchor>>,
    map: &'a DisplaySnapshot,
) -> impl 'a + Iterator<Item = Selection<DisplayPoint>> 
- [L1150:L1184]fn coalesce_selections<D: Ord + fmt::Debug + Copy>(
    selections: impl Iterator<Item = Selection<D>>,
) -> impl Iterator<Item = Selection<D>> 
- [L1186:L1216]fn should_merge<T: Ord + Copy>(a_start: T, a_end: T, b_start: T, b_end: T, sorted: bool) -> bool 

## crates/editor/src/signature_help.rs
- [L26:L30]enum SignatureHelpHiddenBy {
    AutoClose,
    Escape,
    Selection,
}
- [L264:L268]struct SignatureHelpState {
    task: Option<Task<()>>,
    popover: Option<SignatureHelpPopover>,
    hidden_by: Option<SignatureHelpHiddenBy>,
}
- [L320:L326]struct SignatureHelp {
    pub(crate) label: SharedString,
    documentation: Option<Entity<Markdown>>,
    highlights: Vec<(Range<usize>, HighlightStyle)>,
    active_parameter: Option<usize>,
    parameter_documentation: Option<Entity<Markdown>>,
}
- [L329:L334]struct SignatureHelpPopover {
    pub style: TextStyle,
    pub signatures: Vec<SignatureHelp>,
    pub current_signature: usize,
    scroll_handle: ScrollHandle,
}

## crates/editor/src/split.rs
- [L17:L17]struct SplitDiffFeatureFlag;
- [L29:L29]struct SplitDiff;
- [L33:L33]struct UnsplitDiff;
- [L35:L41]struct SplittableEditor {
    primary_editor: Entity<Editor>,
    secondary: Option<SecondaryEditor>,
    panes: PaneGroup,
    workspace: WeakEntity<Workspace>,
    _subscriptions: Vec<Subscription>,
}
- [L43:L48]struct SecondaryEditor {
    editor: Entity<Editor>,
    pane: Entity<Pane>,
    has_latest_selection: bool,
    _subscriptions: Vec<Subscription>,
}

## crates/editor/src/tasks.rs

## crates/editor/src/test.rs
- [L1:L1]mod editor_lsp_test_context;
- [L2:L2]mod editor_test_context;
- [L27:L29]fn init_logger() 
- [L31:L45]fn test_font() -> Font 
- [L49:L85]fn marked_display_snapshot(
    text: &str,
    cx: &mut gpui::App,
) -> (DisplaySnapshot, Vec<DisplayPoint>) 
- [L88:L103]fn select_ranges(
    editor: &mut Editor,
    marked_text: &str,
    window: &mut Window,
    cx: &mut Context<Editor>,
) 
- [L106:L124]fn assert_text_with_selections(
    editor: &mut Editor,
    marked_text: &str,
    cx: &mut Context<Editor>,
) 
- [L147:L149]struct TestBlockContent(
    HashMap<(EntityId, CustomBlockId), Rc<dyn Fn(&mut VisualTestContext) -> String>>,
);
- [L153:L162]fn set_block_content_for_tests(
    editor: &Entity<Editor>,
    id: CustomBlockId,
    cx: &mut App,
    f: impl Fn(&mut VisualTestContext) -> String + 'static,
) 
- [L164:L176]fn block_content_for_tests(
    editor: &Entity<Editor>,
    id: CustomBlockId,
    cx: &mut VisualTestContext,
) -> Option<String> 
- [L178:L251]fn editor_content_with_blocks(editor: &Entity<Editor>, cx: &mut VisualTestContext) -> String 

## crates/editor/src/test/editor_lsp_test_context.rs
- [L29:L34]struct EditorLspTestContext {
    pub cx: EditorTestContext,
    pub lsp: lsp::FakeLanguageServer,
    pub workspace: Entity<Workspace>,
    pub buffer_lsp_url: lsp::Uri,
}

## crates/editor/src/test/editor_test_context.rs
- [L36:L41]struct EditorTestContext {
    pub cx: gpui::VisualTestContext,
    pub window: AnyWindowHandle,
    pub editor: Entity<Editor>,
    pub assertion_cx: AssertionContextManager,
}
- [L658:L662]struct FormatMultiBufferAsMarkedText {
    multibuffer_snapshot: MultiBufferSnapshot,
    selections: Vec<Selection<Anchor>>,
    excerpts: Vec<(ExcerptId, BufferSnapshot, ExcerptRange<text::Anchor>, bool)>,
}
- [L712:L760]fn assert_state_with_diff(
    editor: &Entity<Editor>,
    cx: &mut VisualTestContext,
    expected_diff_text: &str,
) 
- [L776:L782]struct AssertionContextManager {
    id: Arc<AtomicUsize>,
    contexts: Arc<RwLock<BTreeMap<usize, String>>>,
}
- [L814:L820]struct ContextHandle {
    id: usize,
    manager: AssertionContextManager,
}

## crates/eval/build.rs
- [L1:L14]fn main() 

## crates/eval/src/assertions.rs
- [L6:L9]struct AssertionsReport {
    pub ran: Vec<RanAssertion>,
    pub max: Option<usize>,
}
- [L12:L15]struct RanAssertion {
    pub id: String,
    pub result: Result<RanAssertionResult, String>,
}
- [L18:L21]struct RanAssertionResult {
    pub analysis: Option<String>,
    pub passed: bool,
}
- [L74:L93]fn print_table_header() 
- [L95:L103]fn display_error_row(f: &mut String, round: usize, error: String) -> fmt::Result 
- [L105:L119]fn display_table_row(f: &mut String, round: usize, assertion: &RanAssertion) -> fmt::Result 
- [L121:L138]fn print_table_round_summary<'a>(
    round: &str,
    reports: impl Iterator<Item = &'a AssertionsReport>,
) 
- [L140:L147]fn print_table_footer() 
- [L149:L156]fn print_table_divider() 
- [L158:L170]fn truncate(assertion: &str, max_width: usize) -> String 

## crates/eval/src/eval.rs
- [L40:L40]static CARGO_MANIFEST_DIR: LazyLock<PathBuf> =
- [L45:L66]struct Args {
    filter: Vec<String>,
    model: String,
    judge_model: String,
    languages: Vec<String>,
    repetitions: usize,
    concurrency: usize,
    printenv: bool,
}
- [L68:L335]fn main() 
- [L337:L347]struct AgentAppState {
    pub languages: Arc<LanguageRegistry>,
    pub client: Arc<Client>,
    pub user_store: Entity<UserStore>,
    pub fs: Arc<dyn fs::Fs>,
    pub node_runtime: NodeRuntime,
    pub prompt_builder: Arc<PromptBuilder>,
}
- [L349:L459]fn init(cx: &mut App) -> Arc<AgentAppState> 
- [L461:L482]fn find_model(
    model_name: &str,
    model_registry: &LanguageModelRegistry,
    cx: &App,
) -> anyhow::Result<Arc<dyn LanguageModel>> 
- [L484:L501]fn load_model(model_name: &str, cx: &mut App) -> anyhow::Result<ConfiguredModel> 
- [L503:L505]fn commit_sha_for_path(repo_path: &Path) -> String 
- [L507:L515]fn git_branch_for_path(repo_path: &Path) -> String 
- [L557:L561]fn print_h1(header: &str) 
- [L563:L567]fn print_h2(header: &str) 
- [L569:L740]fn print_report(
    results_by_example_name: &mut HashMap<
        String,
        Vec<(ExampleInstance, anyhow::Result<(RunOutput, JudgeOutput)>)>,
    >,
    cumulative_tool_metrics: &mut ToolMetrics,
    run_dir: &Path,
) -> anyhow::Result<()> 

## crates/eval/src/example.rs
- [L26:L26]const THREAD_EVENT_TIMEOUT: Duration = Duration::from_secs(60 * 2);
- [L29:L29]trait Example {
- [L41:L44]struct JudgeAssertion {
    pub id: String,
    pub description: String,
}
- [L47:L56]struct ExampleMetadata {
    pub name: String,
    pub url: String,
    pub revision: String,
    pub language_server: Option<LanguageServer>,
    pub max_assertions: Option<usize>,
    pub profile_id: AgentProfileId,
    pub existing_thread_json: Option<String>,
    pub max_turns: Option<u32>,
}
- [L59:L62]struct LanguageServer {
    pub file_extension: String,
    pub allow_preexisting_diagnostics: bool,
}
- [L75:L75]struct FailedAssertion(pub String);
- [L91:L98]struct ExampleContext {
    meta: ExampleMetadata,
    log_prefix: String,
    agent_thread: Entity<agent::Thread>,
    app: AsyncApp,
    pub assertions: AssertionsReport,
    pub tool_metrics: Arc<Mutex<ToolMetrics>>,
}
- [L482:L484]struct Response {
    messages: Vec<Message>,
}
- [L518:L522]struct Message {
    role: Role,
    text: String,
    tool_use: Vec<ToolUse>,
}
- [L525:L528]struct ToolUse {
    pub name: String,
    value: serde_json::Value,
}
- [L540:L542]struct FileEdits {
    pub hunks: Vec<FileEditHunk>,
}
- [L545:L549]struct FileEditHunk {
    pub base_text: String,
    pub text: String,
    pub status: DiffHunkStatus,
}

## crates/eval/src/examples/add_arg_to_trait_method.rs
- [L8:L8]struct AddArgToTraitMethod;

## crates/eval/src/examples/code_block_citations.rs
- [L8:L8]struct CodeBlockCitations;
- [L221:L228]fn deindent(as_str: impl AsRef<str>) -> String 

## crates/eval/src/examples/comment_translation.rs
- [L7:L7]struct CommentTranslation;

## crates/eval/src/examples/file_change_notification.rs
- [L7:L7]struct FileChangeNotificationExample;

## crates/eval/src/examples/file_search.rs
- [L9:L9]struct FileSearchExample;

## crates/eval/src/examples/grep_params_escapement.rs
- [L8:L8]struct GrepParamsEscapementExample;
- [L55:L59]fn contains_html_entities(pattern: &str) -> bool 

## crates/eval/src/examples/mod.rs
- [L24:L41]fn all(examples_dir: &Path) -> Vec<Rc<dyn Example>> 
- [L43:L48]struct DeclarativeExample {
    metadata: ExampleMetadata,
    prompt: String,
    diff_assertions: Vec<JudgeAssertion>,
    thread_assertions: Vec<JudgeAssertion>,
}
- [L114:L120]struct ExampleToml {
    pub url: String,
    pub revision: String,
    pub language_extension: Option<String>,
        unused,
        reason = "This field was found to be unused with serde library bump; it's left as is due to insufficient context on PO's side, but it *may* be fine to remove"
- [L161:L173]fn list_declarative_examples(examples_dir: &Path) -> Result<Vec<PathBuf>> 

## crates/eval/src/examples/overwrite_file.rs
- [L8:L8]struct FileOverwriteExample;

## crates/eval/src/examples/planets.rs
- [L8:L8]struct Planets;

## crates/eval/src/explorer.rs
- [L9:L18]struct Args {
    input: Vec<PathBuf>,
    output: PathBuf,
}
- [L20:L58]fn find_target_files_recursive(
    dir_path: &Path,
    target_filename: &str,
    current_depth: u8,
    max_depth: u8,
    found_files: &mut Vec<PathBuf>,
) -> Result<()> 
- [L60:L116]fn generate_explorer_html(input_paths: &[PathBuf], output_path: &PathBuf) -> Result<String> 
- [L118:L135]fn inject_thread_data(template: String, threads_data: Value) -> Result<String> 
- [L139:L182]fn main() -> Result<()> 

## crates/eval/src/ids.rs
- [L6:L17]fn get_or_create_id(path: &Path) -> Result<String> 
- [L19:L23]fn eval_system_id_path() -> PathBuf 
- [L25:L29]fn eval_installation_id_path() -> PathBuf 

## crates/eval/src/instance.rs
- [L37:L37]const ZED_REPO_URL: &str = "https://github.com/zed-industries/zed.git";
- [L40:L52]struct ExampleInstance {
    pub thread: Rc<dyn Example>,
    pub name: String,
    pub run_directory: PathBuf,
    pub log_prefix: String,
    pub repetition: usize,
    pub repo_path: PathBuf,
    worktrees_dir: PathBuf,
}
- [L55:L65]struct RunOutput {
    pub repository_diff: String,
    pub diagnostic_summary_before: DiagnosticSummary,
    pub diagnostic_summary_after: DiagnosticSummary,
    pub diagnostics_before: Option<String>,
    pub diagnostics_after: Option<String>,
    pub token_usage: TokenUsage,
    pub tool_metrics: ToolMetrics,
    pub thread_markdown: String,
    pub programmatic_assertions: AssertionsReport,
}
- [L68:L71]struct JudgeDiffInput {
    pub repository_diff: String,
    pub assertion: String,
}
- [L74:L77]struct JudgeThreadInput {
    pub messages: String,
    pub assertion: String,
}
- [L80:L83]struct JudgeOutput {
    pub thread: AssertionsReport,
    pub diff: AssertionsReport,
}
- [L607:L609]struct EvalThreadEnvironment {
    project: Entity<Project>,
}
- [L611:L613]struct EvalTerminalHandle {
    terminal: Entity<acp_thread::Terminal>,
}
- [L672:L681]struct LanguageModelInterceptor {
    model: Arc<dyn LanguageModel>,
    request_count: Arc<Mutex<usize>>,
    previous_diff: Arc<Mutex<String>>,
    example_output_dir: PathBuf,
    last_diff_file_path: PathBuf,
    messages_json_file_path: PathBuf,
    repository_path: PathBuf,
    repository_url: String,
}
- [L883:L970]fn wait_for_lang_server(
    project: &Entity<Project>,
    buffer: &Entity<Buffer>,
    log_prefix: String,
    cx: &mut AsyncApp,
) -> Task<Result<()>> 
- [L972:L972]async fn query_lsp_diagnostics(
- [L1016:L1027]fn parse_assertion_result(response: &str) -> Result<RanAssertionResult> 
- [L1029:L1046]fn get_tag(name: &'static str, response: &str) -> Result<String> 
- [L1048:L1053]fn repo_path_for_url(repos_dir: &Path, repo_url: &str) -> PathBuf 
- [L1055:L1055]async fn run_git(repo_path: &Path, args: &[&str]) -> Result<String> {
- [L1074:L1083]fn push_role(role: &Role, buf: &mut String, assistant_message_number: &mut u32) 
- [L1085:L1085]async fn send_language_model_request(
- [L1111:L1114]struct RequestMarkdown {
    pub tools: String,
    pub messages: String,
}
- [L1214:L1290]fn response_events_to_markdown(
    response_events: &[std::result::Result<LanguageModelCompletionEvent, String>],
) -> String 
- [L1293:L1296]struct ThreadDialog {
    pub request: LanguageModelRequest,
    pub response_events: Vec<std::result::Result<LanguageModelCompletionEvent, String>>,
}

## crates/eval/src/tool_metrics.rs
- [L6:L9]struct ToolMetrics {
    pub use_counts: HashMap<Arc<str>, u32>,
    pub failure_counts: HashMap<Arc<str>, u32>,
}

## crates/eval_utils/src/eval_utils.rs
- [L8:L21]fn report_progress(evaluated_count: usize, failed_count: usize, iterations: usize) 
- [L24:L28]enum OutcomeKind {
    Passed,
    Failed,
    Error,
}
- [L30:L30]trait EvalOutputProcessor {
- [L37:L41]struct EvalOutput<M> {
    pub outcome: OutcomeKind,
    pub data: String,
    pub metadata: M,
}
- [L61:L61]struct NoProcessor;
- [L70:L146]fn eval<P>(
    iterations: usize,
    expected_pass_ratio: f32,
    mut processor: P,
    evalf: impl Fn() -> EvalOutput<P::Metadata> + Send + Sync + 'static,
) where
    P: EvalOutputProcessor,

## crates/explorer_command_injector/src/explorer_command_injector.rs
- [L25:L25]static mut DLL_INSTANCE: HINSTANCE = HINSTANCE(std::ptr::null_mut());
- [L41:L41]struct ExplorerCommandInjector;
- [L100:L100]struct ExplorerCommandInjectorFactory;
- [L166:L180]fn get_zed_install_folder() -> Option<PathBuf> 
- [L183:L185]fn get_zed_exe_path() -> Option<String> 
- [L188:L202]fn retrieve_command_description() -> Result<HSTRING> 

## crates/extension/src/capabilities.rs
- [L11:L20]enum ExtensionCapability {
    ProcessExec(ProcessExecCapability),
    DownloadFile(DownloadFileCapability),
    NpmInstallPackage(NpmInstallPackageCapability),
}

## crates/extension/src/capabilities/download_file_capability.rs
- [L6:L9]struct DownloadFileCapability {
    pub host: String,
    pub path: Vec<String>,
}

## crates/extension/src/capabilities/npm_install_package_capability.rs
- [L5:L7]struct NpmInstallPackageCapability {
    pub package: String,
}

## crates/extension/src/capabilities/process_exec_capability.rs
- [L5:L11]struct ProcessExecCapability {
    pub command: String,
    pub args: Vec<String>,
}

## crates/extension/src/extension.rs
- [L2:L2]mod extension_builder;
- [L27:L31]fn init(cx: &mut App) 
- [L34:L34]trait WorktreeDelegate: Send + Sync + 'static {
- [L42:L42]trait ProjectDelegate: Send + Sync + 'static {
- [L46:L46]trait KeyValueStoreDelegate: Send + Sync + 'static {
- [L51:L51]trait Extension: Send + Sync + 'static {
- [L173:L198]fn parse_wasm_extension_version(extension_id: &str, wasm_bytes: &[u8]) -> Result<Version> 
- [L200:L210]fn parse_wasm_extension_version_custom_section(data: &[u8]) -> Option<Version> 

## crates/extension/src/extension_builder.rs
- [L49:L52]struct ExtensionBuilder {
    cache_dir: PathBuf,
    pub http: Arc<dyn HttpClient>,
}
- [L54:L56]struct CompileExtensionOptions {
    pub release: bool,
}
- [L59:L61]struct CargoToml {
    package: CargoTomlPackage,
}
- [L64:L66]struct CargoTomlPackage {
    name: String,
}
- [L678:L699]fn file_newer_than_deps(target: &Path, dependencies: &[&Path]) -> Result<bool, std::io::Error> 

## crates/extension/src/extension_events.rs
- [L7:L10]fn init(cx: &mut App) 
- [L12:L12]struct GlobalExtensionEvents(Entity<ExtensionEvents>);
- [L16:L17]struct ExtensionEvents;
- [L36:L41]enum Event {
    ExtensionInstalled(Arc<ExtensionManifest>),
    ExtensionUninstalled(Arc<ExtensionManifest>),
    ExtensionsInstalledChanged,
    ConfigureExtensionRequested(Arc<ExtensionManifest>),
}

## crates/extension/src/extension_host_proxy.rs
- [L14:L14]struct GlobalExtensionHostProxy(Arc<ExtensionHostProxy>);
- [L23:L23]type LanguageModelProviderRegistration = Box<dyn FnOnce(&mut App) + Send>;
- [L18:L36]struct ExtensionHostProxy {
    theme_proxy: RwLock<Option<Arc<dyn ExtensionThemeProxy>>>,
    grammar_proxy: RwLock<Option<Arc<dyn ExtensionGrammarProxy>>>,
    language_proxy: RwLock<Option<Arc<dyn ExtensionLanguageProxy>>>,
    language_server_proxy: RwLock<Option<Arc<dyn ExtensionLanguageServerProxy>>>,
    snippet_proxy: RwLock<Option<Arc<dyn ExtensionSnippetProxy>>>,
    slash_command_proxy: RwLock<Option<Arc<dyn ExtensionSlashCommandProxy>>>,
    context_server_proxy: RwLock<Option<Arc<dyn ExtensionContextServerProxy>>>,
    debug_adapter_provider_proxy: RwLock<Option<Arc<dyn ExtensionDebugAdapterProviderProxy>>>,
    language_model_provider_proxy: RwLock<Option<Arc<dyn ExtensionLanguageModelProviderProxy>>>,
}
- [L109:L109]trait ExtensionThemeProxy: Send + Sync + 'static {
- [L221:L221]trait ExtensionGrammarProxy: Send + Sync + 'static {
- [L235:L235]trait ExtensionLanguageProxy: Send + Sync + 'static {
- [L281:L281]trait ExtensionLanguageServerProxy: Send + Sync + 'static {
- [L343:L343]trait ExtensionSnippetProxy: Send + Sync + 'static {
- [L357:L357]trait ExtensionSlashCommandProxy: Send + Sync + 'static {
- [L381:L381]trait ExtensionContextServerProxy: Send + Sync + 'static {
- [L415:L415]trait ExtensionDebugAdapterProviderProxy: Send + Sync + 'static {
- [L464:L464]trait ExtensionLanguageModelProviderProxy: Send + Sync + 'static {

## crates/extension/src/extension_manifest.rs
- [L17:L36]struct OldExtensionManifest {
    pub name: String,
    pub version: Arc<str>,
    pub description: Option<String>,
    pub repository: Option<String>,
    pub authors: Vec<String>,
    pub themes: BTreeMap<Arc<str>, PathBuf>,
    pub languages: BTreeMap<Arc<str>, PathBuf>,
    pub grammars: BTreeMap<Arc<str>, PathBuf>,
}
- [L38:L40]struct SchemaVersion(pub i32);
- [L57:L98]struct ExtensionManifest {
    pub id: Arc<str>,
    pub name: String,
    pub version: Arc<str>,
    pub schema_version: SchemaVersion,
    pub description: Option<String>,
    pub repository: Option<String>,
    pub authors: Vec<String>,
    pub lib: LibManifestEntry,
    pub themes: Vec<PathBuf>,
    pub icon_themes: Vec<PathBuf>,
    pub languages: Vec<PathBuf>,
    pub grammars: BTreeMap<Arc<str>, GrammarManifestEntry>,
    pub language_servers: BTreeMap<LanguageServerName, LanguageServerManifestEntry>,
    pub context_servers: BTreeMap<Arc<str>, ContextServerManifestEntry>,
    pub agent_servers: BTreeMap<Arc<str>, AgentServerManifestEntry>,
    pub slash_commands: BTreeMap<Arc<str>, SlashCommandManifestEntry>,
    pub snippets: Option<PathBuf>,
    pub capabilities: Vec<ExtensionCapability>,
    pub debug_adapters: BTreeMap<Arc<str>, DebugAdapterManifestEntry>,
    pub debug_locators: BTreeMap<Arc<str>, DebugLocatorManifestEntry>,
    pub language_model_providers: BTreeMap<Arc<str>, LanguageModelProviderManifestEntry>,
}
- [L129:L137]fn build_debug_adapter_schema_path(
    adapter_name: &Arc<str>,
    meta: &DebugAdapterManifestEntry,
) -> PathBuf 
- [L140:L143]struct LibManifestEntry {
    pub kind: Option<ExtensionLibraryKind>,
    pub version: Option<Version>,
}
- [L146:L183]struct AgentServerManifestEntry {
    pub name: String,
    pub env: HashMap<String, String>,
    pub icon: Option<String>,
    pub targets: HashMap<String, TargetConfig>,
}
- [L186:L202]struct TargetConfig {
    pub archive: String,
    pub cmd: String,
    pub args: Vec<String>,
    pub sha256: Option<String>,
    pub env: HashMap<String, String>,
}
- [L231:L233]enum ExtensionLibraryKind {
    Rust,
}
- [L236:L242]struct GrammarManifestEntry {
    pub repository: String,
    pub rev: String,
    pub path: Option<String>,
}
- [L245:L256]struct LanguageServerManifestEntry {
    language: Option<LanguageName>,
    languages: Vec<LanguageName>,
    pub language_ids: HashMap<LanguageName, String>,
    pub code_action_kinds: Option<Vec<lsp::CodeActionKind>>,
}
- [L277:L277]struct ContextServerManifestEntry {}
- [L280:L283]struct SlashCommandManifestEntry {
    pub description: String,
    pub requires_argument: bool,
}
- [L286:L288]struct DebugAdapterManifestEntry {
    pub schema_path: Option<PathBuf>,
}
- [L291:L291]struct DebugLocatorManifestEntry {}
- [L293:L301]struct LanguageModelProviderManifestEntry {
    pub name: String,
    pub icon: Option<String>,
}
- [L334:L375]fn manifest_from_old_manifest(
    manifest_json: OldExtensionManifest,
    extension_id: &str,
) -> ExtensionManifest 

## crates/extension/src/types.rs
- [L16:L16]type EnvVars = Vec<(String, String)>;
- [L15:L26]struct Command {
    pub command: PathBuf,
    pub args: Vec<String>,
    pub env: EnvVars,
}
- [L44:L53]struct CodeLabel {
    pub code: String,
    pub spans: Vec<CodeLabelSpan>,
    pub filter_range: Range<usize>,
}
- [L55:L62]enum CodeLabelSpan {
    CodeRange(Range<usize>),
    Literal(CodeLabelSpanLiteral),
}
- [L64:L71]struct CodeLabelSpanLiteral {
    pub text: String,
    pub highlight_name: Option<String>,
}

## crates/extension/src/types/context_server.rs
- [L1:L10]struct ContextServerConfiguration {
    pub installation_instructions: String,
    pub settings_schema: serde_json::Value,
    pub default_settings: String,
}

## crates/extension/src/types/dap.rs

## crates/extension/src/types/lsp.rs
- [L3:L11]struct Completion {
    pub label: String,
    pub label_details: Option<CompletionLabelDetails>,
    pub detail: Option<String>,
    pub kind: Option<CompletionKind>,
    pub insert_text_format: Option<InsertTextFormat>,
}
- [L13:L42]enum CompletionKind {
    Text,
    Method,
    Function,
    Constructor,
    Field,
    Variable,
    Class,
    Interface,
    Module,
    Property,
    Unit,
    Value,
    Enum,
    Keyword,
    Snippet,
    Color,
    File,
    Reference,
    Folder,
    EnumMember,
    Constant,
    Struct,
    Event,
    Operator,
    TypeParameter,
    Other(i32),
}
- [L44:L49]struct CompletionLabelDetails {
    pub detail: Option<String>,
    pub description: Option<String>,
}
- [L51:L57]enum InsertTextFormat {
    PlainText,
    Snippet,
    Other(i32),
}
- [L59:L64]struct Symbol {
    pub kind: SymbolKind,
    pub name: String,
}
- [L66:L96]enum SymbolKind {
    File,
    Module,
    Namespace,
    Package,
    Class,
    Method,
    Property,
    Field,
    Constructor,
    Enum,
    Interface,
    Function,
    Variable,
    Constant,
    String,
    Number,
    Boolean,
    Array,
    Object,
    Key,
    Null,
    EnumMember,
    Struct,
    Event,
    Operator,
    TypeParameter,
    Other(i32),
}

## crates/extension/src/types/slash_command.rs
- [L3:L14]struct SlashCommand {
    pub name: String,
    pub description: String,
    pub tooltip_text: String,
    pub requires_argument: bool,
}
- [L16:L23]struct SlashCommandOutput {
    pub text: String,
    pub sections: Vec<SlashCommandOutputSection>,
}
- [L25:L32]struct SlashCommandOutputSection {
    pub range: Range<usize>,
    pub label: String,
}
- [L34:L43]struct SlashCommandArgumentCompletion {
    pub label: String,
    pub new_text: String,
    pub run_command: bool,
}

## crates/extension_api/build.rs
- [L1:L15]fn main() 

## crates/extension_api/src/extension_api.rs
- [L3:L3]mod http_client;
- [L4:L4]mod process;
- [L5:L5]mod settings;
- [L51:L51]mod lsp {
- [L58:L58]type Result<T, E = String> = core::result::Result<T, E>;
- [L57:L66]fn set_language_server_installation_status(
    language_server_id: &LanguageServerId,
    status: &LanguageServerInstallationStatus,
) 
- [L69:L69]trait Extension: Send + Sync {
- [L315:L317]fn register_extension(build_extension: fn() -> Box<dyn Extension>) 
- [L319:L324]fn extension() -> &'static mut dyn Extension 
- [L326:L326]static mut EXTENSION: Option<Box<dyn Extension>> = None;
- [L331:L331]static ZED_API_VERSION: [u8; 6] = *include_bytes!(concat!(env!("OUT_DIR"), "/version_bytes"));
- [L342:L342]struct Component;
- [L522:L524]struct LanguageServerId(String);
- [L544:L546]struct ContextServerId(String);

## crates/extension_api/src/http_client.rs
- [L24:L32]struct HttpRequestBuilder {
    method: Option<HttpMethod>,
    url: Option<String>,
    headers: Vec<(String, String)>,
    body: Option<Vec<u8>>,
    redirect_policy: RedirectPolicy,
}

## crates/extension_api/src/process.rs

## crates/extension_api/src/settings.rs
- [L44:L56]fn get_settings<T: serde::de::DeserializeOwned>(
    settings_type: &str,
    settings_name: Option<&str>,
    worktree_id: Option<u64>,
) -> Result<T> 

## crates/extension_api/wit/since_v0.0.6/settings.rs
- [L4:L9]struct LanguageSettings {
    pub tab_size: NonZeroU32,
}
- [L11:L20]struct LspSettings {
    pub binary: Option<BinarySettings>,
    pub initialization_options: Option<serde_json::Value>,
    pub settings: Option<serde_json::Value>,
}
- [L22:L29]struct BinarySettings {
    pub path: Option<String>,
    pub arguments: Option<Vec<String>>,
}

## crates/extension_api/wit/since_v0.1.0/settings.rs
- [L4:L9]struct LanguageSettings {
    pub tab_size: NonZeroU32,
}
- [L11:L20]struct LspSettings {
    pub binary: Option<BinarySettings>,
    pub initialization_options: Option<serde_json::Value>,
    pub settings: Option<serde_json::Value>,
}
- [L22:L29]struct BinarySettings {
    pub path: Option<String>,
    pub arguments: Option<Vec<String>>,
}

## crates/extension_api/wit/since_v0.2.0/settings.rs
- [L4:L9]struct LanguageSettings {
    pub tab_size: NonZeroU32,
}
- [L11:L20]struct LspSettings {
    pub binary: Option<CommandSettings>,
    pub initialization_options: Option<serde_json::Value>,
    pub settings: Option<serde_json::Value>,
}
- [L22:L29]struct ContextServerSettings {
    pub command: Option<CommandSettings>,
    pub settings: Option<serde_json::Value>,
}
- [L31:L40]struct CommandSettings {
    pub path: Option<String>,
    pub arguments: Option<Vec<String>>,
    pub env: Option<HashMap<String, String>>,
}

## crates/extension_api/wit/since_v0.3.0/settings.rs
- [L4:L9]struct LanguageSettings {
    pub tab_size: NonZeroU32,
}
- [L11:L20]struct LspSettings {
    pub binary: Option<CommandSettings>,
    pub initialization_options: Option<serde_json::Value>,
    pub settings: Option<serde_json::Value>,
}
- [L22:L29]struct ContextServerSettings {
    pub command: Option<CommandSettings>,
    pub settings: Option<serde_json::Value>,
}
- [L31:L40]struct CommandSettings {
    pub path: Option<String>,
    pub arguments: Option<Vec<String>>,
    pub env: Option<HashMap<String, String>>,
}

## crates/extension_api/wit/since_v0.4.0/settings.rs
- [L4:L9]struct LanguageSettings {
    pub tab_size: NonZeroU32,
}
- [L11:L20]struct LspSettings {
    pub binary: Option<CommandSettings>,
    pub initialization_options: Option<serde_json::Value>,
    pub settings: Option<serde_json::Value>,
}
- [L22:L29]struct ContextServerSettings {
    pub command: Option<CommandSettings>,
    pub settings: Option<serde_json::Value>,
}
- [L31:L40]struct CommandSettings {
    pub path: Option<String>,
    pub arguments: Option<Vec<String>>,
    pub env: Option<HashMap<String, String>>,
}

## crates/extension_api/wit/since_v0.5.0/settings.rs
- [L4:L9]struct LanguageSettings {
    pub tab_size: NonZeroU32,
}
- [L11:L20]struct LspSettings {
    pub binary: Option<CommandSettings>,
    pub initialization_options: Option<serde_json::Value>,
    pub settings: Option<serde_json::Value>,
}
- [L22:L29]struct ContextServerSettings {
    pub command: Option<CommandSettings>,
    pub settings: Option<serde_json::Value>,
}
- [L31:L40]struct CommandSettings {
    pub path: Option<String>,
    pub arguments: Option<Vec<String>>,
    pub env: Option<HashMap<String, String>>,
}

## crates/extension_api/wit/since_v0.6.0/settings.rs
- [L4:L9]struct LanguageSettings {
    pub tab_size: NonZeroU32,
}
- [L11:L20]struct LspSettings {
    pub binary: Option<CommandSettings>,
    pub initialization_options: Option<serde_json::Value>,
    pub settings: Option<serde_json::Value>,
}
- [L22:L29]struct ContextServerSettings {
    pub command: Option<CommandSettings>,
    pub settings: Option<serde_json::Value>,
}
- [L31:L40]struct CommandSettings {
    pub path: Option<String>,
    pub arguments: Option<Vec<String>>,
    pub env: Option<HashMap<String, String>>,
}

## crates/extension_api/wit/since_v0.8.0/settings.rs
- [L4:L9]struct LanguageSettings {
    pub tab_size: NonZeroU32,
}
- [L11:L20]struct LspSettings {
    pub binary: Option<CommandSettings>,
    pub initialization_options: Option<serde_json::Value>,
    pub settings: Option<serde_json::Value>,
}
- [L22:L29]struct ContextServerSettings {
    pub command: Option<CommandSettings>,
    pub settings: Option<serde_json::Value>,
}
- [L31:L40]struct CommandSettings {
    pub path: Option<String>,
    pub arguments: Option<Vec<String>>,
    pub env: Option<HashMap<String, String>>,
}

## crates/extension_cli/src/main.rs
- [L20:L30]struct Args {
    source_dir: PathBuf,
    output_dir: PathBuf,
    scratch_dir: PathBuf,
}
- [L122:L162]fn extension_provides(manifest: &ExtensionManifest) -> BTreeSet<ExtensionProvides> 
- [L330:L349]fn test_grammars(
    manifest: &ExtensionManifest,
    extension_path: &Path,
    wasm_store: &mut WasmStore,
) -> Result<HashMap<String, Language>> 
- [L351:L393]fn test_languages(
    manifest: &ExtensionManifest,
    extension_path: &Path,
    grammars: &HashMap<String, Language>,
) -> Result<()> 

## crates/extension_host/benches/extension_compilation_benchmark.rs
- [L20:L51]fn extension_benchmarks(c: &mut Criterion) 
- [L53:L65]fn init() -> TestAppContext 
- [L67:L84]fn wasm_bytes(cx: &TestAppContext, manifest: &mut ExtensionManifest, fs: Arc<dyn Fs>) -> Vec<u8> 
- [L86:L97]fn extension_builder() -> ExtensionBuilder 
- [L99:L117]fn wasm_host(cx: &TestAppContext, extensions_dir: &TempTree) -> Arc<WasmHost> 
- [L119:L153]fn manifest() -> ExtensionManifest 

## crates/extension_host/build.rs
- [L5:L7]fn main() -> Result<(), Box<dyn std::error::Error>> 
- [L9:L46]fn copy_extension_api_rust_files() -> Result<(), Box<dyn std::error::Error>> 

## crates/extension_host/src/capability_granter.rs
- [L7:L10]struct CapabilityGranter {
    granted_capabilities: Vec<ExtensionCapability>,
    manifest: Arc<ExtensionManifest>,
}

## crates/extension_host/src/extension_host.rs
- [L2:L2]mod extension_settings;
- [L3:L3]mod headless_host;
- [L4:L4]mod wasm_host;
- [L70:L70]const RELOAD_DEBOUNCE_DURATION: Duration = Duration::from_millis(200);
- [L82:L85]fn schema_version_range() -> RangeInclusive<SchemaVersion> 
- [L87:L108]fn is_version_compatible(
    release_channel: ReleaseChannel,
    extension_version: &ExtensionMetadata,
) -> bool 
- [L110:L128]struct ExtensionStore {
    pub proxy: Arc<ExtensionHostProxy>,
    pub builder: Arc<ExtensionBuilder>,
    pub extension_index: ExtensionIndex,
    pub fs: Arc<dyn Fs>,
    pub http_client: Arc<HttpClientWithUrl>,
    pub telemetry: Option<Arc<Telemetry>>,
    pub reload_tx: UnboundedSender<Option<Arc<str>>>,
    pub reload_complete_senders: Vec<oneshot::Sender<()>>,
    pub installed_dir: PathBuf,
    pub outstanding_operations: BTreeMap<Arc<str>, ExtensionOperation>,
    pub index_path: PathBuf,
    pub modified_extensions: HashSet<Arc<str>>,
    pub wasm_host: Arc<WasmHost>,
    pub wasm_extensions: Vec<(Arc<ExtensionManifest>, WasmExtension)>,
    pub tasks: Vec<Task<()>>,
    pub remote_clients: Vec<WeakEntity<RemoteClient>>,
    pub ssh_registered_tx: UnboundedSender<()>,
}
- [L131:L135]enum ExtensionOperation {
    Upgrade,
    Install,
    Remove,
}
- [L138:L144]enum Event {
    ExtensionsUpdated,
    StartedReloading,
    ExtensionInstalled(Arc<str>),
    ExtensionUninstalled(Arc<str>),
    ExtensionFailedToLoad(Arc<str>),
}
- [L148:L148]struct GlobalExtensionStore(Entity<ExtensionStore>);
- [L153:L159]struct ExtensionIndex {
    pub extensions: BTreeMap<Arc<str>, ExtensionIndexEntry>,
    pub themes: BTreeMap<Arc<str>, ExtensionIndexThemeEntry>,
    pub icon_themes: BTreeMap<Arc<str>, ExtensionIndexIconThemeEntry>,
    pub languages: BTreeMap<LanguageName, ExtensionIndexLanguageEntry>,
}
- [L162:L165]struct ExtensionIndexEntry {
    pub manifest: Arc<ExtensionManifest>,
    pub dev: bool,
}
- [L168:L171]struct ExtensionIndexThemeEntry {
    pub extension: Arc<str>,
    pub path: PathBuf,
}
- [L174:L177]struct ExtensionIndexIconThemeEntry {
    pub extension: Arc<str>,
    pub path: PathBuf,
}
- [L180:L186]struct ExtensionIndexLanguageEntry {
    pub extension: Arc<str>,
    pub path: PathBuf,
    pub matcher: LanguageMatcher,
    pub hidden: bool,
    pub grammar: Option<Arc<str>>,
}
- [L196:L223]fn init(
    extension_host_proxy: Arc<ExtensionHostProxy>,
    fs: Arc<dyn Fs>,
    client: Arc<Client>,
    node_runtime: NodeRuntime,
    cx: &mut App,
) 
- [L1851:L1878]fn load_plugin_queries(root_path: &Path) -> LanguageQueries 

## crates/extension_host/src/extension_settings.rs
- [L9:L19]struct ExtensionSettings {
    pub auto_install_extensions: HashMap<Arc<str>, bool>,
    pub auto_update_extensions: HashMap<Arc<str>, bool>,
    pub granted_capabilities: Vec<ExtensionCapability>,
}

## crates/extension_host/src/extension_store_test.rs
- [L33:L35]fn init_logger() 
- [L868:L877]fn init_test(cx: &mut TestAppContext) 

## crates/extension_host/src/headless_host.rs
- [L21:L25]struct ExtensionVersion {
    pub id: String,
    pub version: String,
    pub dev: bool,
}
- [L27:L35]struct HeadlessExtensionStore {
    pub fs: Arc<dyn Fs>,
    pub extension_dir: PathBuf,
    pub proxy: Arc<ExtensionHostProxy>,
    pub wasm_host: Arc<WasmHost>,
    pub loaded_extensions: HashMap<Arc<str>, Arc<str>>,
    pub loaded_languages: HashMap<Arc<str>, Vec<LanguageName>>,
    pub loaded_language_servers: HashMap<Arc<str>, Vec<(LanguageServerName, LanguageName)>>,
}

## crates/extension_host/src/wasm_host.rs
- [L1:L1]mod wit;
- [L51:L63]struct WasmHost {
    engine: Engine,
    release_channel: ReleaseChannel,
    http_client: Arc<dyn HttpClient>,
    node_runtime: NodeRuntime,
    pub(crate) proxy: Arc<ExtensionHostProxy>,
    fs: Arc<dyn Fs>,
    pub work_dir: PathBuf,
    pub(crate) granted_capabilities: Vec<ExtensionCapability>,
    _main_thread_message_task: Task<()>,
    main_thread_message_tx: mpsc::UnboundedSender<MainThreadCall>,
}
- [L66:L73]struct WasmExtension {
    tx: UnboundedSender<ExtensionCall>,
    pub manifest: Arc<ExtensionManifest>,
    pub work_dir: Arc<Path>,
    pub zed_api_version: Version,
    _task: Arc<Task<Result<(), gpui_tokio::JoinError>>>,
}
- [L493:L499]struct WasmState {
    manifest: Arc<ExtensionManifest>,
    pub table: ResourceTable,
    ctx: wasi::WasiCtx,
    pub host: Arc<WasmHost>,
    pub(crate) capability_granter: CapabilityGranter,
}
- [L512:L558]fn wasm_engine(executor: &BackgroundExecutor) -> wasmtime::Engine 
- [L560:L564]fn cache_store() -> Arc<IncrementalCompilationCache> 
- [L716:L741]fn parse_wasm_extension_version(extension_id: &str, wasm_bytes: &[u8]) -> Result<Version> 
- [L743:L753]fn parse_wasm_extension_version_custom_section(data: &[u8]) -> Option<Version> 
- [L871:L878]struct IncrementalCompilationCache {
    cache: Cache<Vec<u8>, Vec<u8>>,
}

## crates/extension_host/src/wasm_host/wit.rs
- [L43:L51]fn new_linker(
    executor: &BackgroundExecutor,
    f: impl Fn(&mut Linker<WasmState>, fn(&mut WasmState) -> &mut WasmState) -> Result<()>,
) -> Linker<WasmState> 
- [L53:L55]fn wasi_view(state: &mut WasmState) -> &mut WasmState 
- [L57:L60]fn is_supported_wasm_api_version(release_channel: ReleaseChannel, version: Version) -> bool 
- [L62:L74]fn wasm_api_version_range(release_channel: ReleaseChannel) -> RangeInclusive<Version> 
- [L76:L96]fn authorize_access_to_unreleased_wasm_api_version(
    release_channel: ReleaseChannel,
) -> Result<()> 
- [L98:L109]enum Extension {
    V0_8_0(since_v0_8_0::Extension),
    V0_6_0(since_v0_6_0::Extension),
    V0_5_0(since_v0_5_0::Extension),
    V0_4_0(since_v0_4_0::Extension),
    V0_3_0(since_v0_3_0::Extension),
    V0_2_0(since_v0_2_0::Extension),
    V0_1_0(since_v0_1_0::Extension),
    V0_0_6(since_v0_0_6::Extension),
    V0_0_4(since_v0_0_4::Extension),
    V0_0_1(since_v0_0_1::Extension),
}

## crates/extension_host/src/wasm_host/wit/since_v0_0_1.rs
- [L12:L12]const MIN_VERSION: Version = Version::new(0, 0, 1);
- [L25:L25]type ExtensionWorktree = Arc<dyn WorktreeDelegate>;
- [L27:L30]fn linker(executor: &BackgroundExecutor) -> &'static Linker<WasmState> 

## crates/extension_host/src/wasm_host/wit/since_v0_0_4.rs
- [L10:L10]const MIN_VERSION: Version = Version::new(0, 0, 4);
- [L23:L23]type ExtensionWorktree = Arc<dyn WorktreeDelegate>;
- [L25:L28]fn linker(executor: &BackgroundExecutor) -> &'static Linker<WasmState> 

## crates/extension_host/src/wasm_host/wit/since_v0_0_6.rs
- [L10:L10]const MIN_VERSION: Version = Version::new(0, 0, 6);
- [L30:L30]type ExtensionWorktree = Arc<dyn WorktreeDelegate>;
- [L32:L35]fn linker(executor: &BackgroundExecutor) -> &'static Linker<WasmState> 

## crates/extension_host/src/wasm_host/wit/since_v0_1_0.rs
- [L26:L26]const MIN_VERSION: Version = Version::new(0, 1, 0);
- [L49:L49]type ExtensionWorktree = Arc<dyn WorktreeDelegate>;
- [L50:L50]type ExtensionKeyValueStore = Arc<dyn KeyValueStoreDelegate>;
- [L51:L51]type ExtensionHttpResponseStream = Arc<Mutex<::http_client::Response<AsyncBody>>>;
- [L53:L56]fn linker(executor: &BackgroundExecutor) -> &'static Linker<WasmState> 
- [L369:L391]fn convert_request(
    extension_request: &http_client::HttpRequest,
) -> anyhow::Result<::http_client::Request<AsyncBody>> 

## crates/extension_host/src/wasm_host/wit/since_v0_2_0.rs
- [L11:L11]const MIN_VERSION: Version = Version::new(0, 2, 0);
- [L37:L37]type ExtensionWorktree = Arc<dyn WorktreeDelegate>;
- [L38:L38]type ExtensionProject = Arc<dyn ProjectDelegate>;
- [L39:L39]type ExtensionKeyValueStore = Arc<dyn KeyValueStoreDelegate>;
- [L41:L44]fn linker(executor: &BackgroundExecutor) -> &'static Linker<WasmState> 

## crates/extension_host/src/wasm_host/wit/since_v0_3_0.rs
- [L11:L11]const MIN_VERSION: Version = Version::new(0, 3, 0);
- [L37:L37]type ExtensionWorktree = Arc<dyn WorktreeDelegate>;
- [L38:L38]type ExtensionProject = Arc<dyn ProjectDelegate>;
- [L39:L39]type ExtensionKeyValueStore = Arc<dyn KeyValueStoreDelegate>;
- [L41:L44]fn linker(executor: &BackgroundExecutor) -> &'static Linker<WasmState> 

## crates/extension_host/src/wasm_host/wit/since_v0_4_0.rs
- [L11:L11]const MIN_VERSION: Version = Version::new(0, 4, 0);
- [L37:L37]type ExtensionWorktree = Arc<dyn WorktreeDelegate>;
- [L38:L38]type ExtensionProject = Arc<dyn ProjectDelegate>;
- [L39:L39]type ExtensionKeyValueStore = Arc<dyn KeyValueStoreDelegate>;
- [L41:L44]fn linker(executor: &BackgroundExecutor) -> &'static Linker<WasmState> 

## crates/extension_host/src/wasm_host/wit/since_v0_5_0.rs
- [L11:L11]const MIN_VERSION: Version = Version::new(0, 5, 0);
- [L38:L38]type ExtensionWorktree = Arc<dyn WorktreeDelegate>;
- [L39:L39]type ExtensionProject = Arc<dyn ProjectDelegate>;
- [L40:L40]type ExtensionKeyValueStore = Arc<dyn KeyValueStoreDelegate>;
- [L42:L45]fn linker(executor: &BackgroundExecutor) -> &'static Linker<WasmState> 

## crates/extension_host/src/wasm_host/wit/since_v0_6_0.rs
- [L11:L11]const MIN_VERSION: Version = Version::new(0, 6, 0);
- [L12:L12]const MAX_VERSION: Version = Version::new(0, 7, 0);
- [L42:L42]type ExtensionWorktree = Arc<dyn WorktreeDelegate>;
- [L43:L43]type ExtensionProject = Arc<dyn ProjectDelegate>;
- [L44:L44]type ExtensionKeyValueStore = Arc<dyn KeyValueStoreDelegate>;
- [L46:L49]fn linker(executor: &BackgroundExecutor) -> &'static Linker<WasmState> 

## crates/extension_host/src/wasm_host/wit/since_v0_8_0.rs
- [L39:L39]const MIN_VERSION: Version = Version::new(0, 8, 0);
- [L40:L40]const MAX_VERSION: Version = Version::new(0, 8, 0);
- [L61:L61]type ExtensionWorktree = Arc<dyn WorktreeDelegate>;
- [L62:L62]type ExtensionProject = Arc<dyn ProjectDelegate>;
- [L63:L63]type ExtensionKeyValueStore = Arc<dyn KeyValueStoreDelegate>;
- [L64:L64]type ExtensionHttpResponseStream = Arc<Mutex<::http_client::Response<AsyncBody>>>;
- [L66:L69]fn linker(executor: &BackgroundExecutor) -> &'static Linker<WasmState> 
- [L675:L697]fn convert_request(
    extension_request: &http_client::HttpRequest,
) -> anyhow::Result<::http_client::Request<AsyncBody>> 

## crates/extensions_ui/src/components.rs

## crates/extensions_ui/src/components/extension_card.rs
- [L6:L8]struct ExtensionCard {
    overridden_by_dev_extension: bool,
    children: SmallVec<[AnyElement; 2]>,

## crates/extensions_ui/src/extension_suggest.rs
- [L82:L95]fn suggested_extensions() -> &'static HashMap<&'static str, Arc<str>> 
- [L98:L101]struct SuggestedExtension {
    pub extension_id: Arc<str>,
    pub file_name_or_extension: Arc<str>,
}
- [L103:L130]fn suggested_extension(path: &RelPath) -> Option<SuggestedExtension> 
- [L132:L134]fn language_extension_key(extension_id: &str) -> String 

## crates/extensions_ui/src/extension_version_selector.rs
- [L17:L19]struct ExtensionVersionSelector {
    picker: Entity<Picker<ExtensionVersionSelectorDelegate>>,
}
- [L48:L54]struct ExtensionVersionSelectorDelegate {
    fs: Arc<dyn Fs>,
    selector: WeakEntity<ExtensionVersionSelector>,
    extension_versions: Vec<ExtensionMetadata>,
    selected_index: usize,
    matches: Vec<StringMatch>,
}

## crates/extensions_ui/src/extensions_ui.rs
- [L51:L184]fn init(cx: &mut App) 
- [L186:L200]fn extension_provides_label(provides: ExtensionProvides) -> &'static str 
- [L203:L209]enum ExtensionStatus {
    NotInstalled,
    Installing,
    Upgrading,
    Installed(Arc<str>),
    Removing,
}
- [L212:L216]enum ExtensionFilter {
    All,
    Installed,
    NotInstalled,
}
- [L228:L247]enum Feature {
    AgentClaude,
    AgentCodex,
    AgentGemini,
    ExtensionBasedpyright,
    ExtensionRuff,
    ExtensionTailwind,
    ExtensionTy,
    Git,
    LanguageBash,
    LanguageC,
    LanguageCpp,
    LanguageGo,
    LanguagePython,
    LanguageReact,
    LanguageRust,
    LanguageTypescript,
    OpenIn,
    Vim,
}
- [L249:L291]fn keywords_by_feature() -> &'static BTreeMap<Feature, Vec<&'static str>> 
- [L293:L297]struct ExtensionCardButtons {
    install_or_uninstall: Button,
    upgrade: Option<Button>,
    configure: Option<Button>,
}
- [L299:L311]struct ExtensionsPage {
    workspace: WeakEntity<Workspace>,
    list: UniformListScrollHandle,
    is_fetching_extensions: bool,
    fetch_failed: bool,
    filter: ExtensionFilter,
    remote_extension_entries: Vec<ExtensionMetadata>,
    dev_extension_entries: Vec<Arc<ExtensionManifest>>,
    filtered_remote_extension_indices: Vec<usize>,
    query_editor: Entity<Editor>,
    query_contains_error: bool,
    provides_filter: Option<ExtensionProvides>,
    _subscriptions: [gpui::Subscription; 2],

## crates/feature_flags/src/feature_flags.rs
- [L16:L19]struct FeatureFlags {
    flags: Vec<String>,
    staff: bool,
}
- [L21:L21]static ZED_DISABLE_STAFF: LazyLock<bool> = LazyLock::new(|| {
- [L47:L47]trait FeatureFlag {
- [L64:L64]trait FeatureFlagViewExt<V: 'static> {
- [L120:L122]struct OnFlagsReady {
    pub is_staff: bool,
}
- [L124:L124]trait FeatureFlagAppExt {
- [L234:L234]struct WaitForFlag(oneshot::Receiver<bool>, Option<Subscription>);

## crates/feature_flags/src/flags.rs
- [L3:L3]struct NotebookFeatureFlag;
- [L9:L9]struct PanicFeatureFlag;
- [L15:L15]struct InlineAssistantUseToolFeatureFlag;
- [L21:L21]struct AgentV2FeatureFlag;

## crates/feedback/src/feedback.rs
- [L19:L30]fn file_bug_report_url(specs: &SystemSpecs) -> String 
- [L32:L37]fn email_zed_url(specs: &SystemSpecs) -> String 
- [L39:L42]fn email_body(specs: &SystemSpecs) -> String 
- [L44:L98]fn init(cx: &mut App) 

## crates/file_finder/src/file_finder.rs
- [L6:L6]mod file_finder_settings;
- [L87:L91]struct FileFinder {
    picker: Entity<Picker<FileFinderDelegate>>,
    picker_focus_handle: FocusHandle,
    init_modifiers: Option<Modifiers>,
}
- [L93:L97]fn init(cx: &mut App) 
- [L393:L414]struct FileFinderDelegate {
    file_finder: WeakEntity<FileFinder>,
    workspace: WeakEntity<Workspace>,
    project: Entity<Project>,
    search_count: usize,
    latest_search_id: usize,
    latest_search_did_cancel: bool,
    latest_search_query: Option<FileSearchQuery>,
    currently_opened_path: Option<FoundPath>,
    matches: Matches,
    selected_index: usize,
    has_changed_selected_index: bool,
    cancel_flag: Arc<AtomicBool>,
    history_items: Vec<FoundPath>,
    separate_history: bool,
    first_update: bool,
    filter_popover_menu_handle: PopoverMenuHandle<ContextMenu>,
    split_popover_menu_handle: PopoverMenuHandle<ContextMenu>,
    focus_handle: FocusHandle,
    include_ignored: Option<bool>,
    include_ignored_refresh: Task<()>,
}
- [L416:L424]struct ProjectPanelOrdMatch(PathMatch);
- [L450:L453]struct Matches {
    separate_history: bool,
    matches: Vec<Match>,
}
- [L456:L463]enum Match {
    History {
        path: FoundPath,
        panel_match: Option<ProjectPanelOrdMatch>,
    },
    Search(ProjectPanelOrdMatch),
    CreateNew(ProjectPath),
}
- [L711:L789]fn matching_history_items<'a>(
    history_items: impl IntoIterator<Item = &'a FoundPath>,
    currently_opened: Option<&'a FoundPath>,
    worktree_name_by_id: Option<HashMap<WorktreeId, Arc<RelPath>>>,
    query: &FileSearchQuery,
    path_style: PathStyle,
) -> HashMap<ProjectPath, Match> 
- [L792:L795]struct FoundPath {
    project: ProjectPath,
    absolute: PathBuf,
}
- [L805:L808]enum Event {
    Selected(ProjectPath),
    Dismissed,
}
- [L811:L815]struct FileSearchQuery {
    raw_query: String,
    file_query_end: Option<usize>,
    path_position: PathWithPosition,
}
- [L1302:L1309]fn full_path_budget(
    file_name: &str,
    normal_em: Pixels,
    small_em: Pixels,
    max_width: Pixels,
) -> usize 
- [L1799:L1803]struct PathComponentSlice<'a> {
    path: Cow<'a, Path>,
    path_str: Cow<'a, str>,
    component_ranges: Vec<(Component<'a>, Range<usize>)>,
}

## crates/file_finder/src/file_finder_settings.rs
- [L6:L11]struct FileFinderSettings {
    pub file_icons: bool,
    pub modal_max_width: FileFinderWidth,
    pub skip_focus_for_active_in_search: bool,
    pub include_ignored: Option<bool>,
}
- [L32:L39]enum FileFinderWidth {
    Small,
    Medium,
    Large,
    XLarge,
    Full,
}

## crates/file_finder/src/file_finder_tests.rs
- [L15:L17]fn init_logger() 
- [L20:L72]fn test_path_elision() 
- [L75:L175]fn test_custom_project_search_ordering_in_file_finder() 
- [L3205:L3213]fn init_test(cx: &mut TestAppContext) -> Arc<AppState> 
- [L3215:L3227]fn test_path_position(test_str: &str) -> FileSearchQuery 
- [L3229:L3240]fn build_find_picker(
    project: Entity<Project>,
    cx: &mut TestAppContext,
) -> (
    Entity<Picker<FileFinderDelegate>>,
    Entity<Workspace>,
    &mut VisualTestContext,
) 
- [L3243:L3251]fn open_file_picker(
    workspace: &Entity<Workspace>,
    cx: &mut VisualTestContext,
) -> Entity<Picker<FileFinderDelegate>> 
- [L3254:L3266]fn active_file_picker(
    workspace: &Entity<Workspace>,
    cx: &mut VisualTestContext,
) -> Entity<Picker<FileFinderDelegate>> 
- [L3269:L3274]struct SearchEntries {
    history: Vec<Arc<RelPath>>,
    history_found_paths: Vec<FoundPath>,
    search: Vec<Arc<RelPath>>,
    search_matches: Vec<PathMatch>,
}
- [L3298:L3329]fn collect_search_matches(picker: &Picker<FileFinderDelegate>) -> SearchEntries 
- [L3332:L3343]fn assert_match_selection(
    finder: &Picker<FileFinderDelegate>,
    expected_selection_index: usize,
    expected_file_name: &str,
) 
- [L3346:L3363]fn assert_match_at_position(
    finder: &Picker<FileFinderDelegate>,
    match_index: usize,
    expected_file_name: &str,
) 

## crates/file_finder/src/open_path_prompt.rs
- [L26:L40]struct OpenPathDelegate {
    tx: Option<oneshot::Sender<Option<Vec<PathBuf>>>>,
    lister: DirectoryLister,
    selected_index: usize,
    directory_state: DirectoryState,
    string_matches: Vec<StringMatch>,
    cancel_flag: Arc<AtomicBool>,
    should_dismiss: bool,
    prompt_root: String,
    path_style: PathStyle,
    replace_prompt: Task<()>,
    render_footer:
        Arc<dyn Fn(&mut Window, &mut Context<Picker<Self>>) -> Option<AnyElement> + 'static>,
    hidden_entries: bool,
}
- [L157:L171]enum DirectoryState {
    List {
        parent_path: String,
        entries: Vec<CandidateInfo>,
        error: Option<SharedString>,
    },
    Create {
        parent_path: String,
        user_input: Option<UserInput>,
        entries: Vec<CandidateInfo>,
    },
    None {
        create: bool,
    },
}
- [L174:L178]struct UserInput {
    file: StringMatchCandidate,
    exists: bool,
    is_dir: bool,
}
- [L181:L184]struct CandidateInfo {
    path: StringMatchCandidate,
    is_dir: bool,
}
- [L850:L870]fn path_candidates(
    parent_path_is_root: bool,
    mut children: Vec<DirectoryItem>,
) -> Vec<CandidateInfo> 
- [L873:L896]fn get_dir_and_suffix(query: String, path_style: PathStyle) -> (String, String) 
- [L899:L927]fn get_dir_and_suffix(query: String, path_style: PathStyle) -> (String, String) 

## crates/file_finder/src/open_path_prompt_tests.rs
- [L346:L354]fn init_test(cx: &mut TestAppContext) -> Arc<AppState> 
- [L356:L379]fn build_open_path_prompt(
    project: Entity<Project>,
    creating_path: bool,
    cx: &mut TestAppContext,
) -> (Entity<Picker<OpenPathDelegate>>, &mut VisualTestContext) 
- [L393:L405]fn confirm_completion(
    query: &str,
    select: usize,
    picker: &Entity<Picker<OpenPathDelegate>>,
    cx: &mut VisualTestContext,
) -> Option<String> 
- [L407:L412]fn collect_match_candidates(
    picker: &Entity<Picker<OpenPathDelegate>>,
    cx: &mut VisualTestContext,
) -> Vec<String> 

## crates/file_icons/src/file_icons.rs
- [L9:L11]struct FileIcons {
    icon_theme: Arc<IconTheme>,
}

## crates/fs/src/fake_git_repo.rs
- [L29:L29]static LOAD_INDEX_TEXT_TASK: LazyLock<TaskLabel> = LazyLock::new(TaskLabel::new);
- [L30:L30]static LOAD_HEAD_TEXT_TASK: LazyLock<TaskLabel> = LazyLock::new(TaskLabel::new);
- [L33:L40]struct FakeGitRepository {
    pub(crate) fs: Arc<FakeFs>,
    pub(crate) checkpoints: Arc<Mutex<HashMap<Oid, FakeFsEntry>>>,
    pub(crate) executor: BackgroundExecutor,
    pub(crate) dot_git_path: PathBuf,
    pub(crate) repository_dir_path: PathBuf,
    pub(crate) common_dir_path: PathBuf,
}
- [L43:L58]struct FakeGitRepositoryState {
    pub event_emitter: smol::channel::Sender<PathBuf>,
    pub unmerged_paths: HashMap<RepoPath, UnmergedStatus>,
    pub head_contents: HashMap<RepoPath, String>,
    pub index_contents: HashMap<RepoPath, String>,
    pub merge_base_contents: HashMap<RepoPath, Oid>,
    pub oids: HashMap<Oid, String>,
    pub blames: HashMap<RepoPath, Blame>,
    pub current_branch_name: Option<String>,
    pub branches: HashSet<String>,
    pub remotes: HashMap<String, String>,
    pub simulated_index_write_error_message: Option<String>,
    pub refs: HashMap<String, String>,
}

## crates/fs/src/fs.rs
- [L5:L5]mod fs_watcher;
- [L69:L69]trait Watcher: Send + Sync {
- [L75:L79]enum PathEventKind {
    Removed,
    Created,
    Changed,
}
- [L82:L85]struct PathEvent {
    pub path: PathBuf,
    pub kind: Option<PathEventKind>,
}
- [L94:L94]trait Fs: Send + Sync {
- [L164:L164]struct GlobalFs(Arc<dyn Fs>);
- [L181:L184]struct CreateOptions {
    pub overwrite: bool,
    pub ignore_if_exists: bool,
}
- [L187:L190]struct CopyOptions {
    pub overwrite: bool,
    pub ignore_if_exists: bool,
}
- [L193:L198]struct RenameOptions {
    pub overwrite: bool,
    pub ignore_if_exists: bool,
    pub create_parents: bool,
}
- [L201:L204]struct RemoveOptions {
    pub recursive: bool,
    pub ignore_if_not_exists: bool,
}
- [L207:L215]struct Metadata {
    pub inode: u64,
    pub mtime: MTime,
    pub is_symlink: bool,
    pub is_dir: bool,
    pub len: u64,
    pub is_fifo: bool,
    pub is_executable: bool,
}
- [L217:L225]struct MTime(SystemTime);
- [L227:L227]type JobId = usize;
- [L230:L234]struct JobInfo {
    pub start: Instant,
    pub message: SharedString,
    pub id: JobId,
}
- [L237:L240]enum JobEvent {
    Started { info: JobInfo },
    Completed { id: JobId },
}
- [L242:L242]type JobEventSender = futures::channel::mpsc::UnboundedSender<JobEvent>;
- [L243:L243]type JobEventReceiver = futures::channel::mpsc::UnboundedReceiver<JobEvent>;
- [L245:L248]struct JobTracker {
    id: JobId,
    subscribers: Arc<Mutex<Vec<JobEventSender>>>,
}
- [L315:L320]struct RealFs {
    bundled_git_binary_path: Option<PathBuf>,
    executor: BackgroundExecutor,
    next_job_id: Arc<AtomicUsize>,
    job_event_subscribers: Arc<Mutex<Vec<JobEventSender>>>,
}
- [L322:L322]trait FileHandle: Send + Sync + std::fmt::Debug {
- [L417:L417]struct RealWatcher {}
- [L1209:L1214]struct FakeFs {
    this: std::sync::Weak<Self>,
    state: Arc<Mutex<FakeFsState>>,
    executor: gpui::BackgroundExecutor,
}
- [L1217:L1230]struct FakeFsState {
    root: FakeFsEntry,
    next_inode: u64,
    next_mtime: SystemTime,
    git_event_tx: smol::channel::Sender<PathBuf>,
    event_txs: Vec<(PathBuf, smol::channel::Sender<Vec<PathEvent>>)>,
    events_paused: bool,
    buffered_events: Vec<PathEvent>,
    metadata_call_count: usize,
    read_dir_call_count: usize,
    path_write_counts: std::collections::HashMap<PathBuf, usize>,
    moves: std::collections::HashMap<u64, PathBuf>,
    job_event_subscribers: Arc<Mutex<Vec<JobEventSender>>>,
}
- [L1234:L1253]enum FakeFsEntry {
    File {
        inode: u64,
        mtime: MTime,
        len: u64,
        content: Vec<u8>,
        git_dir_path: Option<PathBuf>,
    },
    Dir {
        inode: u64,
        mtime: MTime,
        len: u64,
        entries: BTreeMap<String, FakeFsEntry>,
        git_repo_state: Option<Arc<Mutex<FakeGitRepositoryState>>>,
    },
    Symlink {
        target: PathBuf,
    },
}
- [L1481:L1481]static FS_DOT_GIT: std::sync::LazyLock<&'static OsStr> =
- [L2218:L2223]struct FakeWatcher {
    tx: smol::channel::Sender<Vec<PathEvent>>,
    original_path: PathBuf,
    fs_state: Arc<Mutex<FakeFsState>>,
    prefixes: Mutex<Vec<PathBuf>>,
}
- [L2247:L2249]struct FakeHandle {
    inode: u64,
}
- [L2801:L2826]fn normalize_path(path: &Path) -> PathBuf 
- [L2828:L2828]async fn copy_recursive<'a>(
- [L2871:L2871]async fn read_dir_items<'a>(fs: &'a dyn Fs, source: &'a Path) -> Result<Vec<(PathBuf, bool)>> {
- [L2877:L2904]fn read_recursive<'a>(
    fs: &'a dyn Fs,
    source: &'a Path,
    output: &'a mut Vec<(PathBuf, bool)>,
) -> BoxFuture<'a, Result<()>> 
- [L2939:L2961]fn atomic_replace<P: AsRef<Path>>(
    replaced_file: P,
    replacement_file: P,
) -> windows::core::Result<()> 

## crates/fs/src/fs_watcher.rs
- [L12:L16]struct FsWatcher {
    tx: smol::channel::Sender<()>,
    pending_path_events: Arc<Mutex<Vec<PathEvent>>>,
    registrations: Mutex<BTreeMap<Arc<std::path::Path>, WatcherRegistrationId>>,
}
- [L145:L145]struct WatcherRegistrationId(u32);
- [L147:L150]struct WatcherRegistrationState {
    callback: Arc<dyn Fn(&notify::Event) + Send + Sync>,
    path: Arc<std::path::Path>,
}
- [L152:L156]struct WatcherState {
    watchers: HashMap<WatcherRegistrationId, WatcherRegistrationState>,
    path_registrations: HashMap<Arc<std::path::Path>, u32>,
    last_registration: WatcherRegistrationId,
}
- [L158:L169]struct GlobalWatcher {
    state: Mutex<WatcherState>,
    watcher: Mutex<notify::INotifyWatcher>,
    watcher: Mutex<notify::KqueueWatcher>,
    watcher: Mutex<notify::ReadDirectoryChangesWatcher>,
}
- [L221:L221]static FS_WATCHER_INSTANCE: OnceLock<anyhow::Result<GlobalWatcher, notify::Error>> =
- [L224:L248]fn handle_event(event: Result<notify::Event, notify::Error>) 
- [L250:L265]fn global<T>(f: impl FnOnce(&GlobalWatcher) -> T) -> anyhow::Result<T> 

## crates/fs/src/mac_watcher.rs
- [L13:L17]struct MacWatcher {
    events_tx: smol::channel::Sender<Vec<fsevent::Event>>,
    handles: Weak<Mutex<BTreeMap<PathBuf, fsevent::Handle>>>,
    latency: Duration,
}

## crates/fs_benchmarks/src/main.rs
- [L3:L32]fn main() 

## crates/fsevent/examples/events.rs
- [L2:L18]fn main() 
- [L21:L23]fn main() 

## crates/fsevent/src/fsevent.rs
- [L17:L21]struct Event {
    pub event_id: u64,
    pub flags: StreamFlags,
    pub path: PathBuf,
}
- [L23:L26]struct EventStream {
    lifecycle: Arc<Mutex<Lifecycle>>,
    state: Box<State>,
}
- [L28:L34]struct State {
    latency: Duration,
    paths: cf::CFMutableArrayRef,
    callback: Option<Box<dyn FnMut(Vec<Event>) -> bool>>,
    last_valid_event_id: Option<fs::FSEventStreamEventId>,
    stream: fs::FSEventStreamRef,
}
- [L47:L51]enum Lifecycle {
    New,
    Running(cf::CFRunLoopRef),
    Stopped,
}
- [L53:L53]struct Handle(Arc<Mutex<Lifecycle>>);

## crates/fuzzy/src/char_bag.rs
- [L4:L4]struct CharBag(u64);

## crates/fuzzy/src/fuzzy.rs

## crates/fuzzy/src/matcher.rs
- [L15:L26]struct Matcher<'a> {
    query: &'a [char],
    lowercase_query: &'a [char],
    query_char_bag: CharBag,
    smart_case: bool,
    penalize_length: bool,
    min_score: f64,
    match_positions: Vec<usize>,
    last_positions: Vec<usize>,
    score_matrix: Vec<Option<f64>>,
    best_position_matrix: Vec<usize>,
}
- [L28:L28]trait MatchCandidate {

## crates/fuzzy/src/paths.rs
- [L17:L21]struct PathMatchCandidate<'a> {
    pub is_dir: bool,
    pub path: &'a RelPath,
    pub char_bag: CharBag,
}
- [L24:L34]struct PathMatch {
    pub score: f64,
    pub positions: Vec<usize>,
    pub worktree_id: usize,
    pub path: Arc<RelPath>,
    pub path_prefix: Arc<RelPath>,
    pub is_dir: bool,
    pub distance_to_relative_ancestor: usize,
}
- [L36:L36]trait PathMatchCandidateSet<'a>: Send + Sync {
- [L88:L143]fn match_fixed_path_set(
    candidates: Vec<PathMatchCandidate>,
    worktree_id: usize,
    worktree_root_name: Option<Arc<RelPath>>,
    query: &str,
    smart_case: bool,
    max_results: usize,
    path_style: PathStyle,
) -> Vec<PathMatch> 
- [L145:L145]async fn match_path_sets<'a, Set: PathMatchCandidateSet<'a>>(
- [L266:L279]fn distance_between_paths(path: &RelPath, relative_to: &RelPath) -> usize 

## crates/fuzzy/src/strings.rs
- [L15:L19]struct StringMatchCandidate {
    pub id: usize,
    pub string: String,
    pub char_bag: CharBag,
}
- [L42:L47]struct StringMatch {
    pub candidate_id: usize,
    pub score: f64,
    pub positions: Vec<usize>,
    pub string: String,
}
- [L116:L116]async fn match_strings<T>(

## crates/git/src/blame.rs
- [L18:L21]struct Blame {
    pub entries: Vec<BlameEntry>,
    pub messages: HashMap<Oid, String>,
}
- [L99:L120]struct BlameEntry {
    pub sha: Oid,
    pub range: Range<u32>,
    pub original_line_number: u32,
    pub author: Option<String>,
    pub author_mail: Option<String>,
    pub author_time: Option<i64>,
    pub author_tz: Option<String>,
    pub committer_name: Option<String>,
    pub committer_email: Option<String>,
    pub committer_time: Option<i64>,
    pub committer_tz: Option<String>,
    pub summary: Option<String>,
    pub previous: Option<String>,
    pub filename: String,
}
- [L211:L291]fn parse_git_blame(output: &str) -> Result<Vec<BlameEntry>> 

## crates/git/src/commit.rs
- [L11:L16]struct ParsedCommitMessage {
    pub message: SharedString,
    pub permalink: Option<url::Url>,
    pub pull_request: Option<crate::hosting_provider::PullRequest>,
    pub remote: Option<GitRemote>,
}
- [L51:L51]async fn get_messages(working_directory: &Path, shas: &[Oid]) -> Result<HashMap<Oid, String>> {
- [L105:L121]fn parse_git_diff_name_status(content: &str) -> impl Iterator<Item = (&str, StatusCode)> 

## crates/git/src/git.rs
- [L1:L1]mod blame;
- [L2:L2]mod commit;
- [L5:L5]mod repository;
- [L6:L6]mod stash;
- [L7:L7]mod status;
- [L20:L20]const DOT_GIT: &str = ".git";
- [L21:L21]const GITIGNORE: &str = ".gitignore";
- [L22:L22]const FSMONITOR_DAEMON: &str = "fsmonitor--daemon";
- [L23:L23]const LFS_DIR: &str = "lfs";
- [L24:L24]const COMMIT_MESSAGE: &str = "COMMIT_EDITMSG";
- [L25:L25]const INDEX_LOCK: &str = "index.lock";
- [L26:L26]const REPO_EXCLUDE: &str = "info/exclude";
- [L107:L117]struct RenameBranch {
    pub branch: Option<String>,
}
- [L119:L126]struct RestoreFile {
    pub skip_prompt: bool,
}
- [L129:L129]const SHORT_SHA_LENGTH: usize = 7;
- [L128:L132]struct Oid(libgit::Oid);
- [L234:L236]enum RunHook {
    PreCommit,
}

## crates/git/src/hosting_provider.rs
- [L15:L18]struct PullRequest {
    pub number: u32,
    pub url: Url,
}
- [L21:L25]struct GitRemote {
    pub host: Arc<dyn GitHostingProvider + Send + Sync + 'static>,
    pub owner: SharedString,
    pub repo: SharedString,
}
- [L55:L57]struct BuildCommitPermalinkParams<'a> {
    pub sha: &'a str,
}
- [L59:L64]struct BuildPermalinkParams<'a> {
    pub sha: &'a str,
    pub path: String,
    pub selection: Option<Range<u32>>,
}
- [L78:L78]trait GitHostingProvider {
- [L140:L140]struct GlobalGitHostingProviderRegistry(Arc<GitHostingProviderRegistry>);
- [L145:L148]struct GitHostingProviderRegistryState {
    default_providers: Vec<Arc<dyn GitHostingProvider + Send + Sync + 'static>>,
    setting_providers: Vec<Arc<dyn GitHostingProvider + Send + Sync + 'static>>,
}
- [L151:L153]struct GitHostingProviderRegistry {
    state: RwLock<GitHostingProviderRegistryState>,
}
- [L224:L227]struct ParsedGitRemote {
    pub owner: Arc<str>,
    pub repo: Arc<str>,
}
- [L229:L244]fn parse_git_remote_url(
    provider_registry: Arc<GitHostingProviderRegistry>,
    url: &str,
) -> Option<(
    Arc<dyn GitHostingProvider + Send + Sync + 'static>,
    ParsedGitRemote,
)> 

## crates/git/src/remote.rs
- [L8:L10]struct RemoteUrl(Url);
- [L12:L12]static USERNAME_REGEX: LazyLock<Regex> =

## crates/git/src/repository.rs
- [L38:L38]const REMOTE_CANCELLED_BY_USER: &str = "Operation cancelled by user";
- [L41:L46]struct Branch {
    pub is_head: bool,
    pub ref_name: SharedString,
    pub upstream: Option<Upstream>,
    pub most_recent_commit: Option<CommitSummary>,
}
- [L84:L88]struct Worktree {
    pub path: PathBuf,
    pub ref_name: SharedString,
    pub sha: SharedString,
}
- [L100:L125]fn parse_worktrees_from_str<T: AsRef<str>>(raw_worktrees: T) -> Vec<Worktree> 
- [L128:L131]struct Upstream {
    pub ref_name: SharedString,
    pub tracking: UpstreamTracking,
}
- [L150:L153]struct CommitOptions {
    pub amend: bool,
    pub signoff: bool,
}
- [L156:L161]enum UpstreamTracking {
    Gone,
    Tracked(UpstreamTrackingStatus),
}
- [L183:L186]struct RemoteCommandOutput {
    pub stdout: String,
    pub stderr: String,
}
- [L195:L198]struct UpstreamTrackingStatus {
    pub ahead: u32,
    pub behind: u32,
}
- [L201:L208]struct CommitSummary {
    pub sha: SharedString,
    pub subject: SharedString,
    pub commit_timestamp: i64,
    pub author_name: SharedString,
    pub has_parent: bool,
}
- [L211:L217]struct CommitDetails {
    pub sha: SharedString,
    pub message: SharedString,
    pub commit_timestamp: i64,
    pub author_email: SharedString,
    pub author_name: SharedString,
}
- [L220:L227]struct FileHistoryEntry {
    pub sha: SharedString,
    pub subject: SharedString,
    pub message: SharedString,
    pub commit_timestamp: i64,
    pub author_name: SharedString,
    pub author_email: SharedString,
}
- [L230:L233]struct FileHistory {
    pub entries: Vec<FileHistoryEntry>,
    pub path: RepoPath,
}
- [L236:L238]struct CommitDiff {
    pub files: Vec<CommitFile>,
}
- [L241:L245]struct CommitFile {
    pub path: RepoPath,
    pub old_text: Option<String>,
    pub new_text: Option<String>,
}
- [L254:L256]struct Remote {
    pub name: SharedString,
}
- [L258:L265]enum ResetMode {
    Soft,
    Mixed,
}
- [L268:L271]enum FetchOptions {
    All,
    Remote(Remote),
}
- [L305:L310]struct GitExcludeOverride {
    git_exclude_path: PathBuf,
    original_excludes: Option<String>,
    added_excludes: Option<String>,
}
- [L409:L409]trait GitRepository: Send + Sync {
- [L640:L643]enum DiffType {
    HeadToIndex,
    HeadToWorktree,
}
- [L646:L649]enum PushOptions {
    SetUpstream,
    Force,
}
- [L657:L663]struct RealGitRepository {
    pub repository: Arc<Mutex<git2::Repository>>,
    pub system_git_binary_path: Option<PathBuf>,
    pub any_git_binary_path: PathBuf,
    any_git_binary_help_output: Arc<Mutex<Option<SharedString>>>,
    executor: BackgroundExecutor,
}
- [L715:L717]struct GitRepositoryCheckpoint {
    pub commit_sha: Oid,
}
- [L720:L723]struct GitCommitter {
    pub name: Option<String>,
    pub email: Option<String>,
}
- [L725:L725]async fn get_git_committer(cx: &AsyncApp) -> GitCommitter {
- [L2372:L2394]fn git_status_args(path_prefixes: &[RepoPath]) -> Vec<OsString> 
- [L2434:L2440]struct GitBinary {
    git_binary_path: PathBuf,
    working_directory: PathBuf,
    executor: BackgroundExecutor,
    index_file_path: Option<PathBuf>,
    envs: HashMap<String, String>,
}
- [L2575:L2579]struct GitBinaryCommandError {
    stdout: String,
    stderr: String,
    status: ExitStatus,
}
- [L2642:L2642]struct RepoPath(Arc<RelPath>);
- [L2682:L2684]fn repo_path<S: AsRef<str> + ?Sized>(s: &S) -> RepoPath 
- [L2701:L2701]struct RepoPathDescendants<'a>(pub &'a RepoPath);
- [L2713:L2771]fn parse_branch_input(input: &str) -> Result<Vec<Branch>> 
- [L2773:L2800]fn parse_upstream_track(upstream_track: &str) -> Result<UpstreamTracking> 
- [L2802:L2809]fn checkpoint_author_envs() -> HashMap<String, String> 

## crates/git/src/stash.rs
- [L6:L12]struct StashEntry {
    pub index: usize,
    pub oid: Oid,
    pub message: String,
    pub branch: Option<String>,
    pub timestamp: i64,
}
- [L15:L17]struct GitStash {
    pub entries: Arc<[StashEntry]>,
}
- [L65:L95]fn parse_stash_line(line: &str) -> Result<StashEntry> 
- [L97:L115]fn parse_stash_index(input: &str) -> Result<usize> 
- [L117:L148]fn parse_stash_message(input: &str) -> (Option<&str>, &str) 

## crates/git/src/status.rs
- [L10:L15]enum FileStatus {
    Untracked,
    Ignored,
    Unmerged(UnmergedStatus),
    Tracked(TrackedStatus),
}
- [L18:L21]struct UnmergedStatus {
    pub first_head: UnmergedStatusCode,
    pub second_head: UnmergedStatusCode,
}
- [L24:L28]enum UnmergedStatusCode {
    Added,
    Deleted,
    Updated,
}
- [L31:L34]struct TrackedStatus {
    pub index_status: StatusCode,
    pub worktree_status: StatusCode,
}
- [L37:L45]enum StatusCode {
    Modified,
    TypeChanged,
    Added,
    Deleted,
    Renamed,
    Copied,
    Unmodified,
}
- [L60:L64]enum StageStatus {
    Staged,
    Unstaged,
    PartiallyStaged,
}
- [L286:L290]struct TrackedSummary {
    pub added: usize,
    pub modified: usize,
    pub deleted: usize,
}
- [L351:L357]struct GitSummary {
    pub index: TrackedSummary,
    pub worktree: TrackedSummary,
    pub conflict: usize,
    pub untracked: usize,
    pub count: usize,
}
- [L431:L433]struct GitStatus {
    pub entries: Arc<[(RepoPath, FileStatus)]>,
}
- [L496:L505]enum DiffTreeType {
    MergeBase {
        base: SharedString,
        head: SharedString,
    },
    Since {
        base: SharedString,
        head: SharedString,
    },
}
- [L524:L526]struct TreeDiff {
    pub entries: HashMap<RepoPath, TreeDiffStatus>,
}
- [L529:L533]enum TreeDiffStatus {
    Added,
    Modified { old: Oid },
    Deleted { old: Oid },
}

## crates/git_hosting_providers/src/git_hosting_providers.rs
- [L17:L30]fn init(cx: &mut App) 
- [L36:L36]async fn register_additional_providers(
- [L59:L72]fn get_host_from_git_remote_url(remote_url: &str) -> Result<String> 

## crates/git_hosting_providers/src/providers.rs

## crates/git_hosting_providers/src/providers/bitbucket.rs
- [L21:L27]fn pull_request_regex() -> &'static Regex 
- [L30:L32]struct CommitDetails {
    author: Author,
}
- [L35:L37]struct Author {
    user: Account,
}
- [L40:L42]struct Account {
    links: AccountLinks,
}
- [L45:L47]struct AccountLinks {
    avatar: Option<Link>,
}
- [L50:L52]struct Link {
    href: String,
}
- [L55:L57]struct CommitDetailsSelfHosted {
    author: AuthorSelfHosted,
}
- [L61:L63]struct AuthorSelfHosted {
    avatar_url: Option<String>,
}
- [L65:L68]struct Bitbucket {
    name: String,
    base_url: Url,
}

## crates/git_hosting_providers/src/providers/chromium.rs
- [L19:L29]fn pull_request_regex() -> &'static Regex 
- [L31:L35]struct ChangeInfo {
    owner: AccountInfo,
}
- [L38:L41]struct AccountInfo {
    id: u64,
}
- [L43:L43]struct Chromium;

## crates/git_hosting_providers/src/providers/forgejo.rs
- [L20:L23]struct CommitDetails {
        unused,
        reason = "This field was found to be unused with serde library bump; it's left as is due to insufficient context on PO's side, but it *may* be fine to remove"
- [L30:L33]struct Commit {
        unused,
        reason = "This field was found to be unused with serde library bump; it's left as is due to insufficient context on PO's side, but it *may* be fine to remove"
- [L39:L42]struct Author {
        unused,
        reason = "This field was found to be unused with serde library bump; it's left as is due to insufficient context on PO's side, but it *may* be fine to remove"
- [L58:L61]struct User {
        unused,
        reason = "This field was found to be unused with serde library bump; it's left as is due to insufficient context on PO's side, but it *may* be fine to remove"
- [L72:L75]struct Forgejo {
    name: String,
    base_url: Url,
}

## crates/git_hosting_providers/src/providers/gitea.rs
- [L20:L22]struct CommitDetails {
    author: Option<User>,
}
- [L25:L27]struct User {
    pub avatar_url: String,
}
- [L29:L32]struct Gitea {
    name: String,
    base_url: Url,
}

## crates/git_hosting_providers/src/providers/gitee.rs
- [L16:L16]struct Gitee;
- [L19:L21]struct CommitDetails {
    author: Option<Author>,
}
- [L24:L26]struct Author {
    avatar_url: String,
}

## crates/git_hosting_providers/src/providers/github.rs
- [L20:L24]fn pull_request_number_regex() -> &'static Regex 
- [L27:L30]struct CommitDetails {
        unused,
        reason = "This field was found to be unused with serde library bump; it's left as is due to insufficient context on PO's side, but it *may* be fine to remove"
- [L37:L40]struct Commit {
        unused,
        reason = "This field was found to be unused with serde library bump; it's left as is due to insufficient context on PO's side, but it *may* be fine to remove"
- [L46:L49]struct Author {
        unused,
        reason = "This field was found to be unused with serde library bump; it's left as is due to insufficient context on PO's side, but it *may* be fine to remove"
- [L55:L58]struct User {
        unused,
        reason = "This field was found to be unused with serde library bump; it's left as is due to insufficient context on PO's side, but it *may* be fine to remove"
- [L65:L68]struct Github {
    name: String,
    base_url: Url,
}

## crates/git_hosting_providers/src/providers/gitlab.rs
- [L19:L21]struct CommitDetails {
    author_email: String,
}
- [L24:L26]struct AvatarInfo {
    avatar_url: String,
}
- [L29:L32]struct Gitlab {
    name: String,
    base_url: Url,
}

## crates/git_hosting_providers/src/providers/sourcehut.rs
- [L13:L16]struct SourceHut {
    name: String,
    base_url: Url,
}

## crates/git_hosting_providers/src/settings.rs
- [L17:L22]fn init_git_hosting_provider_settings(cx: &mut App) 
- [L24:L58]fn update_git_hosting_providers_from_settings(cx: &mut App) 
- [L61:L63]struct GitHostingProviderSettings {
    pub git_hosting_providers: Vec<GitHostingProviderConfig>,
}

## crates/git_ui/src/askpass_modal.rs

## crates/git_ui/src/blame_ui.rs
- [L21:L21]struct GitBlameRenderer;
- [L379:L408]fn deploy_blame_entry_context_menu(
    blame_entry: &BlameEntry,
    details: Option<&ParsedCommitMessage>,
    editor: Entity<Editor>,
    position: gpui::Point<Pixels>,
    window: &mut Window,
    cx: &mut App,
) 
- [L410:L424]fn blame_entry_relative_timestamp(blame_entry: &BlameEntry) -> String 

## crates/git_ui/src/branch_picker.rs
- [L39:L45]fn register(workspace: &mut Workspace) 
- [L47:L54]fn checkout_branch(
    workspace: &mut Workspace,
    _: &zed_actions::git::CheckoutBranch,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) 
- [L56:L63]fn switch(
    workspace: &mut Workspace,
    _: &zed_actions::git::Switch,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) 
- [L65:L77]fn open(
    workspace: &mut Workspace,
    _: &zed_actions::git::Branch,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) 
- [L79:L97]fn popover(
    workspace: WeakEntity<Workspace>,
    repository: Option<Entity<Repository>>,
    window: &mut Window,
    cx: &mut App,
) -> Entity<BranchList> 
- [L100:L103]enum BranchListStyle {
    Modal,
    Popover,
}
- [L105:L110]struct BranchList {
    width: Rems,
    pub picker: Entity<Picker<BranchListDelegate>>,
    picker_focus_handle: FocusHandle,
    _subscription: Subscription,
}
- [L266:L281]enum Entry {
    Branch {
        branch: Branch,
        positions: Vec<usize>,
    },
    NewUrl {
        url: String,
    },
    NewBranch {
        name: String,
    },
    NewRemoteName {
        name: String,
        url: SharedString,
    },
}
- [L312:L317]enum BranchFilter {
    All,
    Remote,
}
- [L328:L341]struct BranchListDelegate {
    workspace: WeakEntity<Workspace>,
    matches: Vec<Entry>,
    all_branches: Option<Vec<Branch>>,
    default_branch: Option<SharedString>,
    repo: Option<Entity<Repository>>,
    style: BranchListStyle,
    selected_index: usize,
    last_query: String,
    modifiers: Modifiers,
    branch_filter: BranchFilter,
    state: PickerState,
    focus_handle: FocusHandle,
}
- [L344:L353]enum PickerState {
    List,
    NewRemote,
    CreateRemote(SharedString),
    NewBranch,
}

## crates/git_ui/src/clone.rs
- [L8:L155]fn clone_and_open(
    repo_url: SharedString,
    workspace: WeakEntity<Workspace>,
    window: &mut Window,
    cx: &mut App,
    on_success: Arc<
        dyn Fn(&mut Workspace, &mut Window, &mut Context<Workspace>) + Send + Sync + 'static,
    >,
) 

## crates/git_ui/src/commit_modal.rs
- [L24:L30]struct ModalContainerProperties {
    pub modal_width: f32,
    pub editor_height: f32,
    pub footer_height: f32,
    pub container_padding: f32,
    pub modal_border_radius: f32,
}
- [L61:L68]struct CommitModal {
    git_panel: Entity<GitPanel>,
    commit_editor: Entity<Editor>,
    restore_dock: RestoreDock,
    properties: ModalContainerProperties,
    branch_list_handle: PopoverMenuHandle<BranchList>,
    commit_menu_handle: PopoverMenuHandle<ContextMenu>,
}
- [L99:L103]struct RestoreDock {
    dock: WeakEntity<Dock>,
    is_open: bool,
    active_index: Option<usize>,
}
- [L105:L108]enum ForceMode {
    Amend,
    Commit,
}

## crates/git_ui/src/commit_tooltip.rs
- [L21:L27]struct CommitDetails {
    pub sha: SharedString,
    pub author_name: SharedString,
    pub author_email: SharedString,
    pub commit_time: OffsetDateTime,
    pub message: Option<ParsedCommitMessage>,
}
- [L29:L33]struct CommitAvatar<'a> {
    sha: &'a SharedString,
    remote: Option<&'a GitRemote>,
    size: Option<IconSize>,
}
- [L86:L89]struct CommitAvatarAsset {
    sha: SharedString,
    remote: GitRemote,
}
- [L124:L130]struct CommitTooltip {
    commit: CommitDetails,
    scroll_handle: ScrollHandle,
    markdown: Entity<Markdown>,
    repository: Entity<Repository>,
    workspace: WeakEntity<Workspace>,
}
- [L364:L377]fn blame_entry_timestamp(blame_entry: &BlameEntry, format: time_format::TimestampFormat) -> String 
- [L379:L381]fn blame_entry_relative_timestamp(blame_entry: &BlameEntry) -> String 

## crates/git_ui/src/commit_view.rs
- [L44:L57]fn init(cx: &mut App) 
- [L59:L66]struct CommitView {
    commit: CommitDetails,
    editor: Entity<Editor>,
    stash: Option<usize>,
    multibuffer: Entity<MultiBuffer>,
    repository: Entity<Repository>,
    remote: Option<GitRemote>,
}
- [L68:L73]struct GitBlob {
    path: RepoPath,
    worktree_id: WorktreeId,
    is_deleted: bool,
    display_name: String,
}
- [L997:L999]struct CommitViewToolbar {
    commit_view: Option<WeakEntity<CommitView>>,
}
- [L1040:L1046]fn stash_matches_index(sha: &str, stash_index: usize, repo: &Repository) -> bool 

## crates/git_ui/src/conflict_view.rs
- [L29:L33]struct BufferConflicts {
    block_ids: Vec<(Range<Anchor>, CustomBlockId)>,
    conflict_set: Entity<ConflictSet>,
    _subscription: Subscription,
}
- [L45:L84]fn register_editor(editor: &mut Editor, buffer: Entity<MultiBuffer>, cx: &mut Context<Editor>) 
- [L86:L112]fn excerpt_for_buffer_updated(
    editor: &mut Editor,
    conflict_set: Entity<ConflictSet>,
    cx: &mut Context<Editor>,
) 
- [L115:L151]fn buffer_added(editor: &mut Editor, buffer: Entity<Buffer>, cx: &mut Context<Editor>) 
- [L153:L168]fn buffers_removed(editor: &mut Editor, removed_buffer_ids: &[BufferId], cx: &mut Context<Editor>) 
- [L171:L314]fn conflicts_updated(
    editor: &mut Editor,
    conflict_set: Entity<ConflictSet>,
    event: &ConflictSetUpdate,
    cx: &mut Context<Editor>,
) 
- [L317:L362]fn update_conflict_highlighting(
    editor: &mut Editor,
    conflict: &ConflictRegion,
    buffer: &editor::MultiBufferSnapshot,
    excerpt_id: editor::ExcerptId,
    cx: &mut Context<Editor>,
) -> Option<()> 
- [L364:L438]fn render_conflict_buttons(
    conflict: &ConflictRegion,
    excerpt_id: ExcerptId,
    editor: WeakEntity<Editor>,
    cx: &mut BlockContext,
) -> AnyElement 

## crates/git_ui/src/file_diff_view.rs
- [L28:L34]struct FileDiffView {
    editor: Entity<Editor>,
    old_buffer: Entity<Buffer>,
    new_buffer: Entity<Buffer>,
    buffer_changes_tx: watch::Sender<()>,
    _recalculate_diff_task: Task<Result<()>>,
}

## crates/git_ui/src/file_history_view.rs
- [L28:L34]fn init(cx: &mut App) 
- [L38:L49]struct FileHistoryView {
    history: FileHistory,
    repository: WeakEntity<Repository>,
    git_store: WeakEntity<GitStore>,
    workspace: WeakEntity<Workspace>,
    remote: Option<GitRemote>,
    selected_entry: Option<usize>,
    scroll_handle: UniformListScrollHandle,
    focus_handle: FocusHandle,
    loading_more: bool,
    has_more: bool,
}
- [L395:L398]struct CommitAvatarAsset {
    sha: SharedString,
    remote: GitRemote,
}

## crates/git_ui/src/git_panel.rs
- [L117:L128]fn prompt<T>(
    msg: &str,
    detail: Option<&str>,
    window: &mut Window,
    cx: &mut App,
) -> Task<anyhow::Result<T>>
where
    T: IntoEnumIterator + VariantNames + 'static,
- [L132:L135]enum TrashCancel {
    Trash,
    Cancel,
}
- [L137:L145]struct GitMenuState {
    has_tracked_changes: bool,
    has_staged_changes: bool,
    has_unstaged_changes: bool,
    has_new_changes: bool,
    sort_by_path: bool,
    has_stash_items: bool,
    tree_view: bool,
}
- [L147:L209]fn git_panel_context_menu(
    focus_handle: FocusHandle,
    state: GitMenuState,
    window: &mut Window,
    cx: &mut App,
) -> Entity<ContextMenu> 
- [L217:L224]fn register(workspace: &mut Workspace) 
- [L227:L229]enum Event {
    Focus,
}
- [L232:L238]struct SerializedGitPanel {
    width: Option<Pixels>,
    amend_pending: bool,
    signoff_enabled: bool,
}
- [L241:L245]enum Section {
    Conflict,
    Tracked,
    New,
}
- [L248:L250]struct GitHeaderEntry {
    header: Section,
}
- [L274:L279]enum GitListEntry {
    Status(GitStatusEntry),
    TreeStatus(GitTreeStatusEntry),
    Directory(GitTreeDirEntry),
    Header(GitHeaderEntry),
}
- [L298:L301]enum GitPanelViewMode {
    Flat,
    Tree(TreeViewState),
}
- [L328:L335]struct TreeViewState {
    logical_indices: Vec<usize>,
    expanded_dirs: HashMap<TreeKey, bool>,
    directory_descendants: HashMap<TreeKey, Vec<GitStatusEntry>>,
}
- [L466:L469]struct GitTreeStatusEntry {
    entry: GitStatusEntry,
    depth: usize,
}
- [L472:L475]struct TreeKey {
    section: Section,
    path: RepoPath,
}
- [L478:L484]struct GitTreeDirEntry {
    key: TreeKey,
    name: SharedString,
    depth: usize,
    expanded: bool,
}
- [L487:L492]struct TreeNode {
    name: SharedString,
    path: Option<RepoPath>,
    children: BTreeMap<SharedString, TreeNode>,
    files: Vec<GitStatusEntry>,
}
- [L495:L499]struct GitStatusEntry {
    pub(crate) repo_path: RepoPath,
    pub(crate) status: FileStatus,
    pub(crate) staging: StageStatus,
}
- [L516:L520]struct TruncatedPatch {
    header: String,
    hunks: Vec<String>,
    hunks_to_keep: usize,
}
- [L579:L620]struct GitPanel {
    pub(crate) active_repository: Option<Entity<Repository>>,
    pub(crate) commit_editor: Entity<Editor>,
    conflicted_count: usize,
    conflicted_staged_count: usize,
    add_coauthors: bool,
    generate_commit_message_task: Option<Task<Option<()>>>,
    entries: Vec<GitListEntry>,
    view_mode: GitPanelViewMode,
    entries_indices: HashMap<RepoPath, usize>,
    single_staged_entry: Option<GitStatusEntry>,
    single_tracked_entry: Option<GitStatusEntry>,
    focus_handle: FocusHandle,
    fs: Arc<dyn Fs>,
    new_count: usize,
    entry_count: usize,
    changes_count: usize,
    new_staged_count: usize,
    pending_commit: Option<Task<()>>,
    amend_pending: bool,
    original_commit_message: Option<String>,
    signoff_enabled: bool,
    pending_serialization: Task<()>,
    pub(crate) project: Entity<Project>,
    scroll_handle: UniformListScrollHandle,
    max_width_item_index: Option<usize>,
    selected_entry: Option<usize>,
    marked_entries: Vec<usize>,
    tracked_count: usize,
    tracked_staged_count: usize,
    update_visible_entries_task: Task<()>,
    width: Option<Pixels>,
    pub(crate) workspace: WeakEntity<Workspace>,
    context_menu: Option<(Entity<ContextMenu>, Point<Pixels>, Subscription)>,
    modal_open: bool,
    show_placeholders: bool,
    local_committer: Option<GitCommitter>,
    local_committer_task: Option<Task<()>>,
    bulk_staging: Option<BulkStaging>,
    stash_entries: GitStash,
    _settings_subscription: Subscription,
}
- [L623:L626]struct BulkStaging {
    repo_id: RepositoryId,
    anchor: RepoPath,
}
- [L5534:L5536]struct GitPanelMessageTooltip {
    commit_tooltip: Option<Entity<CommitTooltip>>,
}
- [L5600:L5609]struct PanelRepoFooter {
    active_repository: SharedString,
    branch: Option<Branch>,
    head_commit: Option<CommitDetails>,
    git_panel: Option<Entity<GitPanel>>,
}
- [L6045:L6067]fn open_output(
    operation: impl Into<SharedString>,
    workspace: &mut Workspace,
    output: &str,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) 

## crates/git_ui/src/git_panel_settings.rs
- [L13:L15]struct ScrollbarSettings {
    pub show: Option<ShowScrollbar>,
}
- [L18:L28]struct GitPanelSettings {
    pub button: bool,
    pub dock: DockPosition,
    pub default_width: Pixels,
    pub status_style: StatusStyle,
    pub scrollbar: ScrollbarSettings,
    pub fallback_branch_name: String,
    pub sort_by_path: bool,
    pub collapse_untracked_diff: bool,
    pub tree_view: bool,
}

## crates/git_ui/src/git_ui.rs
- [L13:L13]mod clone;
- [L34:L34]mod branch_picker;
- [L36:L36]mod commit_tooltip;
- [L37:L37]mod commit_view;
- [L39:L39]mod file_diff_view;
- [L40:L40]mod file_history_view;
- [L41:L41]mod git_panel;
- [L43:L43]mod onboarding;
- [L44:L44]mod picker_prompt;
- [L45:L45]mod project_diff;
- [L47:L47]mod repository_selector;
- [L48:L48]mod stash_picker;
- [L49:L49]mod text_diff_view;
- [L50:L50]mod worktree_picker;
- [L60:L271]fn init(cx: &mut App) 
- [L273:L299]fn open_modified_files(
    workspace: &mut Workspace,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) 
- [L301:L303]fn git_status_icon(status: FileStatus) -> impl IntoElement 
- [L305:L309]struct RenameBranchModal {
    current_branch: SharedString,
    editor: Entity<Editor>,
    repo: Entity<Repository>,
}
- [L393:L419]fn rename_current_branch(
    workspace: &mut Workspace,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) 
- [L421:L459]fn render_remote_button(
    id: impl Into<SharedString>,
    branch: &Branch,
    keybinding_target: Option<FocusHandle>,
    show_fetch_button: bool,
) -> Option<impl IntoElement> 
- [L724:L728]struct GitStatusIcon {
    status: FileStatus,
}
- [L806:L810]struct GitCloneModal {
    panel: Entity<GitPanel>,
    repo_input: Entity<Editor>,
    focus_handle: FocusHandle,
}

## crates/git_ui/src/onboarding.rs
- [L19:L23]struct GitOnboardingModal {
    focus_handle: FocusHandle,
    workspace: Entity<Workspace>,
}

## crates/git_ui/src/picker_prompt.rs
- [L16:L20]struct PickerPrompt {
    pub picker: Entity<Picker<PickerPromptDelegate>>,
    rem_width: f32,
    _subscription: Subscription,
}
- [L22:L51]fn prompt(
    prompt: &str,
    options: Vec<SharedString>,
    workspace: WeakEntity<Workspace>,
    window: &mut Window,
    cx: &mut App,
) -> Task<Option<usize>> 
- [L91:L98]struct PickerPromptDelegate {
    prompt: Arc<str>,
    matches: Vec<StringMatch>,
    all_options: Vec<SharedString>,
    selected_index: usize,
    max_match_length: usize,
    tx: Option<oneshot::Sender<usize>>,
}

## crates/git_ui/src/project_diff.rs
- [L64:L75]struct ProjectDiff {
    project: Entity<Project>,
    multibuffer: Entity<MultiBuffer>,
    branch_diff: Entity<branch_diff::BranchDiff>,
    editor: Entity<SplittableEditor>,
    buffer_diff_subscriptions: HashMap<Arc<RelPath>, (Entity<BufferDiff>, Subscription)>,
    workspace: WeakEntity<Workspace>,
    focus_handle: FocusHandle,
    pending_scroll: Option<PathKey>,
    _task: Task<Result<()>>,
    _subscription: Subscription,
}
- [L78:L82]enum RefreshReason {
    DiffChanged,
    StatusesChanged,
    EditorSaved,
}
- [L714:L727]fn sort_prefix(repo: &Repository, repo_path: &RepoPath, status: FileStatus, cx: &App) -> u64 
- [L1137:L1140]struct ProjectDiffToolbar {
    project_diff: Option<WeakEntity<ProjectDiff>>,
    workspace: WeakEntity<Workspace>,
}
- [L1219:L1226]struct ButtonStates {
    stage: bool,
    unstage: bool,
    prev_next: bool,
    selection: bool,
    stage_all: bool,
    unstage_all: bool,
}
- [L1380:L1388]struct ProjectDiffEmptyState {
    pub no_repo: bool,
    pub can_push_and_pull: bool,
    pub focus_handle: Option<FocusHandle>,
    pub current_branch: Option<Branch>,
}
- [L1624:L1626]struct BranchDiffAddon {
    branch_diff: Entity<branch_diff::BranchDiff>,
}

## crates/git_ui/src/remote_output.rs
- [L9:L13]enum RemoteAction {
    Fetch(Option<Remote>),
    Pull(Remote),
    Push(SharedString, Remote),
}
- [L25:L29]enum SuccessStyle {
    Toast,
    ToastWithLog { output: RemoteCommandOutput },
    PushPrLink { text: String, link: String },
}
- [L31:L34]struct SuccessMessage {
    pub message: String,
    pub style: SuccessStyle,
}
- [L36:L161]fn format_output(action: &RemoteAction, output: RemoteCommandOutput) -> SuccessMessage 

## crates/git_ui/src/repository_selector.rs
- [L9:L11]fn register(workspace: &mut Workspace) 
- [L13:L23]fn open(
    workspace: &mut Workspace,
    _: &zed_actions::git::SelectRepo,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) 
- [L25:L28]struct RepositorySelector {
    width: Rems,
    picker: Entity<Picker<RepositorySelectorDelegate>>,
}
- [L121:L126]struct RepositorySelectorDelegate {
    repository_selector: WeakEntity<RepositorySelector>,
    repository_entries: Vec<Entity<Repository>>,
    filtered_repositories: Vec<Entity<Repository>>,
    selected_index: usize,
}

## crates/git_ui/src/stash_picker.rs
- [L32:L34]fn register(workspace: &mut Workspace) 
- [L36:L47]fn open(
    workspace: &mut Workspace,
    _: &zed_actions::git::ViewStash,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) 
- [L49:L54]struct StashList {
    width: Rems,
    pub picker: Entity<Picker<StashListDelegate>>,
    picker_focus_handle: FocusHandle,
    _subscriptions: Vec<Subscription>,
}
- [L184:L188]struct StashEntryMatch {
    entry: StashEntry,
    positions: Vec<usize>,
    formatted_timestamp: String,
}
- [L190:L200]struct StashListDelegate {
    matches: Vec<StashEntryMatch>,
    all_stash_entries: Option<Vec<StashEntry>>,
    repo: Option<Entity<Repository>>,
    workspace: WeakEntity<Workspace>,
    selected_index: usize,
    last_query: String,
    modifiers: Modifiers,
    focus_handle: FocusHandle,
    timezone: UtcOffset,
}

## crates/git_ui/src/text_diff_view.rs
- [L30:L36]struct TextDiffView {
    diff_editor: Entity<Editor>,
    title: SharedString,
    path: Option<SharedString>,
    buffer_changes_tx: watch::Sender<()>,
    _recalculate_diff_task: Task<Result<()>>,
}
- [L233:L251]fn build_clipboard_buffer(
    text: String,
    source_buffer: &Entity<Buffer>,
    replacement_range: Range<Point>,
    cx: &mut App,
) -> Entity<Buffer> 
- [L412:L438]fn selection_location_text(editor: &Editor, cx: &App) -> Option<String> 

## crates/git_ui/src/worktree_picker.rs
- [L27:L29]fn register(workspace: &mut Workspace) 
- [L31:L42]fn open(
    workspace: &mut Workspace,
    _: &zed_actions::git::Worktree,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) 
- [L44:L49]struct WorktreeList {
    width: Rems,
    pub picker: Entity<Picker<WorktreeListDelegate>>,
    picker_focus_handle: FocusHandle,
    _subscription: Subscription,
}
- [L181:L185]struct WorktreeEntry {
    worktree: GitWorktree,
    positions: Vec<usize>,
    is_new: bool,
}
- [L187:L197]struct WorktreeListDelegate {
    matches: Vec<WorktreeEntry>,
    all_worktrees: Option<Vec<GitWorktree>>,
    workspace: WeakEntity<Workspace>,
    repo: Option<Entity<Repository>>,
    selected_index: usize,
    last_query: String,
    modifiers: Modifiers,
    focus_handle: FocusHandle,
    default_branch: Option<SharedString>,
}

## crates/go_to_line/src/cursor_position.rs
- [L20:L27]struct CursorPosition {
    position: Option<UserCaretPosition>,
    selected_count: SelectionStats,
    context: Option<FocusHandle>,
    workspace: WeakEntity<Workspace>,
    update_position: Task<()>,
    _observe_active_editor: Option<Subscription>,
}
- [L29:L37]struct UserCaretPosition {
    pub line: NonZeroU32,
    pub character: NonZeroU32,
}
- [L297:L300]enum LineIndicatorFormat {
    Short,
    Long,
}

## crates/go_to_line/src/go_to_line.rs
- [L1:L1]mod cursor_position;
- [L20:L22]fn init(cx: &mut App) 
- [L24:L30]struct GoToLine {
    line_editor: Entity<Editor>,
    active_editor: Entity<Editor>,
    current_text: SharedString,
    prev_scroll_position: Option<gpui::Point<ScrollOffset>>,
    _subscriptions: Vec<Subscription>,
}
- [L50:L50]enum GoToLineRowHighlights {}

## crates/google_ai/src/google_ai.rs
- [L9:L9]const API_URL: &str = "https://generativelanguage.googleapis.com";
- [L11:L11]async fn stream_generate_content(
- [L66:L66]async fn count_tokens(
- [L98:L117]fn validate_generate_content_request(request: &GenerateContentRequest) -> Result<()> 
- [L120:L131]enum Task {
    GenerateContent,
    StreamGenerateContent,
    CountTokens,
    EmbedContent,
    BatchEmbedContents,
}
- [L135:L149]struct GenerateContentRequest {
    pub model: ModelName,
    pub contents: Vec<Content>,
    pub system_instruction: Option<SystemInstruction>,
    pub generation_config: Option<GenerationConfig>,
    pub safety_settings: Option<Vec<SafetySetting>>,
    pub tools: Option<Vec<Tool>>,
    pub tool_config: Option<ToolConfig>,
}
- [L153:L160]struct GenerateContentResponse {
    pub candidates: Option<Vec<GenerateContentCandidate>>,
    pub prompt_feedback: Option<PromptFeedback>,
    pub usage_metadata: Option<UsageMetadata>,
}
- [L164:L176]struct GenerateContentCandidate {
    pub index: Option<usize>,
    pub content: Content,
    pub finish_reason: Option<String>,
    pub finish_message: Option<String>,
    pub safety_ratings: Option<Vec<SafetyRating>>,
    pub citation_metadata: Option<CitationMetadata>,
}
- [L180:L184]struct Content {
    pub parts: Vec<Part>,
    pub role: Role,
}
- [L188:L190]struct SystemInstruction {
    pub parts: Vec<Part>,
}
- [L194:L197]enum Role {
    User,
    Model,
}
- [L201:L207]enum Part {
    TextPart(TextPart),
    InlineDataPart(InlineDataPart),
    FunctionCallPart(FunctionCallPart),
    FunctionResponsePart(FunctionResponsePart),
    ThoughtPart(ThoughtPart),
}
- [L211:L213]struct TextPart {
    pub text: String,
}
- [L217:L219]struct InlineDataPart {
    pub inline_data: GenerativeContentBlob,
}
- [L223:L226]struct GenerativeContentBlob {
    pub mime_type: String,
    pub data: String,
}
- [L230:L236]struct FunctionCallPart {
    pub function_call: FunctionCall,
    pub thought_signature: Option<String>,
}
- [L240:L242]struct FunctionResponsePart {
    pub function_response: FunctionResponse,
}
- [L246:L249]struct ThoughtPart {
    pub thought: bool,
    pub thought_signature: String,
}
- [L253:L262]struct CitationSource {
    pub start_index: Option<usize>,
    pub end_index: Option<usize>,
    pub uri: Option<String>,
    pub license: Option<String>,
}
- [L266:L268]struct CitationMetadata {
    pub citation_sources: Vec<CitationSource>,
}
- [L272:L278]struct PromptFeedback {
    pub block_reason: Option<String>,
    pub safety_ratings: Option<Vec<SafetyRating>>,
    pub block_reason_message: Option<String>,
}
- [L282:L295]struct UsageMetadata {
    pub prompt_token_count: Option<u64>,
    pub cached_content_token_count: Option<u64>,
    pub candidates_token_count: Option<u64>,
    pub tool_use_prompt_token_count: Option<u64>,
    pub thoughts_token_count: Option<u64>,
    pub total_token_count: Option<u64>,
}
- [L299:L301]struct ThinkingConfig {
    pub thinking_budget: u32,
}
- [L305:L320]struct GenerationConfig {
    pub candidate_count: Option<usize>,
    pub stop_sequences: Option<Vec<String>>,
    pub max_output_tokens: Option<usize>,
    pub temperature: Option<f64>,
    pub top_p: Option<f64>,
    pub top_k: Option<usize>,
    pub thinking_config: Option<ThinkingConfig>,
}
- [L324:L327]struct SafetySetting {
    pub category: HarmCategory,
    pub threshold: HarmBlockThreshold,
}
- [L330:L353]enum HarmCategory {
    Unspecified,
    Derogatory,
    Toxicity,
    Violence,
    Sexual,
    Medical,
    Dangerous,
    Harassment,
    HateSpeech,
    SexuallyExplicit,
    DangerousContent,
}
- [L357:L364]enum HarmBlockThreshold {
    Unspecified,
    BlockLowAndAbove,
    BlockMediumAndAbove,
    BlockOnlyHigh,
    BlockNone,
}
- [L368:L375]enum HarmProbability {
    Unspecified,
    Negligible,
    Low,
    Medium,
    High,
}
- [L379:L382]struct SafetyRating {
    pub category: HarmCategory,
    pub probability: HarmProbability,
}
- [L386:L388]struct CountTokensRequest {
    pub generate_content_request: GenerateContentRequest,
}
- [L392:L394]struct CountTokensResponse {
    pub total_tokens: u64,
}
- [L397:L400]struct FunctionCall {
    pub name: String,
    pub args: serde_json::Value,
}
- [L403:L406]struct FunctionResponse {
    pub name: String,
    pub response: serde_json::Value,
}
- [L410:L412]struct Tool {
    pub function_declarations: Vec<FunctionDeclaration>,
}
- [L416:L418]struct ToolConfig {
    pub function_calling_config: FunctionCallingConfig,
}
- [L422:L426]struct FunctionCallingConfig {
    pub mode: FunctionCallingMode,
    pub allowed_function_names: Option<Vec<String>>,
}
- [L430:L434]enum FunctionCallingMode {
    Auto,
    Any,
    None,
}
- [L437:L441]struct FunctionDeclaration {
    pub name: String,
    pub description: String,
    pub parameters: serde_json::Value,
}
- [L444:L446]struct ModelName {
    pub model_id: String,
}
- [L486:L526]enum Model {
        rename = "gemini-2.5-flash-lite",
        alias = "gemini-2.5-flash-lite-preview-06-17",
        alias = "gemini-2.0-flash-lite-preview"
    )]
    Gemini25FlashLite,
        rename = "gemini-2.5-flash",
        alias = "gemini-2.0-flash-thinking-exp",
        alias = "gemini-2.5-flash-preview-04-17",
        alias = "gemini-2.5-flash-preview-05-20",
        alias = "gemini-2.5-flash-preview-latest",
        alias = "gemini-2.0-flash"
    )]
    Gemini25Flash,
        rename = "gemini-2.5-pro",
        alias = "gemini-2.0-pro-exp",
        alias = "gemini-2.5-pro-preview-latest",
        alias = "gemini-2.5-pro-exp-03-25",
        alias = "gemini-2.5-pro-preview-03-25",
        alias = "gemini-2.5-pro-preview-05-06",
        alias = "gemini-2.5-pro-preview-06-05"
    )]
    Gemini25Pro,
    Gemini3Pro,
    Gemini3Flash,
    Custom {
        name: String,
        display_name: Option<String>,
        max_tokens: u64,
        mode: GoogleModelMode,
    },
}

## crates/gpui/build.rs
- [L9:L30]fn main() 
- [L36:L56]fn check_wgsl_shaders() 

## crates/gpui/examples/animation.rs
- [L10:L10]struct Assets {}
- [L36:L36]struct AnimationExample {}
- [L103:L121]fn main() 

## crates/gpui/examples/data_table.rs
- [L13:L36]struct Quote {
    name: SharedString,
    symbol: SharedString,
    last_done: f64,
    prev_close: f64,
    open: f64,
    high: f64,
    low: f64,
    timestamp: Duration,
    volume: i64,
    turnover: f64,
    ttm: f64,
    market_cap: f64,
    float_cap: f64,
    shares: f64,
    pb: f64,
    pe: f64,
    eps: f64,
    dividend: f64,
    dividend_yield: f64,
    dividend_per_share: f64,
    dividend_date: SharedString,
    dividend_payment: f64,
}
- [L138:L141]struct TableRow {
    ix: usize,
    quote: Rc<Quote>,
}
- [L252:L259]struct DataTable {
    quotes: Vec<Rc<Quote>>,
    visible_range: Range<usize>,
    scroll_handle: UniformListScrollHandle,
    drag_position: Option<Point<Pixels>>,
}
- [L449:L473]fn main() 

## crates/gpui/examples/drag_drop.rs
- [L7:L11]struct DragInfo {
    ix: usize,
    color: Hsla,
    position: Point<Pixels>,
}
- [L51:L53]struct DragDrop {
    drop_on: Option<DragInfo>,
}
- [L123:L137]fn main() 

## crates/gpui/examples/focus_visible.rs
- [L8:L12]struct Example {
    focus_handle: FocusHandle,
    items: Vec<(FocusHandle, &'static str)>,
    message: SharedString,
}
- [L194:L214]fn main() 

## crates/gpui/examples/gif_viewer.rs
- [L4:L6]struct GifViewer {
    gif_path: PathBuf,
}
- [L25:L41]fn main() 

## crates/gpui/examples/gradient.rs
- [L6:L8]struct GradientViewer {
    color_space: ColorSpace,
}
- [L245:L257]fn main() 

## crates/gpui/examples/grid_layout.rs
- [L7:L7]struct HolyGrailExample {}
- [L67:L80]fn main() 

## crates/gpui/examples/hello_world.rs
- [L6:L8]struct HelloWorld {
    text: SharedString,
}
- [L89:L106]fn main() 

## crates/gpui/examples/image/image.rs
- [L13:L15]struct Assets {
    base: PathBuf,
}
- [L41:L44]struct ImageContainer {
    text: SharedString,
    src: ImageSource,
}
- [L68:L72]struct ImageShowcase {
    local_resource: Arc<std::path::Path>,
    remote_resource: SharedUri,
    asset_resource: SharedString,
}
- [L148:L194]fn main() 

## crates/gpui/examples/image_gallery.rs
- [L13:L18]struct ImageGallery {
    image_key: String,
    items_count: usize,
    total_count: usize,
    image_cache: Entity<RetainAllImageCache>,
}
- [L131:L136]fn simple_lru_cache(id: impl Into<ElementId>, max_items: usize) -> SimpleLruCacheProvider 
- [L138:L141]struct SimpleLruCacheProvider {
    id: ElementId,
    max_items: usize,
}
- [L164:L168]struct SimpleLruCache {
    max_items: usize,
    usages: Vec<u64>,
    cache: HashMap<u64, gpui::ImageCacheItem>,
}
- [L247:L288]fn main() 

## crates/gpui/examples/image_loading.rs
- [L10:L10]struct Assets {}
- [L34:L37]struct LoadImageParameters {
    timeout: Duration,
    fail: bool,
}
- [L39:L39]struct LoadImageWithParameters {}
- [L67:L67]struct ImageLoadingExample {}
- [L194:L213]fn main() 

## crates/gpui/examples/input.rs
- [L33:L43]struct TextInput {
    focus_handle: FocusHandle,
    content: SharedString,
    placeholder: SharedString,
    selected_range: Range<usize>,
    selection_reversed: bool,
    marked_range: Option<Range<usize>>,
    last_layout: Option<ShapedLine>,
    last_bounds: Option<Bounds<Pixels>>,
    is_selecting: bool,
}
- [L388:L390]struct TextElement {
    input: Entity<TextInput>,
}
- [L392:L396]struct PrepaintState {
    line: Option<ShapedLine>,
    cursor: Option<PaintQuad>,
    selection: Option<PaintQuad>,
}
- [L616:L620]struct InputExample {
    text_input: Entity<TextInput>,
    recent_keystrokes: Vec<Keystroke>,
    focus_handle: FocusHandle,
}
- [L684:L753]fn main() 

## crates/gpui/examples/layer_shell.rs
- [L1:L7]fn main() 

## crates/gpui/examples/mouse_pressure.rs
- [L6:L9]struct MousePressureExample {
    pressure_stage: PressureStage,
    pressure_amount: f32,
}
- [L46:L66]fn main() 

## crates/gpui/examples/on_window_close_quit.rs
- [L8:L10]struct ExampleWindow {
    focus_handle: FocusHandle,
}
- [L37:L82]fn main() 

## crates/gpui/examples/opacity.rs
- [L9:L11]struct Assets {
    base: PathBuf,
}
- [L36:L40]struct HelloWorld {
    _task: Option<Task<()>>,
    opacity: f32,
    animating: bool,
}
- [L158:L175]fn main() 

## crates/gpui/examples/ownership_post.rs
- [L3:L5]struct Counter {
    count: usize,
}
- [L7:L9]struct Change {
    increment: usize,
}
- [L13:L35]fn main() 

## crates/gpui/examples/painting.rs
- [L7:L14]struct PaintingViewer {
    default_lines: Vec<(Path<Pixels>, Background)>,
    background_quads: Vec<(Bounds<Pixels>, Background)>,
    lines: Vec<Vec<Point<Pixels>>>,
    start: Point<Pixels>,
    dashed: bool,
    _painting: bool,
}
- [L306:L321]fn button(
    text: &str,
    cx: &mut Context<PaintingViewer>,
    on_click: impl Fn(&mut PaintingViewer, &mut Context<PaintingViewer>) + 'static,
) -> impl IntoElement 
- [L447:L463]fn main() 

## crates/gpui/examples/paths_bench.rs
- [L10:L13]struct PaintingViewer {
    default_lines: Vec<(Path<Pixels>, Background)>,
    _painting: bool,
}
- [L71:L92]fn main() 

## crates/gpui/examples/pattern.rs
- [L6:L6]struct PatternExample;
- [L101:L115]fn main() 

## crates/gpui/examples/popover.rs
- [L6:L10]struct HelloWorld {
    open: bool,
    secondary_open: bool,
}
- [L12:L19]fn button(id: &'static str) -> Stateful<Div> 
- [L21:L35]fn popover() -> Div 
- [L37:L39]fn line(color: Hsla) -> Div 
- [L163:L174]fn main() 

## crates/gpui/examples/scrollable.rs
- [L6:L6]struct Scrollable {}
- [L47:L60]fn main() 

## crates/gpui/examples/set_menus.rs
- [L6:L6]struct SetMenus;
- [L22:L36]fn main() 
- [L39:L42]enum ViewMode {
    List,
    Grid,
}
- [L63:L65]struct AppState {
    view_mode: ViewMode,
}
- [L77:L92]fn set_app_menus(cx: &mut App) 
- [L98:L101]fn quit(_: &Quit, cx: &mut App) 
- [L103:L107]fn toggle_check(_: &ToggleCheck, cx: &mut App) 

## crates/gpui/examples/shadow.rs
- [L6:L6]struct Shadow {}
- [L54:L84]fn example(label: impl Into<SharedString>, example: impl IntoElement) -> impl IntoElement 
- [L571:L585]fn main() 

## crates/gpui/examples/svg/svg.rs
- [L10:L12]struct Assets {
    base: PathBuf,
}
- [L37:L37]struct SvgExample;
- [L70:L87]fn main() 

## crates/gpui/examples/tab_stop.rs
- [L8:L12]struct Example {
    focus_handle: FocusHandle,
    items: Vec<FocusHandle>,
    message: SharedString,
}
- [L180:L199]fn main() 

## crates/gpui/examples/text.rs
- [L14:L18]struct TextContext {
    font_size: f32,
    line_height: f32,
    type_scale: f32,
}
- [L37:L37]struct GlobalTextContext(pub Arc<TextContext>);
- [L55:L55]trait ActiveTextContext {
- [L66:L69]struct SpecimenTheme {
    pub bg: Hsla,
    pub fg: Hsla,
}
- [L90:L96]struct Specimen {
    id: ElementId,
    scale: f32,
    text_style: Option<TextStyle>,
    string: SharedString,
    invert: bool,
}
- [L163:L167]struct CharacterGrid {
    scale: f32,
    invert: bool,
    text_style: Option<TextStyle>,
}
- [L236:L238]struct TextExample {
    next_id: usize,
}
- [L300:L333]fn main() 

## crates/gpui/examples/text_layout.rs
- [L6:L6]struct HelloWorld {}
- [L83:L96]fn main() 

## crates/gpui/examples/text_wrapper.rs
- [L6:L6]struct HelloWorld {}
- [L110:L123]fn main() 

## crates/gpui/examples/tree.rs
- [L10:L10]struct Tree {}
- [L12:L12]static DEPTH: LazyLock<u64> = LazyLock::new(|| {
- [L34:L46]fn main() 

## crates/gpui/examples/uniform_list.rs
- [L6:L6]struct UniformListExample {}
- [L38:L50]fn main() 

## crates/gpui/examples/window.rs
- [L6:L9]struct SubWindow {
    custom_titlebar: bool,
    is_dialog: bool,
}
- [L11:L24]fn button(text: &str, on_click: impl Fn(&mut Window, &mut App) + 'static) -> impl IntoElement 
- [L88:L88]struct WindowDemo {}
- [L306:L332]fn main() 

## crates/gpui/examples/window_positioning.rs
- [L7:L11]struct WindowContent {
    text: SharedString,
    bounds: Bounds<Pixels>,
    bg: Hsla,
}
- [L50:L68]fn build_window_options(display_id: DisplayId, bounds: Bounds<Pixels>) -> WindowOptions 
- [L70:L219]fn main() 

## crates/gpui/examples/window_shadow.rs
- [L8:L8]struct WindowShadow {}
- [L182:L203]fn resize_edge(pos: Point<Pixels>, shadow_size: Pixels, size: Size<Pixels>) -> Option<ResizeEdge> 
- [L205:L227]fn main() 

## crates/gpui/src/_ownership_and_data_flow.rs

## crates/gpui/src/action.rs
- [L117:L117]trait Action: Any + Send {
- [L190:L207]enum ActionBuildError {
    NotFound {
        name: String,
    },
    BuildError {
        name: String,
        error: anyhow::Error,
    },
}
- [L259:L262]struct ActionData {
    pub build: ActionBuilder,
    pub json_schema: fn(&mut schemars::SchemaGenerator) -> Option<schemars::Schema>,
}
- [L264:L267]struct MacroActionBuilder(pub fn() -> MacroActionData);
- [L269:L280]struct MacroActionData {
    pub name: &'static str,
    pub type_id: TypeId,
    pub build: ActionBuilder,
    pub json_schema: fn(&mut schemars::SchemaGenerator) -> Option<schemars::Schema>,
    pub deprecated_aliases: &'static [&'static str],
    pub deprecation_message: Option<&'static str>,
    pub documentation: Option<&'static str>,
}
- [L413:L421]fn generate_list_of_all_registered_actions() -> impl Iterator<Item = MacroActionData> 

## crates/gpui/src/app.rs
- [L57:L57]const SHUTDOWN_TIMEOUT: Duration = Duration::from_millis(100);
- [L56:L64]struct AppCell {
    app: RefCell<App>,
}
- [L100:L100]struct AppRef<'a>(Ref<'a, App>);
- [L113:L113]struct AppRefMut<'a>(RefMut<'a, App>);
- [L124:L126]struct Application(Rc<AppCell>);
- [L249:L259]enum QuitMode {
    Default,
    LastWindowClosed,
    Explicit,
}
- [L263:L268]struct SystemWindowTab {
    pub id: WindowId,
    pub title: SharedString,
    pub handle: AnyWindowHandle,
    pub last_active_at: Instant,
}
- [L282:L287]struct SystemWindowTabController {
    visible: Option<bool>,
    tab_groups: FxHashMap<usize, Vec<SystemWindowTab>>,
}
- [L578:L637]struct App {
    pub(crate) this: Weak<AppCell>,
    pub(crate) platform: Rc<dyn Platform>,
    pub(crate) mode: GpuiMode,
    text_system: Arc<TextSystem>,
    flushing_effects: bool,
    pending_updates: usize,
    pub(crate) actions: Rc<ActionRegistry>,
    pub(crate) active_drag: Option<AnyDrag>,
    pub(crate) background_executor: BackgroundExecutor,
    pub(crate) foreground_executor: ForegroundExecutor,
    pub(crate) loading_assets: FxHashMap<(TypeId, u64), Box<dyn Any>>,
    asset_source: Arc<dyn AssetSource>,
    pub(crate) svg_renderer: SvgRenderer,
    http_client: Arc<dyn HttpClient>,
    pub(crate) globals_by_type: FxHashMap<TypeId, Box<dyn Any>>,
    pub(crate) entities: EntityMap,
    pub(crate) window_update_stack: Vec<WindowId>,
    pub(crate) new_entity_observers: SubscriberSet<TypeId, NewEntityListener>,
    pub(crate) windows: SlotMap<WindowId, Option<Box<Window>>>,
    pub(crate) window_handles: FxHashMap<WindowId, AnyWindowHandle>,
    pub(crate) focus_handles: Arc<FocusMap>,
    pub(crate) keymap: Rc<RefCell<Keymap>>,
    pub(crate) keyboard_layout: Box<dyn PlatformKeyboardLayout>,
    pub(crate) keyboard_mapper: Rc<dyn PlatformKeyboardMapper>,
    pub(crate) global_action_listeners:
        FxHashMap<TypeId, Vec<Rc<dyn Fn(&dyn Any, DispatchPhase, &mut Self)>>>,
    pending_effects: VecDeque<Effect>,
    pub(crate) pending_notifications: FxHashSet<EntityId>,
    pub(crate) pending_global_notifications: FxHashSet<TypeId>,
    pub(crate) observers: SubscriberSet<EntityId, Handler>,
    pub(crate) event_listeners: SubscriberSet<EntityId, (TypeId, Listener)>,
    pub(crate) keystroke_observers: SubscriberSet<(), KeystrokeObserver>,
    pub(crate) keystroke_interceptors: SubscriberSet<(), KeystrokeObserver>,
    pub(crate) keyboard_layout_observers: SubscriberSet<(), Handler>,
    pub(crate) release_listeners: SubscriberSet<EntityId, ReleaseListener>,
    pub(crate) global_observers: SubscriberSet<TypeId, Handler>,
    pub(crate) quit_observers: SubscriberSet<(), QuitHandler>,
    pub(crate) restart_observers: SubscriberSet<(), Handler>,
    pub(crate) restart_path: Option<PathBuf>,
    pub(crate) window_closed_observers: SubscriberSet<(), WindowClosedHandler>,
    pub(crate) layout_id_buffer: Vec<LayoutId>,
    pub(crate) propagate_event: bool,
    pub(crate) prompt_builder: Option<PromptBuilder>,
    pub(crate) window_invalidators_by_entity:
        FxHashMap<EntityId, FxHashMap<WindowId, WindowInvalidator>>,
    pub(crate) tracked_entities: FxHashMap<WindowId, FxHashSet<EntityId>>,
    pub(crate) inspector_renderer: Option<crate::InspectorRenderer>,
    pub(crate) inspector_element_registry: InspectorElementRegistry,
    pub(crate) name: Option<&'static str>,
    quit_mode: QuitMode,
    quitting: bool,
}
- [L2405:L2420]struct AnyDrag {
    pub view: AnyView,
    pub value: Arc<dyn Any>,
    pub cursor_offset: Point<Pixels>,
    pub cursor_style: Option<CursorStyle>,
}
- [L2422:L2436]struct AnyTooltip {
    pub view: AnyView,
    pub mouse_position: Point<Pixels>,
    pub check_visible_and_update: Rc<dyn Fn(Bounds<Pixels>, &mut Window, &mut App) -> bool>,
}
- [L2438:L2449]struct KeystrokeEvent {
    pub keystroke: Keystroke,
    pub action: Option<Box<dyn Action>>,
    pub context_stack: Vec<KeyContext>,
}
- [L2451:L2451]struct NullHttpClient;
- [L2476:L2480]struct GpuiBorrow<'a, T> {
    inner: Option<Lease<T>>,
    app: &'a mut App,
}

## crates/gpui/src/app/async_context.rs
- [L13:L21]struct AsyncApp {
    pub(crate) app: Weak<AppCell>,
    pub(crate) background_executor: BackgroundExecutor,
    pub(crate) foreground_executor: ForegroundExecutor,
}
- [L263:L271]struct AsyncWindowContext {
    app: AsyncApp,
    window: AnyWindowHandle,
}

## crates/gpui/src/app/context.rs
- [L19:L23]struct Context<'a, T> {
    app: &'a mut App,
    entity_state: WeakEntity<T>,
}

## crates/gpui/src/app/entity_map.rs
- [L63:L68]struct EntityRefCounts {
    counts: SlotMap<EntityId, AtomicUsize>,
    dropped_entity_ids: Vec<EntityId>,
    leak_detector: LeakDetector,
}
- [L182:L187]fn double_lease_panic<T>(operation: &str) -> ! 
- [L220:L227]struct AnyEntity {
    pub(crate) entity_id: EntityId,
    pub(crate) entity_type: TypeId,
    entity_map: Weak<RwLock<EntityRefCounts>>,
    handle_id: HandleId,
}
- [L381:L389]struct Entity<T> {
    pub(crate) any_entity: AnyEntity,
    pub(crate) entity_type: PhantomData<fn(T) -> T>,
}
- [L535:L541]struct AnyWeakEntity {
    pub(crate) entity_id: EntityId,
    entity_type: TypeId,
    entity_ref_counts: Weak<RwLock<EntityRefCounts>>,
}
- [L706:L713]struct WeakEntity<T> {
    any_entity: AnyWeakEntity,
    entity_type: PhantomData<fn(T) -> T>,
}
- [L848:L848]static LEAK_BACKTRACE: std::sync::LazyLock<bool> =

## crates/gpui/src/app/test_context.rs
- [L17:L33]struct TestAppContext {
    pub app: Rc<AppCell>,
    pub background_executor: BackgroundExecutor,
    pub foreground_executor: ForegroundExecutor,
    pub dispatcher: TestDispatcher,
    test_platform: Rc<TestPlatform>,
    text_system: Arc<TextSystem>,
    fn_name: Option<&'static str>,
    on_quit: Rc<RefCell<Vec<Box<dyn FnOnce() + 'static>>>>,
}
- [L684:L692]struct VisualTestContext {
    pub cx: TestAppContext,
    window: AnyWindowHandle,
}

## crates/gpui/src/arena.rs
- [L10:L13]struct ArenaElement {
    value: *mut u8,
    drop: unsafe fn(*mut u8),
}
- [L22:L26]struct Chunk {
    start: *mut u8,
    end: *mut u8,
    offset: *mut u8,
}
- [L72:L78]struct Arena {
    chunks: Vec<Chunk>,
    elements: Vec<ArenaElement>,
    valid: Rc<Cell<bool>>,
    current_chunk_index: usize,
    chunk_size: NonZeroUsize,
}
- [L165:L168]struct ArenaBox<T: ?Sized> {
    ptr: *mut T,
    valid: Rc<Cell<bool>>,
}

## crates/gpui/src/asset_cache.rs
- [L10:L19]enum Resource {
    Uri(SharedUri),
    Path(Arc<Path>),
    Embedded(SharedString),
}
- [L40:L40]trait Asset: 'static {
- [L54:L58]enum AssetLogger<T> {
    _Phantom(PhantomData<T>, &'static dyn crate::seal::Sealed),
}
- [L79:L84]fn hash<T: Hash>(data: &T) -> u64 

## crates/gpui/src/assets.rs
- [L13:L13]trait AssetSource: 'static + Send + Sync {
- [L31:L33]struct ImageId(pub usize);
- [L41:L47]struct RenderImage {
    pub id: ImageId,
    pub(crate) scale_factor: f32,
    data: SmallVec<[Frame; 1]>,

## crates/gpui/src/bounds_tree.rs
- [L36:L48]struct Node<U>
where
    U: Clone + Debug + Default + PartialEq,
{
    bounds: Bounds<U>,
    max_order: u32,
    kind: NodeKind,
}
- [L51:L62]enum NodeKind {
    Leaf {
        order: u32,
    },
    Internal {
        children: NodeChildren,
    },
}
- [L64:L68]struct NodeChildren {
    indices: [usize; MAX_CHILDREN],

## crates/gpui/src/color.rs
- [L13:L17]fn rgb(hex: u32) -> Rgba 
- [L19:L23]fn rgba(hex: u32) -> Rgba 
- [L36:L48]struct Rgba {
    pub r: f32,
    pub g: f32,
    pub b: f32,
    pub a: f32,
}
- [L84:L84]struct RgbaVisitor;
- [L269:L284]struct Hsla {
    pub h: f32,
    pub s: f32,
    pub l: f32,
    pub a: f32,
}
- [L335:L343]fn hsla(h: f32, s: f32, l: f32, a: f32) -> Hsla 
- [L346:L346]const fn black() -> Hsla {
- [L356:L356]const fn transparent_black() -> Hsla {
- [L366:L366]const fn transparent_white() -> Hsla {
- [L375:L383]fn opaque_grey(lightness: f32, opacity: f32) -> Hsla 
- [L386:L386]const fn white() -> Hsla {
- [L396:L396]const fn red() -> Hsla {
- [L406:L406]const fn blue() -> Hsla {
- [L416:L416]const fn green() -> Hsla {
- [L426:L426]const fn yellow() -> Hsla {
- [L663:L676]enum ColorSpace {
    Srgb = 0,
    Oklab = 1,
}
- [L687:L695]struct Background {
    pub(crate) tag: BackgroundTag,
    pub(crate) color_space: ColorSpace,
    pub(crate) solid: Hsla,
    pub(crate) gradient_angle_or_pattern_height: f32,
    pub(crate) colors: [LinearColorStop; 2],
- [L736:L748]fn pattern_slash(color: Hsla, width: f32, interval: f32) -> Background 
- [L750:L756]fn solid_background(color: impl Into<Hsla>) -> Background 
- [L758:L776]fn linear_gradient(
    angle: f32,
    from: impl Into<LinearColorStop>,
    to: impl Into<LinearColorStop>,
) -> Background 
- [L778:L788]struct LinearColorStop {
    pub color: Hsla,
    pub percentage: f32,
}
- [L790:L798]fn linear_color_stop(color: impl Into<Hsla>, percentage: f32) -> LinearColorStop 

## crates/gpui/src/colors.rs
- [L5:L26]struct Colors {
    pub text: Rgba,
    pub selected_text: Rgba,
    pub background: Rgba,
    pub disabled: Rgba,
    pub selected: Rgba,
    pub border: Rgba,
    pub separator: Rgba,
    pub container: Rgba,
}
- [L77:L79]struct GlobalColors(pub Arc<Colors>);
- [L92:L92]trait DefaultColors {
- [L103:L113]enum DefaultAppearance {
    Light,
    Dark,
}

## crates/gpui/src/element.rs
- [L51:L51]trait Element: 'static + IntoElement {
- [L113:L113]trait IntoElement: Sized {
- [L131:L131]trait Render: 'static + Sized {
- [L147:L147]trait RenderOnce: 'static {
- [L156:L156]trait ParentElement {
- [L179:L186]struct Component<C: RenderOnce> {
    component: Option<C>,
    source: &'static core::panic::Location<'static>,
}
- [L274:L276]struct GlobalElementId(pub(crate) Arc<[ElementId]>);
- [L307:L312]struct Drawable<E: Element> {
    pub element: E,
    phase: ElementDrawPhase<E::RequestLayoutState, E::PrepaintState>,
}
- [L315:L340]enum ElementDrawPhase<RequestLayoutState, PrepaintState> {
    Start,
    RequestLayout {
        layout_id: LayoutId,
        global_id: Option<GlobalElementId>,
        inspector_id: Option<InspectorElementId>,
        request_layout: RequestLayoutState,
    },
    LayoutComputed {
        layout_id: LayoutId,
        global_id: Option<GlobalElementId>,
        inspector_id: Option<InspectorElementId>,
        available_space: Size<AvailableSpace>,
        request_layout: RequestLayoutState,
    },
    Prepaint {
        node_id: DispatchNodeId,
        global_id: Option<GlobalElementId>,
        inspector_id: Option<InspectorElementId>,
        bounds: Bounds<Pixels>,
        request_layout: RequestLayoutState,
        prepaint: PrepaintState,
    },
    Painted,
}
- [L573:L574]struct AnyElement(ArenaBox<dyn ElementObject>);
- [L714:L715]struct Empty;

## crates/gpui/src/elements/anchored.rs
- [L9:L11]struct AnchoredState {
    child_layout_ids: SmallVec<[LayoutId; 4]>,
- [L14:L17]struct Anchored {
    children: SmallVec<[AnyElement; 2]>,
- [L25:L36]fn anchored() -> Anchored 
- [L243:L252]enum AnchoredFitMode {
    SnapToWindow,
    SnapToWindowWithMargin(Edges<Pixels>),
    SwitchAnchor,
}
- [L254:L261]enum AnchoredPositionMode {
    Window,
    Local,
}

## crates/gpui/src/elements/animation.rs
- [L13:L23]struct Animation {
    pub duration: Duration,
    pub oneshot: bool,
    pub easing: Rc<dyn Fn(f32) -> f32>,
}
- [L52:L52]trait AnimationExt {
- [L92:L96]struct AnimationElement<E> {
    id: ElementId,
    element: Option<E>,
    animations: SmallVec<[Animation; 1]>,
- [L117:L120]struct AnimationState {
    start: Instant,
    animation_ix: usize,
}

## crates/gpui/src/elements/canvas.rs
- [L8:L19]fn canvas<T>(
    prepaint: impl 'static + FnOnce(Bounds<Pixels>, &mut Window, &mut App) -> T,
    paint: impl 'static + FnOnce(Bounds<Pixels>, T, &mut Window, &mut App),
) -> Canvas<T> 
- [L21:L27]struct Canvas<T> {
    prepaint: Option<Box<dyn FnOnce(Bounds<Pixels>, &mut Window, &mut App) -> T>>,
    paint: Option<Box<dyn FnOnce(Bounds<Pixels>, T, &mut Window, &mut App)>>,
    style: StyleRefinement,
}

## crates/gpui/src/elements/deferred.rs
- [L6:L12]fn deferred(child: impl IntoElement) -> Deferred 
- [L14:L19]struct Deferred {
    child: Option<AnyElement>,
    priority: usize,
}

## crates/gpui/src/elements/div.rs
- [L51:L59]struct GroupStyle {
    pub group: SharedString,
    pub style: Box<StyleRefinement>,
}
- [L61:L70]struct DragMoveEvent<T> {
    pub event: MouseMoveEvent,
    pub bounds: Bounds<Pixels>,
    drag: PhantomData<T>,
    dragged_item: Arc<dyn Any>,
}
- [L628:L628]trait InteractiveElement: Sized {
- [L1109:L1109]trait StatefulInteractiveElement: InteractiveElement {
- [L1290:L1299]fn div() -> Div 
- [L1301:L1304]struct Div {
    interactivity: Interactivity,
    children: SmallVec<[StackSafe<AnyElement>; 2]>,
- [L1327:L1334]struct DivFrameState {
    child_layout_ids: SmallVec<[LayoutId; 2]>,
- [L1337:L1349]struct DivInspectorState {
    pub base_style: Box<StyleRefinement>,
    pub bounds: Bounds<Pixels>,
    pub content_size: Size<Pixels>,
}
- [L1544:L1605]struct Interactivity {
    pub element_id: Option<ElementId>,
    pub active: Option<bool>,
    pub hovered: Option<bool>,
    pub(crate) tooltip_id: Option<TooltipId>,
    pub(crate) content_size: Size<Pixels>,
    pub(crate) key_context: Option<KeyContext>,
    pub(crate) focusable: bool,
    pub(crate) tracked_focus_handle: Option<FocusHandle>,
    pub(crate) tracked_scroll_handle: Option<ScrollHandle>,
    pub(crate) scroll_anchor: Option<ScrollAnchor>,
    pub(crate) scroll_offset: Option<Rc<RefCell<Point<Pixels>>>>,
    pub(crate) group: Option<SharedString>,
    pub base_style: Box<StyleRefinement>,
    pub(crate) focus_style: Option<Box<StyleRefinement>>,
    pub(crate) in_focus_style: Option<Box<StyleRefinement>>,
    pub(crate) focus_visible_style: Option<Box<StyleRefinement>>,
    pub(crate) hover_style: Option<Box<StyleRefinement>>,
    pub(crate) group_hover_style: Option<GroupStyle>,
    pub(crate) active_style: Option<Box<StyleRefinement>>,
    pub(crate) group_active_style: Option<GroupStyle>,
    pub(crate) drag_over_styles: Vec<(
        TypeId,
        Box<dyn Fn(&dyn Any, &mut Window, &mut App) -> StyleRefinement>,
    )>,
    pub(crate) group_drag_over_styles: Vec<(TypeId, GroupStyle)>,
    pub(crate) mouse_down_listeners: Vec<MouseDownListener>,
    pub(crate) mouse_up_listeners: Vec<MouseUpListener>,
    pub(crate) mouse_pressure_listeners: Vec<MousePressureListener>,
    pub(crate) mouse_move_listeners: Vec<MouseMoveListener>,
    pub(crate) scroll_wheel_listeners: Vec<ScrollWheelListener>,
    pub(crate) key_down_listeners: Vec<KeyDownListener>,
    pub(crate) key_up_listeners: Vec<KeyUpListener>,
    pub(crate) modifiers_changed_listeners: Vec<ModifiersChangedListener>,
    pub(crate) action_listeners: Vec<(TypeId, ActionListener)>,
    pub(crate) drop_listeners: Vec<(TypeId, DropListener)>,
    pub(crate) can_drop_predicate: Option<CanDropPredicate>,
    pub(crate) click_listeners: Vec<ClickListener>,
    pub(crate) drag_listener: Option<(Arc<dyn Any>, DragListener)>,
    pub(crate) hover_listener: Option<Box<dyn Fn(&bool, &mut Window, &mut App)>>,
    pub(crate) tooltip_builder: Option<TooltipBuilder>,
    pub(crate) window_control: Option<WindowControlArea>,
    pub(crate) hitbox_behavior: HitboxBehavior,
    pub(crate) tab_index: Option<isize>,
    pub(crate) tab_group: bool,
    pub(crate) tab_stop: bool,
    pub(crate) source_location: Option<&'static core::panic::Location<'static>>,
    pub(crate) debug_selector: Option<String>,
}
- [L2716:L2726]struct InteractiveElementState {
    pub(crate) focus_handle: Option<FocusHandle>,
    pub(crate) clicked_state: Option<Rc<RefCell<ElementClickedState>>>,
    pub(crate) hover_state: Option<Rc<RefCell<ElementHoverState>>>,
    pub(crate) pending_mouse_down: Option<Rc<RefCell<Option<MouseDownEvent>>>>,
    pub(crate) scroll_offset: Option<Rc<RefCell<Point<Pixels>>>>,
    pub(crate) active_tooltip: Option<Rc<RefCell<Option<ActiveTooltip>>>>,
}
- [L2728:L2736]struct ElementClickedState {
    pub group: bool,
    pub element: bool,
}
- [L2744:L2752]struct ElementHoverState {
    pub group: bool,
    pub element: bool,
}
- [L2855:L2956]fn handle_tooltip_mouse_move(
    active_tooltip: &Rc<RefCell<Option<ActiveTooltip>>>,
    build_tooltip: &Rc<dyn Fn(&mut Window, &mut App) -> Option<(AnyView, bool)>>,
    check_is_hovered: &Rc<dyn Fn(&Window) -> bool>,
    check_is_hovered_during_prepaint: &Rc<dyn Fn(&Window) -> bool>,
    phase: DispatchPhase,
    window: &mut Window,
    cx: &mut App,
) 
- [L2958:L3034]fn handle_tooltip_check_visible_and_update(
    active_tooltip: &Rc<RefCell<Option<ActiveTooltip>>>,
    tooltip_is_hoverable: bool,
    check_is_hovered: &Rc<dyn Fn(&Window) -> bool>,
    tooltip_bounds: Bounds<Pixels>,
    window: &mut Window,
    cx: &mut App,
) -> bool 
- [L3063:L3066]struct Stateful<E> {
    pub(crate) element: E,
}
- [L3173:L3179]struct ScrollAnchor {
    handle: ScrollHandle,
    last_origin: Rc<RefCell<Point<Pixels>>>,
}
- [L3202:L3210]struct ScrollHandleState {
    offset: Rc<RefCell<Point<Pixels>>>,
    bounds: Bounds<Pixels>,
    max_offset: Size<Pixels>,
    child_bounds: Vec<Bounds<Pixels>>,
    scroll_to_bottom: bool,
    overflow: Point<Overflow>,
    active_item: Option<ScrollActiveItem>,
}
- [L3213:L3216]struct ScrollActiveItem {
    index: usize,
    strategy: ScrollStrategy,
}
- [L3219:L3223]enum ScrollStrategy {
    FirstVisible,
    Top,
}
- [L3225:L3229]struct ScrollHandle(Rc<RefCell<ScrollHandleState>>);

## crates/gpui/src/elements/image_cache.rs
- [L13:L21]fn image_cache(image_cache_provider: impl ImageCacheProvider) -> ImageCacheElement 
- [L23:L33]struct AnyImageCache {
    image_cache: AnyEntity,
    load_fn: fn(
        image_cache: &AnyEntity,
        resource: &Resource,
        window: &mut Window,
        cx: &mut App,
    ) -> Option<Result<Arc<RenderImage>, ImageCacheError>>,
}
- [L71:L75]struct ImageCacheElement {
    image_cache_provider: Box<dyn ImageCacheProvider>,
    style: StyleRefinement,
    children: SmallVec<[AnyElement; 2]>,
- [L165:L165]type ImageLoadingTask = Shared<Task<Result<Arc<RenderImage>, ImageCacheError>>>;
- [L164:L173]enum ImageCacheItem {
    Loading(ImageLoadingTask),
    Loaded(Result<Arc<RenderImage>, ImageCacheError>),
}
- [L203:L203]trait ImageCache: 'static {
- [L216:L216]trait ImageCacheProvider: 'static {
- [L227:L228]struct RetainAllImageCache(HashMap<u64, ImageCacheItem>);
- [L329:L332]fn retain_all(id: impl Into<ElementId>) -> RetainAllImageCacheProvider 
- [L334:L337]struct RetainAllImageCacheProvider {
    id: ElementId,
}

## crates/gpui/src/elements/img.rs
- [L30:L30]const LOADING_DELAY: Duration = Duration::from_millis(200);
- [L36:L36]type ImgResourceLoader = AssetLogger<ImageAssetLoader>;
- [L29:L49]enum ImageSource {
    Resource(Resource),
    Render(Arc<RenderImage>),
    Image(Arc<Image>),
    Custom(Arc<dyn Fn(&mut Window, &mut App) -> Option<Result<Arc<RenderImage>, ImageCacheError>>>),
}
- [L51:L53]fn is_uri(uri: &str) -> bool 
- [L126:L132]struct ImageStyle {
    grayscale: bool,
    object_fit: ObjectFit,
    loading: Option<Box<dyn Fn() -> AnyElement>>,
    fallback: Option<Box<dyn Fn() -> AnyElement>>,
}
- [L146:L146]trait StyledImage: Sized {
- [L189:L195]struct Img {
    interactivity: Interactivity,
    source: ImageSource,
    style: ImageStyle,
    image_cache: Option<AnyImageCache>,
}
- [L197:L206]fn img(source: impl Into<ImageSource>) -> Img 
- [L250:L255]struct ImgState {
    frame_index: usize,
    last_frame_time: Option<Instant>,
    started_loading: Option<(Instant, Task<()>)>,
}
- [L257:L261]struct ImgLayoutState {
    frame_index: usize,
    replacement: Option<AnyElement>,
}
- [L569:L569]enum ImageDecoder {}
- [L584:L586]enum ImageAssetLoader {}
- [L703:L731]enum ImageCacheError {
    Io(Arc<std::io::Error>),
    BadStatus {
        uri: SharedUri,
        status: http_client::StatusCode,
        body: String,
    },
    Asset(SharedString),
    Image(Arc<ImageError>),
    Usvg(Arc<usvg::Error>),
}

## crates/gpui/src/elements/list.rs
- [L23:L34]fn list(
    state: ListState,
    render_item: impl FnMut(usize, &mut Window, &mut App) -> AnyElement + 'static,
) -> List 
- [L36:L42]struct List {
    state: ListState,
    render_item: Box<RenderItemFn>,
    style: StyleRefinement,
    sizing_behavior: ListSizingBehavior,
}
- [L52:L54]struct ListState(Rc<RefCell<StateInner>>);
- [L62:L74]struct StateInner {
    last_layout_bounds: Option<Bounds<Pixels>>,
    last_padding: Option<Edges<Pixels>>,
    items: SumTree<ListItem>,
    logical_scroll_top: Option<ListOffset>,
    alignment: ListAlignment,
    overdraw: Pixels,
    reset: bool,
    scroll_handler: Option<Box<dyn FnMut(&ListScrollEvent, &mut Window, &mut App)>>,
    scrollbar_drag_start_height: Option<Pixels>,
    measuring_behavior: ListMeasuringBehavior,
}
- [L76:L83]enum ListAlignment {
    Top,
    Bottom,
}
- [L85:L95]struct ListScrollEvent {
    pub visible_range: Range<usize>,
    pub count: usize,
    pub is_scrolled: bool,
}
- [L97:L105]enum ListSizingBehavior {
    Infer,
    Auto,
}
- [L107:L116]enum ListMeasuringBehavior {
    Measure(bool),
    Visible,
}
- [L127:L135]enum ListHorizontalSizingBehavior {
    FitList,
    Unconstrained,
}
- [L137:L141]struct LayoutItemsResponse {
    max_item_width: Pixels,
    scroll_top: ListOffset,
    item_layouts: VecDeque<ItemLayout>,
}
- [L143:L147]struct ItemLayout {
    index: usize,
    element: AnyElement,
    size: Size<Pixels>,
}
- [L149:L153]struct ListPrepaintState {
    hitbox: Hitbox,
    layout: LayoutItemsResponse,
}
- [L156:L164]enum ListItem {
    Unmeasured {
        focus_handle: Option<FocusHandle>,
    },
    Measured {
        size: Size<Pixels>,
        focus_handle: Option<FocusHandle>,
    },
}
- [L195:L201]struct ListItemSummary {
    count: usize,
    rendered_count: usize,
    unrendered_count: usize,
    height: Pixels,
    has_focus_handles: bool,
}
- [L204:L204]struct Count(usize);
- [L207:L207]struct Height(Pixels);
- [L912:L920]struct ListOffset {
    pub item_ix: usize,
    pub offset_in_item: Pixels,
}

## crates/gpui/src/elements/mod.rs

## crates/gpui/src/elements/surface.rs
- [L9:L15]enum SurfaceSource {
    Surface(CVPixelBuffer),
}
- [L24:L29]struct Surface {
    source: SurfaceSource,
    object_fit: ObjectFit,
    style: StyleRefinement,
}
- [L31:L39]fn surface(source: impl Into<SurfaceSource>) -> Surface 

## crates/gpui/src/elements/svg.rs
- [L11:L17]struct Svg {
    interactivity: Interactivity,
    transformation: Option<Transformation>,
    path: Option<SharedString>,
    external_path: Option<SharedString>,
}
- [L19:L28]fn svg() -> Svg 
- [L186:L192]struct Transformation {
    scale: Size<f32>,
    translate: Point<Pixels>,
    rotate: Radians,
}
- [L261:L261]enum SvgAsset {}

## crates/gpui/src/elements/text.rs
- [L145:L155]struct StyledText {
    text: SharedString,
    runs: Option<Vec<TextRun>>,
    delayed_highlights: Option<Vec<(Range<usize>, HighlightStyle)>>,
    layout: TextLayout,
}
- [L312:L314]struct TextLayout(Rc<RefCell<Option<TextLayoutInner>>>);
- [L316:L318]struct TextLayoutInner {
    len: usize,
    lines: SmallVec<[WrappedLine; 1]>,
- [L637:L647]struct InteractiveText {
    element_id: ElementId,
    text: StyledText,
    click_listener:
        Option<Box<dyn Fn(&[Range<usize>], InteractiveTextClickEvent, &mut Window, &mut App)>>,
    hover_listener: Option<Box<dyn Fn(Option<usize>, MouseMoveEvent, &mut Window, &mut App)>>,
    tooltip_builder: Option<Rc<dyn Fn(usize, &mut Window, &mut App) -> Option<AnyView>>>,
    tooltip_id: Option<TooltipId>,
    clickable_ranges: Vec<Range<usize>>,
}
- [L649:L652]struct InteractiveTextClickEvent {
    mouse_down_index: usize,
    mouse_up_index: usize,
}
- [L656:L660]struct InteractiveTextState {
    mouse_down_index: Rc<Cell<Option<usize>>>,
    hovered_index: Rc<Cell<Option<usize>>>,
    active_tooltip: Rc<RefCell<Option<ActiveTooltip>>>,
}

## crates/gpui/src/elements/uniform_list.rs
- [L18:L55]fn uniform_list<R>(
    id: impl Into<ElementId>,
    item_count: usize,
    f: impl 'static + Fn(Range<usize>, &mut Window, &mut App) -> Vec<R>,
) -> UniformList
where
    R: IntoElement,
- [L57:L62]struct UniformList {
    item_count: usize,
    item_to_measure_index: usize,
    render_items: Box<
        dyn for<'a> Fn(Range<usize>, &'a mut Window, &'a mut App) -> SmallVec<[AnyElement; 64]>,
- [L71:L73]struct UniformListFrameState {
    items: SmallVec<[AnyElement; 32]>,
- [L77:L80]struct UniformListScrollHandle(pub Rc<RefCell<UniformListScrollState>>);
- [L82:L99]enum ScrollStrategy {
    Top,
    Center,
    Bottom,
    Nearest,
}
- [L103:L111]struct DeferredScrollToItem {
    pub item_index: usize,
    pub strategy: ScrollStrategy,
    pub offset: usize,
    pub scroll_strict: bool,
}
- [L115:L122]struct UniformListScrollState {
    pub base_handle: ScrollHandle,
    pub deferred_scroll_to_item: Option<DeferredScrollToItem>,
    pub last_item_size: Option<ItemSize>,
    pub y_flipped: bool,
}
- [L125:L132]struct ItemSize {
    pub item: Size<Pixels>,
    pub contents: Size<Pixels>,
}
- [L568:L568]trait UniformListDecoration {

## crates/gpui/src/executor.rs
- [L28:L34]struct BackgroundExecutor {
    pub dispatcher: Arc<dyn PlatformDispatcher>,
}
- [L36:L48]struct ForegroundExecutor {
    pub dispatcher: Arc<dyn PlatformDispatcher>,
    not_send: PhantomData<Rc<()>>,
}
- [L50:L59]enum RealtimePriority {
    Audio,
    Other,
}
- [L61:L81]enum Priority {
    Realtime(RealtimePriority),
    High,
    Medium,
    Low,
}
- [L96:L104]struct Task<T>(TaskState<T>);
- [L107:L113]enum TaskState<T> {
    Ready(Option<T>),
    Spawned(async_task::Task<T, RunnableMeta>),
}
- [L157:L160]struct TaskLabel(NonZeroUsize);
- [L721:L788]fn spawn_local_with_source_location<Fut, S, M>(
    future: Fut,
    schedule: S,
    metadata: M,
) -> (Runnable<M>, async_task::Task<Fut::Output, M>)
where
    Fut: Future + 'static,
    Fut::Output: 'static,
    S: async_task::Schedule<M> + Send + Sync + 'static,
    M: 'static,
- [L790:L798]struct Scope<'a> {
    executor: BackgroundExecutor,
    priority: Priority,
    futures: Vec<Pin<Box<dyn Future<Output = ()> + Send + 'static>>>,
    tx: Option<mpsc::Sender<()>>,
    rx: mpsc::Receiver<()>,
    lifetime: PhantomData<&'a ()>,
}

## crates/gpui/src/geometry.rs
- [L23:L30]enum Axis {
    Vertical,
    Horizontal,
}
- [L43:L43]trait Along {
- [L84:L89]struct Point<T: Clone + Debug + Default + PartialEq> {
    pub x: T,
    pub y: T,
}
- [L110:L110]const fn point<T: Clone + Debug + Default + PartialEq>(x: T, y: T) -> Point<T> {
- [L392:L404]struct Size<T: Clone + Debug + Default + PartialEq> {
    pub width: T,
    pub height: T,
}
- [L428:L428]const fn size<T>(width: T, height: T) -> Size<T>
- [L734:L759]struct Bounds<T: Clone + Debug + Default + PartialEq> {
    pub origin: Point<T>,
    pub size: Size<T>,
}
- [L761:L767]fn bounds<T: Clone + Debug + Default + PartialEq>(
    origin: Point<T>,
    size: Size<T>,
) -> Bounds<T> 
- [L1679:L1711]struct Edges<T: Clone + Debug + Default + PartialEq> {
    pub top: T,
    pub right: T,
    pub bottom: T,
    pub left: T,
}
- [L2115:L2126]enum Corner {
    TopLeft,
    TopRight,
    BottomLeft,
    BottomRight,
}
- [L2175:L2190]struct Corners<T: Clone + Debug + Default + PartialEq> {
    pub top_left: T,
    pub top_right: T,
    pub bottom_right: T,
    pub bottom_left: T,
}
- [L2490:L2490]struct Radians(pub f32);
- [L2492:L2495]fn radians(value: f32) -> Radians 
- [L2515:L2515]struct Percentage(pub f32);
- [L2517:L2524]fn percentage(value: f32) -> Percentage 
- [L2571:L2571]struct Pixels(pub(crate) f32);
- [L2871:L2871]struct DevicePixels(pub i32);
- [L2955:L2964]struct ScaledPixels(pub(crate) f32);
- [L3111:L3122]struct Rems(pub f32);
- [L3163:L3175]enum AbsoluteLength {
    Pixels(Pixels),
    Rems(Rems),
}
- [L3326:L3337]enum DefiniteLength {
    Absolute(AbsoluteLength),
    Fraction(f32),
}
- [L3481:L3488]enum Length {
    Definite(DefiniteLength),
    Auto,
}
- [L3577:L3577]const fn relative(fraction: f32) -> DefiniteLength {
- [L3582:L3582]const fn phi() -> DefiniteLength {
- [L3595:L3595]const fn rems(rems: f32) -> Rems {
- [L3608:L3608]const fn px(pixels: f32) -> Pixels {
- [L3623:L3623]const fn auto() -> Length {
- [L3663:L3670]struct GridLocation {
    pub row: Range<GridPlacement>,
    pub column: Range<GridPlacement>,
}
- [L3672:L3682]enum GridPlacement {
    Line(i16),
    Span(u16),
    Auto,
}
- [L3699:L3699]trait Half {
- [L3745:L3745]trait Negate {
- [L3792:L3792]trait IsZero {

## crates/gpui/src/global.rs
- [L22:L22]trait Global: 'static {
- [L30:L30]trait ReadGlobal {
- [L44:L44]trait UpdateGlobal {

## crates/gpui/src/gpui.rs
- [L19:L19]mod colors;
- [L32:L32]mod prelude;
- [L46:L46]mod test;
- [L53:L53]mod _ownership_and_data_flow;
- [L57:L57]mod private {
- [L120:L120]trait AppContext {
- [L196:L198]struct Reservation<T>(pub(crate) Slot<T>);
- [L209:L209]trait VisualContext: AppContext {
- [L242:L242]trait EventEmitter<E: Any>: 'static {}
- [L246:L246]trait BorrowAppContext {
- [L288:L288]trait Flatten<T> {
- [L305:L316]struct GpuSpecs {
    pub is_software_emulated: bool,
    pub device_name: String,
    pub driver_name: String,
    pub driver_info: String,
}

## crates/gpui/src/input.rs
- [L10:L10]trait EntityInputHandler: 'static + Sized {
- [L80:L85]struct ElementInputHandler<V> {
    view: Entity<V>,
    element_bounds: Bounds<Pixels>,
}

## crates/gpui/src/inspector.rs
- [L1:L10]struct InspectorElementId {
    pub path: std::rc::Rc<InspectorElementPath>,
    pub instance_id: usize,
}
- [L227:L227]mod inspector_reflection {

## crates/gpui/src/interactive.rs
- [L9:L9]trait InputEvent: Sealed + 'static {
- [L15:L15]trait KeyEvent: InputEvent {}
- [L18:L18]trait MouseEvent: InputEvent {}
- [L14:L32]struct KeyDownEvent {
    pub keystroke: Keystroke,
    pub is_held: bool,
    pub prefer_character_input: bool,
}
- [L42:L47]struct KeyUpEvent {
    pub keystroke: Keystroke,
}
- [L57:L64]struct ModifiersChangedEvent {
    pub modifiers: Modifiers,
    pub capslock: Capslock,
}
- [L82:L93]enum TouchPhase {
    Started,
    Moved,
    Ended,
}
- [L95:L112]struct MouseDownEvent {
    pub button: MouseButton,
    pub position: Point<Pixels>,
    pub modifiers: Modifiers,
    pub click_count: usize,
    pub first_mouse: bool,
}
- [L132:L146]struct MouseUpEvent {
    pub button: MouseButton,
    pub position: Point<Pixels>,
    pub modifiers: Modifiers,
    pub click_count: usize,
}
- [L167:L175]struct MouseClickEvent {
    pub down: MouseDownEvent,
    pub up: MouseUpEvent,
}
- [L177:L187]enum PressureStage {
    Zero,
    Normal,
    Force,
}
- [L189:L201]struct MousePressureEvent {
    pub pressure: f32,
    pub stage: PressureStage,
    pub position: Point<Pixels>,
    pub modifiers: Modifiers,
}
- [L211:L219]struct KeyboardClickEvent {
    pub button: KeyboardButton,
    pub bounds: Bounds<Pixels>,
}
- [L221:L228]enum ClickEvent {
    Mouse(MouseClickEvent),
    Keyboard(KeyboardClickEvent),
}
- [L331:L339]enum KeyboardButton {
    Enter,
    Space,
}
- [L341:L356]enum MouseButton {
    Left,
    Right,
    Middle,
    Navigate(NavigationDirection),
}
- [L371:L380]enum NavigationDirection {
    Back,
    Forward,
}
- [L382:L393]struct MouseMoveEvent {
    pub position: Point<Pixels>,
    pub pressed_button: Option<MouseButton>,
    pub modifiers: Modifiers,
}
- [L410:L424]struct ScrollWheelEvent {
    pub position: Point<Pixels>,
    pub delta: ScrollDelta,
    pub modifiers: Modifiers,
    pub touch_phase: TouchPhase,
}
- [L442:L449]enum ScrollDelta {
    Pixels(Point<Pixels>),
    Lines(Point<f32>),
}
- [L517:L526]struct MouseExitEvent {
    pub position: Point<Pixels>,
    pub pressed_button: Option<MouseButton>,
    pub modifiers: Modifiers,
}
- [L545:L547]struct ExternalPaths(pub(crate) SmallVec<[PathBuf; 2]>);
- [L563:L585]enum FileDropEvent {
    Entered {
        position: Point<Pixels>,
        paths: ExternalPaths,
    },
    Pending {
        position: Point<Pixels>,
    },
    Submit {
        position: Point<Pixels>,
    },
    Exited,
}
- [L595:L618]enum PlatformInput {
    KeyDown(KeyDownEvent),
    KeyUp(KeyUpEvent),
    ModifiersChanged(ModifiersChangedEvent),
    MouseDown(MouseDownEvent),
    MouseUp(MouseUpEvent),
    MousePressure(MousePressureEvent),
    MouseMove(MouseMoveEvent),
    MouseExited(MouseExitEvent),
    ScrollWheel(ScrollWheelEvent),
    FileDrop(FileDropEvent),
}

## crates/gpui/src/key_dispatch.rs

## crates/gpui/src/keymap.rs
- [L12:L15]struct KeymapVersion(usize);
- [L17:L21]struct Keymap {
    bindings: Vec<KeyBinding>,
    binding_indices_by_action_id: HashMap<TypeId, SmallVec<[usize; 3]>>,
- [L26:L28]struct BindingIndex(usize);

## crates/gpui/src/keymap/binding.rs
- [L9:L12]struct KeyBinding {
    pub(crate) action: Box<dyn Action>,
    pub(crate) keystrokes: SmallVec<[KeybindingKeystroke; 2]>,
- [L139:L143]struct KeyBindingMetaIndex(pub u32);

## crates/gpui/src/keymap/context.rs
- [L5:L10]struct KeyContext(Vec<ContextEntry>);
- [L13:L19]struct ContextEntry {
    pub key: SharedString,
    pub value: Option<SharedString>,
}
- [L168:L197]enum KeyBindingContextPredicate {
    Identifier(SharedString),
    Equal(SharedString, SharedString),
    NotEqual(SharedString, SharedString),
    Descendant(
        Box<KeyBindingContextPredicate>,
        Box<KeyBindingContextPredicate>,
    ),
    Not(Box<KeyBindingContextPredicate>),
    And(
        Box<KeyBindingContextPredicate>,
        Box<KeyBindingContextPredicate>,
    ),
    Or(
        Box<KeyBindingContextPredicate>,
        Box<KeyBindingContextPredicate>,
    ),
}
- [L447:L449]fn is_identifier_char(c: char) -> bool 
- [L451:L453]fn is_vim_operator_char(c: char) -> bool 
- [L455:L460]fn skip_whitespace(source: &str) -> &str 

## crates/gpui/src/path_builder.rs
- [L16:L22]enum PathStyle {
    Stroke(StrokeOptions),
    Fill(FillOptions),
}
- [L24:L31]struct PathBuilder {
    raw: lyon::path::builder::WithSvg<lyon::path::BuilderImpl>,
    transform: Option<lyon::math::Transform>,
    pub style: PathStyle,
    dash_array: Option<Vec<Pixels>>,
}

## crates/gpui/src/platform.rs
- [L91:L94]fn background_executor() -> BackgroundExecutor 
- [L135:L164]fn guess_compositor() -> &'static str 
- [L288:L288]trait PlatformDisplay: Send + Sync + Debug {
- [L318:L329]struct SourceMetadata {
    pub id: u64,
    pub label: Option<SharedString>,
    pub is_main: Option<bool>,
    pub resolution: Size<DevicePixels>,
}
- [L332:L332]trait ScreenCaptureSource {
- [L346:L346]trait ScreenCaptureStream {
- [L351:L352]struct ScreenCaptureFrame(pub PlatformScreenCaptureFrame);
- [L354:L356]struct DisplayId(pub(crate) u32);
- [L370:L389]enum ResizeEdge {
    Top,
    TopRight,
    Right,
    BottomRight,
    Bottom,
    BottomLeft,
    Left,
    TopLeft,
}
- [L391:L399]enum WindowDecorations {
    Server,
    Client,
}
- [L401:L412]enum Decorations {
    Server,
    Client {
        tiling: Tiling,
    },
}
- [L414:L425]struct WindowControls {
    pub fullscreen: bool,
    pub maximize: bool,
    pub minimize: bool,
    pub window_menu: bool,
}
- [L439:L450]struct Tiling {
    pub top: bool,
    pub left: bool,
    pub right: bool,
    pub bottom: bool,
}
- [L575:L582]struct RunnableMeta {
    pub location: &'static core::panic::Location<'static>,
}
- [L585:L588]enum RunnableVariant {
    Meta(Runnable<RunnableMeta>),
    Compat(Runnable),
}
- [L593:L593]trait PlatformDispatcher: Send + Sync {
- [L841:L844]struct AtlasTextureList<T> {
    textures: Vec<Option<T>>,
    free_list: Vec<usize>,
}
- [L1054:L1064]struct UTF16Selection {
    pub range: Range<usize>,
    pub reversed: bool,
}
- [L1070:L1070]trait InputHandler: 'static {
- [L1167:L1215]struct WindowOptions {
    pub window_bounds: Option<WindowBounds>,
    pub titlebar: Option<TitlebarOptions>,
    pub focus: bool,
    pub show: bool,
    pub kind: WindowKind,
    pub is_movable: bool,
    pub is_resizable: bool,
    pub is_minimizable: bool,
    pub display_id: Option<DisplayId>,
    pub window_background: WindowBackgroundAppearance,
    pub app_id: Option<String>,
    pub window_min_size: Option<Size<Pixels>>,
    pub window_decorations: Option<WindowDecorations>,
    pub tabbing_identifier: Option<String>,
}
- [L1266:L1277]enum WindowBounds {
    Windowed(Bounds<Pixels>),
    Maximized(Bounds<Pixels>),
    Fullscreen(Bounds<Pixels>),
}
- [L1326:L1338]struct TitlebarOptions {
    pub title: Option<SharedString>,
    pub appears_transparent: bool,
    pub traffic_light_position: Option<Point<Pixels>>,
}
- [L1340:L1361]enum WindowKind {
    Normal,
    PopUp,
    Floating,
    LayerShell(layer_shell::LayerShellOptions),
    Dialog,
}
- [L1363:L1389]enum WindowAppearance {
    Light,
    VibrantLight,
    Dark,
    VibrantDark,
}
- [L1391:L1414]enum WindowBackgroundAppearance {
    Opaque,
    Transparent,
    Blurred,
    MicaBackdrop,
    MicaAltBackdrop,
}
- [L1416:L1427]struct PathPromptOptions {
    pub files: bool,
    pub directories: bool,
    pub multiple: bool,
    pub prompt: Option<SharedString>,
}
- [L1429:L1440]enum PromptLevel {
    Info,
    Warning,
    Critical,
}
- [L1442:L1451]enum PromptButton {
    Ok(SharedString),
    Cancel(SharedString),
    Other(SharedString),
}
- [L1494:L1583]enum CursorStyle {
    Arrow,
    IBeam,
    Crosshair,
    ClosedHand,
    OpenHand,
    PointingHand,
    ResizeLeft,
    ResizeRight,
    ResizeLeftRight,
    ResizeUp,
    ResizeDown,
    ResizeUpDown,
    ResizeUpLeftDownRight,
    ResizeUpRightDownLeft,
    ResizeColumn,
    ResizeRow,
    IBeamCursorForVerticalLayout,
    OperationNotAllowed,
    DragLink,
    DragCopy,
    ContextualMenu,
    None,
}
- [L1585:L1589]struct ClipboardItem {
    entries: Vec<ClipboardEntry>,
}
- [L1591:L1600]enum ClipboardEntry {
    String(ClipboardString),
    Image(Image),
    ExternalPaths(crate::ExternalPaths),
}
- [L1725:L1747]enum ImageFormat {
    Png,
    Jpeg,
    Webp,
    Gif,
    Svg,
    Bmp,
    Tiff,
    Ico,
}
- [L1780:L1789]struct Image {
    pub format: ImageFormat,
    pub bytes: Vec<u8>,
    id: u64,
}
- [L1903:L1908]struct ClipboardString {
    pub(crate) text: String,
    pub(crate) metadata: Option<String>,
}

## crates/gpui/src/platform/app_menu.rs
- [L4:L11]struct Menu {
    pub name: SharedString,
    pub items: Vec<MenuItem>,
}
- [L23:L32]struct OsMenu {
    pub name: SharedString,
    pub menu_type: SystemMenuType,
}
- [L44:L49]enum SystemMenuType {
    Services,
}
- [L51:L77]enum MenuItem {
    Separator,
    Submenu(Menu),
    SystemMenu(OsMenu),
    Action {
        name: SharedString,
        action: Box<dyn Action>,
        os_action: Option<OsAction>,
        checked: bool,
    },
}
- [L163:L173]struct OwnedOsMenu {
    pub name: SharedString,
    pub menu_type: SystemMenuType,
}
- [L175:L183]struct OwnedMenu {
    pub name: SharedString,
    pub items: Vec<OwnedMenuItem>,
}
- [L185:L211]enum OwnedMenuItem {
    Separator,
    Submenu(OwnedMenu),
    SystemMenu(OwnedOsMenu),
    Action {
        name: String,
        action: Box<dyn Action>,
        os_action: Option<OsAction>,
        checked: bool,
    },
}
- [L238:L260]enum OsAction {
    Cut,
    Copy,
    Paste,
    SelectAll,
    Undo,
    Redo,
}

## crates/gpui/src/platform/blade.rs

## crates/gpui/src/platform/blade/apple_compat.rs
- [L6:L8]struct Context {
    inner: BladeContext,
}
- [L17:L17]type Renderer = BladeRenderer;
- [L19:L19]unsafe fn new_renderer(

## crates/gpui/src/platform/blade/blade_atlas.rs
- [L15:L19]struct PendingUpload {
    id: AtlasTextureId,
    bounds: Bounds<DevicePixels>,
    data: gpu::BufferPiece,
}
- [L21:L28]struct BladeAtlasState {
    gpu: Arc<gpu::Context>,
    upload_belt: BufferBelt,
    storage: BladeAtlasStorage,
    tiles_by_key: FxHashMap<AtlasKey, AtlasTile>,
    initializations: Vec<AtlasTextureId>,
    uploads: Vec<PendingUpload>,
}
- [L40:L42]struct BladeTextureInfo {
    pub raw_view: gpu::TextureView,
}
- [L264:L267]struct BladeAtlasStorage {
    monochrome_textures: AtlasTextureList<BladeAtlasTexture>,
    polychrome_textures: AtlasTextureList<BladeAtlasTexture>,
}
- [L310:L317]struct BladeAtlasTexture {
    id: AtlasTextureId,
    allocator: BucketedAtlasAllocator,
    raw: gpu::Texture,
    raw_view: gpu::TextureView,
    format: gpu::TextureFormat,
    live_atlas_keys: u32,
}

## crates/gpui/src/platform/blade/blade_context.rs
- [L7:L9]struct BladeContext {
    pub(super) gpu: Arc<gpu::Context>,
}
- [L39:L53]fn parse_pci_id(id: &str) -> anyhow::Result<u32> 

## crates/gpui/src/platform/blade/blade_renderer.rs
- [L21:L22]struct GlobalParams {
    viewport_size: [f32; 2],
- [L31:L32]struct PodBounds {
    origin: [f32; 2],
- [L47:L50]struct SurfaceParams {
    bounds: PodBounds,
    content_mask: PodBounds,
}
- [L53:L56]struct ShaderQuadsData {
    globals: GlobalParams,
    b_quads: gpu::BufferPiece,
}
- [L59:L62]struct ShaderShadowsData {
    globals: GlobalParams,
    b_shadows: gpu::BufferPiece,
}
- [L65:L68]struct ShaderPathRasterizationData {
    globals: GlobalParams,
    b_path_vertices: gpu::BufferPiece,
}
- [L71:L76]struct ShaderPathsData {
    globals: GlobalParams,
    t_sprite: gpu::TextureView,
    s_sprite: gpu::Sampler,
    b_path_sprites: gpu::BufferPiece,
}
- [L79:L82]struct ShaderUnderlinesData {
    globals: GlobalParams,
    b_underlines: gpu::BufferPiece,
}
- [L85:L87]struct ShaderMonoSpritesData {
    globals: GlobalParams,
    gamma_ratios: [f32; 4],
- [L95:L100]struct ShaderPolySpritesData {
    globals: GlobalParams,
    t_sprite: gpu::TextureView,
    s_sprite: gpu::Sampler,
    b_poly_sprites: gpu::BufferPiece,
}
- [L103:L109]struct ShaderSurfacesData {
    globals: GlobalParams,
    surface_locals: SurfaceParams,
    t_y: gpu::TextureView,
    t_cb_cr: gpu::TextureView,
    s_surface: gpu::Sampler,
}
- [L113:L115]struct PathSprite {
    bounds: Bounds<ScaledPixels>,
}
- [L119:L124]struct PathRasterizationVertex {
    xy_position: Point<ScaledPixels>,
    st_position: Point<f32>,
    color: Background,
    bounds: Bounds<ScaledPixels>,
}
- [L126:L135]struct BladePipelines {
    quads: gpu::RenderPipeline,
    shadows: gpu::RenderPipeline,
    path_rasterization: gpu::RenderPipeline,
    paths: gpu::RenderPipeline,
    underlines: gpu::RenderPipeline,
    mono_sprites: gpu::RenderPipeline,
    poly_sprites: gpu::RenderPipeline,
    surfaces: gpu::RenderPipeline,
}
- [L319:L322]struct BladeSurfaceConfig {
    pub size: gpu::Extent,
    pub transparent: bool,
}
- [L328:L345]struct BladeRenderer {
    gpu: Arc<gpu::Context>,
    surface: gpu::Surface,
    surface_config: gpu::SurfaceConfig,
    command_encoder: gpu::CommandEncoder,
    last_sync_point: Option<gpu::SyncPoint>,
    pipelines: BladePipelines,
    instance_belt: BufferBelt,
    atlas: Arc<BladeAtlas>,
    atlas_sampler: gpu::Sampler,
    core_video_texture_cache: CVMetalTextureCache,
    path_intermediate_texture: gpu::Texture,
    path_intermediate_texture_view: gpu::TextureView,
    path_intermediate_msaa_texture: Option<gpu::Texture>,
    path_intermediate_msaa_texture_view: Option<gpu::TextureView>,
    rendering_parameters: RenderingParameters,
}
- [L922:L953]fn create_path_intermediate_texture(
    gpu: &gpu::Context,
    format: gpu::TextureFormat,
    width: u32,
    height: u32,
) -> (gpu::Texture, gpu::TextureView) 
- [L955:L991]fn create_msaa_texture_if_needed(
    gpu: &gpu::Context,
    format: gpu::TextureFormat,
    width: u32,
    height: u32,
    sample_count: u32,
) -> Option<(gpu::Texture, gpu::TextureView)> 
- [L993:L1002]struct RenderingParameters {
    path_sample_count: u32,
    gamma_ratios: [f32; 4],

## crates/gpui/src/platform/keyboard.rs
- [L6:L6]trait PlatformKeyboardLayout {
- [L14:L14]trait PlatformKeyboardMapper {
- [L26:L27]struct DummyKeyboardMapper;

## crates/gpui/src/platform/keystroke.rs
- [L11:L11]trait AsKeystroke {
- [L16:L33]struct Keystroke {
    pub modifiers: Modifiers,
    pub key: String,
    pub key_char: Option<String>,
}
- [L35:L46]struct KeybindingKeystroke {
    inner: Keystroke,
    display_modifiers: Modifiers,
    display_key: String,
}
- [L48:L54]struct InvalidKeystrokeError {
    pub keystroke: String,
}
- [L69:L69]const KEYSTROKE_PARSE_EXPECTED_MESSAGE: &str = "Expected a sequence of modifiers \
- [L377:L429]fn is_printable_key(key: &str) -> bool 
- [L445:L470]struct Modifiers {
    pub control: bool,
    pub alt: bool,
    pub shift: bool,
    pub platform: bool,
    pub function: bool,
}
- [L662:L668]struct Capslock {
    pub on: bool,
}
- [L682:L715]fn display_modifiers(modifiers: &Modifiers, f: &mut std::fmt::Formatter<'_>) -> std::fmt::Result 
- [L717:L746]fn display_key(key: &str, f: &mut std::fmt::Formatter<'_>) -> std::fmt::Result 
- [L749:L775]fn unparse(modifiers: &Modifiers, key: &str) -> String 

## crates/gpui/src/platform/linux.rs

## crates/gpui/src/platform/linux/dispatcher.rs
- [L20:L23]struct TimerAfter {
    duration: Duration,
    runnable: RunnableVariant,
}
- [L249:L252]struct PriorityQueueCalloopSender<T> {
    sender: PriorityQueueSender<T>,
    ping: calloop::ping::Ping,
}
- [L274:L278]struct PriorityQueueCalloopReceiver<T> {
    receiver: PriorityQueueReceiver<T>,
    source: calloop::ping::PingSource,
    ping: calloop::ping::Ping,
}
- [L300:L300]struct ChannelError(calloop::ping::PingError);

## crates/gpui/src/platform/linux/headless.rs

## crates/gpui/src/platform/linux/headless/client.rs
- [L14:L18]struct HeadlessClientState {
    pub(crate) _loop_handle: LoopHandle<'static, HeadlessClient>,
    pub(crate) event_loop: Option<calloop::EventLoop<'static, HeadlessClient>>,
    pub(crate) common: LinuxCommon,
}

## crates/gpui/src/platform/linux/keyboard.rs

## crates/gpui/src/platform/linux/platform.rs
- [L47:L47]trait ResultExt {
- [L90:L90]trait LinuxClient {
- [L796:L847]fn guess_ascii(keycode: Keycode, shift: bool) -> Option<char> 

## crates/gpui/src/platform/linux/text_system.rs
- [L25:L28]struct FontKey {
    family: SharedString,
    features: FontFeatures,
}
- [L36:L44]struct CosmicTextSystemState {
    swash_cache: SwashCache,
    font_system: FontSystem,
    scratch: ShapeBuffer,
    loaded_fonts: Vec<LoadedFont>,
    font_ids_by_family_cache: HashMap<FontKey, SmallVec<[FontId; 4]>>,
- [L47:L51]struct LoadedFont {
    font: Arc<CosmicTextFont>,
    features: CosmicFontFeatures,
    is_known_emoji_font: bool,
}
- [L541:L551]fn font_into_properties(font: &crate::Font) -> font_kit::properties::Properties 
- [L553:L576]fn face_info_into_properties(
    face_info: &cosmic_text::fontdb::FaceInfo,
) -> font_kit::properties::Properties 
- [L578:L581]fn check_is_known_emoji_font(postscript_name: &str) -> bool 

## crates/gpui/src/platform/linux/wayland.rs
- [L9:L9]mod layer_shell;

## crates/gpui/src/platform/linux/wayland/client.rs
- [L109:L129]struct Globals {
    pub qh: QueueHandle<WaylandClientStatePtr>,
    pub activation: Option<xdg_activation_v1::XdgActivationV1>,
    pub compositor: wl_compositor::WlCompositor,
    pub cursor_shape_manager: Option<wp_cursor_shape_manager_v1::WpCursorShapeManagerV1>,
    pub data_device_manager: Option<wl_data_device_manager::WlDataDeviceManager>,
    pub primary_selection_manager:
        Option<zwp_primary_selection_device_manager_v1::ZwpPrimarySelectionDeviceManagerV1>,
    pub wm_base: xdg_wm_base::XdgWmBase,
    pub shm: wl_shm::WlShm,
    pub seat: wl_seat::WlSeat,
    pub viewporter: Option<wp_viewporter::WpViewporter>,
    pub fractional_scale_manager:
        Option<wp_fractional_scale_manager_v1::WpFractionalScaleManagerV1>,
    pub decoration_manager: Option<zxdg_decoration_manager_v1::ZxdgDecorationManagerV1>,
    pub layer_shell: Option<zwlr_layer_shell_v1::ZwlrLayerShellV1>,
    pub blur_manager: Option<org_kde_kwin_blur_manager::OrgKdeKwinBlurManager>,
    pub text_input_manager: Option<zwp_text_input_manager_v3::ZwpTextInputManagerV3>,
    pub dialog: Option<xdg_wm_dialog_v1::XdgWmDialogV1>,
    pub executor: ForegroundExecutor,
}
- [L175:L180]struct InProgressOutput {
    name: Option<String>,
    scale: Option<i32>,
    position: Option<Point<DevicePixels>>,
    size: Option<Size<DevicePixels>>,
}
- [L198:L202]struct Output {
    pub name: Option<String>,
    pub scale: i32,
    pub bounds: Bounds<DevicePixels>,
}
- [L253:L257]struct DragState {
    data_offer: Option<wl_data_offer::WlDataOffer>,
    window: Option<WaylandWindowStatePtr>,
    position: Point<Pixels>,
}
- [L259:L264]struct ClickState {
    last_mouse_button: Option<MouseButton>,
    last_click: Instant,
    last_location: Point<Pixels>,
    current_count: usize,
}
- [L282:L285]struct WaylandClientStatePtr(Weak<RefCell<WaylandClientState>>);
- [L402:L402]struct WaylandClient(Rc<RefCell<WaylandClientState>>);
- [L426:L439]fn wl_seat_version(version: u32) -> u32 
- [L441:L453]fn wl_output_version(version: u32) -> u32 
- [L1567:L1585]fn linux_button_to_gpui(button: u32) -> Option<MouseButton> 

## crates/gpui/src/platform/linux/wayland/clipboard.rs

## crates/gpui/src/platform/linux/wayland/cursor.rs

## crates/gpui/src/platform/linux/wayland/display.rs

## crates/gpui/src/platform/linux/wayland/layer_shell.rs
- [L7:L23]enum Layer {
    Background,
    Bottom,
    Top,
    Overlay,
}
- [L59:L73]enum KeyboardInteractivity {
    None,
    Exclusive,
    OnDemand,
}
- [L85:L105]struct LayerShellOptions {
    pub namespace: String,
    pub layer: Layer,
    pub anchor: Anchor,
    pub exclusive_zone: Option<Pixels>,
    pub exclusive_edge: Option<Anchor>,
    pub margin: Option<(Pixels, Pixels, Pixels, Pixels)>,
    pub keyboard_interactivity: KeyboardInteractivity,
}
- [L107:L111]struct LayerShellNotSupportedError;

## crates/gpui/src/platform/linux/wayland/serial.rs
- [L13:L15]struct SerialData {
    serial: u32,
}

## crates/gpui/src/platform/linux/wayland/window.rs
- [L58:L61]struct RawWindow {
    window: *mut c_void,
    display: *mut c_void,
}
- [L79:L85]struct InProgressConfigure {
    size: Option<Size<Pixels>>,
    fullscreen: bool,
    maximized: bool,
    resizing: bool,
    tiling: Tiling,
}
- [L87:L119]struct WaylandWindowState {
    surface_state: WaylandSurfaceState,
    acknowledged_first_configure: bool,
    parent: Option<WaylandWindowStatePtr>,
    children: FxHashSet<ObjectId>,
    pub surface: wl_surface::WlSurface,
    app_id: Option<String>,
    appearance: WindowAppearance,
    blur: Option<org_kde_kwin_blur::OrgKdeKwinBlur>,
    viewport: Option<wp_viewport::WpViewport>,
    outputs: HashMap<ObjectId, Output>,
    display: Option<(ObjectId, Output)>,
    globals: Globals,
    renderer: BladeRenderer,
    bounds: Bounds<Pixels>,
    scale: f32,
    input_handler: Option<PlatformInputHandler>,
    decorations: WindowDecorations,
    background_appearance: WindowBackgroundAppearance,
    fullscreen: bool,
    maximized: bool,
    tiling: Tiling,
    window_bounds: Bounds<Pixels>,
    client: WaylandClientStatePtr,
    handle: AnyWindowHandle,
    active: bool,
    hovered: bool,
    in_progress_configure: Option<InProgressConfigure>,
    resize_throttle: bool,
    in_progress_window_controls: Option<WindowControls>,
    window_controls: WindowControls,
    client_inset: Option<Pixels>,
}
- [L121:L124]enum WaylandSurfaceState {
    Xdg(WaylandXdgSurfaceState),
    LayerShell(WaylandLayerSurfaceState),
}
- [L226:L231]struct WaylandXdgSurfaceState {
    xdg_surface: xdg_surface::XdgSurface,
    toplevel: xdg_toplevel::XdgToplevel,
    decoration: Option<zxdg_toplevel_decoration_v1::ZxdgToplevelDecorationV1>,
    dialog: Option<XdgDialogV1>,
}
- [L233:L235]struct WaylandLayerSurfaceState {
    layer_surface: zwlr_layer_surface_v1::ZwlrLayerSurfaceV1,
}
- [L303:L306]struct WaylandWindowStatePtr {
    state: Rc<RefCell<WaylandWindowState>>,
    callbacks: Rc<RefCell<Callbacks>>,
}
- [L414:L419]enum ImeInput {
    InsertText(String),
    SetMarkedText(String),
    UnmarkText,
    DeleteText,
}
- [L1016:L1025]fn extract_states<'a, S: TryFrom<u32> + 'a>(states: &'a [u8]) -> impl Iterator<Item = S> + 'a
where
    <S as TryFrom<u32>>::Error: 'a,
- [L1393:L1441]fn update_window(mut state: RefMut<WaylandWindowState>) 
- [L1467:L1491]fn compute_outer_size(
    inset: Pixels,
    new_size: Option<Size<Pixels>>,
    tiling: Tiling,
) -> Option<Size<Pixels>> 
- [L1493:L1510]fn inset_by_tiling(mut bounds: Bounds<Pixels>, inset: Pixels, tiling: Tiling) -> Bounds<Pixels> 

## crates/gpui/src/platform/linux/x11.rs

## crates/gpui/src/platform/linux/x11/client.rs
- [L103:L111]enum RefreshState {
    Hidden {
        refresh_rate: Duration,
    },
    PeriodicRefresh {
        refresh_rate: Duration,
        event_loop_token: RegistrationToken,
    },
}
- [L115:L118]enum EventHandlerError {
    XCBConnectionError(ConnectionError),
    XIMClientError(xim::ClientError),
}
- [L144:L149]struct Xdnd {
    other_window: xproto::Window,
    drag_type: u32,
    retrieved: bool,
    position: Point<Pixels>,
}
- [L152:L155]struct PointerDeviceState {
    horizontal: ScrollAxisState,
    vertical: ScrollAxisState,
}
- [L158:L169]struct ScrollAxisState {
    valuator_number: Option<u16>,
    multiplier: f32,
    scroll_value: Option<f32>,
}
- [L171:L219]struct X11ClientState {
    pub(crate) loop_handle: LoopHandle<'static, X11Client>,
    pub(crate) event_loop: Option<calloop::EventLoop<'static, X11Client>>,
    pub(crate) last_click: Instant,
    pub(crate) last_mouse_button: Option<MouseButton>,
    pub(crate) last_location: Point<Pixels>,
    pub(crate) current_count: usize,
    gpu_context: BladeContext,
    pub(crate) scale_factor: f32,
    xkb_context: xkbc::Context,
    pub(crate) xcb_connection: Rc<XCBConnection>,
    xkb_device_id: i32,
    client_side_decorations_supported: bool,
    pub(crate) x_root_index: usize,
    pub(crate) _resource_database: Database,
    pub(crate) atoms: XcbAtoms,
    pub(crate) windows: HashMap<xproto::Window, WindowRef>,
    pub(crate) mouse_focused_window: Option<xproto::Window>,
    pub(crate) keyboard_focused_window: Option<xproto::Window>,
    pub(crate) xkb: xkbc::State,
    keyboard_layout: LinuxKeyboardLayout,
    pub(crate) ximc: Option<X11rbClient<Rc<XCBConnection>>>,
    pub(crate) xim_handler: Option<XimHandler>,
    pub modifiers: Modifiers,
    pub capslock: Capslock,
    pub last_modifiers_changed_event: Modifiers,
    pub last_capslock_changed_event: Capslock,
    pub(crate) compose_state: Option<xkbc::compose::State>,
    pub(crate) pre_edit_text: Option<String>,
    pub(crate) composing: bool,
    pub(crate) pre_key_char_down: Option<Keystroke>,
    pub(crate) cursor_handle: cursor::Handle,
    pub(crate) cursor_styles: HashMap<xproto::Window, CursorStyle>,
    pub(crate) cursor_cache: HashMap<CursorStyle, Option<xproto::Cursor>>,
    pointer_device_states: BTreeMap<xinput::DeviceId, PointerDeviceState>,
    pub(crate) common: LinuxCommon,
    pub(crate) clipboard: Clipboard,
    pub(crate) clipboard_item: Option<ClipboardItem>,
    pub(crate) xdnd_state: Xdnd,
}
- [L222:L222]struct X11ClientStatePtr(pub Weak<RefCell<X11ClientState>>);
- [L1966:L1975]fn mode_refresh_rate(mode: &randr::ModeInfo) -> Duration 
- [L1977:L1979]fn fp3232_to_f32(value: xinput::Fp3232) -> f32 
- [L1981:L2048]fn check_compositor_present(xcb_connection: &XCBConnection, root: u32) -> bool 
- [L2050:L2077]fn check_gtk_frame_extents_supported(
    xcb_connection: &XCBConnection,
    atoms: &XcbAtoms,
    root: xproto::Window,
) -> bool 
- [L2079:L2086]fn xdnd_is_atom_supported(atom: u32, atoms: &XcbAtoms) -> bool 
- [L2088:L2114]fn xdnd_get_supported_atom(
    xcb_connection: &XCBConnection,
    supported_atoms: &XcbAtoms,
    target: xproto::Window,
) -> u32 
- [L2116:L2136]fn xdnd_send_finished(
    xcb_connection: &XCBConnection,
    atoms: &XcbAtoms,
    source: xproto::Window,
    target: xproto::Window,
) 
- [L2138:L2159]fn xdnd_send_status(
    xcb_connection: &XCBConnection,
    atoms: &XcbAtoms,
    source: xproto::Window,
    target: xproto::Window,
    action: u32,
) 
- [L2161:L2215]fn current_pointer_device_states(
    xcb_connection: &XCBConnection,
    scroll_values_to_preserve: &BTreeMap<xinput::DeviceId, PointerDeviceState>,
) -> Option<BTreeMap<xinput::DeviceId, PointerDeviceState>> 
- [L2217:L2220]fn is_pointer_device(type_: xinput::DeviceType) -> bool 
- [L2222:L2231]fn scroll_data_to_axis_state(
    data: &xinput::DeviceClassDataScroll,
    old_axis_state_with_valid_scroll_value: Option<&ScrollAxisState>,
) -> ScrollAxisState 
- [L2233:L2239]fn reset_all_pointer_device_scroll_positions(
    pointer_device_states: &mut BTreeMap<xinput::DeviceId, PointerDeviceState>,
) 
- [L2241:L2244]fn reset_pointer_device_scroll_positions(pointer: &mut PointerDeviceState) 
- [L2246:L2258]fn get_scroll_delta_and_update_state(
    pointer: &mut PointerDeviceState,
    event: &xinput::MotionEvent,
) -> Option<Point<f32>> 
- [L2260:L2276]fn get_axis_scroll_delta_and_update_state(
    event: &xinput::MotionEvent,
    axis: &mut ScrollAxisState,
) -> Option<f32> 
- [L2278:L2298]fn make_scroll_wheel_event(
    position: Point<Pixels>,
    scroll_delta: Point<f32>,
    modifiers: Modifiers,
) -> crate::ScrollWheelEvent 
- [L2300:L2314]fn create_invisible_cursor(
    connection: &XCBConnection,
) -> anyhow::Result<crate::platform::linux::x11::client::xproto::Cursor> 
- [L2316:L2320]enum DpiMode {
    Randr,
    Scale(f32),
    NotSet,
}
- [L2322:L2395]fn get_scale_factor(
    connection: &XCBConnection,
    resource_database: &Database,
    screen_index: usize,
) -> f32 
- [L2397:L2431]fn get_randr_scale_factor(connection: &XCBConnection, screen_index: usize) -> Option<f32> 
- [L2433:L2532]fn legacy_get_randr_scale_factor(connection: &XCBConnection, root: u32) -> Option<f32> 
- [L2534:L2561]fn get_dpi_factor((width_px, height_px): (u32, u32), (width_mm, height_mm): (u64, u64)) -> f32 
- [L2564:L2566]fn valid_scale_factor(scale_factor: f32) -> bool 
- [L2569:L2582]fn update_xkb_mask_from_event_state(xkb: &mut xkbc::State, event_state: xproto::KeyButMask) 

## crates/gpui/src/platform/linux/x11/clipboard.rs
- [L54:L54]static CLIPBOARD: Mutex<Option<GlobalClipboard>> = parking_lot::const_mutex(None);
- [L107:L111]enum ManagerHandoverState {
    Idle,
    InProgress,
    Finished,
}
- [L113:L118]struct GlobalClipboard {
    inner: Arc<Inner>,
    server_handle: JoinHandle<()>,
}
- [L120:L123]struct XContext {
    conn: RustConnection,
    win_id: u32,
}
- [L125:L139]struct Inner {
    server: XContext,
    atoms: Atoms,
    clipboard: Selection,
    primary: Selection,
    secondary: Selection,
    handover_state: Mutex<ManagerHandoverState>,
    handover_cv: Condvar,
    serve_stopped: AtomicBool,
}
- [L185:L193]struct Selection {
    data: RwLock<Option<Vec<ClipboardData>>>,
    mutex: Mutex<()>,
    data_changed: Condvar,
}
- [L196:L201]struct ClipboardData {
    bytes: Vec<u8>,
    format: Atom,
}
- [L203:L207]enum ReadSelNotifyResult {
    GotData(ClipboardData),
    IncrStarted,
    EventNotRecognized,
}
- [L833:L945]fn serve_requests(context: Arc<Inner>) -> Result<(), Box<dyn std::error::Error>> 
- [L1152:L1156]fn into_unknown<E: std::fmt::Display>(error: E) -> Error 
- [L1158:L1177]enum ClipboardKind {
    Clipboard,
    Primary,
    Secondary,
}
- [L1203:L1229]enum Error {
    ContentNotAvailable,
    ClipboardOccupied,
    ConversionFailure,
    Unknown { description: String },
}

## crates/gpui/src/platform/linux/x11/display.rs

## crates/gpui/src/platform/linux/x11/event.rs
- [L83:L101]fn popcount_upto_bit_index(bit_vec: &Vec<u32>, bit_index: u16) -> u32 
- [L103:L108]fn bit_is_set_in_vec(bit_vec: &Vec<u32>, bit_index: u16) -> bool 
- [L110:L112]fn bit_is_set(bits: u32, bit_index: u16) -> bool 
- [L114:L123]fn keep_bits_upto(bits: u32, bit_index: u16) -> u32 

## crates/gpui/src/platform/linux/x11/window.rs
- [L89:L99]fn query_render_extent(
    xcb: &Rc<XCBConnection>,
    x_window: xproto::Window,
) -> anyhow::Result<gpu::Extent> 
- [L117:L133]struct EdgeConstraints {
    top_tiled: bool,
    top_resizable: bool,
    right_tiled: bool,
    right_resizable: bool,
    bottom_tiled: bool,
    bottom_resizable: bool,
    left_tiled: bool,
    left_resizable: bool,
}
- [L160:L164]struct Visual {
    id: xproto::Visualid,
    colormap: u32,
    depth: u8,
}
- [L166:L172]struct VisualSet {
    inherit: Visual,
    opaque: Option<Visual>,
    transparent: Option<Visual>,
    root: u32,
    black_pixel: u32,
}
- [L174:L230]fn find_visuals(xcb: &XCBConnection, screen_index: usize) -> VisualSet 
- [L232:L237]struct RawWindow {
    connection: *mut c_void,
    screen_id: usize,
    window_id: u32,
    visual_id: u32,
}
- [L240:L250]struct Callbacks {
    request_frame: Option<Box<dyn FnMut(RequestFrameOptions)>>,
    input: Option<Box<dyn FnMut(PlatformInput) -> crate::DispatchEventResult>>,
    active_status_change: Option<Box<dyn FnMut(bool)>>,
    hovered_status_change: Option<Box<dyn FnMut(bool)>>,
    resize: Option<Box<dyn FnMut(Size<Pixels>, f32)>>,
    moved: Option<Box<dyn FnMut()>>,
    should_close: Option<Box<dyn FnMut() -> bool>>,
    close: Option<Box<dyn FnOnce()>>,
    appearance_changed: Option<Box<dyn FnMut()>>,
}
- [L252:L279]struct X11WindowState {
    pub destroyed: bool,
    parent: Option<X11WindowStatePtr>,
    children: FxHashSet<xproto::Window>,
    client: X11ClientStatePtr,
    executor: ForegroundExecutor,
    atoms: XcbAtoms,
    x_root_window: xproto::Window,
    pub(crate) counter_id: sync::Counter,
    pub(crate) last_sync_counter: Option<sync::Int64>,
    bounds: Bounds<Pixels>,
    scale_factor: f32,
    renderer: BladeRenderer,
    display: Rc<dyn PlatformDisplay>,
    input_handler: Option<PlatformInputHandler>,
    appearance: WindowAppearance,
    background_appearance: WindowBackgroundAppearance,
    maximized_vertical: bool,
    maximized_horizontal: bool,
    hidden: bool,
    active: bool,
    hovered: bool,
    fullscreen: bool,
    client_side_decorations_supported: bool,
    decorations: WindowDecorations,
    edge_constraints: Option<EdgeConstraints>,
    pub handle: AnyWindowHandle,
    last_insets: [u32; 4],
- [L792:L796]enum WmHintPropertyState {
    Toggle = 2,
}

## crates/gpui/src/platform/linux/x11/xim_handler.rs
- [L6:L10]enum XimCallbackEvent {
    XimXEvent(x11rb::protocol::Event),
    XimPreeditEvent(xproto::Window, String),
    XimCommitEvent(xproto::Window, String),
}
- [L12:L18]struct XimHandler {
    pub im_id: u16,
    pub ic_id: u16,
    pub connected: bool,
    pub window: xproto::Window,
    pub last_callback_event: Option<XimCallbackEvent>,
}

## crates/gpui/src/platform/linux/xdg_desktop_portal.rs
- [L12:L18]enum Event {
    WindowAppearance(WindowAppearance),
    CursorTheme(String),
    CursorSize(u32),
}
- [L20:L22]struct XDPEventSource {
    channel: Channel<Event>,
}

## crates/gpui/src/platform/mac.rs
- [L16:L16]mod metal_renderer;
- [L89:L92]struct NSRange {
    pub location: NSUInteger,
    pub length: NSUInteger,
}

## crates/gpui/src/platform/mac/dispatcher.rs
- [L149:L163]fn set_high_thread_priority() -> anyhow::Result<()> 
- [L165:L248]fn set_audio_thread_priority() -> anyhow::Result<()> 

## crates/gpui/src/platform/mac/display.rs

## crates/gpui/src/platform/mac/display_link.rs
- [L14:L17]struct DisplayLink {
    display_link: Option<sys::DisplayLink>,
    frame_requests: dispatch_source_t,
}

## crates/gpui/src/platform/mac/events.rs
- [L29:L83]fn key_to_native(key: &str) -> Cow<'_, str> 
- [L480:L486]fn always_use_command_layout() -> bool 
- [L493:L555]fn chars_for_modified_key(code: CGKeyCode, modifiers: u32) -> String 

## crates/gpui/src/platform/mac/keyboard.rs
- [L109:L1497]fn get_key_equivalents(layout_id: &str) -> Option<HashMap<char, char>> 

## crates/gpui/src/platform/mac/metal_atlas.rs
- [L30:L35]struct MetalAtlasState {
    device: AssertSend<Device>,
    monochrome_textures: AtlasTextureList<MetalAtlasTexture>,
    polychrome_textures: AtlasTextureList<MetalAtlasTexture>,
    tiles_by_key: FxHashMap<AtlasKey, AtlasTile>,
}
- [L189:L194]struct MetalAtlasTexture {
    id: AtlasTextureId,
    allocator: BucketedAtlasAllocator,
    metal_texture: AssertSend<metal::Texture>,
    live_atlas_keys: u32,
}
- [L279:L279]struct AssertSend<T>(T);

## crates/gpui/src/platform/mac/metal_renderer.rs
- [L41:L41]type Context = Arc<Mutex<InstanceBufferPool>>;
- [L42:L42]type Renderer = MetalRenderer;
- [L44:L44]unsafe fn new_renderer(
- [L123:L128]struct PathRasterizationVertex {
    pub xy_position: Point<ScaledPixels>,
    pub st_position: Point<f32>,
    pub color: Background,
    pub bounds: Bounds<ScaledPixels>,
}
- [L1171:L1196]fn new_command_encoder<'a>(
    command_buffer: &'a metal::CommandBufferRef,
    drawable: &'a metal::MetalDrawableRef,
    viewport_size: Size<DevicePixels>,
    configure_color_attachment: impl Fn(&RenderPassColorAttachmentDescriptorRef),
) -> &'a metal::RenderCommandEncoderRef 
- [L1198:L1230]fn build_pipeline_state(
    device: &metal::DeviceRef,
    library: &metal::LibraryRef,
    label: &str,
    vertex_fn_name: &str,
    fragment_fn_name: &str,
    pixel_format: metal::MTLPixelFormat,
) -> metal::RenderPipelineState 
- [L1232:L1264]fn build_path_sprite_pipeline_state(
    device: &metal::DeviceRef,
    library: &metal::LibraryRef,
    label: &str,
    vertex_fn_name: &str,
    fragment_fn_name: &str,
    pixel_format: metal::MTLPixelFormat,
) -> metal::RenderPipelineState 
- [L1266:L1303]fn build_path_rasterization_pipeline_state(
    device: &metal::DeviceRef,
    library: &metal::LibraryRef,
    label: &str,
    vertex_fn_name: &str,
    fragment_fn_name: &str,
    pixel_format: metal::MTLPixelFormat,
    path_sample_count: u32,
) -> metal::RenderPipelineState 
- [L1306:L1308]fn align_offset(offset: &mut usize) 
- [L1311:L1315]enum ShadowInputIndex {
    Vertices = 0,
    Shadows = 1,
    ViewportSize = 2,
}
- [L1318:L1322]enum QuadInputIndex {
    Vertices = 0,
    Quads = 1,
    ViewportSize = 2,
}
- [L1325:L1329]enum UnderlineInputIndex {
    Vertices = 0,
    Underlines = 1,
    ViewportSize = 2,
}
- [L1332:L1338]enum SpriteInputIndex {
    Vertices = 0,
    Sprites = 1,
    ViewportSize = 2,
    AtlasTextureSize = 3,
    AtlasTexture = 4,
}
- [L1341:L1348]enum SurfaceInputIndex {
    Vertices = 0,
    Surfaces = 1,
    ViewportSize = 2,
    TextureSize = 3,
    YTexture = 4,
    CbCrTexture = 5,
}
- [L1351:L1354]enum PathRasterizationInputIndex {
    Vertices = 0,
    ViewportSize = 1,
}
- [L1358:L1360]struct PathSprite {
    pub bounds: Bounds<ScaledPixels>,
}
- [L1364:L1367]struct SurfaceBounds {
    pub bounds: Bounds<ScaledPixels>,
    pub content_mask: ContentMask<ScaledPixels>,
}

## crates/gpui/src/platform/mac/open_type.rs
- [L30:L74]fn apply_features_and_fallbacks(
    font: &mut FontKitFont,
    features: &FontFeatures,
    fallbacks: Option<&FontFallbacks>,
) -> anyhow::Result<()> 
- [L76:L99]fn generate_feature_array(features: &FontFeatures) -> CFMutableArrayRef 
- [L101:L114]fn generate_fallback_array(fallbacks: &FontFallbacks, font_ref: CTFontRef) -> CFMutableArrayRef 
- [L116:L135]fn append_system_fallbacks(fallback_array: CFMutableArrayRef, font_ref: CTFontRef) 

## crates/gpui/src/platform/mac/pasteboard.rs
- [L17:L21]struct Pasteboard {
    inner: id,
    text_hash_type: id,
    metadata_type: id,
}
- [L251:L251]struct UTType(id);

## crates/gpui/src/platform/mac/platform.rs
- [L64:L64]static mut APP_CLASS: *const Class = ptr::null();
- [L65:L65]static mut APP_DELEGATE_CLASS: *const Class = ptr::null();

## crates/gpui/src/platform/mac/screen_capture.rs
- [L35:L38]struct MacScreenCaptureSource {
    sc_display: id,
    meta: Option<ScreenMeta>,
}
- [L40:L44]struct MacScreenCaptureStream {
    sc_stream: id,
    sc_stream_output: id,
    meta: SourceMetadata,
}
- [L46:L46]static mut DELEGATE_CLASS: *const Class = ptr::null();
- [L47:L47]static mut OUTPUT_CLASS: *const Class = ptr::null();
- [L199:L203]struct ScreenMeta {
    label: SharedString,
    is_main: bool,
}

## crates/gpui/src/platform/mac/status_item.rs
- [L38:L38]static mut VIEW_CLASS: *const Class = ptr::null();
- [L108:L108]struct StatusItem(Rc<RefCell<StatusItemState>>);
- [L110:L117]struct StatusItemState {
    native_item: StrongPtr,
    native_view: StrongPtr,
    renderer: Renderer,
    scene: Option<Scene>,
    event_callback: Option<Box<dyn FnMut(Event) -> bool>>,
    appearance_changed_callback: Option<Box<dyn FnMut()>>,
}

## crates/gpui/src/platform/mac/text_system.rs
- [L59:L63]struct FontKey {
    font_family: SharedString,
    font_features: FontFeatures,
    font_fallbacks: Option<FontFallbacks>,
}
- [L65:L71]struct MacTextSystemState {
    memory_source: MemSource,
    system_source: SystemSource,
    fonts: Vec<FontKitFont>,
    font_selections: HashMap<Font, FontId>,
    font_ids_by_postscript_name: HashMap<String, FontId>,
    font_ids_by_font_key: HashMap<FontKey, SmallVec<[FontId; 4]>>,
- [L552:L558]struct StringIndexConverter<'a> {
    text: &'a str,
    utf8_ix: usize,
    utf16_ix: usize,
}

## crates/gpui/src/platform/mac/window.rs
- [L57:L57]static mut WINDOW_CLASS: *const Class = ptr::null();
- [L58:L58]static mut PANEL_CLASS: *const Class = ptr::null();
- [L59:L59]static mut VIEW_CLASS: *const Class = ptr::null();
- [L60:L60]static mut BLURRED_VIEW_CLASS: *const Class = ptr::null();
- [L91:L95]enum UserTabbingPreference {
    Never,
    Always,
    InFullScreen,
}
- [L395:L431]struct MacWindowState {
    handle: AnyWindowHandle,
    executor: ForegroundExecutor,
    native_window: id,
    native_view: NonNull<Object>,
    blurred_view: Option<id>,
    display_link: Option<DisplayLink>,
    renderer: renderer::Renderer,
    request_frame_callback: Option<Box<dyn FnMut(RequestFrameOptions)>>,
    event_callback: Option<Box<dyn FnMut(PlatformInput) -> crate::DispatchEventResult>>,
    activate_callback: Option<Box<dyn FnMut(bool)>>,
    resize_callback: Option<Box<dyn FnMut(Size<Pixels>, f32)>>,
    moved_callback: Option<Box<dyn FnMut()>>,
    should_close_callback: Option<Box<dyn FnMut() -> bool>>,
    close_callback: Option<Box<dyn FnOnce()>>,
    appearance_changed_callback: Option<Box<dyn FnMut()>>,
    input_handler: Option<PlatformInputHandler>,
    last_key_equivalent: Option<KeyDownEvent>,
    synthetic_drag_counter: usize,
    traffic_light_position: Option<Point<Pixels>>,
    transparent_titlebar: bool,
    previous_modifiers_changed_event: Option<PlatformInput>,
    keystroke_for_do_command: Option<Keystroke>,
    do_command_handled: Option<bool>,
    external_files_dragged: bool,
    first_mouse: bool,
    fullscreen_restore_bounds: Bounds<Pixels>,
    move_tab_to_new_window_callback: Option<Box<dyn FnMut()>>,
    merge_all_windows_callback: Option<Box<dyn FnMut()>>,
    select_next_tab_callback: Option<Box<dyn FnMut()>>,
    select_previous_tab_callback: Option<Box<dyn FnMut()>>,
    toggle_tab_bar_callback: Option<Box<dyn FnMut()>>,
    activated_least_once: bool,
    sheet_parent: Option<id>,
}
- [L1625:L1641]fn get_scale_factor(native_window: id) -> f32 
- [L2026:L2047]fn update_window_scale_factor(window_state: &Arc<Mutex<MacWindowState>>) 
- [L2281:L2293]fn get_frame(this: &Object) -> NSRect 
- [L2419:L2425]fn screen_point_to_gpui_point(this: &Object, position: NSPoint) -> Point<Pixels> 
- [L2473:L2488]fn external_paths_from_event(dragging_info: *mut Object) -> Option<ExternalPaths> 
- [L2520:L2529]fn send_new_event(window_state_lock: &Mutex<MacWindowState>, e: PlatformInput) -> bool 
- [L2531:L2534]fn drag_event_position(window_state: &Mutex<MacWindowState>, dragging_info: id) -> Point<Pixels> 
- [L2536:L2550]fn with_input_handler<F, R>(window: &Object, f: F) -> Option<R>
where
    F: FnOnce(&mut PlatformInputHandler) -> R,

## crates/gpui/src/platform/mac/window_appearance.rs

## crates/gpui/src/platform/scap_screen_capture.rs
- [L40:L43]struct ScapCaptureSource {
    target: scap::Display,
    size: Size<DevicePixels>,
}
- [L45:L74]fn get_screen_targets(sources_tx: oneshot::Sender<Result<Vec<ScapCaptureSource>>>) 
- [L111:L121]struct ScapDefaultTargetCaptureSource {
    stream_call_tx: std::sync::mpsc::SyncSender<(
        oneshot::Sender<Result<ScapStream>>,
        Box<dyn Fn(ScreenCaptureFrame) + Send>,
    )>,
    target: scap::Display,
    size: Size<DevicePixels>,
}
- [L123:L168]fn start_default_target_screen_capture(
    sources_tx: oneshot::Sender<Result<Vec<ScapDefaultTargetCaptureSource>>>,
) 
- [L201:L213]fn new_scap_capturer(target: Option<scap::Target>) -> Result<scap::capturer::Capturer> 
- [L215:L244]fn run_capture(
    mut capturer: scap::capturer::Capturer,
    display: scap::Display,
    frame_callback: Box<dyn Fn(ScreenCaptureFrame) + Send>,
    stream_tx: oneshot::Sender<Result<ScapStream>>,
) 
- [L246:L250]struct ScapStream {
    cancel_stream: Arc<AtomicBool>,
    display: scap::Display,
    size: Size<DevicePixels>,
}
- [L269:L280]fn frame_size(frame: &scap::frame::Frame) -> Size<DevicePixels> 
- [L282:L305]fn to_dyn_screen_capture_sources<T: ScreenCaptureSource + 'static>(
    sources_rx: oneshot::Receiver<Result<Vec<T>>>,
    foreground_executor: &ForegroundExecutor,
) -> oneshot::Receiver<Result<Vec<Rc<dyn ScreenCaptureSource>>>> 
- [L307:L325]fn to_dyn_screen_capture_stream<T: ScreenCaptureStream + 'static>(
    sources_rx: oneshot::Receiver<Result<T>>,
    foreground_executor: &ForegroundExecutor,
) -> oneshot::Receiver<Result<Box<dyn ScreenCaptureStream>>> 

## crates/gpui/src/platform/test.rs

## crates/gpui/src/platform/test/dispatcher.rs
- [L18:L18]struct TestDispatcherId(usize);
- [L21:L24]struct TestDispatcher {
    id: TestDispatcherId,
    state: Arc<Mutex<TestDispatcherState>>,
}
- [L26:L42]struct TestDispatcherState {
    random: StdRng,
    foreground: HashMap<TestDispatcherId, VecDeque<RunnableVariant>>,
    background: Vec<RunnableVariant>,
    deprioritized_background: Vec<RunnableVariant>,
    delayed: Vec<(Duration, RunnableVariant)>,
    start_time: Instant,
    time: Duration,
    is_main_thread: bool,
    next_id: TestDispatcherId,
    allow_parking: bool,
    waiting_hint: Option<String>,
    waiting_backtrace: Option<Backtrace>,
    deprioritized_task_labels: HashSet<TaskLabel>,
    block_on_ticks: RangeInclusive<usize>,
    unparkers: Vec<Unparker>,
}

## crates/gpui/src/platform/test/display.rs

## crates/gpui/src/platform/test/platform.rs
- [L48:L49]struct TestScreenCaptureSource {}
- [L51:L52]struct TestScreenCaptureStream {}
- [L83:L88]struct TestPrompt {
    msg: String,
    detail: Option<String>,
    answers: Vec<String>,
    tx: oneshot::Sender<usize>,
}
- [L471:L471]struct TestKeyboardLayout;

## crates/gpui/src/platform/test/window.rs

## crates/gpui/src/platform/windows.rs

## crates/gpui/src/platform/windows/clipboard.rs
- [L29:L29]static CLIPBOARD_HASH_FORMAT: LazyLock<u32> =
- [L31:L31]static CLIPBOARD_METADATA_FORMAT: LazyLock<u32> =
- [L33:L33]static CLIPBOARD_SVG_FORMAT: LazyLock<u32> =
- [L35:L35]static CLIPBOARD_GIF_FORMAT: LazyLock<u32> =
- [L37:L37]static CLIPBOARD_PNG_FORMAT: LazyLock<u32> =
- [L39:L39]static CLIPBOARD_JPG_FORMAT: LazyLock<u32> =
- [L43:L43]static FORMATS_MAP: LazyLock<FxHashMap<u32, ClipboardFormatType>> = LazyLock::new(|| {
- [L53:L53]static IMAGE_FORMATS_MAP: LazyLock<FxHashMap<u32, ImageFormat>> = LazyLock::new(|| {
- [L63:L67]enum ClipboardFormatType {
    Text,
    Image,
    Files,
}
- [L106:L123]fn with_clipboard<F, T>(f: F) -> Option<T>
where
    F: FnOnce() -> T,
- [L125:L139]fn register_clipboard_format(format: PCWSTR) -> u32 
- [L142:L144]fn format_to_type(item_format: u32) -> &'static ClipboardFormatType 
- [L147:L166]fn write_to_clipboard_inner(item: ClipboardItem) -> Result<()> 
- [L168:L185]fn write_string_to_clipboard(item: &ClipboardString) -> Result<()> 
- [L187:L196]fn set_data_to_clipboard<T>(data: &[T], format: u32) -> Result<()> 
- [L200:L228]fn write_image_to_clipboard(item: &Image) -> Result<()> 
- [L230:L238]fn convert_image_to_png_format(bytes: &[u8], image_format: ImageFormat) -> Result<Vec<u8>> 
- [L246:L293]fn with_best_match_format<F>(f: F) -> Option<ClipboardItem>
where
    F: Fn(u32) -> Option<ClipboardEntry>,
- [L295:L314]fn read_string_from_clipboard() -> Option<ClipboardEntry> 
- [L316:L331]fn read_hash_from_clipboard() -> Option<u64> 
- [L333:L339]fn read_metadata_from_clipboard() -> Option<String> 
- [L341:L344]fn read_image_from_clipboard(format: u32) -> Option<ClipboardEntry> 
- [L347:L349]fn format_number_to_image_format(format_number: u32) -> Option<&'static ImageFormat> 
- [L351:L358]fn read_image_for_type(format_number: u32, format: ImageFormat) -> Option<ClipboardEntry> 
- [L360:L372]fn read_files_from_clipboard() -> Option<ClipboardEntry> 
- [L374:L384]fn with_clipboard_data<F, R>(format: u32, f: F) -> Option<R>
where
    F: FnOnce(*mut std::ffi::c_void, usize) -> R,

## crates/gpui/src/platform/windows/destination_list.rs
- [L81:L111]fn create_destination_list() -> anyhow::Result<(ICustomDestinationList, Vec<SmallVec<[PathBuf; 2]>>)>
- [L113:L127]fn add_dock_menu(list: &ICustomDestinationList, dock_menus: &[DockMenuItem]) -> anyhow::Result<()> 
- [L129:L179]fn add_recent_folders(
    list: &ICustomDestinationList,
    entries: &[SmallVec<[PathBuf; 2]>],
    removed: &Vec<SmallVec<[PathBuf; 2]>>,
) -> anyhow::Result<()> 
- [L181:L203]fn create_shell_link(
    argument: HSTRING,
    description: HSTRING,
    icon: Option<HSTRING>,
    display: &str,
) -> anyhow::Result<IShellLinkW> 

## crates/gpui/src/platform/windows/direct_write.rs
- [L26:L32]struct FontInfo {
    font_family: String,
    font_face: IDWriteFontFace3,
    features: IDWriteTypography,
    fallbacks: Option<IDWriteFontFallback>,
    is_system_font: bool,
}
- [L36:L44]struct DirectWriteComponent {
    locale: String,
    factory: IDWriteFactory5,
    in_memory_loader: IDWriteInMemoryFontFileLoader,
    builder: IDWriteFontSetBuilder1,
    text_renderer: Arc<TextRendererWrapper>,
    gpu_state: GPUState,
}
- [L46:L49]struct GPUState {
    device: ID3D11Device,
    device_context: ID3D11DeviceContext,
    sampler: [Option<ID3D11SamplerState>; 1],
- [L55:L63]struct DirectWriteState {
    components: DirectWriteComponent,
    system_ui_font_name: SharedString,
    system_font_collection: IDWriteFontCollection1,
    custom_font_collection: IDWriteFontCollection1,
    fonts: Vec<FontInfo>,
    font_selections: HashMap<Font, FontId>,
    font_id_by_identifier: HashMap<FontIdentifier, FontId>,
}
- [L66:L70]struct FontIdentifier {
    postscript_name: String,
    weight: i32,
    style: i32,
}
- [L1246:L1252]struct GlyphLayerTexture {
    run_color: Rgba,
    bounds: Bounds<i32>,
    texture_view: ID3D11ShaderResourceView,
    _texture: ID3D11Texture2D,
}
- [L1319:L1322]struct GlyphLayerTextureParams {
    bounds: Bounds<i32>,
    run_color: Rgba,
    gamma_ratios: [f32; 4],
- [L1327:L1327]struct TextRendererWrapper(pub IDWriteTextRenderer);
- [L1337:L1339]struct TextRenderer {
    locale: String,
}
- [L1349:L1354]struct RendererContext<'t, 'a, 'b> {
    text_system: &'t mut DirectWriteState,
    index_converter: StringIndexConverter<'a>,
    runs: &'b mut Vec<ShapedRun>,
    width: f32,
}
- [L1357:L1362]struct ClusterAnalyzer<'t> {
    utf16_idx: usize,
    glyph_idx: usize,
    glyph_count: usize,
    cluster_map: &'t [u16],
}
- [L1576:L1580]struct StringIndexConverter<'a> {
    text: &'a str,
    utf8_ix: usize,
    utf16_ix: usize,
}
- [L1648:L1670]fn get_font_names_from_collection(
    collection: &IDWriteFontCollection1,
    locale: &str,
) -> Vec<String> 
- [L1672:L1695]fn get_font_identifier_and_font_struct(
    font_face: &IDWriteFontFace3,
    locale: &str,
) -> Option<(FontIdentifier, Font, bool)> 
- [L1698:L1708]fn get_font_identifier(font_face: &IDWriteFontFace3, locale: &str) -> Option<FontIdentifier> 
- [L1711:L1726]fn get_postscript_name(font_face: &IDWriteFontFace3, locale: &str) -> Result<String> 
- [L1729:L1769]fn apply_font_features(
    direct_write_features: &IDWriteTypography,
    features: &FontFeatures,
) -> Result<()> 
- [L1793:L1821]fn get_name(string: IDWriteLocalizedStrings, locale: &str) -> Result<String> 
- [L1823:L1845]fn get_system_ui_font_name() -> SharedString 
- [L1849:L1883]fn is_color_glyph(
    font_face: &IDWriteFontFace3,
    glyph_id: GlyphId,
    factory: &IDWriteFactory5,
) -> bool 

## crates/gpui/src/platform/windows/directx_atlas.rs
- [L19:L25]struct DirectXAtlasState {
    device: ID3D11Device,
    device_context: ID3D11DeviceContext,
    monochrome_textures: AtlasTextureList<DirectXAtlasTexture>,
    polychrome_textures: AtlasTextureList<DirectXAtlasTexture>,
    tiles_by_key: FxHashMap<AtlasKey, AtlasTile>,
}
- [L27:L32]struct DirectXAtlasTexture {
    id: AtlasTextureId,
    bytes_per_pixel: u32,
    allocator: BucketedAtlasAllocator,
    texture: ID3D11Texture2D,
    view: [Option<ID3D11ShaderResourceView>; 1],

## crates/gpui/src/platform/windows/directx_devices.rs
- [L88:L101]fn check_debug_layer_available() -> bool 
- [L104:L115]fn get_dxgi_factory(debug_layer_available: bool) -> Result<IDXGIFactory6> 
- [L118:L138]fn get_adapter(dxgi_factory: &IDXGIFactory6, debug_layer_available: bool) -> Result<IDXGIAdapter1> 
- [L141:L192]fn get_device(
    adapter: &IDXGIAdapter1,
    context: Option<*mut Option<ID3D11DeviceContext>>,
    feature_level: Option<*mut D3D_FEATURE_LEVEL>,
    debug_layer_available: bool,
) -> Result<ID3D11Device> 

## crates/gpui/src/platform/windows/directx_renderer.rs
- [L69:L83]struct DirectXResources {
    swap_chain: IDXGISwapChain1,
    render_target: Option<ID3D11Texture2D>,
    render_target_view: Option<ID3D11RenderTargetView>,
    path_intermediate_texture: ID3D11Texture2D,
    path_intermediate_srv: Option<ID3D11ShaderResourceView>,
    path_intermediate_msaa_texture: ID3D11Texture2D,
    path_intermediate_msaa_view: Option<ID3D11RenderTargetView>,
    viewport: D3D11_VIEWPORT,
}
- [L85:L93]struct DirectXRenderPipelines {
    shadow_pipeline: PipelineState<Shadow>,
    quad_pipeline: PipelineState<Quad>,
    path_rasterization_pipeline: PipelineState<PathRasterizationSprite>,
    path_sprite_pipeline: PipelineState<PathSprite>,
    underline_pipeline: PipelineState<Underline>,
    mono_sprites: PipelineState<MonochromeSprite>,
    poly_sprites: PipelineState<PolychromeSprite>,
}
- [L95:L98]struct DirectXGlobalElements {
    global_params_buffer: Option<ID3D11Buffer>,
    sampler: Option<ID3D11SamplerState>,
}
- [L100:L104]struct DirectComposition {
    comp_device: IDCompositionDevice,
    comp_target: IDCompositionTarget,
    comp_visual: IDCompositionVisual,
}
- [L877:L878]struct GlobalParams {
    gamma_ratios: [f32; 4],
- [L884:L893]struct PipelineState<T> {
    label: &'static str,
    vertex: ID3D11VertexShader,
    fragment: ID3D11PixelShader,
    buffer: ID3D11Buffer,
    buffer_size: usize,
    view: Option<ID3D11ShaderResourceView>,
    blend_state: ID3D11BlendState,
    _marker: std::marker::PhantomData<T>,
}
- [L1006:L1011]struct PathRasterizationSprite {
    xy_position: Point<ScaledPixels>,
    st_position: Point<f32>,
    color: Background,
    bounds: Bounds<ScaledPixels>,
}
- [L1015:L1017]struct PathSprite {
    bounds: Bounds<ScaledPixels>,
}
- [L1029:L1031]fn get_comp_device(dxgi_device: &IDXGIDevice) -> Result<IDCompositionDevice> 
- [L1033:L1057]fn create_swap_chain_for_composition(
    dxgi_factory: &IDXGIFactory6,
    device: &ID3D11Device,
    width: u32,
    height: u32,
) -> Result<IDXGISwapChain1> 
- [L1059:L1088]fn create_swap_chain(
    dxgi_factory: &IDXGIFactory6,
    device: &ID3D11Device,
    hwnd: HWND,
    width: u32,
    height: u32,
) -> Result<IDXGISwapChain1> 
- [L1091:L1121]fn create_resources(
    devices: &DirectXRendererDevices,
    swap_chain: &IDXGISwapChain1,
    width: u32,
    height: u32,
) -> Result<(
    ID3D11Texture2D,
    Option<ID3D11RenderTargetView>,
    ID3D11Texture2D,
    Option<ID3D11ShaderResourceView>,
    ID3D11Texture2D,
    Option<ID3D11RenderTargetView>,
    D3D11_VIEWPORT,
)> 
- [L1124:L1132]fn create_render_target_and_its_view(
    swap_chain: &IDXGISwapChain1,
    device: &ID3D11Device,
) -> Result<(ID3D11Texture2D, Option<ID3D11RenderTargetView>)> 
- [L1135:L1165]fn create_path_intermediate_texture(
    device: &ID3D11Device,
    width: u32,
    height: u32,
) -> Result<(ID3D11Texture2D, Option<ID3D11ShaderResourceView>)> 
- [L1168:L1196]fn create_path_intermediate_msaa_texture_and_view(
    device: &ID3D11Device,
    width: u32,
    height: u32,
) -> Result<(ID3D11Texture2D, Option<ID3D11RenderTargetView>)> 
- [L1199:L1210]fn set_viewport(device_context: &ID3D11DeviceContext, width: f32, height: f32) -> D3D11_VIEWPORT 
- [L1213:L1233]fn set_rasterizer_state(device: &ID3D11Device, device_context: &ID3D11DeviceContext) -> Result<()> 
- [L1237:L1254]fn create_blend_state(device: &ID3D11Device) -> Result<ID3D11BlendState> 
- [L1257:L1274]fn create_blend_state_for_path_rasterization(device: &ID3D11Device) -> Result<ID3D11BlendState> 
- [L1277:L1294]fn create_blend_state_for_path_sprite(device: &ID3D11Device) -> Result<ID3D11BlendState> 
- [L1297:L1303]fn create_vertex_shader(device: &ID3D11Device, bytes: &[u8]) -> Result<ID3D11VertexShader> 
- [L1306:L1312]fn create_fragment_shader(device: &ID3D11Device, bytes: &[u8]) -> Result<ID3D11PixelShader> 
- [L1315:L1331]fn create_buffer(
    device: &ID3D11Device,
    element_size: usize,
    buffer_size: usize,
) -> Result<ID3D11Buffer> 
- [L1334:L1341]fn create_buffer_view(
    device: &ID3D11Device,
    buffer: &ID3D11Buffer,
) -> Result<Option<ID3D11ShaderResourceView>> 
- [L1344:L1356]fn update_buffer<T>(
    device_context: &ID3D11DeviceContext,
    buffer: &ID3D11Buffer,
    data: &[T],
) -> Result<()> 
- [L1359:L1380]fn set_pipeline_state(
    device_context: &ID3D11DeviceContext,
    buffer_view: &[Option<ID3D11ShaderResourceView>],
    topology: D3D_PRIMITIVE_TOPOLOGY,
    viewport: &[D3D11_VIEWPORT],
    vertex_shader: &ID3D11VertexShader,
    fragment_shader: &ID3D11PixelShader,
    global_params: &[Option<ID3D11Buffer>],
    blend_state: &ID3D11BlendState,
) 
- [L1383:L1389]fn report_live_objects(device: &ID3D11Device) -> Result<()> 

## crates/gpui/src/platform/windows/dispatcher.rs

## crates/gpui/src/platform/windows/display.rs
- [L230:L243]fn available_monitors() -> SmallVec<[HMONITOR; 4]> 
- [L256:L270]fn get_monitor_info(hmonitor: HMONITOR) -> anyhow::Result<MONITORINFOEXW> 
- [L272:L278]fn generate_uuid(device_name: &[u16]) -> Uuid 
- [L280:L286]fn get_scale_factor_for_monitor(monitor: HMONITOR) -> Result<f32> 

## crates/gpui/src/platform/windows/events.rs
- [L1251:L1299]fn handle_key_event<F>(
    wparam: WPARAM,
    lparam: LPARAM,
    state: &WindowsWindowState,
    f: F,
) -> Option<PlatformInput>
where
    F: FnOnce(Keystroke, bool) -> PlatformInput,
- [L1301:L1350]fn parse_immutable(vkey: VIRTUAL_KEY) -> Option<String> 
- [L1352:L1372]fn parse_normal_key(
    vkey: VIRTUAL_KEY,
    lparam: LPARAM,
    mut modifiers: Modifiers,
) -> Option<(Keystroke, bool)> 
- [L1374:L1448]fn process_key(vkey: VIRTUAL_KEY, scan_code: u16) -> (Option<String>, bool) 
- [L1450:L1470]fn parse_ime_composition_string(ctx: HIMC, comp_type: IME_COMPOSITION_STRING) -> Option<String> 
- [L1473:L1475]fn retrieve_composition_cursor_position(ctx: HIMC) -> usize 
- [L1478:L1480]fn is_virtual_key_pressed(vkey: VIRTUAL_KEY) -> bool 
- [L1499:L1535]fn get_client_area_insets(
    handle: HWND,
    is_maximized: bool,
    windows_version: WindowsVersion,
) -> RECT 
- [L1541:L1545]fn get_frame_thicknessx(dpi: u32) -> i32 
- [L1547:L1551]fn get_frame_thicknessy(dpi: u32) -> i32 
- [L1553:L1574]fn notify_frame_changed(handle: HWND) 

## crates/gpui/src/platform/windows/keyboard.rs
- [L162:L172]fn get_key_from_vkey(vkey: VIRTUAL_KEY) -> Option<String> 
- [L175:L203]fn need_to_convert_to_shifted_key(vkey: VIRTUAL_KEY) -> bool 
- [L205:L207]fn get_shifted_key(vkey: VIRTUAL_KEY, scan_code: u32) -> Option<String> 
- [L241:L288]fn get_vkey_from_key_with_us_layout(key: &str) -> Option<(u16, bool)> 

## crates/gpui/src/platform/windows/platform.rs
- [L49:L51]struct WindowsPlatformInner {
    state: WindowsPlatformState,
    raw_window_handles: std::sync::Weak<RwLock<SmallVec<[SafeHwnd; 4]>>>,
- [L68:L76]struct PlatformCallbacks {
    open_urls: Cell<Option<Box<dyn FnMut(Vec<String>)>>>,
    quit: Cell<Option<Box<dyn FnMut()>>>,
    reopen: Cell<Option<Box<dyn FnMut()>>>,
    app_menu_action: Cell<Option<Box<dyn FnMut(&dyn Action)>>>,
    will_open_app_menu: Cell<Option<Box<dyn FnMut()>>>,
    validate_app_menu_command: Cell<Option<Box<dyn FnMut(&dyn Action) -> bool>>>,
    keyboard_layout_change: Cell<Option<Box<dyn FnMut()>>>,
}
- [L290:L304]fn translate_accelerator(msg: &MSG) -> Option<()> 
- [L946:L948]struct PlatformWindowCreateContext {
    inner: Option<Result<Rc<WindowsPlatformInner>>>,
    raw_window_handles: std::sync::Weak<RwLock<SmallVec<[SafeHwnd; 4]>>>,
- [L956:L976]fn open_target(target: impl AsRef<OsStr>) -> Result<()> 
- [L978:L1017]fn open_target_in_explorer(target: &Path) -> Result<()> 
- [L1019:L1062]fn file_open_dialog(
    options: PathPromptOptions,
    window: Option<HWND>,
) -> Result<Option<Vec<PathBuf>>> 
- [L1064:L1115]fn file_save_dialog(
    directory: PathBuf,
    suggested_name: Option<String>,
    window: Option<HWND>,
) -> Result<Option<PathBuf>> 
- [L1117:L1131]fn load_icon() -> Result<HICON> 
- [L1134:L1137]fn should_auto_hide_scrollbars() -> Result<bool> 
- [L1139:L1148]fn check_device_lost(device: &ID3D11Device) -> bool 
- [L1150:L1203]fn handle_gpu_device_lost(
    directx_devices: &mut DirectXDevices,
    platform_window: HWND,
    validation_number: usize,
    all_windows: &std::sync::Weak<RwLock<SmallVec<[SafeHwnd; 4]>>>,
    text_system: &std::sync::Weak<DirectWriteTextSystem>,
) -> Result<()> 
- [L1207:L1214]fn register_platform_window_class() 

## crates/gpui/src/platform/windows/system_settings.rs
- [L194:L202]fn check_auto_hide_taskbar_enable() -> bool 

## crates/gpui/src/platform/windows/util.rs
- [L190:L192]fn is_color_light(color: &Color) -> bool 

## crates/gpui/src/platform/windows/vsync.rs
- [L14:L14]static QPC_TICKS_PER_SECOND: LazyLock<u64> = LazyLock::new(|| {
- [L58:L75]fn get_dwm_interval() -> Result<Duration> 
- [L78:L81]fn retrieve_duration(counts: u64, ticks_per_second: u64) -> Duration 

## crates/gpui/src/platform/windows/window.rs
- [L41:L71]struct WindowsWindowState {
    pub origin: Cell<Point<Pixels>>,
    pub logical_size: Cell<Size<Pixels>>,
    pub min_size: Option<Size<Pixels>>,
    pub fullscreen_restore_bounds: Cell<Bounds<Pixels>>,
    pub border_offset: WindowBorderOffset,
    pub appearance: Cell<WindowAppearance>,
    pub scale_factor: Cell<f32>,
    pub restore_from_minimized: Cell<Option<Box<dyn FnMut(RequestFrameOptions)>>>,
    pub callbacks: Callbacks,
    pub input_handler: Cell<Option<PlatformInputHandler>>,
    pub pending_surrogate: Cell<Option<u16>>,
    pub last_reported_modifiers: Cell<Option<Modifiers>>,
    pub last_reported_capslock: Cell<Option<Capslock>>,
    pub hovered: Cell<bool>,
    pub renderer: RefCell<DirectXRenderer>,
    pub click_state: ClickState,
    pub current_cursor: Cell<Option<HCURSOR>>,
    pub nc_button_pressed: Cell<Option<u32>>,
    pub display: Cell<WindowsDisplay>,
    pub invalidate_devices: Arc<AtomicBool>,
    fullscreen: Cell<Option<StyleAndBounds>>,
    initial_placement: Cell<Option<WindowOpenStatus>>,
    hwnd: HWND,
}
- [L355:L374]struct WindowCreateContext {
    inner: Option<Result<Rc<WindowsWindowInner>>>,
    handle: AnyWindowHandle,
    hide_title_bar: bool,
    display: WindowsDisplay,
    is_movable: bool,
    min_size: Option<Size<Pixels>>,
    executor: ForegroundExecutor,
    current_cursor: Option<HCURSOR>,
    windows_version: WindowsVersion,
    drop_target_helper: IDropTargetHelper,
    validation_number: usize,
    main_receiver: flume::Receiver<RunnableVariant>,
    platform_window_handle: HWND,
    appearance: WindowAppearance,
    disable_direct_composition: bool,
    directx_devices: DirectXDevices,
    invalidate_devices: Arc<AtomicBool>,
    parent_hwnd: Option<HWND>,
}
- [L929:L929]struct WindowsDragDropHandler(pub Rc<WindowsWindowInner>);
- [L1144:L1150]struct StyleAndBounds {
    style: WINDOW_STYLE,
    x: i32,
    y: i32,
    cx: i32,
    cy: i32,
}
- [L1153:L1157]struct WINDOWCOMPOSITIONATTRIBDATA {
    attrib: u32,
    pv_data: *mut std::ffi::c_void,
    cb_data: usize,
}
- [L1160:L1165]struct AccentPolicy {
    accent_state: u32,
    accent_flags: u32,
    gradient_color: u32,
    animation_id: u32,
}
- [L1196:L1199]struct WindowOpenStatus {
    placement: WINDOWPLACEMENT,
    state: WindowOpenState,
}
- [L1202:L1206]enum WindowOpenState {
    Maximized,
    Fullscreen,
    Windowed,
}
- [L1210:L1224]fn register_window_class(icon_handle: HICON) 
- [L1283:L1295]fn get_module_handle() -> HMODULE 
- [L1297:L1309]fn register_drag_drop(window: &Rc<WindowsWindowInner>) -> Result<()> 
- [L1311:L1334]fn calculate_window_rect(bounds: Bounds<DevicePixels>, border_offset: &WindowBorderOffset) -> RECT 
- [L1336:L1354]fn calculate_client_rect(
    rect: RECT,
    border_offset: &WindowBorderOffset,
    scale_factor: f32,
) -> Bounds<Pixels> 
- [L1356:L1377]fn retrieve_window_placement(
    hwnd: HWND,
    display: WindowsDisplay,
    initial_bounds: Bounds<Pixels>,
    scale_factor: f32,
    border_offset: &WindowBorderOffset,
) -> Result<WINDOWPLACEMENT> 
- [L1379:L1401]fn dwm_set_window_composition_attribute(hwnd: HWND, backdrop_type: u32) 
- [L1403:L1444]fn set_window_composition_attribute(hwnd: HWND, color: Option<Color>, state: u32) 

## crates/gpui/src/platform/windows/wrapper.rs

## crates/gpui/src/prelude.rs

## crates/gpui/src/profiler.rs
- [L14:L18]struct TaskTiming {
    pub location: &'static core::panic::Location<'static>,
    pub start: Instant,
    pub end: Option<Instant>,
}
- [L22:L26]struct ThreadTaskTimings {
    pub thread_name: Option<String>,
    pub thread_id: ThreadId,
    pub timings: Vec<TaskTiming>,
}
- [L57:L66]struct SerializedLocation<'a> {
    pub file: &'a str,
    pub line: u32,
    pub column: u32,
}
- [L78:L88]struct SerializedTaskTiming<'a> {
    pub location: SerializedLocation<'a>,
    pub start: u128,
    pub duration: u128,
}
- [L118:L128]struct SerializedThreadTaskTimings<'a> {
    pub thread_name: Option<String>,
    pub thread_id: u64,
    pub timings: Vec<SerializedTaskTiming<'a>>,
}

## crates/gpui/src/queue.rs
- [L12:L16]struct PriorityQueues<T> {
    high_priority: VecDeque<T>,
    medium_priority: VecDeque<T>,
    low_priority: VecDeque<T>,
}
- [L26:L31]struct PriorityQueueState<T> {
    queues: parking_lot::Mutex<PriorityQueues<T>>,
    condvar: parking_lot::Condvar,
    receiver_count: AtomicUsize,
    sender_count: AtomicUsize,
}

## crates/gpui/src/scene.rs
- [L242:L264]struct BatchIterator<'a> {
    shadows: &'a [Shadow],
    shadows_start: usize,
    shadows_iter: Peekable<slice::Iter<'a, Shadow>>,
    quads: &'a [Quad],
    quads_start: usize,
    quads_iter: Peekable<slice::Iter<'a, Quad>>,
    paths: &'a [Path<ScaledPixels>],
    paths_start: usize,
    paths_iter: Peekable<slice::Iter<'a, Path<ScaledPixels>>>,
    underlines: &'a [Underline],
    underlines_start: usize,
    underlines_iter: Peekable<slice::Iter<'a, Underline>>,
    monochrome_sprites: &'a [MonochromeSprite],
    monochrome_sprites_start: usize,
    monochrome_sprites_iter: Peekable<slice::Iter<'a, MonochromeSprite>>,
    polychrome_sprites: &'a [PolychromeSprite],
    polychrome_sprites_start: usize,
    polychrome_sprites_iter: Peekable<slice::Iter<'a, PolychromeSprite>>,
    surfaces: &'a [PaintSurface],
    surfaces_start: usize,
    surfaces_iter: Peekable<slice::Iter<'a, PaintSurface>>,
}
- [L505:L514]enum BorderStyle {
    Solid = 0,
    Dashed = 1,
}
- [L516:L522]struct TransformationMatrix {
    pub rotation_scale: [[f32; 2]; 2],
- [L674:L686]struct Path<P: Clone + Debug + Default + PartialEq> {
    pub(crate) id: PathId,
    pub(crate) order: DrawOrder,
    pub(crate) bounds: Bounds<P>,
    pub(crate) content_mask: ContentMask<P>,
    pub(crate) vertices: Vec<PathVertex<P>>,
    pub(crate) color: Background,
    start: Point<P>,
    current: Point<P>,
    contour_count: usize,
}

## crates/gpui/src/shared_string.rs
- [L11:L14]struct SharedString(ArcCow<'static, str>);

## crates/gpui/src/shared_uri.rs
- [L5:L7]struct SharedUri(SharedString);

## crates/gpui/src/style.rs
- [L19:L23]struct DebugBelow;
- [L28:L40]enum ObjectFit {
    Fill,
    Contain,
    Cover,
    ScaleDown,
    None,
}
- [L141:L286]struct Style {
    pub display: Display,
    pub visibility: Visibility,
    pub overflow: Point<Overflow>,
    pub scrollbar_width: AbsoluteLength,
    pub allow_concurrent_scroll: bool,
    pub restrict_scroll_to_axis: bool,
    pub position: Position,
    pub inset: Edges<Length>,
    pub size: Size<Length>,
    pub min_size: Size<Length>,
    pub max_size: Size<Length>,
    pub aspect_ratio: Option<f32>,
    pub margin: Edges<Length>,
    pub padding: Edges<DefiniteLength>,
    pub border_widths: Edges<AbsoluteLength>,
    pub align_items: Option<AlignItems>,
    pub align_self: Option<AlignSelf>,
    pub align_content: Option<AlignContent>,
    pub justify_content: Option<JustifyContent>,
    pub gap: Size<DefiniteLength>,
    pub flex_direction: FlexDirection,
    pub flex_wrap: FlexWrap,
    pub flex_basis: Length,
    pub flex_grow: f32,
    pub flex_shrink: f32,
    pub background: Option<Fill>,
    pub border_color: Option<Hsla>,
    pub border_style: BorderStyle,
    pub corner_radii: Corners<AbsoluteLength>,
    pub box_shadow: Vec<BoxShadow>,
    pub text: TextStyleRefinement,
    pub mouse_cursor: Option<CursorStyle>,
    pub opacity: Option<f32>,
    pub grid_cols: Option<u16>,
    pub grid_cols_min_content: Option<u16>,
    pub grid_rows: Option<u16>,
    pub grid_location: Option<GridLocation>,
    pub debug: bool,
    pub debug_below: bool,
}
- [L301:L309]enum Visibility {
    Visible,
    Hidden,
}
- [L311:L322]struct BoxShadow {
    pub color: Hsla,
    pub offset: Point<Pixels>,
    pub blur_radius: Pixels,
    pub spread_radius: Pixels,
}
- [L324:L332]enum WhiteSpace {
    Normal,
    Nowrap,
}
- [L334:L344]enum TextOverflow {
    Truncate(SharedString),
    TruncateStart(SharedString),
}
- [L346:L358]enum TextAlign {
    Left,
    Center,
    Right,
}
- [L360:L408]struct TextStyle {
    pub color: Hsla,
    pub font_family: SharedString,
    pub font_features: FontFeatures,
    pub font_fallbacks: Option<FontFallbacks>,
    pub font_size: AbsoluteLength,
    pub line_height: DefiniteLength,
    pub font_weight: FontWeight,
    pub font_style: FontStyle,
    pub background_color: Option<Hsla>,
    pub underline: Option<UnderlineStyle>,
    pub strikethrough: Option<StrikethroughStyle>,
    pub white_space: WhiteSpace,
    pub text_overflow: Option<TextOverflow>,
    pub text_align: TextAlign,
    pub line_clamp: Option<usize>,
}
- [L502:L526]struct HighlightStyle {
    pub color: Option<Hsla>,
    pub font_weight: Option<FontWeight>,
    pub font_style: Option<FontStyle>,
    pub background_color: Option<Hsla>,
    pub underline: Option<UnderlineStyle>,
    pub strikethrough: Option<StrikethroughStyle>,
    pub fade_out: Option<f32>,
}
- [L798:L807]struct UnderlineStyle {
    pub thickness: Pixels,
    pub color: Option<Hsla>,
    pub wavy: bool,
}
- [L813:L819]struct StrikethroughStyle {
    pub thickness: Pixels,
    pub color: Option<Hsla>,
}
- [L821:L826]enum Fill {
    Color(Background),
}
- [L959:L1000]fn combine_highlights(
    a: impl IntoIterator<Item = (Range<usize>, HighlightStyle)>,
    b: impl IntoIterator<Item = (Range<usize>, HighlightStyle)>,
) -> impl Iterator<Item = (Range<usize>, HighlightStyle)> 
- [L1002:L1030]enum AlignItems {
    Start,
    End,
    FlexStart,
    FlexEnd,
    Center,
    Baseline,
    Stretch,
}
- [L1036:L1036]type JustifyItems = AlignItems;
- [L1043:L1043]type AlignSelf = AlignItems;
- [L1050:L1050]type JustifySelf = AlignItems;
- [L1031:L1087]enum AlignContent {
    Start,
    End,
    FlexStart,
    FlexEnd,
    Center,
    Stretch,
    SpaceBetween,
    SpaceEvenly,
    SpaceAround,
}
- [L1094:L1094]type JustifyContent = AlignContent;
- [L1089:L1111]enum Display {
    Block,
    Flex,
    Grid,
    None,
}
- [L1113:L1128]enum FlexWrap {
    NoWrap,
    Wrap,
    WrapReverse,
}
- [L1130:L1161]enum FlexDirection {
    Row,
    Column,
    RowReverse,
    ColumnReverse,
}
- [L1163:L1193]enum Overflow {
    Visible,
    Clip,
    Hidden,
    Scroll,
}
- [L1195:L1217]enum Position {
    Relative,
    Absolute,
}

## crates/gpui/src/styled.rs
- [L22:L22]trait Styled: Sized {

## crates/gpui/src/subscription.rs
- [L20:L24]struct SubscriberSetState<EmitterKey, Callback> {
    subscribers: BTreeMap<EmitterKey, Option<BTreeMap<usize, Subscriber<Callback>>>>,
    dropped_subscribers: BTreeSet<(EmitterKey, usize)>,
    next_subscriber_id: usize,
}
- [L26:L29]struct Subscriber<Callback> {
    active: Rc<Cell<bool>>,
    callback: Callback,
}
- [L156:L161]struct Subscription {
    unsubscribe: Option<Box<dyn FnOnce() + 'static>>,
}

## crates/gpui/src/svg_renderer.rs
- [L14:L14]const SMOOTH_SVG_SCALE_FACTOR: f32 = 2.;
- [L23:L27]struct SvgRenderer {
    asset_source: Arc<dyn AssetSource>,
    usvg_options: Arc<usvg::Options<'static>>,
}
- [L29:L35]enum SvgSize {
    Size(Size<DevicePixels>),
    ScaleFactor(f32),
}

## crates/gpui/src/tab_stop.rs
- [L19:L23]enum TabStopOperation {
    Insert(FocusHandle),
    Group(TabIndex),
    GroupEnd,
}
- [L37:L37]struct TabStopPath(smallvec::SmallVec<[TabIndex; 6]>);
- [L40:L50]struct TabStopNode {
    path: TabStopPath,
    node_insertion_index: usize,
    tab_stop: bool,
}

## crates/gpui/src/taffy.rs
- [L27:L29]struct NodeContext {
    measure: NodeMeasureFn,
}
- [L30:L35]struct TaffyLayoutEngine {
    taffy: TaffyTree<NodeContext>,
    absolute_layout_bounds: FxHashMap<LayoutId, Bounds<Pixels>>,
    computed_layouts: FxHashSet<LayoutId>,
    layout_bounds_scratch_space: Vec<LayoutId>,
}
- [L263:L266]struct LayoutId(NodeId);
- [L555:L565]enum AvailableSpace {
    Definite(Pixels),
    MinContent,
    MaxContent,
}

## crates/gpui/src/test.rs
- [L38:L86]fn run_test(
    num_iterations: usize,
    explicit_seeds: &[u64],
    max_retries: usize,
    test_fn: &mut (dyn RefUnwindSafe + Fn(TestDispatcher, u64)),
    on_fail_fn: Option<fn()>,
) 
- [L88:L134]fn calculate_seeds(
    iterations: u64,
    explicit_seeds: &[u64],
) -> (impl Iterator<Item = u64> + '_, bool) 
- [L136:L140]struct Observation<T> {
    rx: Pin<Box<channel::Receiver<T>>>,
    _subscription: Subscription,
}
- [L153:L164]fn observe<T: 'static>(entity: &Entity<T>, cx: &mut TestAppContext) -> Observation<()> 

## crates/gpui/src/text_system.rs
- [L35:L38]struct FontId(pub usize);
- [L40:L42]struct FontFamilyId(pub usize);
- [L53:L61]struct TextSystem {
    platform_text_system: Arc<dyn PlatformTextSystem>,
    font_ids_by_font: RwLock<FxHashMap<Font, Result<FontId>>>,
    font_metrics: RwLock<FxHashMap<FontId, FontMetrics>>,
    raster_bounds: RwLock<FxHashMap<RenderGlyphParams, Bounds<DevicePixels>>>,
    wrapper_pool: Mutex<FxHashMap<FontIdWithSize, Vec<LineWrapper>>>,
    font_runs_pool: Mutex<Vec<Vec<FontRun>>>,
    fallback_font_stack: SmallVec<[Font; 2]>,
- [L331:L337]struct WindowTextSystem {
    line_layout_cache: LineLayoutCache,
    text_system: Arc<TextSystem>,
}
- [L598:L601]struct FontIdWithSize {
    font_id: FontId,
    font_size: Pixels,
}
- [L603:L607]struct LineWrapperHandle {
    wrapper: Option<LineWrapper>,
    text_system: Arc<TextSystem>,
}
- [L637:L641]struct FontWeight(pub f32);
- [L721:L731]enum FontStyle {
    Normal,
    Italic,
    Oblique,
}
- [L739:L754]struct TextRun {
    pub len: usize,
    pub font: Font,
    pub color: Hsla,
    pub background_color: Option<Hsla>,
    pub underline: Option<UnderlineStyle>,
    pub strikethrough: Option<StrikethroughStyle>,
}
- [L765:L768]struct GlyphId(pub(crate) u32);
- [L793:L812]struct Font {
    pub family: SharedString,
    pub features: FontFeatures,
    pub fallbacks: Option<FontFallbacks>,
    pub weight: FontWeight,
    pub style: FontStyle,
}
- [L820:L829]fn font(family: impl Into<SharedString>) -> Font 
- [L845:L877]struct FontMetrics {
    pub(crate) units_per_em: u32,
    pub(crate) ascent: f32,
    pub(crate) descent: f32,
    pub(crate) line_gap: f32,
    pub(crate) underline_position: f32,
    pub(crate) underline_thickness: f32,
    pub(crate) cap_height: f32,
    pub(crate) x_height: f32,
    pub(crate) bounding_box: Bounds<f32>,
}

## crates/gpui/src/text_system/font_fallbacks.rs
- [L6:L9]struct FontFallbacks(pub Arc<Vec<String>>);

## crates/gpui/src/text_system/font_features.rs
- [L6:L8]struct FontFeatures(pub Arc<Vec<(String, u32)>>);
- [L46:L49]enum FeatureValue {
    Bool(bool),
    Number(serde_json::Number),
}
- [L152:L154]fn is_valid_feature_tag(tag: &str) -> bool 

## crates/gpui/src/text_system/line.rs
- [L10:L27]struct DecorationRun {
    pub len: u32,
    pub color: Hsla,
    pub background_color: Option<Hsla>,
    pub underline: Option<UnderlineStyle>,
    pub strikethrough: Option<StrikethroughStyle>,
}
- [L29:L37]struct ShapedLine {
    pub(crate) layout: Arc<LineLayout>,
    pub text: SharedString,
    pub(crate) decoration_runs: SmallVec<[DecorationRun; 32]>,
- [L113:L121]struct WrappedLine {
    pub(crate) layout: Arc<WrappedLineLayout>,
    pub text: SharedString,
    pub(crate) decoration_runs: SmallVec<[DecorationRun; 32]>,
- [L192:L428]fn paint_line(
    origin: Point<Pixels>,
    layout: &LineLayout,
    line_height: Pixels,
    align: TextAlign,
    align_width: Option<Pixels>,
    decoration_runs: &[DecorationRun],
    wrap_boundaries: &[WrapBoundary],
    window: &mut Window,
    cx: &mut App,
) -> Result<()> 
- [L430:L573]fn paint_line_background(
    origin: Point<Pixels>,
    layout: &LineLayout,
    line_height: Pixels,
    align: TextAlign,
    align_width: Option<Pixels>,
    decoration_runs: &[DecorationRun],
    wrap_boundaries: &[WrapBoundary],
    window: &mut Window,
    cx: &mut App,
) -> Result<()> 
- [L575:L596]fn aligned_origin_x(
    origin: Point<Pixels>,
    align_width: Pixels,
    last_glyph_x: Pixels,
    align: &TextAlign,
    layout: &LineLayout,
    wrap_boundary: Option<&&WrapBoundary>,
) -> Pixels 

## crates/gpui/src/text_system/line_layout.rs
- [L14:L29]struct LineLayout {
    pub font_size: Pixels,
    pub width: Pixels,
    pub ascent: Pixels,
    pub descent: Pixels,
    pub runs: Vec<ShapedRun>,
    pub len: usize,
}
- [L31:L38]struct ShapedRun {
    pub font_id: FontId,
    pub glyphs: Vec<ShapedGlyph>,
}
- [L40:L54]struct ShapedGlyph {
    pub id: GlyphId,
    pub position: Point<Pixels>,
    pub index: usize,
    pub is_emoji: bool,
}
- [L210:L217]struct WrappedLineLayout {
    pub unwrapped_layout: Arc<LineLayout>,
    pub wrap_boundaries: SmallVec<[WrapBoundary; 1]>,
- [L223:L230]struct WrapBoundary {
    pub run_ix: usize,
    pub glyph_ix: usize,
}
- [L399:L404]struct FrameCache {
    lines: FxHashMap<Arc<CacheKey>, Arc<LineLayout>>,
    wrapped_lines: FxHashMap<Arc<CacheKey>, Arc<WrappedLineLayout>>,
    used_lines: Vec<Arc<CacheKey>>,
    used_wrapped_lines: Vec<Arc<CacheKey>>,
}
- [L595:L600]struct FontRun {
    pub(crate) len: usize,
    pub(crate) font_id: FontId,
}
- [L607:L610]struct CacheKey {
    text: SharedString,
    font_size: Pixels,
    runs: SmallVec<[FontRun; 1]>,
- [L616:L622]struct CacheKeyRef<'a> {
    text: &'a str,
    font_size: Pixels,
    runs: &'a [FontRun],
    wrap_width: Option<Pixels>,
    force_width: Option<Pixels>,
}

## crates/gpui/src/text_system/line_wrapper.rs
- [L5:L12]enum TruncateFrom {
    Start,
    End,
}
- [L14:L19]struct LineWrapper {
    platform_text_system: Arc<dyn PlatformTextSystem>,
    pub(crate) font_id: FontId,
    pub(crate) font_size: Pixels,
    cached_ascii_char_widths: [Option<Pixels>; 128],
- [L285:L316]fn update_runs_after_truncation(
    result: &str,
    ellipsis: &str,
    runs: &mut Vec<TextRun>,
    truncate_from: TruncateFrom,
) 
- [L318:L332]enum LineFragment<'a> {
    Text {
        text: &'a str,
    },
    Element {
        width: Pixels,
        len_utf8: usize,
    },
}
- [L363:L366]enum WrapBoundaryCandidate {
    Char { character: char },
    Element { width: Pixels, len_utf8: usize },
}
- [L377:L384]struct Boundary {
    pub ix: usize,
    pub next_indent: u32,
}

## crates/gpui/src/util.rs
- [L13:L13]trait FluentBuilder {
- [L66:L66]trait FutureExt {
- [L87:L92]struct WithTimeout<T> {
    future: T,
    timer: Task<()>,
}
- [L96:L97]struct Timeout;
- [L118:L118]async fn smol_timeout<F, T>(timeout: Duration, f: F) -> Result<T, ()>

## crates/gpui/src/view.rs
- [L14:L19]struct AnyViewState {
    prepaint_range: Range<PrepaintStateIndex>,
    paint_range: Range<PaintIndex>,
    cache_key: ViewCacheKey,
    accessed_entities: FxHashSet<EntityId>,
}
- [L22:L26]struct ViewCacheKey {
    bounds: Bounds<Pixels>,
    content_mask: ContentMask<Pixels>,
    text_style: TextStyle,
}
- [L81:L87]struct AnyView {
    entity: AnyEntity,
    render: fn(&AnyView, &mut Window, &mut App) -> AnyElement,
    cached_style: Option<Rc<StyleRefinement>>,
}
- [L312:L316]struct AnyWeakView {
    entity: AnyWeakEntity,
    render: fn(&AnyView, &mut Window, &mut App) -> AnyElement,
}
- [L366:L367]struct EmptyView;

## crates/gpui/src/window.rs
- [L66:L66]const DEFAULT_ADDITIONAL_WINDOW_SIZE: Size<Pixels> = Size {
- [L71:L86]enum DispatchPhase {
    Bubble,
    Capture,
}
- [L102:L106]struct WindowInvalidatorInner {
    pub dirty: bool,
    pub draw_phase: DrawPhase,
    pub dirty_views: FxHashSet<EntityId>,
}
- [L208:L212]struct FocusOutEvent {
    pub blurred: WeakFocusHandle,
}
- [L223:L225]struct ArenaClearNeeded;
- [L273:L281]struct FocusHandle {
    pub(crate) id: FocusId,
    handles: Arc<FocusMap>,
    pub tab_index: isize,
    pub tab_stop: bool,
}
- [L411:L416]struct WeakFocusHandle {
    pub(crate) id: FocusId,
    pub(crate) handles: Weak<FocusMap>,
}
- [L448:L448]trait Focusable: 'static {
- [L461:L461]trait ManagedView: Focusable + EventEmitter<DismissEvent> + Render {}
- [L465:L466]struct DismissEvent;
- [L485:L496]enum WindowControlArea {
    Drag,
    Close,
    Max,
    Min,
}
- [L498:L500]struct HitboxId(u64);
- [L531:L544]struct Hitbox {
    pub id: HitboxId,
    pub bounds: Bounds<Pixels>,
    pub content_mask: ContentMask<Pixels>,
    pub behavior: HitboxBehavior,
}
- [L576:L633]enum HitboxBehavior {
    Normal,
    BlockMouse,
    BlockMouseExceptScroll,
}
- [L635:L637]struct TooltipId(usize);
- [L827:L830]enum InputModality {
    Mouse,
    Keyboard,
}
- [L832:L846]struct Window {
    pub(crate) handle: AnyWindowHandle,
    pub(crate) invalidator: WindowInvalidator,
    pub(crate) removed: bool,
    pub(crate) platform_window: Box<dyn PlatformWindow>,
    display_id: Option<DisplayId>,
    sprite_atlas: Arc<dyn PlatformAtlas>,
    text_system: Arc<WindowTextSystem>,
    rem_size: Pixels,
    rem_size_override_stack: SmallVec<[Pixels; 8]>,
- [L897:L900]struct ModifierState {
    modifiers: Modifiers,
    saw_keystroke: bool,
}
- [L956:L957]struct PendingInput {
    keystrokes: SmallVec<[Keystroke; 1]>,
- [L969:L1032]fn default_bounds(display_id: Option<DisplayId>, cx: &mut App) -> WindowBounds 
- [L1379:L1387]struct ContentMask<P: Clone + Debug + Default + PartialEq> {
    pub bounds: Bounds<P>,
}
- [L4873:L4881]struct WindowHandle<V> {
    pub(crate) any_handle: AnyWindowHandle,
    state_type: PhantomData<fn(V) -> V>,
}
- [L5016:L5021]struct AnyWindowHandle {
    pub(crate) id: WindowId,
    state_type: TypeId,
}
- [L5086:L5110]enum ElementId {
    View(EntityId),
    Integer(u64),
    Name(SharedString),
    Uuid(Uuid),
    FocusHandle(FocusId),
    NamedInteger(SharedString, u64),
    Path(Arc<std::path::Path>),
    CodeLocation(core::panic::Location<'static>),
    NamedChild(Arc<ElementId>, SharedString),
}
- [L5245:L5261]struct PaintQuad {
    pub bounds: Bounds<Pixels>,
    pub corner_radii: Corners<Pixels>,
    pub background: Background,
    pub border_widths: Edges<Pixels>,
    pub border_color: Hsla,
    pub border_style: BorderStyle,
}
- [L5297:L5314]fn quad(
    bounds: Bounds<Pixels>,
    corner_radii: impl Into<Corners<Pixels>>,
    background: impl Into<Background>,
    border_widths: impl Into<Edges<Pixels>>,
    border_color: impl Into<Hsla>,
    border_style: BorderStyle,
) -> PaintQuad 
- [L5316:L5326]fn fill(bounds: impl Into<Bounds<Pixels>>, background: impl Into<Background>) -> PaintQuad 
- [L5328:L5342]fn outline(
    bounds: impl Into<Bounds<Pixels>>,
    border_color: impl Into<Hsla>,
    border_style: BorderStyle,
) -> PaintQuad 

## crates/gpui/src/window/prompts.rs
- [L13:L16]struct PromptResponse(pub usize);
- [L19:L19]trait Prompt: EventEmitter<PromptResponse> + Focusable {}
- [L23:L26]struct PromptHandle {
    sender: oneshot::Sender<usize>,
}
- [L66:L69]struct RenderablePromptHandle {
    pub(crate) view: Box<dyn PromptViewHandle>,
}
- [L71:L91]fn fallback_prompt_renderer(
    level: PromptLevel,
    message: &str,
    detail: Option<&str>,
    actions: &[PromptButton],
    handle: PromptHandle,
    window: &mut Window,
    cx: &mut App,
) -> RenderablePromptHandle 
- [L93:L100]struct FallbackPromptRenderer {
    _level: PromptLevel,
    message: String,
    detail: Option<String>,
    actions: Vec<PromptButton>,
    focus: FocusHandle,
}

## crates/gpui/tests/action_macros.rs
- [L7:L55]fn test_action_macros() 

## crates/gpui_macros/src/derive_action.rs

## crates/gpui_macros/src/derive_app_context.rs
- [L7:L109]fn derive_app_context(input: TokenStream) -> TokenStream 

## crates/gpui_macros/src/derive_inspector_reflection.rs
- [L14:L38]fn derive_inspector_reflection(_args: TokenStream, input: TokenStream) -> TokenStream 
- [L40:L111]fn generate_reflected_trait(trait_item: ItemTrait) -> TokenStream 
- [L159:L179]fn extract_doc_comment(attrs: &[Attribute]) -> Option<String> 
- [L181:L187]fn extract_cfg_attributes(attrs: &[Attribute]) -> Vec<Attribute> 
- [L189:L193]fn is_called_from_gpui_crate(_span: Span) -> bool 
- [L195:L195]struct MacroExpander;
- [L228:L283]fn try_expand_macro(macro_item: &syn::TraitItemMacro) -> Option<Vec<TraitItem>> 
- [L285:L291]fn path_to_string(path: &Path) -> String 
- [L293:L305]fn parse_expanded_items(expanded: TokenStream) -> Option<Vec<TraitItem>> 

## crates/gpui_macros/src/derive_into_element.rs
- [L5:L21]fn derive_into_element(input: TokenStream) -> TokenStream 

## crates/gpui_macros/src/derive_render.rs
- [L5:L18]fn derive_render(input: TokenStream) -> TokenStream 

## crates/gpui_macros/src/derive_visual_context.rs
- [L7:L68]fn derive_visual_context(input: TokenStream) -> TokenStream 

## crates/gpui_macros/src/gpui_macros.rs
- [L16:L20]fn derive_action(input: TokenStream) -> TokenStream 
- [L22:L28]fn register_action(ident: TokenStream) -> TokenStream 
- [L30:L35]fn derive_into_element(input: TokenStream) -> TokenStream 
- [L39:L41]fn derive_render(input: TokenStream) -> TokenStream 
- [L43:L59]fn derive_app_context(input: TokenStream) -> TokenStream 
- [L61:L92]fn derive_visual_context(input: TokenStream) -> TokenStream 
- [L94:L99]fn style_helpers(input: TokenStream) -> TokenStream 
- [L101:L105]fn visibility_style_methods(input: TokenStream) -> TokenStream 
- [L107:L111]fn margin_style_methods(input: TokenStream) -> TokenStream 
- [L113:L117]fn padding_style_methods(input: TokenStream) -> TokenStream 
- [L119:L123]fn position_style_methods(input: TokenStream) -> TokenStream 
- [L125:L129]fn overflow_style_methods(input: TokenStream) -> TokenStream 
- [L131:L135]fn cursor_style_methods(input: TokenStream) -> TokenStream 
- [L137:L141]fn border_style_methods(input: TokenStream) -> TokenStream 
- [L143:L147]fn box_shadow_style_methods(input: TokenStream) -> TokenStream 
- [L149:L189]fn test(args: TokenStream, function: TokenStream) -> TokenStream 
- [L191:L211]fn derive_inspector_reflection(_args: TokenStream, input: TokenStream) -> TokenStream 

## crates/gpui_macros/src/register_action.rs

## crates/gpui_macros/src/styles.rs
- [L11:L13]struct StyleableMacroInput {
    method_visibility: Visibility,
}
- [L40:L48]fn style_helpers(input: TokenStream) -> TokenStream 
- [L50:L66]fn visibility_style_methods(input: TokenStream) -> TokenStream 
- [L72:L84]fn margin_style_methods(input: TokenStream) -> TokenStream 
- [L86:L98]fn padding_style_methods(input: TokenStream) -> TokenStream 
- [L100:L121]fn position_style_methods(input: TokenStream) -> TokenStream 
- [L129:L146]fn overflow_style_methods(input: TokenStream) -> TokenStream 
- [L159:L174]fn cursor_style_methods(input: TokenStream) -> TokenStream 
- [L341:L388]fn border_style_methods(input: TokenStream) -> TokenStream 
- [L390:L406]fn box_shadow_style_methods(input: TokenStream) -> TokenStream 
- [L549:L554]struct BoxStylePrefix {
    prefix: &'static str,
    auto_allowed: bool,
    fields: Vec<TokenStream2>,
    doc_string_prefix: &'static str,
}
- [L556:L560]struct BoxStyleSuffix {
    suffix: &'static str,
    length_tokens: TokenStream2,
    doc_string_suffix: &'static str,
}
- [L562:L566]struct CornerStylePrefix {
    prefix: &'static str,
    fields: Vec<TokenStream2>,
    doc_string_prefix: &'static str,
}
- [L568:L572]struct CornerStyleSuffix {
    suffix: &'static str,
    radius_tokens: TokenStream2,
    doc_string_suffix: &'static str,
}
- [L574:L578]struct BorderStylePrefix {
    prefix: &'static str,
    fields: Vec<TokenStream2>,
    doc_string_prefix: &'static str,
}
- [L580:L584]struct BorderStyleSuffix {
    suffix: &'static str,
    width_tokens: TokenStream2,
    doc_string_suffix: &'static str,
}
- [L586:L642]fn generate_box_style_methods(
    prefixes: Vec<BoxStylePrefix>,
    suffixes: Vec<BoxStyleSuffix>,
    visibility: Visibility,
) -> Vec<TokenStream2> 
- [L644:L676]fn generate_methods() -> Vec<TokenStream2> 
- [L678:L715]fn generate_predefined_setter(
    visibility: Visibility,
    name: &'static str,
    length: &'static str,
    fields: &[TokenStream2],
    length_tokens: &TokenStream2,
    negate: bool,
    doc_string: &str,
) -> TokenStream2 
- [L720:L749]fn generate_custom_value_setter(
    visibility: Visibility,
    prefix: &str,
    length_type: TokenStream2,
    fields: &[TokenStream2],
    doc_string: &str,
) -> TokenStream2 
- [L754:L804]fn margin_box_style_prefixes() -> Vec<BoxStylePrefix> 
- [L806:L856]fn padding_box_style_prefixes() -> Vec<BoxStylePrefix> 
- [L858:L896]fn position_box_style_prefixes() -> Vec<BoxStylePrefix> 
- [L898:L969]fn box_prefixes() -> Vec<BoxStylePrefix> 
- [L971:L1204]fn box_style_suffixes() -> Vec<BoxStyleSuffix> 
- [L1206:L1271]fn corner_prefixes() -> Vec<CornerStylePrefix> 
- [L1273:L1321]fn corner_suffixes() -> Vec<CornerStyleSuffix> 
- [L1323:L1372]fn border_prefixes() -> Vec<BorderStylePrefix> 
- [L1374:L1462]fn border_suffixes() -> Vec<BorderStyleSuffix> 

## crates/gpui_macros/src/test.rs
- [L13:L18]struct Args {
    seeds: Vec<u64>,
    max_retries: usize,
    max_iterations: usize,
    on_failure_fn_name: proc_macro2::TokenStream,
}
- [L95:L117]fn test(args: TokenStream, function: TokenStream) -> TokenStream 
- [L119:L284]fn generate_test_function(
    args: Args,
    inner_fn: ItemFn,
    inner_fn_attributes: Vec<syn::Attribute>,
    inner_fn_name: Ident,
    outer_fn_name: Ident,
) -> Result<TokenStream, TokenStream> 
- [L291:L300]fn parse_usize_from_expr(expr: &Expr) -> Result<usize, syn::Error> 
- [L302:L322]fn parse_u64_array(meta_list: &MetaList) -> Result<Vec<u64>, syn::Error> 
- [L324:L326]fn error_with_message(message: &str, spanned: impl Spanned) -> TokenStream 
- [L328:L330]fn error_to_stream(err: syn::Error) -> TokenStream 

## crates/gpui_macros/tests/derive_context.rs
- [L2:L13]fn test_derive_context() 

## crates/gpui_macros/tests/derive_inspector_reflection.rs
- [L39:L39]struct Number(i32);
- [L68:L133]fn test_derive_inspector_reflection() 

## crates/gpui_macros/tests/render_test.rs
- [L2:L7]fn test_derive_render() 

## crates/gpui_tokio/src/gpui_tokio.rs
- [L8:L21]fn init(cx: &mut App) 
- [L23:L26]fn init_from_handle(cx: &mut App, handle: tokio::runtime::Handle) 
- [L28:L31]enum RuntimeHolder {
    Owned(tokio::runtime::Runtime),
    Shared(tokio::runtime::Handle),
}
- [L42:L44]struct GlobalTokio {
    runtime: RuntimeHolder,
}
- [L54:L54]struct Tokio {}

## crates/html_to_markdown/src/html_element.rs
- [L7:L22]fn inline_elements() -> &'static HashSet<&'static str> 
- [L25:L28]struct HtmlElement {
    tag: String,
    pub(crate) attrs: RefCell<Vec<Attribute>>,
}

## crates/html_to_markdown/src/html_to_markdown.rs
- [L4:L4]mod markdown;
- [L6:L6]mod structure;
- [L20:L30]fn convert_html_to_markdown(html: impl Read, handlers: &mut [TagHandler]) -> Result<String> 
- [L32:L46]fn parse_html(mut html: impl Read) -> Result<RcDom> 

## crates/html_to_markdown/src/markdown.rs
- [L4:L4]struct WebpageChromeRemover;
- [L25:L25]struct ParagraphHandler;
- [L54:L54]struct HeadingHandler;
- [L87:L87]struct ListHandler;
- [L117:L122]struct TableHandler {
    current_table_columns: usize,
    is_first_th: bool,
    is_first_td: bool,
}
- [L201:L201]struct StyledTextHandler;
- [L231:L231]struct CodeHandler;

## crates/html_to_markdown/src/markdown_writer.rs
- [L11:L15]fn empty_line_regex() -> &'static Regex 
- [L17:L20]fn more_than_three_newlines_regex() -> &'static Regex 
- [L22:L25]enum StartTagOutcome {
    Continue,
    Skip,
}
- [L27:L27]type TagHandler = Rc<RefCell<dyn HandleTag>>;
- [L29:L32]struct MarkdownWriter {
    current_element_stack: VecDeque<HtmlElement>,
    pub(crate) markdown: String,
}
- [L175:L178]enum HandlerOutcome {
    Handled,
    NoOp,
}
- [L180:L180]trait HandleTag {

## crates/html_to_markdown/src/structure.rs
- [L1:L1]mod wikipedia;

## crates/html_to_markdown/src/structure/wikipedia.rs
- [L5:L5]struct WikipediaChromeRemover;
- [L45:L45]struct WikipediaInfoboxHandler;
- [L65:L67]struct WikipediaCodeHandler {
    language: Option<String>,
}

## crates/http_client/src/async_body.rs
- [L11:L13]struct AsyncBody(pub Inner);
- [L15:L24]enum Inner {
    Empty,
    Bytes(std::io::Cursor<Bytes>),
    AsyncReader(Pin<Box<dyn futures::AsyncRead + Send + Sync>>),
}

## crates/http_client/src/github.rs
- [L11:L15]struct GitHubLspBinaryVersion {
    pub name: String,
    pub url: String,
    pub digest: Option<String>,
}
- [L18:L25]struct GithubRelease {
    pub tag_name: String,
    pub pre_release: bool,
    pub assets: Vec<GithubReleaseAsset>,
    pub tarball_url: String,
    pub zipball_url: String,
}
- [L28:L32]struct GithubReleaseAsset {
    pub name: String,
    pub browser_download_url: String,
    pub digest: Option<String>,
}
- [L34:L34]async fn latest_github_release(
- [L97:L97]async fn get_release_by_tag_name(
- [L145:L149]enum AssetKind {
    TarGz,
    Gz,
    Zip,
}
- [L151:L169]fn build_asset_url(repo_name_with_owner: &str, tag: &str, kind: AssetKind) -> Result<String> 

## crates/http_client/src/github_download.rs
- [L11:L14]struct GithubBinaryMetadata {
    pub metadata_version: u64,
    pub digest: Option<String>,
}
- [L35:L35]async fn download_server_binary(
- [L156:L159]struct HashingWriter<W: AsyncWrite + Unpin> {
    writer: W,
    hasher: Sha256,
}

## crates/http_client/src/http_client.rs
- [L2:L2]mod github;
- [L3:L3]mod github_download;
- [L20:L25]enum RedirectPolicy {
    NoFollow,
    FollowLimit(u32),
    FollowAll,
}
- [L26:L26]struct FollowRedirects(pub bool);
- [L28:L28]trait HttpRequestExt {
- [L58:L58]trait HttpClient: 'static + Send + Sync {
- [L112:L118]struct HttpClientWithProxy {
    client: Arc<dyn HttpClient>,
    proxy: Option<Url>,
}
- [L159:L165]struct HttpClientWithUrl {
    base_url: Mutex<String>,
    client: HttpClientWithProxy,
}
- [L292:L306]fn read_proxy_from_env() -> Option<Url> 
- [L308:L312]fn read_no_proxy_from_env() -> Option<String> 
- [L314:L314]struct BlockedHttpClient;
- [L359:L362]struct FakeHttpClient {
    handler: Mutex<Option<FakeHttpHandler>>,
    user_agent: HeaderValue,
}

## crates/http_client_tls/src/http_client_tls.rs
- [L6:L6]static TLS_CONFIG: OnceLock<rustls::ClientConfig> = OnceLock::new();
- [L8:L21]fn tls_config() -> ClientConfig 

## crates/icons/src/icons.rs
- [L10:L275]enum IconName {
    Ai,
    AiAnthropic,
    AiBedrock,
    AiClaude,
    AiDeepSeek,
    AiEdit,
    AiGemini,
    AiGoogle,
    AiLmStudio,
    AiMistral,
    AiOllama,
    AiOpenAi,
    AiOpenAiCompat,
    AiOpenRouter,
    AiVZero,
    AiXAi,
    AiZed,
    ArrowCircle,
    ArrowDown,
    ArrowDown10,
    ArrowDownRight,
    ArrowLeft,
    ArrowRight,
    ArrowRightLeft,
    ArrowUp,
    ArrowUpRight,
    AtSign,
    Attach,
    AudioOff,
    AudioOn,
    Backspace,
    Bell,
    BellDot,
    BellOff,
    BellRing,
    Binary,
    Blocks,
    BoltFilled,
    BoltOutlined,
    Book,
    BookCopy,
    Box,
    CaseSensitive,
    Chat,
    Check,
    CheckDouble,
    ChevronDown,
    ChevronDownUp,
    ChevronLeft,
    ChevronRight,
    ChevronUp,
    ChevronUpDown,
    Circle,
    CircleHelp,
    Close,
    CloudDownload,
    Code,
    Cog,
    Command,
    Control,
    Copilot,
    CopilotDisabled,
    CopilotError,
    CopilotInit,
    Copy,
    CountdownTimer,
    Crosshair,
    CursorIBeam,
    Dash,
    DatabaseZap,
    Debug,
    DebugBreakpoint,
    DebugContinue,
    DebugDetach,
    DebugDisabledBreakpoint,
    DebugDisabledLogBreakpoint,
    DebugIgnoreBreakpoints,
    DebugLogBreakpoint,
    DebugPause,
    DebugStepInto,
    DebugStepOut,
    DebugStepOver,
    Diff,
    Disconnected,
    Download,
    EditorAtom,
    EditorCursor,
    EditorEmacs,
    EditorJetBrains,
    EditorSublime,
    EditorVsCode,
    Ellipsis,
    EllipsisVertical,
    Envelope,
    Eraser,
    Escape,
    Exit,
    ExpandDown,
    ExpandUp,
    ExpandVertical,
    Eye,
    File,
    FileCode,
    FileDiff,
    FileDoc,
    FileGeneric,
    FileGit,
    FileLock,
    FileMarkdown,
    FileRust,
    FileTextFilled,
    FileTextOutlined,
    FileToml,
    FileTree,
    Filter,
    Flame,
    Folder,
    FolderOpen,
    FolderSearch,
    Font,
    FontSize,
    FontWeight,
    ForwardArrow,
    GenericClose,
    GenericMaximize,
    GenericMinimize,
    GenericRestore,
    GitBranch,
    GitBranchAlt,
    GitBranchPlus,
    Github,
    Hash,
    HistoryRerun,
    Image,
    Inception,
    Indicator,
    Info,
    Json,
    Keyboard,
    Library,
    LineHeight,
    Link,
    Linux,
    ListCollapse,
    ListFilter,
    ListTodo,
    ListTree,
    ListX,
    LoadCircle,
    LocationEdit,
    LockOutlined,
    MagnifyingGlass,
    Maximize,
    Menu,
    MenuAlt,
    MenuAltTemp,
    Mic,
    MicMute,
    Minimize,
    Notepad,
    Option,
    PageDown,
    PageUp,
    Paperclip,
    Pencil,
    PencilUnavailable,
    Person,
    Pin,
    PlayFilled,
    PlayOutlined,
    Plus,
    Power,
    Public,
    PullRequest,
    Quote,
    Reader,
    RefreshTitle,
    Regex,
    ReplNeutral,
    Replace,
    ReplaceAll,
    ReplaceNext,
    ReplyArrowRight,
    Rerun,
    Return,
    RotateCcw,
    RotateCw,
    Scissors,
    Screen,
    SelectAll,
    Send,
    Server,
    Settings,
    ShieldCheck,
    Shift,
    Slash,
    Sliders,
    Space,
    Sparkle,
    Split,
    SplitAlt,
    SquareDot,
    SquareMinus,
    SquarePlus,
    Star,
    StarFilled,
    Stop,
    Supermaven,
    SupermavenDisabled,
    SupermavenError,
    SupermavenInit,
    SwatchBook,
    SweepAi,
    Tab,
    Terminal,
    TerminalAlt,
    TerminalGhost,
    TextSnippet,
    TextThread,
    Thread,
    ThreadFromSummary,
    ThumbsDown,
    ThumbsUp,
    TodoComplete,
    TodoPending,
    TodoProgress,
    ToolCopy,
    ToolDeleteFile,
    ToolDiagnostics,
    ToolFolder,
    ToolHammer,
    ToolNotification,
    ToolPencil,
    ToolRead,
    ToolRegex,
    ToolSearch,
    ToolTerminal,
    ToolThink,
    ToolWeb,
    Trash,
    Triangle,
    TriangleRight,
    Undo,
    Unpin,
    UserCheck,
    UserGroup,
    UserRoundPen,
    Warning,
    WholeWord,
    XCircle,
    XCircleFilled,
    ZedAgent,
    ZedAgentTwo,
    ZedAssistant,
    ZedBurnMode,
    ZedBurnModeOn,
    ZedPredict,
    ZedPredictDisabled,
    ZedPredictDown,
    ZedPredictError,
    ZedPredictUp,
    ZedSrcCustom,
    ZedSrcExtension,
    ZedXCopilot,
}

## crates/image_viewer/src/image_info.rs
- [L10:L14]struct ImageInfo {
    metadata: Option<ImageMetadata>,
    _observe_active_image: Option<Subscription>,
    observe_image_item: Option<Subscription>,
}
- [L40:L43]fn format_image_size(size: u64, image_unit_type: ImageFileSizeUnit) -> String 

## crates/image_viewer/src/image_viewer.rs
- [L30:L34]struct ImageView {
    image_item: Entity<ImageItem>,
    project: Entity<Project>,
    focus_handle: FocusHandle,
}
- [L78:L80]enum ImageViewEvent {
    TitleChanged,
}
- [L205:L214]fn breadcrumbs_text_for_image(project: &Project, image: &ImageItem, cx: &App) -> String 
- [L414:L417]fn init(cx: &mut App) 

## crates/image_viewer/src/image_viewer_settings.rs
- [L4:L11]struct ImageViewerSettings {
    pub unit: ImageFileSizeUnit,
}

## crates/inspector_ui/build.rs
- [L1:L20]fn main() 

## crates/inspector_ui/src/div_inspector.rs
- [L53:L68]enum State {
    Loading,
    BuffersLoaded {
        rust_style_buffer: Entity<Buffer>,
        json_style_buffer: Entity<Buffer>,
    },
    Ready {
        rust_style_buffer: Entity<Buffer>,
        rust_style_editor: Entity<Editor>,
        json_style_buffer: Entity<Buffer>,
        json_style_editor: Entity<Editor>,
    },
    LoadError {
        message: SharedString,
    },
}
- [L574:L599]fn render_layout_state(inspector_state: &DivInspectorState, cx: &App) -> Div 
- [L601:L601]static STYLE_METHODS: LazyLock<Vec<(Box<StyleRefinement>, FunctionReflection<StyleRefinement>)>> =
- [L611:L631]fn guess_rust_code_from_style(goal_style: &StyleRefinement) -> (String, StyleRefinement) 
- [L633:L635]fn is_not_identifier_char(c: char) -> bool 
- [L637:L639]struct RustStyleCompletionProvider {
    div_inspector: Entity<DivInspector>,
}
- [L709:L732]fn completion_replace_range(snapshot: &BufferSnapshot, anchor: &Anchor) -> Option<Range<Anchor>> 

## crates/inspector_ui/src/inspector.rs
- [L11:L51]fn init(app_state: Arc<AppState>, cx: &mut App) 
- [L53:L104]fn render_inspector(
    inspector: &mut Inspector,
    window: &mut Window,
    cx: &mut Context<Inspector>,
) -> AnyElement 
- [L106:L156]fn render_inspector_id(inspector_id: &InspectorElementId, cx: &App) -> Div 

## crates/inspector_ui/src/inspector_ui.rs
- [L10:L24]fn init(_app_state: std::sync::Arc<workspace::AppState>, cx: &mut gpui::App) 

## crates/install_cli/src/install_cli.rs

## crates/install_cli/src/install_cli_binary.rs
- [L64:L101]fn install_cli_binary(window: &mut Window, cx: &mut Context<Workspace>) 

## crates/install_cli/src/register_zed_scheme.rs
- [L12:L12]async fn register_zed_scheme(cx: &AsyncApp) -> anyhow::Result<()> {

## crates/journal/src/journal.rs
- [L22:L33]struct JournalSettings {
    pub path: String,
    pub hour_format: HourFormat,
}
- [L46:L55]fn init(_: Arc<AppState>, cx: &mut App) 
- [L57:L173]fn new_journal_entry(workspace: &Workspace, window: &mut Window, cx: &mut App) 
- [L175:L185]fn journal_dir(path: &str) -> Option<PathBuf> 
- [L187:L199]fn heading_entry(now: NaiveTime, hour_format: &HourFormat) -> String 

## crates/json_schema_store/src/json_schema_store.rs
- [L16:L50]fn init(cx: &mut App) 
- [L53:L55]struct SchemaStore {
    lsp_stores: Vec<WeakEntity<LspStore>>,
}
- [L76:L87]fn handle_schema_request(
    lsp_store: Entity<LspStore>,
    uri: String,
    cx: &mut AsyncApp,
) -> Task<Result<String>> 
- [L89:L89]async fn resolve_schema_request(
- [L99:L99]async fn resolve_schema_request_inner(
- [L249:L344]fn all_schema_file_associations(
    languages: &Arc<LanguageRegistry>,
    cx: &mut App,
) -> serde_json::Value 
- [L346:L348]fn tsconfig_schema() -> serde_json::Value 
- [L350:L352]fn package_json_schema() -> serde_json::Value 
- [L354:L372]fn jsonc_schema() -> serde_json::Value 
- [L374:L381]fn generate_inspector_style_schema() -> serde_json::Value 
- [L383:L385]fn normalize_action_name(action_name: &str) -> String 
- [L387:L389]fn denormalize_action_name(action_name: &str) -> String 
- [L391:L393]fn normalized_action_file_name(action_name: &str) -> String 
- [L395:L398]fn normalized_action_name_to_file_name(mut normalized_action_name: String) -> String 
- [L400:L423]fn root_schema_from_action_schema(
    action_schema: Option<schemars::Schema>,
    generator: &mut schemars::SchemaGenerator,
) -> schemars::Schema 
- [L426:L432]fn schema_file_match(path: &std::path::Path) -> String 

## crates/keymap_editor/src/keymap_editor.rs
- [L80:L141]fn init(cx: &mut App) 
- [L143:L164]fn open_binding_modal_after_loading(cx: &mut Context<KeymapEditor>) 
- [L166:L166]struct KeymapEventChannel {}
- [L187:L193]enum SearchMode {
    Normal,
    KeyStroke {
        exact_match: bool,
    },
}
- [L212:L216]enum FilterState {
    All,
    Conflicts,
}
- [L228:L231]struct ActionMapping {
    keystrokes: Rc<[KeybindingKeystroke]>,
    context: Option<SharedString>,
}
- [L234:L237]struct KeybindConflict {
    first_conflict_index: usize,
    remaining_conflict_amount: usize,
}
- [L240:L244]struct ConflictOrigin {
    override_source: KeybindSource,
    overridden_source: Option<KeybindSource>,
    index: usize,
}
- [L284:L288]struct ConflictState {
    conflicts: Vec<Option<ConflictOrigin>>,
    keybind_mapping: ConflictKeybindMapping,
    has_user_conflicts: bool,
}
- [L408:L437]struct KeymapEditor {
    workspace: WeakEntity<Workspace>,
    focus_handle: FocusHandle,
    _keymap_subscription: Subscription,
    keybindings: Vec<ProcessedBinding>,
    keybinding_conflict_state: ConflictState,
    filter_state: FilterState,
    search_mode: SearchMode,
    search_query_debounce: Option<Task<()>>,
    string_match_candidates: Arc<Vec<StringMatchCandidate>>,
    matches: Vec<StringMatch>,
    table_interaction_state: Entity<TableInteractionState>,
    filter_editor: Entity<Editor>,
    keystroke_editor: Entity<KeystrokeInput>,
    selected_index: Option<usize>,
    context_menu: Option<(Entity<ContextMenu>, Point<Pixels>, Subscription)>,
    previous_edit: Option<PreviousEdit>,
    humanized_action_names: HumanizedActionNameCache,
    current_widths: Entity<TableColumnWidths<6>>,
    show_hover_menus: bool,
    action_args_temp_dir_worktree: Option<Entity<project::Worktree>>,
    action_args_temp_dir: Option<tempfile::TempDir>,
}
- [L439:L455]enum PreviousEdit {
    ScrollBarOffset(Point<Pixels>),
    Keybinding {
        action_mapping: ActionMapping,
        action_name: &'static str,
        fallback: Point<Pixels>,
    },
}
- [L468:L477]fn keystrokes_match_exactly(
    keystrokes1: &[KeybindingKeystroke],
    keystrokes2: &[KeybindingKeystroke],
) -> bool 
- [L1391:L1393]struct HumanizedActionNameCache {
    cache: HashMap<&'static str, SharedString>,
}
- [L1415:L1418]struct KeyBinding {
    keystrokes: Rc<[KeybindingKeystroke]>,
    source: KeybindSource,
}
- [L1430:L1435]struct KeybindInformation {
    keystroke_text: SharedString,
    binding: KeyBinding,
    context: KeybindContextString,
    source: KeybindSource,
}
- [L1447:L1453]struct ActionInformation {
    name: &'static str,
    humanized_name: SharedString,
    arguments: Option<SyntaxHighlightedText>,
    documentation: Option<&'static str>,
    has_schema: bool,
}
- [L1474:L1477]enum ProcessedBinding {
    Mapped(KeybindInformation, ActionInformation),
    Unmapped(ActionInformation),
}
- [L1560:L1563]enum KeybindContextString {
    Global,
    Local(SharedString, Arc<Language>),
}
- [L1596:L1602]fn muted_styled_text(text: SharedString, cx: &App) -> StyledText 
- [L2090:L2092]fn row_group_id(row_index: usize) -> SharedString 
- [L2094:L2098]fn base_button_style(row_index: usize, icon: IconName) -> IconButton 
- [L2101:L2104]struct SyntaxHighlightedText {
    text: SharedString,
    language: Arc<Language>,
}
- [L2153:L2156]struct InputError {
    severity: Severity,
    content: SharedString,
}
- [L2174:L2186]struct KeybindingEditorModal {
    creating: bool,
    editing_keybind: ProcessedBinding,
    editing_keybind_idx: usize,
    keybind_editor: Entity<KeystrokeInput>,
    context_editor: Entity<InputField>,
    action_arguments_editor: Option<Entity<ActionArgumentsEditor>>,
    fs: Arc<dyn Fs>,
    error: Option<InputError>,
    keymap_editor: Entity<KeymapEditor>,
    workspace: WeakEntity<Workspace>,
    focus_state: KeybindingEditorModalFocusState,
}
- [L2675:L2677]struct KeybindingEditorModalFocusState {
    handles: Vec<FocusHandle>,
}
- [L2730:L2741]struct ActionArgumentsEditor {
    editor: Entity<Editor>,
    focus_handle: FocusHandle,
    is_loading: bool,
    backup_temp_dir: Option<tempfile::TempDir>,
}
- [L2961:L2963]struct KeyContextCompletionProvider {
    contexts: Vec<SharedString>,
}
- [L3206:L3270]fn collect_contexts_from_assets() -> Vec<SharedString> 
- [L3272:L3391]fn normalized_ctx_eq(
    a: &gpui::KeyBindingContextPredicate,
    b: &gpui::KeyBindingContextPredicate,
) -> bool 

## crates/keymap_editor/src/ui_components/keystroke_input.rs
- [L27:L31]enum CloseKeystrokeResult {
    Partial,
    Close,
    None,
}
- [L44:L50]struct KeystrokeInput {
    keystrokes: Vec<KeybindingKeystroke>,
    placeholder_keystrokes: Option<Vec<KeybindingKeystroke>>,
    outer_focus_handle: FocusHandle,
    inner_focus_handle: FocusHandle,
    intercept_subscription: Option<Subscription>,
    _focus_subscriptions: [Subscription; 2],

## crates/keymap_editor/src/ui_components/mod.rs
- [L1:L1]mod keystroke_input;

## crates/language/build.rs
- [L1:L5]fn main() 

## crates/language/src/buffer.rs
- [L1:L1]mod row_chunk;
- [L81:L81]static BUFFER_DIFF_TASK: LazyLock<TaskLabel> = LazyLock::new(TaskLabel::new);
- [L79:L90]enum Capability {
    ReadWrite,
    ReadOnly,
}
- [L92:L92]type BufferRow = u32;
- [L94:L120]struct Buffer {
    text: TextBuffer,
    branch_state: Option<BufferBranchState>,
    file: Option<Arc<dyn File>>,
    saved_mtime: Option<MTime>,
    saved_version: clock::Global,
    preview_version: clock::Global,
    transaction_depth: usize,
    was_dirty_before_starting_transaction: Option<bool>,
    reload_task: Option<Task<Result<()>>>,
    language: Option<Arc<Language>>,
    autoindent_requests: Vec<Arc<AutoindentRequest>>,
    wait_for_autoindent_txs: Vec<oneshot::Sender<()>>,
    pending_autoindent: Option<Task<()>>,
    sync_parse_timeout: Duration,
    syntax_map: Mutex<SyntaxMap>,
    reparse: Option<Task<()>>,
    parse_status: (watch::Sender<ParseStatus>, watch::Receiver<ParseStatus>),
    non_text_state_update_count: usize,
    diagnostics: SmallVec<[(LanguageServerId, DiagnosticSet); 2]>,
- [L140:L143]struct TreeSitterData {
    chunks: RowChunks,
    brackets_by_chunks: Mutex<Vec<Option<Vec<BracketMatch<usize>>>>>,
}
- [L170:L173]enum ParseStatus {
    Idle,
    Parsing,
}
- [L175:L178]struct BufferBranchState {
    base_buffer: Entity<Buffer>,
    merged_operations: Vec<Lamport>,
}
- [L180:L186]struct BufferSnapshot {
    pub text: text::BufferSnapshot,
    pub syntax: SyntaxSnapshot,
    file: Option<Arc<dyn File>>,
    diagnostics: SmallVec<[(LanguageServerId, DiagnosticSet); 2]>,
- [L193:L201]struct IndentSize {
    pub len: u32,
    pub kind: IndentKind,
}
- [L203:L211]enum IndentKind {
    Space,
    Tab,
}
- [L213:L225]enum CursorShape {
    Bar,
    Block,
    Underline,
    Hollow,
}
- [L239:L244]struct SelectionSet {
    line_mode: bool,
    cursor_shape: CursorShape,
    selections: Arc<[Selection<Anchor>]>,
    lamport_timestamp: clock::Lamport,
}
- [L246:L288]struct Diagnostic {
    pub source: Option<String>,
    pub registration_id: Option<SharedString>,
    pub code: Option<NumberOrString>,
    pub code_description: Option<lsp::Uri>,
    pub severity: DiagnosticSeverity,
    pub message: String,
    pub markdown: Option<String>,
    pub group_id: usize,
    pub is_primary: bool,
    pub is_disk_based: bool,
    pub is_unnecessary: bool,
    pub source_kind: DiagnosticSourceKind,
    pub data: Option<Value>,
    pub underline: bool,
}
- [L291:L295]enum DiagnosticSourceKind {
    Pulled,
    Pushed,
    Other,
}
- [L297:L343]enum Operation {
    Buffer(text::Operation),
    UpdateDiagnostics {
        server_id: LanguageServerId,
        diagnostics: Arc<[DiagnosticEntry<Anchor>]>,
        lamport_timestamp: clock::Lamport,
    },
    UpdateSelections {
        selections: Arc<[Selection<Anchor>]>,
        lamport_timestamp: clock::Lamport,
        line_mode: bool,
        cursor_shape: CursorShape,
    },
    UpdateCompletionTriggers {
        triggers: Vec<String>,
        lamport_timestamp: clock::Lamport,
        server_id: LanguageServerId,
    },
    UpdateLineEnding {
        line_ending: LineEnding,
        lamport_timestamp: clock::Lamport,
    },
}
- [L345:L375]enum BufferEvent {
    Operation {
        operation: Operation,
        is_local: bool,
    },
    Edited,
    DirtyChanged,
    Saved,
    FileHandleChanged,
    Reloaded,
    ReloadNeeded,
    LanguageChanged(bool),
    Reparsed,
    DiagnosticsUpdated,
    CapabilityChanged,
}
- [L378:L378]trait File: Send + Sync + Any {
- [L418:L433]enum DiskState {
    New,
    Present { mtime: MTime },
    Deleted,
    Historic { was_deleted: bool },
}
- [L466:L466]trait LocalFile: File {
- [L477:L499]enum AutoindentMode {
    EachLine,
    Block {
        original_indent_columns: Vec<Option<u32>>,
    },
}
- [L502:L507]struct AutoindentRequest {
    before_edit: BufferSnapshot,
    entries: Vec<AutoindentRequestEntry>,
    is_block_mode: bool,
    ignore_empty_lines: bool,
}
- [L510:L520]struct AutoindentRequestEntry {
    range: Range<Anchor>,
    first_line_is_new: bool,
    indent_size: IndentSize,
    original_indent_column: Option<u32>,
}
- [L523:L527]struct IndentSuggestion {
    basis_row: u32,
    delta: Ordering,
    within_error: bool,
}
- [L529:L534]struct BufferChunkHighlights<'a> {
    captures: SyntaxMapCaptures<'a>,
    next_capture: Option<SyntaxMapCapture<'a>>,
    stack: Vec<(usize, HighlightId)>,
    highlight_maps: Vec<HighlightMap>,
}
- [L536:L550]struct BufferChunks<'a> {
    buffer_snapshot: Option<&'a BufferSnapshot>,
    range: Range<usize>,
    chunks: text::Chunks<'a>,
    diagnostic_endpoints: Option<Peekable<vec::IntoIter<DiagnosticEndpoint>>>,
    error_depth: usize,
    warning_depth: usize,
    information_depth: usize,
    hint_depth: usize,
    unnecessary_depth: usize,
    underline: bool,
    highlights: Option<BufferChunkHighlights<'a>>,
}
- [L552:L577]struct Chunk<'a> {
    pub text: &'a str,
    pub syntax_highlight_id: Option<HighlightId>,
    pub highlight_style: Option<HighlightStyle>,
    pub diagnostic_severity: Option<DiagnosticSeverity>,
    pub tabs: u128,
    pub chars: u128,
    pub is_unnecessary: bool,
    pub is_tab: bool,
    pub is_inlay: bool,
    pub underline: bool,
}
- [L579:L585]struct Diff {
    pub base_version: clock::Global,
    pub line_ending: LineEnding,
    pub edits: Vec<(Range<usize>, Arc<str>)>,
}
- [L596:L605]enum CharKind {
    Whitespace,
    Punctuation,
    Word,
}
- [L607:L622]enum CharScopeContext {
    Completion,
    LinkedEdit,
}
- [L624:L626]struct Runnable {
    pub tags: SmallVec<[RunnableTag; 1]>,
- [L632:L635]struct HighlightedText {
    pub text: SharedString,
    pub highlights: Vec<(Range<usize>, HighlightStyle)>,
}
- [L638:L641]struct HighlightedTextBuilder {
    pub text: String,
    highlights: Vec<(Range<usize>, HighlightStyle)>,
}
- [L769:L773]struct EditPreview {
    old_snapshot: text::BufferSnapshot,
    applied_edits_snapshot: text::BufferSnapshot,
    syntax_snapshot: SyntaxSnapshot,
}
- [L919:L925]struct BracketMatch<T> {
    pub open_range: Range<T>,
    pub close_range: Range<T>,
    pub newline_only: bool,
    pub syntax_layer_depth: usize,
    pub color_index: Option<usize>,
}
- [L5120:L5127]struct WordsQuery<'a> {
    pub fuzzy_contents: Option<&'a str>,
    pub skip_digits: bool,
    pub range: Range<usize>,
}
- [L5129:L5131]fn indent_size_for_line(text: &text::BufferSnapshot, row: u32) -> IndentSize 
- [L5133:L5147]fn indent_size_for_text(text: impl Iterator<Item = char>) -> IndentSize 
- [L5538:L5542]struct TestFile {
    pub path: Arc<RelPath>,
    pub root_name: String,
    pub local_root: Option<PathBuf>,
}
- [L5634:L5638]struct CharClassifier {
    scope: Option<LanguageScope>,
    scope_context: Option<CharScopeContext>,
    ignore_punctuation: bool,
}
- [L5709:L5746]fn trailing_whitespace_ranges(rope: &Rope) -> Vec<Range<usize>> 

## crates/language/src/buffer/row_chunk.rs
- [L11:L23]struct RowChunks {
    chunks: Arc<[RowChunk]>,
    version: clock::Global,
}
- [L103:L109]struct RowChunk {
    pub id: usize,
    pub start: BufferRow,
    pub end_exclusive: BufferRow,
    pub start_anchor: Anchor,
    pub end_anchor: Anchor,
}

## crates/language/src/buffer_tests.rs
- [L32:L32]static TRAILING_WHITESPACE_REGEX: LazyLock<regex::Regex> = LazyLock::new(|| {
- [L41:L43]fn init_logger() 
- [L46:L67]fn test_line_endings(cx: &mut gpui::App) 
- [L70:L145]fn test_set_line_ending(cx: &mut TestAppContext) 
- [L148:L235]fn test_select_language(cx: &mut App) 
- [L388:L394]fn file(path: &str) -> Arc<dyn File> 
- [L397:L490]fn test_edit_events(cx: &mut gpui::App) 
- [L953:L1002]fn test_outline_annotations(cx: &mut App) 
- [L1105:L1142]fn test_text_objects(cx: &mut App) 
- [L1145:L1191]fn test_text_objects_with_has_parent_predicate(cx: &mut App) 
- [L1194:L1240]fn test_text_objects_with_not_has_parent_predicate(cx: &mut App) 
- [L1243:L1363]fn test_enclosing_bracket_ranges(cx: &mut App) 
- [L1366:L1400]fn test_enclosing_bracket_ranges_where_brackets_are_not_outermost_children(cx: &mut App) 
- [L1403:L1450]fn test_range_for_syntax_ancestor(cx: &mut App) 
- [L1453:L1490]fn test_autoindent_with_soft_tabs(cx: &mut App) 
- [L1493:L1532]fn test_autoindent_with_hard_tabs(cx: &mut App) 

## crates/language/src/diagnostic_set.rs
- [L14:L23]struct DiagnosticSet {
    diagnostics: SumTree<DiagnosticEntry<Anchor>>,
}
- [L25:L35]struct DiagnosticEntry<T> {
    pub range: Range<T>,
    pub diagnostic: Diagnostic,
}
- [L37:L47]struct DiagnosticEntryRef<'a, T> {
    pub range: Range<T>,
    pub diagnostic: &'a Diagnostic,
}
- [L84:L92]struct DiagnosticGroup<'a, T> {
    pub entries: Vec<DiagnosticEntryRef<'a, T>>,
    pub primary_ix: usize,
}
- [L109:L115]struct Summary {
    start: Anchor,
    end: Anchor,
    min_start: Anchor,
    max_end: Anchor,
    count: usize,
}

## crates/language/src/highlight_map.rs
- [L6:L6]struct HighlightMap(Arc<[HighlightId]>);
- [L9:L9]struct HighlightId(pub u32);

## crates/language/src/language.rs
- [L13:L13]mod language_settings;
- [L16:L16]mod proto;
- [L23:L23]mod buffer_tests;
- [L96:L96]static QUERY_CURSORS: Mutex<Vec<QueryCursor>> = Mutex::new(vec![]);
- [L97:L97]static PARSERS: Mutex<Vec<Parser>> = Mutex::new(vec![]);
- [L99:L114]fn with_parser<F, R>(func: F) -> R
where
    F: FnOnce(&mut Parser) -> R,
- [L116:L122]fn with_query_cursor<F, R>(func: F) -> R
where
    F: FnOnce(&mut QueryCursor) -> R,
- [L124:L124]static NEXT_LANGUAGE_ID: AtomicUsize = AtomicUsize::new(0);
- [L125:L125]static NEXT_GRAMMAR_ID: AtomicUsize = AtomicUsize::new(0);
- [L126:L126]static WASM_ENGINE: LazyLock<wasmtime::Engine> = LazyLock::new(|| {
- [L131:L131]static PLAIN_TEXT: LazyLock<Arc<Language>> = LazyLock::new(|| {
- [L188:L188]trait ToLspPosition {
- [L194:L197]struct Location {
    pub buffer: Entity<Buffer>,
    pub range: Range<Anchor>,
}
- [L201:L201]type LanguageServerBinaryLocations = LocalBoxFuture<
- [L208:L218]struct CachedLspAdapter {
    pub name: LanguageServerName,
    pub disk_based_diagnostic_sources: Vec<String>,
    pub disk_based_diagnostics_progress_token: Option<String>,
    language_ids: HashMap<LanguageName, String>,
    pub adapter: Arc<dyn LspAdapter>,
    cached_binary: Arc<ServerBinaryCache>,
}
- [L342:L342]trait LspAdapterDelegate: Send + Sync {
- [L362:L371]struct PromptResponseContext {
    pub message: String,
    pub selected_action: lsp::MessageActionItem,
}
- [L374:L374]trait LspAdapter: 'static + Send + Sync + DynLspInstaller {
- [L544:L544]trait LspInstaller {
- [L586:L586]trait DynLspInstaller {
- [L763:L770]struct CodeLabel {
    pub text: String,
    pub runs: Vec<(Range<usize>, HighlightId)>,
    pub filter_range: Range<usize>,
}
- [L773:L780]struct CodeLabelBuilder {
    text: String,
    runs: Vec<(Range<usize>, HighlightId)>,
    filter_range: Range<usize>,
}
- [L783:L907]struct LanguageConfig {
    pub name: LanguageName,
    pub code_fence_block_name: Option<Arc<str>>,
    pub grammar: Option<Arc<str>>,
    pub matcher: LanguageMatcher,
    pub brackets: BracketPairConfig,
    pub auto_indent_using_last_non_empty_line: bool,
    pub auto_indent_on_paste: Option<bool>,
    pub increase_indent_pattern: Option<Regex>,
    pub decrease_indent_pattern: Option<Regex>,
    pub decrease_indent_patterns: Vec<DecreaseIndentConfig>,
    pub autoclose_before: String,
    pub collapsed_placeholder: String,
    pub line_comments: Vec<Arc<str>>,
    pub block_comment: Option<BlockCommentConfig>,
    pub documentation_comment: Option<BlockCommentConfig>,
    pub unordered_list: Vec<Arc<str>>,
    pub ordered_list: Vec<OrderedListConfig>,
    pub task_list: Option<TaskListConfig>,
    pub rewrap_prefixes: Vec<Regex>,
    pub scope_opt_in_language_servers: Vec<LanguageServerName>,
    pub overrides: HashMap<String, LanguageConfigOverride>,
    pub word_characters: HashSet<char>,
    pub hard_tabs: Option<bool>,
    pub tab_size: Option<NonZeroU32>,
    pub soft_wrap: Option<SoftWrap>,
    pub wrap_characters: Option<WrapCharactersConfig>,
    pub prettier_parser_name: Option<String>,
    pub hidden: bool,
    pub jsx_tag_auto_close: Option<JsxTagAutoCloseConfig>,
    pub completion_query_characters: HashSet<char>,
    pub linked_edit_characters: HashSet<char>,
    pub debuggers: IndexSet<SharedString>,
    pub ignored_import_segments: HashSet<Arc<str>>,
    pub import_path_strip_regex: Option<Regex>,
}
- [L910:L916]struct DecreaseIndentConfig {
    pub pattern: Option<Regex>,
    pub valid_after: Vec<String>,
}
- [L918:L925]struct OrderedListConfig {
    pub pattern: String,
    pub format: String,
}
- [L927:L934]struct TaskListConfig {
    pub prefixes: Vec<Arc<str>>,
    pub continuation: Arc<str>,
}
- [L937:L949]struct LanguageMatcher {
    pub path_suffixes: Vec<String>,
        default,
        serialize_with = "serialize_regex",
        deserialize_with = "deserialize_regex"
    )]
    pub first_line_pattern: Option<Regex>,
}
- [L951:L982]struct JsxTagAutoCloseConfig {
    pub open_tag_node_name: String,
    pub close_tag_node_name: String,
    pub jsx_element_node_name: String,
    pub tag_name_node_name: String,
    pub tag_name_node_name_alternates: Vec<String>,
    pub erroneous_close_tag_node_name: Option<String>,
    pub erroneous_close_tag_name_node_name: Option<String>,
}
- [L984:L996]struct BlockCommentConfig {
    pub start: Arc<str>,
    pub end: Arc<str>,
    pub prefix: Arc<str>,
    pub tab_size: u32,
}
- [L1037:L1044]struct LanguageScope {
    language: Arc<Language>,
    override_id: Option<u32>,
}
- [L1047:L1064]struct LanguageConfigOverride {
    pub line_comments: Override<Vec<Arc<str>>>,
    pub block_comment: Override<BlockCommentConfig>,
    pub disabled_bracket_ixs: Vec<u16>,
    pub word_characters: Override<HashSet<char>>,
    pub completion_query_characters: Override<HashSet<char>>,
    pub linked_edit_characters: Override<HashSet<char>>,
    pub opt_into_language_servers: Vec<LanguageServerName>,
    pub prefer_label_for_snippet: Option<bool>,
}
- [L1068:L1071]enum Override<T> {
    Remove { remove: bool },
    Set(T),
}
- [L1131:L1140]struct WrapCharactersConfig {
    pub start_prefix: String,
    pub start_suffix: String,
    pub end_prefix: String,
    pub end_suffix: String,
}
- [L1142:L1144]fn auto_indent_using_last_non_empty_line_default() -> bool 
- [L1146:L1153]fn deserialize_regex<'de, D: Deserializer<'de>>(d: D) -> Result<Option<Regex>, D::Error> 
- [L1155:L1159]fn regex_json_schema(_: &mut schemars::SchemaGenerator) -> schemars::Schema 
- [L1161:L1169]fn serialize_regex<S>(regex: &Option<Regex>, serializer: S) -> Result<S::Ok, S::Error>
where
    S: Serializer,
- [L1171:L1178]fn deserialize_regex_vec<'de, D: Deserializer<'de>>(d: D) -> Result<Vec<Regex>, D::Error> 
- [L1180:L1185]fn regex_vec_json_schema(_: &mut SchemaGenerator) -> schemars::Schema 
- [L1189:L1207]struct FakeLspAdapter {
    pub name: &'static str,
    pub initialization_options: Option<Value>,
    pub prettier_plugins: Vec<&'static str>,
    pub disk_based_diagnostics_progress_token: Option<String>,
    pub disk_based_diagnostics_sources: Vec<String>,
    pub language_server_binary: LanguageServerBinary,
    pub capabilities: lsp::ServerCapabilities,
    pub initializer: Option<Box<dyn 'static + Send + Sync + Fn(&mut lsp::FakeLanguageServer)>>,
    pub label_for_completion: Option<
        Box<
            dyn 'static
                + Send
                + Sync
                + Fn(&lsp::CompletionItem, &Arc<Language>) -> Option<CodeLabel>,
        >,
    >,
}
- [L1209:L1221]struct BracketPairConfig {
    pub pairs: Vec<BracketPair>,
    pub disabled_scopes_by_bracket_ix: Vec<Vec<String>>,
}
- [L1230:L1235]struct BracketPairContent {
    pub bracket_pair: BracketPair,
    pub not_in: Vec<String>,
}
- [L1255:L1271]struct BracketPair {
    pub start: String,
    pub end: String,
    pub close: bool,
    pub surround: bool,
    pub newline: bool,
}
- [L1274:L1274]struct LanguageId(usize);
- [L1282:L1289]struct Language {
    pub(crate) id: LanguageId,
    pub(crate) config: LanguageConfig,
    pub(crate) grammar: Option<Arc<Grammar>>,
    pub(crate) context_provider: Option<Arc<dyn ContextProvider>>,
    pub(crate) toolchain: Option<Arc<dyn ToolchainLister>>,
    pub(crate) manifest_name: Option<ManifestName>,
}
- [L1292:L1292]struct GrammarId(pub usize);
- [L1300:L1317]struct Grammar {
    id: GrammarId,
    pub ts_language: tree_sitter::Language,
    pub(crate) error_query: Option<Query>,
    pub highlights_config: Option<HighlightsConfig>,
    pub(crate) brackets_config: Option<BracketsConfig>,
    pub(crate) redactions_config: Option<RedactionConfig>,
    pub(crate) runnable_config: Option<RunnableConfig>,
    pub(crate) indents_config: Option<IndentConfig>,
    pub outline_config: Option<OutlineConfig>,
    pub text_object_config: Option<TextObjectConfig>,
    pub embedding_config: Option<EmbeddingConfig>,
    pub(crate) injection_config: Option<InjectionConfig>,
    pub(crate) override_config: Option<OverrideConfig>,
    pub(crate) debug_variables_config: Option<DebugVariablesConfig>,
    pub(crate) imports_config: Option<ImportsConfig>,
    pub(crate) highlight_map: Mutex<HighlightMap>,
}
- [L1319:L1322]struct HighlightsConfig {
    pub query: Query,
    pub identifier_capture_indices: Vec<u32>,
}
- [L1324:L1331]struct IndentConfig {
    query: Query,
    indent_capture_ix: u32,
    start_capture_ix: Option<u32>,
    end_capture_ix: Option<u32>,
    outdent_capture_ix: Option<u32>,
    suffixed_start_captures: HashMap<u32, SharedString>,
}
- [L1333:L1342]struct OutlineConfig {
    pub query: Query,
    pub item_capture_ix: u32,
    pub name_capture_ix: u32,
    pub context_capture_ix: Option<u32>,
    pub extra_context_capture_ix: Option<u32>,
    pub open_capture_ix: Option<u32>,
    pub close_capture_ix: Option<u32>,
    pub annotation_capture_ix: Option<u32>,
}
- [L1345:L1348]enum DebuggerTextObject {
    Variable,
    Scope,
}
- [L1361:L1368]enum TextObject {
    InsideFunction,
    AroundFunction,
    InsideClass,
    AroundClass,
    InsideComment,
    AroundComment,
}
- [L1393:L1396]struct TextObjectConfig {
    pub query: Query,
    pub text_objects_by_capture_ix: Vec<(u32, TextObject)>,
}
- [L1399:L1406]struct EmbeddingConfig {
    pub query: Query,
    pub item_capture_ix: u32,
    pub name_capture_ix: Option<u32>,
    pub context_capture_ix: Option<u32>,
    pub collapse_capture_ix: Option<u32>,
    pub keep_capture_ix: Option<u32>,
}
- [L1408:L1413]struct InjectionConfig {
    query: Query,
    content_capture_ix: u32,
    language_capture_ix: Option<u32>,
    patterns: Vec<InjectionPatternConfig>,
}
- [L1415:L1418]struct RedactionConfig {
    pub query: Query,
    pub redaction_capture_ix: u32,
}
- [L1421:L1424]enum RunnableCapture {
    Named(SharedString),
    Run,
}
- [L1426:L1430]struct RunnableConfig {
    pub query: Query,
    pub extra_captures: Vec<RunnableCapture>,
}
- [L1432:L1435]struct OverrideConfig {
    query: Query,
    values: HashMap<u32, OverrideEntry>,
}
- [L1438:L1442]struct OverrideEntry {
    name: String,
    range_is_inclusive: bool,
    value: LanguageConfigOverride,
}
- [L1445:L1448]struct InjectionPatternConfig {
    language: Option<Box<str>>,
    combined: bool,
}
- [L1451:L1456]struct BracketsConfig {
    query: Query,
    open_capture_ix: u32,
    close_capture_ix: u32,
    patterns: Vec<BracketsPatternConfig>,
}
- [L1459:L1462]struct BracketsPatternConfig {
    newline_only: bool,
    rainbow_exclude: bool,
}
- [L1464:L1467]struct DebugVariablesConfig {
    pub query: Query,
    pub objects_by_capture_ix: Vec<(u32, DebuggerTextObject)>,
}
- [L1469:L1478]struct ImportsConfig {
    pub query: Query,
    pub import_ix: u32,
    pub name_ix: Option<u32>,
    pub namespace_ix: Option<u32>,
    pub source_ix: Option<u32>,
    pub list_ix: Option<u32>,
    pub wildcard_ix: Option<u32>,
    pub alias_ix: Option<u32>,
}
- [L2659:L2662]enum Capture<'a> {
    Required(&'static str, &'a mut u32),
    Optional(&'static str, &'a mut Option<u32>),
}
- [L2664:L2719]fn populate_capture_indices(
    query: &Query,
    language_name: &LanguageName,
    query_type: &str,
    expected_prefixes: &[&str],
    captures: &mut [Capture<'_>],
) -> bool 
- [L2721:L2723]fn point_to_lsp(point: PointUtf16) -> lsp::Position 
- [L2725:L2727]fn point_from_lsp(point: lsp::Position) -> Unclipped<PointUtf16> 
- [L2729:L2740]fn range_to_lsp(range: Range<PointUtf16>) -> Result<lsp::Range> 
- [L2742:L2755]fn range_from_lsp(range: lsp::Range) -> Range<Unclipped<PointUtf16>> 
- [L2759:L2812]fn rust_lang() -> Arc<Language> 
- [L2816:L2850]fn markdown_lang() -> Arc<Language> 

## crates/language/src/language_registry.rs
- [L39:L39]struct LanguageName(pub SharedString);
- [L109:L114]struct LanguageRegistry {
    state: RwLock<LanguageRegistryState>,
    language_server_download_dir: Option<Arc<Path>>,
    executor: BackgroundExecutor,
    lsp_binary_status_tx: ServerStatusSender,
}
- [L116:L134]struct LanguageRegistryState {
    next_language_server_id: usize,
    languages: Vec<Arc<Language>>,
    language_settings: AllLanguageSettingsContent,
    available_languages: Vec<AvailableLanguage>,
    grammars: HashMap<Arc<str>, AvailableGrammar>,
    lsp_adapters: HashMap<LanguageName, Vec<Arc<CachedLspAdapter>>>,
    all_lsp_adapters: HashMap<LanguageServerName, Arc<CachedLspAdapter>>,
    available_lsp_adapters:
        HashMap<LanguageServerName, Arc<dyn Fn() -> Arc<CachedLspAdapter> + 'static + Send + Sync>>,
    loading_languages: HashMap<LanguageId, Vec<oneshot::Sender<Result<Arc<Language>>>>>,
    subscription: (watch::Sender<()>, watch::Receiver<()>),
    theme: Option<Arc<Theme>>,
    version: usize,
    reload_count: usize,
    fake_server_entries: HashMap<LanguageServerName, FakeLanguageServerEntry>,
}
- [L137:L142]struct FakeLanguageServerEntry {
    pub capabilities: lsp::ServerCapabilities,
    pub initializer: Option<Box<dyn 'static + Send + Sync + Fn(&mut lsp::FakeLanguageServer)>>,
    pub tx: futures::channel::mpsc::UnboundedSender<lsp::FakeLanguageServer>,
    pub _server: Option<lsp::FakeLanguageServer>,
}
- [L145:L148]enum LanguageServerStatusUpdate {
    Binary(BinaryStatus),
    Health(ServerHealth, Option<SharedString>),
}
- [L152:L156]enum ServerHealth {
    Ok,
    Warning,
    Error,
}
- [L159:L167]enum BinaryStatus {
    None,
    CheckingForUpdate,
    Downloading,
    Starting,
    Stopping,
    Stopped,
    Failed { error: String },
}
- [L170:L179]struct AvailableLanguage {
    id: LanguageId,
    name: LanguageName,
    grammar: Option<Arc<str>>,
    matcher: LanguageMatcher,
    hidden: bool,
    load: Arc<dyn Fn() -> Result<LoadedLanguage> + 'static + Send + Sync>,
    loaded: bool,
    manifest_name: Option<ManifestName>,
}
- [L196:L201]enum LanguageMatchPrecedence {
    Undetermined,
    PathOrContent(usize),
    UserConfigured(usize),
}
- [L203:L212]enum AvailableGrammar {
    Native(tree_sitter::Language),
    Loading(
        Vec<oneshot::Sender<Result<tree_sitter::Language, Arc<anyhow::Error>>>>,
    ),
    Unloaded(PathBuf),
    LoadFailed(Arc<anyhow::Error>),
}
- [L215:L215]struct LanguageNotFound;
- [L223:L223]const QUERY_FILENAME_PREFIXES: &[(
- [L241:L256]struct LanguageQueries {
    pub highlights: Option<Cow<'static, str>>,
    pub brackets: Option<Cow<'static, str>>,
    pub indents: Option<Cow<'static, str>>,
    pub outline: Option<Cow<'static, str>>,
    pub embedding: Option<Cow<'static, str>>,
    pub injections: Option<Cow<'static, str>>,
    pub overrides: Option<Cow<'static, str>>,
    pub redactions: Option<Cow<'static, str>>,
    pub runnables: Option<Cow<'static, str>>,
    pub text_objects: Option<Cow<'static, str>>,
    pub debugger: Option<Cow<'static, str>>,
    pub imports: Option<Cow<'static, str>>,
}
- [L259:L261]struct ServerStatusSender {
    txs: Arc<Mutex<Vec<mpsc::UnboundedSender<(LanguageServerName, BinaryStatus)>>>>,
}
- [L263:L269]struct LoadedLanguage {
    pub config: LanguageConfig,
    pub queries: LanguageQueries,
    pub context_provider: Option<Arc<dyn ContextProvider>>,
    pub toolchain_provider: Option<Arc<dyn ToolchainLister>>,
    pub manifest_name: Option<ManifestName>,
}

## crates/language/src/language_settings.rs
- [L22:L33]fn language_settings<'a>(
    language: Option<LanguageName>,
    file: Option<&'a Arc<dyn File>>,
    cx: &'a App,
) -> Cow<'a, LanguageSettings> 
- [L35:L45]fn all_language_settings<'a>(
    file: Option<&'a Arc<dyn File>>,
    cx: &'a App,
) -> &'a AllLanguageSettings 
- [L47:L55]struct AllLanguageSettings {
    pub edit_predictions: EditPredictionSettings,
    pub defaults: LanguageSettings,
    languages: HashMap<LanguageName, LanguageSettings>,
    pub file_types: FxHashMap<Arc<str>, (GlobSet, Vec<String>)>,
}
- [L58:L61]struct WhitespaceMap {
    pub space: SharedString,
    pub tab: SharedString,
}
- [L63:L169]struct LanguageSettings {
    pub tab_size: NonZeroU32,
    pub hard_tabs: bool,
    pub soft_wrap: settings::SoftWrap,
    pub preferred_line_length: u32,
    pub show_wrap_guides: bool,
    pub wrap_guides: Vec<usize>,
    pub indent_guides: IndentGuideSettings,
    pub format_on_save: FormatOnSave,
    pub remove_trailing_whitespace_on_save: bool,
    pub ensure_final_newline_on_save: bool,
    pub formatter: settings::FormatterList,
    pub prettier: PrettierSettings,
    pub jsx_tag_auto_close: bool,
    pub enable_language_server: bool,
    pub language_servers: Vec<String>,
    pub allow_rewrap: RewrapBehavior,
    pub show_edit_predictions: bool,
    pub edit_predictions_disabled_in: Vec<String>,
    pub show_whitespaces: settings::ShowWhitespaceSetting,
    pub whitespace_map: WhitespaceMap,
    pub extend_comment_on_newline: bool,
    pub extend_list_on_newline: bool,
    pub indent_list_on_tab: bool,
    pub inlay_hints: InlayHintSettings,
    pub use_autoclose: bool,
    pub use_auto_surround: bool,
    pub use_on_type_format: bool,
    pub auto_indent: bool,
    pub auto_indent_on_paste: bool,
    pub always_treat_brackets_as_autoclosed: bool,
    pub code_actions_on_format: HashMap<String, bool>,
    pub linked_edits: bool,
    pub tasks: LanguageTaskSettings,
    pub show_completions_on_input: bool,
    pub show_completion_documentation: bool,
    pub completions: CompletionSettings,
    pub debuggers: Vec<String>,
    pub word_diff_enabled: bool,
    pub colorize_brackets: bool,
}
- [L172:L196]struct CompletionSettings {
    pub words: WordsCompletionMode,
    pub words_min_length: usize,
    pub lsp: bool,
    pub lsp_fetch_timeout_ms: u64,
    pub lsp_insert_mode: LspInsertMode,
}
- [L198:L221]struct IndentGuideSettings {
    pub enabled: bool,
    pub line_width: u32,
    pub active_line_width: u32,
    pub coloring: settings::IndentGuideColoring,
    pub background_coloring: settings::IndentGuideBackgroundColoring,
}
- [L224:L236]struct LanguageTaskSettings {
    pub variables: HashMap<String, String>,
    pub enabled: bool,
    pub prefer_lsp: bool,
}
- [L238:L256]struct PrettierSettings {
    pub allowed: bool,
    pub parser: Option<String>,
    pub plugins: HashSet<String>,
    pub options: HashMap<String, serde_json::Value>,
}
- [L309:L355]struct InlayHintSettings {
    pub enabled: bool,
    pub show_value_hints: bool,
    pub show_type_hints: bool,
    pub show_parameter_hints: bool,
    pub show_other_hints: bool,
    pub show_background: bool,
    pub edit_debounce_ms: u64,
    pub scroll_debounce_ms: u64,
    pub toggle_on_modifiers_press: Option<Modifiers>,
}
- [L374:L396]struct EditPredictionSettings {
    pub provider: settings::EditPredictionProvider,
    pub use_context: bool,
    pub disabled_globs: Vec<DisabledGlob>,
    pub mode: settings::EditPredictionsMode,
    pub copilot: CopilotSettings,
    pub codestral: CodestralSettings,
    pub enabled_in_text_threads: bool,
    pub examples_dir: Option<Arc<Path>>,
}
- [L413:L416]struct DisabledGlob {
    matcher: GlobMatcher,
    is_absolute: bool,
}
- [L419:L426]struct CopilotSettings {
    pub proxy: Option<String>,
    pub proxy_no_verify: Option<bool>,
    pub enterprise_uri: Option<String>,
}
- [L429:L436]struct CodestralSettings {
    pub model: Option<String>,
    pub max_tokens: Option<u32>,
    pub api_url: Option<String>,
}
- [L480:L523]fn merge_with_editorconfig(settings: &mut LanguageSettings, cfg: &EditorconfigProperties) 
- [L713:L716]struct JsxTagAutoCloseSettings {
    pub enabled: bool,
}

## crates/language/src/manifest.rs
- [L8:L8]struct ManifestName(SharedString);
- [L40:L49]struct ManifestQuery {
    pub path: Arc<RelPath>,
    pub depth: usize,
    pub delegate: Arc<dyn ManifestDelegate>,
}
- [L51:L51]trait ManifestProvider {
- [L56:L56]trait ManifestDelegate: Send + Sync {

## crates/language/src/outline.rs
- [L6:L13]struct Outline<T> {
    pub items: Vec<OutlineItem<T>>,
    candidates: Vec<StringMatchCandidate>,
    pub path_candidates: Vec<StringMatchCandidate>,
    path_candidate_prefixes: Vec<usize>,
}
- [L16:L25]struct OutlineItem<T> {
    pub depth: usize,
    pub range: Range<T>,
    pub source_range_for_text: Range<T>,
    pub text: String,
    pub highlight_ranges: Vec<(Range<usize>, HighlightStyle)>,
    pub name_ranges: Vec<Range<usize>>,
    pub body_range: Option<Range<T>>,
    pub annotation_range: Option<Range<T>>,
}
- [L28:L28]struct SymbolPath(pub String);

## crates/language/src/proto.rs
- [L17:L23]fn deserialize_line_ending(message: proto::LineEnding) -> text::LineEnding 
- [L25:L31]fn serialize_line_ending(message: text::LineEnding) -> proto::LineEnding 
- [L33:L105]fn serialize_operation(operation: &crate::Operation) -> proto::Operation 
- [L107:L120]fn serialize_edit_operation(operation: &EditOperation) -> proto::operation::Edit 
- [L122:L138]fn serialize_undo_map_entry(
    (edit_id, counts): (&clock::Lamport, &[(clock::Lamport, u32)]),
) -> proto::UndoMapEntry 
- [L140:L164]fn split_operations(
    mut operations: Vec<proto::Operation>,
) -> impl Iterator<Item = Vec<proto::Operation>> 
- [L166:L169]fn serialize_selections(selections: &Arc<[Selection<Anchor>]>) -> Vec<proto::Selection> 
- [L171:L185]fn serialize_selection(selection: &Selection<Anchor>) -> proto::Selection 
- [L187:L195]fn serialize_cursor_shape(cursor_shape: &CursorShape) -> proto::CursorShape 
- [L197:L205]fn deserialize_cursor_shape(cursor_shape: proto::CursorShape) -> CursorShape 
- [L207:L250]fn serialize_diagnostics<'a>(
    diagnostics: impl IntoIterator<Item = &'a DiagnosticEntry<Anchor>>,
) -> Vec<proto::Diagnostic> 
- [L252:L264]fn serialize_anchor(anchor: &Anchor) -> proto::Anchor 
- [L266:L271]fn serialize_anchor_range(range: Range<Anchor>) -> proto::AnchorRange 
- [L273:L279]fn deserialize_anchor_range(range: proto::AnchorRange) -> Result<Range<Anchor>> 
- [L282:L373]fn deserialize_operation(message: proto::Operation) -> Result<crate::Operation> 
- [L375:L386]fn deserialize_edit_operation(edit: proto::operation::Edit) -> EditOperation 
- [L388:L411]fn deserialize_undo_map_entry(
    entry: proto::UndoMapEntry,
) -> (clock::Lamport, Vec<(clock::Lamport, u32)>) 
- [L413:L419]fn deserialize_selections(selections: Vec<proto::Selection>) -> Arc<[Selection<Anchor>]> 
- [L421:L430]fn deserialize_selection(selection: proto::Selection) -> Option<Selection<Anchor>> 
- [L432:L479]fn deserialize_diagnostics(
    diagnostics: Vec<proto::Diagnostic>,
) -> Arc<[DiagnosticEntry<Anchor>]> 
- [L481:L500]fn deserialize_anchor(anchor: proto::Anchor) -> Option<Anchor> 
- [L502:L537]fn lamport_timestamp_for_operation(operation: &proto::Operation) -> Option<clock::Lamport> 
- [L539:L551]fn serialize_transaction(transaction: &Transaction) -> proto::Transaction 
- [L553:L564]fn deserialize_transaction(transaction: proto::Transaction) -> Result<Transaction> 
- [L566:L572]fn serialize_timestamp(timestamp: clock::Lamport) -> proto::LamportTimestamp 
- [L574:L580]fn deserialize_timestamp(timestamp: proto::LamportTimestamp) -> clock::Lamport 
- [L582:L588]fn serialize_range(range: &Range<FullOffset>) -> proto::Range 
- [L590:L593]fn deserialize_range(range: proto::Range) -> Range<FullOffset> 
- [L595:L605]fn deserialize_version(message: &[proto::VectorClockEntry]) -> clock::Global 
- [L607:L616]fn serialize_version(version: &clock::Global) -> Vec<proto::VectorClockEntry> 
- [L618:L632]fn serialize_lsp_edit(edit: lsp::TextEdit) -> proto::TextEdit 
- [L634:L646]fn deserialize_lsp_edit(edit: proto::TextEdit) -> Option<lsp::TextEdit> 

## crates/language/src/syntax_map.rs
- [L27:L27]const MAX_BYTES_TO_QUERY: usize = 16 * 1024;
- [L29:L32]struct SyntaxMap {
    snapshot: SyntaxSnapshot,
    language_registry: Option<Arc<LanguageRegistry>>,
}
- [L35:L41]struct SyntaxSnapshot {
    layers: SumTree<SyntaxLayerEntry>,
    parsed_version: clock::Global,
    interpolated_version: clock::Global,
    language_registry_version: usize,
    update_count: usize,
}
- [L44:L48]struct SyntaxMapCaptures<'a> {
    layers: Vec<SyntaxMapCapturesLayer<'a>>,
    active_layer_count: usize,
    grammars: Vec<&'a Grammar>,
}
- [L51:L55]struct SyntaxMapMatches<'a> {
    layers: Vec<SyntaxMapMatchesLayer<'a>>,
    active_layer_count: usize,
    grammars: Vec<&'a Grammar>,
}
- [L58:L62]struct SyntaxMapCapture<'a> {
    pub node: Node<'a>,
    pub index: u32,
    pub grammar_index: usize,
}
- [L65:L71]struct SyntaxMapMatch<'a> {
    pub language: Arc<Language>,
    pub depth: usize,
    pub pattern_index: usize,
    pub captures: &'a [QueryCapture<'a>],
    pub grammar_index: usize,
}
- [L73:L79]struct SyntaxMapCapturesLayer<'a> {
    depth: usize,
    captures: QueryCaptures<'a, 'a, TextProvider<'a>, &'a [u8]>,
    next_capture: Option<QueryCapture<'a>>,
    grammar_index: usize,
    _query_cursor: QueryCursorHandle,
}
- [L81:L91]struct SyntaxMapMatchesLayer<'a> {
    language: Arc<Language>,
    depth: usize,
    next_pattern_index: usize,
    next_captures: Vec<QueryCapture<'a>>,
    has_next: bool,
    matches: QueryMatches<'a, 'a, TextProvider<'a>, &'a [u8]>,
    query: &'a Query,
    grammar_index: usize,
    _query_cursor: QueryCursorHandle,
}
- [L94:L98]struct SyntaxLayerEntry {
    depth: usize,
    range: Range<Anchor>,
    content: SyntaxLayerContent,
}
- [L101:L110]enum SyntaxLayerContent {
    Parsed {
        tree: tree_sitter::Tree,
        language: Arc<Language>,
        included_sub_ranges: Option<Vec<Range<Anchor>>>,
    },
    Pending {
        language_name: Arc<str>,
    },
}
- [L128:L138]struct SyntaxLayer<'a> {
    pub language: &'a Arc<Language>,
    pub included_sub_ranges: Option<&'a [Range<Anchor>]>,
    pub(crate) depth: usize,
    tree: &'a Tree,
    pub(crate) offset: (usize, tree_sitter::Point),
}
- [L140:L148]struct OwnedSyntaxLayer {
    pub language: Arc<Language>,
    tree: tree_sitter::Tree,
    pub offset: (usize, tree_sitter::Point),
}
- [L151:L158]struct SyntaxLayerSummary {
    min_depth: usize,
    max_depth: usize,
    range: Range<Anchor>,
    last_layer_range: Range<Anchor>,
    last_layer_language: Option<LanguageId>,
    contains_unknown_injections: bool,
}
- [L161:L165]struct SyntaxLayerPosition {
    depth: usize,
    range: Range<Anchor>,
    language: Option<LanguageId>,
}
- [L168:L171]struct ChangeStartPosition {
    depth: usize,
    position: Anchor,
}
- [L174:L177]struct SyntaxLayerPositionBeforeChange {
    position: SyntaxLayerPosition,
    change: ChangeStartPosition,
}
- [L179:L185]struct ParseStep {
    depth: usize,
    language: ParseStepLanguage,
    range: Range<Anchor>,
    included_ranges: Vec<tree_sitter::Range>,
    mode: ParseMode,
}
- [L188:L191]enum ParseStepLanguage {
    Loaded { language: Arc<Language> },
    Pending { name: Arc<str> },
}
- [L209:L215]enum ParseMode {
    Single,
    Combined {
        parent_layer_range: Range<usize>,
        parent_layer_changed_ranges: Vec<Range<usize>>,
    },
}
- [L218:L221]struct ChangedRegion {
    depth: usize,
    range: Range<Anchor>,
}
- [L224:L224]struct ChangeRegionSet(Vec<ChangedRegion>);
- [L226:L226]struct TextProvider<'a>(&'a Rope);
- [L228:L228]struct ByteChunks<'a>(text::Chunks<'a>);
- [L1104:L1107]struct TreeSitterOptions {
    pub max_start_depth: Option<u32>,
    pub max_bytes_to_query: Option<usize>,
}
- [L1310:L1322]fn satisfies_custom_predicates(query: &Query, mat: &QueryMatch) -> bool 
- [L1324:L1341]fn has_parent(args: &[QueryPredicateArg], mat: &QueryMatch) -> bool 
- [L1343:L1373]fn join_ranges(
    a: impl Iterator<Item = Range<usize>>,
    b: impl Iterator<Item = Range<usize>>,
) -> Vec<Range<usize>> 
- [L1375:L1397]fn parse_text(
    grammar: &Grammar,
    text: &Rope,
    start_byte: usize,
    ranges: &[tree_sitter::Range],
    old_tree: Option<Tree>,
) -> anyhow::Result<Tree> 
- [L1399:L1528]fn get_injections(
    config: &InjectionConfig,
    text: &BufferSnapshot,
    outer_range: Range<Anchor>,
    node: Node,
    language_registry: &Arc<LanguageRegistry>,
    depth: usize,
    changed_ranges: &[Range<usize>],
    combined_injection_ranges: &mut HashMap<LanguageId, (Arc<Language>, Vec<tree_sitter::Range>)>,
    queue: &mut BinaryHeap<ParseStep>,
) 
- [L1626:L1671]fn insert_newlines_between_ranges(
    indices: Range<usize>,
    ranges: &mut Vec<tree_sitter::Range>,
    text: &text::BufferSnapshot,
    start_byte: usize,
    start_point: Point,
) 
- [L1999:L1999]trait ToTreeSitterPoint {
- [L2014:L2014]struct LogIncludedRanges<'a>(&'a [tree_sitter::Range]);
- [L2015:L2015]struct LogPoint(Point);
- [L2016:L2016]struct LogAnchorRange<'a>(&'a Range<Anchor>, &'a text::BufferSnapshot);
- [L2017:L2017]struct LogOffsetRanges<'a>(&'a [Range<usize>], &'a text::BufferSnapshot);
- [L2018:L2018]struct LogChangedRegions<'a>(&'a ChangeRegionSet, &'a text::BufferSnapshot);

## crates/language/src/syntax_map/syntax_map_tests.rs
- [L15:L82]fn test_splice_included_ranges() 
- [L85:L179]fn test_syntax_map_layers_for_range(cx: &mut App) 
- [L182:L267]fn test_dynamic_language_injection(cx: &mut App) 
- [L270:L297]fn test_typing_multiple_new_injections(cx: &mut App) 
- [L300:L345]fn test_pasting_new_injection_line_between_others(cx: &mut App) 
- [L348:L390]fn test_joining_injections_with_child_injections(cx: &mut App) 
- [L393:L420]fn test_editing_edges_of_injection(cx: &mut App) 
- [L423:L433]fn test_edits_preceding_and_intersecting_injection(cx: &mut App) 
- [L436:L453]fn test_non_local_changes_create_injections(cx: &mut App) 
- [L456:L484]fn test_creating_many_injections_in_one_edit(cx: &mut App) 
- [L487:L513]fn test_editing_across_injection_boundary(cx: &mut App) 
- [L516:L540]fn test_removing_injection_by_replacing_across_boundary(cx: &mut App) 
- [L543:L588]fn test_combined_injections_simple(cx: &mut App) 
- [L591:L607]fn test_combined_injections_empty_ranges(cx: &mut App) 
- [L610:L639]fn test_combined_injections_edit_edges_of_ranges(cx: &mut App) 
- [L642:L665]fn test_combined_injections_splitting_some_injections(cx: &mut App) 
- [L668:L686]fn test_combined_injections_editing_after_last_injection(cx: &mut App) 
- [L689:L763]fn test_combined_injections_inside_injections(cx: &mut App) 
- [L766:L797]fn test_empty_combined_injections_inside_injections(cx: &mut App) 
- [L800:L881]fn test_syntax_map_languages_loading_with_erb(cx: &mut App) 
- [L884:L907]fn test_random_syntax_map_edits_rust_macros(rng: StdRng, cx: &mut App) 
- [L910:L936]fn test_random_syntax_map_edits_with_erb(rng: StdRng, cx: &mut App) 
- [L939:L969]fn test_random_syntax_map_edits_with_heex(rng: StdRng, cx: &mut App) 
- [L971:L1035]fn test_random_edits(
    text: String,
    registry: Arc<LanguageRegistry>,
    language: Arc<Language>,
    mut rng: StdRng,
) 
- [L1037:L1144]fn check_interpolation(
    old_syntax_map: &SyntaxSnapshot,
    new_syntax_map: &SyntaxSnapshot,
    old_buffer: &BufferSnapshot,
    new_buffer: &BufferSnapshot,
) 
- [L1146:L1208]fn test_edit_sequence(language_name: &str, steps: &[&str], cx: &mut App) -> (Buffer, SyntaxMap) 
- [L1210:L1230]fn html_lang() -> Language 
- [L1232:L1252]fn ruby_lang() -> Language 
- [L1254:L1288]fn erb_lang() -> Language 
- [L1290:L1308]fn elixir_lang() -> Language 
- [L1310:L1340]fn heex_lang() -> Language 
- [L1342:L1345]fn range_for_text(buffer: &Buffer, text: &str) -> Range<usize> 
- [L1348:L1372]fn assert_layers_for_range(
    syntax_map: &SyntaxMap,
    buffer: &BufferSnapshot,
    range: Range<Point>,
    expected_layers: &[&str],
) 
- [L1375:L1404]fn assert_capture_ranges(
    syntax_map: &SyntaxMap,
    buffer: &BufferSnapshot,
    highlight_query_capture_names: &[&str],
    marked_string: &str,
) 
- [L1406:L1416]fn string_contains_sequence(text: &str, parts: &[&str]) -> bool 

## crates/language/src/task_context.rs
- [L13:L19]struct RunnableRange {
    pub buffer_id: BufferId,
    pub run_range: Range<usize>,
    pub full_range: Range<usize>,
    pub runnable: Runnable,
    pub extra_captures: HashMap<String, String>,
}
- [L25:L25]trait ContextProvider: Send + Sync {
- [L50:L55]struct ContextLocation<'a> {
    pub fs: Option<Arc<dyn Fs>>,
    pub worktree_root: Option<PathBuf>,
    pub file_location: &'a Location,
}

## crates/language/src/text_diff.rs
- [L13:L16]fn unified_diff(old_text: &str, new_text: &str) -> String 
- [L18:L32]fn unified_diff_with_offsets(
    old_text: &str,
    new_text: &str,
    old_start_line: u32,
    new_start_line: u32,
) -> String 
- [L34:L51]struct OffsetUnifiedDiffBuilder<'a> {
    before: &'a [Token],
    after: &'a [Token],
    interner: &'a Interner<&'a str>,
    pos: u32,
    before_hunk_start: u32,
    after_hunk_start: u32,
    before_hunk_len: u32,
    after_hunk_len: u32,
    old_line_offset: u32,
    new_line_offset: u32,
    buffer: String,
    dst: String,
}
- [L137:L149]fn line_diff(old_text: &str, new_text: &str) -> Vec<(Range<u32>, Range<u32>)> 
- [L151:L159]fn text_diff(old_text: &str, new_text: &str) -> Vec<(Range<usize>, Arc<str>)> 
- [L161:L200]fn word_diff_ranges(
    old_text: &str,
    new_text: &str,
    options: DiffOptions,
) -> (Vec<Range<usize>>, Vec<Range<usize>>) 
- [L202:L206]struct DiffOptions {
    pub language_scope: Option<LanguageScope>,
    pub max_word_diff_len: usize,
    pub max_word_diff_line_count: usize,
}
- [L218:L276]fn text_diff_with_options(
    old_text: &str,
    new_text: &str,
    options: DiffOptions,
) -> Vec<(Range<usize>, Arc<str>)> 
- [L278:L282]fn apply_diff_patch(base_text: &str, patch: &str) -> Result<String, anyhow::Error> 
- [L284:L297]fn should_perform_word_diff_within_hunk(
    old_row_range: &Range<u32>,
    old_byte_range: &Range<usize>,
    new_row_range: &Range<u32>,
    new_byte_range: &Range<usize>,
    options: &DiffOptions,
) -> bool 
- [L299:L336]fn diff_internal(
    input: &InternedInput<&str>,
    mut on_change: impl FnMut(Range<usize>, Range<usize>, Range<u32>, Range<u32>),
) 
- [L338:L366]fn tokenize(text: &str, language_scope: Option<LanguageScope>) -> impl Iterator<Item = &str> 
- [L368:L373]fn token_len(input: &InternedInput<&str>, tokens: &[Token]) -> usize 

## crates/language/src/toolchain.rs
- [L22:L32]struct Toolchain {
    pub name: SharedString,
    pub path: SharedString,
    pub language_name: LanguageName,
    pub as_json: serde_json::Value,
}
- [L34:L46]enum ToolchainScope {
    Subproject(Arc<Path>, Arc<RelPath>),
    Project,
    Global,
}
- [L97:L97]trait ToolchainLister: Send + Sync + 'static {
- [L123:L130]struct ToolchainMetadata {
    pub term: SharedString,
    pub new_toolchain_placeholder: SharedString,
    pub manifest_name: ManifestName,
}
- [L133:L133]trait LanguageToolchainStore: Send + Sync + 'static {
- [L143:L143]trait LocalLanguageToolchainStore: Send + Sync + 'static {
- [L168:L172]struct ToolchainList {
    pub toolchains: Vec<Toolchain>,
    pub default: Option<DefaultIndex>,
    pub groups: Box<[(usize, SharedString)]>,
}

## crates/language_extension/src/extension_lsp_adapter.rs
- [L25:L26]struct WorktreeDelegateAdapter(pub Arc<dyn LspAdapterDelegate>);
- [L135:L139]struct ExtensionLspAdapter {
    extension: Arc<dyn Extension>,
    language_server_id: LanguageServerName,
    language_name: LanguageName,
}
- [L449:L465]fn labels_from_extension(
    labels: Vec<Option<extension::CodeLabel>>,
    language: &Arc<Language>,
) -> Vec<Option<CodeLabel>> 
- [L467:L521]fn build_code_label(
    label: &extension::CodeLabel,
    parsed_runs: &[(Range<usize>, HighlightId)],
    language: &Arc<Language>,
) -> Option<CodeLabel> 
- [L523:L535]fn lsp_completion_to_extension(value: lsp::CompletionItem) -> extension::Completion 
- [L537:L544]fn lsp_completion_item_label_details_to_extension(
    value: lsp::CompletionItemLabelDetails,
) -> extension::CompletionLabelDetails 
- [L546:L577]fn lsp_completion_item_kind_to_extension(
    value: lsp::CompletionItemKind,
) -> extension::CompletionKind 
- [L579:L587]fn lsp_insert_text_format_to_extension(
    value: lsp::InsertTextFormat,
) -> extension::InsertTextFormat 
- [L589:L619]fn lsp_symbol_kind_to_extension(value: lsp::SymbolKind) -> extension::SymbolKind 
- [L621:L628]fn extract_int<T: Serialize>(value: T) -> i32 
- [L631:L670]fn test_build_code_label() 
- [L673:L716]fn test_build_code_label_with_invalid_ranges() 

## crates/language_extension/src/language_extension.rs
- [L13:L17]enum LspAccess {
    ViaLspStore(Entity<LspStore>),
    ViaWorkspaces(Arc<dyn Fn(&mut App) -> Result<Vec<Entity<LspStore>>> + Send + Sync + 'static>),
    Noop,
}
- [L19:L31]fn init(
    lsp_access: LspAccess,
    extension_host_proxy: Arc<ExtensionHostProxy>,
    language_registry: Arc<LanguageRegistry>,
) 
- [L34:L37]struct LanguageServerRegistryProxy {
    language_registry: Arc<LanguageRegistry>,
    lsp_access: LspAccess,
}

## crates/language_model/src/api_key.rs
- [L14:L24]struct ApiKeyState {
    pub url: SharedString,
    env_var: EnvVar,
    load_status: LoadStatus,
    load_task: Option<future::Shared<Task<()>>>,
}
- [L27:L31]enum LoadStatus {
    NotPresent,
    Error(String),
    Loaded(ApiKey),
}
- [L34:L37]struct ApiKey {
    source: ApiKeySource,
    key: Arc<str>,
}
- [L288:L291]enum ApiKeySource {
    EnvVar(SharedString),
    SystemKeychain,
}

## crates/language_model/src/fake_provider.rs
- [L19:L22]struct FakeLanguageModelProvider {
    id: LanguageModelProviderId,
    name: LanguageModelProviderName,
}
- [L95:L100]struct ToolUseRequest {
    pub request: LanguageModelRequest,
    pub name: String,
    pub description: String,
    pub schema: serde_json::Value,
}
- [L102:L114]struct FakeLanguageModel {
    provider_id: LanguageModelProviderId,
    provider_name: LanguageModelProviderName,
    current_completion_txs: Mutex<
        Vec<(
            LanguageModelRequest,
            mpsc::UnboundedSender<
                Result<LanguageModelCompletionEvent, LanguageModelCompletionError>,
            >,
        )>,
    >,
    forbid_requests: AtomicBool,
}

## crates/language_model/src/language_model.rs
- [L8:L8]mod tool_schema;
- [L11:L11]mod fake_provider;
- [L44:L44]const ANTHROPIC_PROVIDER_ID: LanguageModelProviderId =
- [L46:L46]const ANTHROPIC_PROVIDER_NAME: LanguageModelProviderName =
- [L49:L49]const GOOGLE_PROVIDER_ID: LanguageModelProviderId = LanguageModelProviderId::new("google");
- [L50:L50]const GOOGLE_PROVIDER_NAME: LanguageModelProviderName =
- [L53:L53]const OPEN_AI_PROVIDER_ID: LanguageModelProviderId = LanguageModelProviderId::new("openai");
- [L54:L54]const OPEN_AI_PROVIDER_NAME: LanguageModelProviderName =
- [L57:L57]const X_AI_PROVIDER_ID: LanguageModelProviderId = LanguageModelProviderId::new("x_ai");
- [L58:L58]const X_AI_PROVIDER_NAME: LanguageModelProviderName = LanguageModelProviderName::new("xAI");
- [L60:L60]const ZED_CLOUD_PROVIDER_ID: LanguageModelProviderId = LanguageModelProviderId::new("zed.dev");
- [L61:L61]const ZED_CLOUD_PROVIDER_NAME: LanguageModelProviderName =
- [L64:L67]fn init(client: Arc<Client>, cx: &mut App) 
- [L69:L71]fn init_settings(cx: &mut App) 
- [L73:L106]enum LanguageModelCompletionEvent {
    Queued {
        position: usize,
    },
    Started,
    UsageUpdated {
        amount: usize,
        limit: UsageLimit,
    },
    ToolUseLimitReached,
    Stop(StopReason),
    Text(String),
    Thinking {
        text: String,
        signature: Option<String>,
    },
    RedactedThinking {
        data: String,
    },
    ToolUse(LanguageModelToolUse),
    ToolUseJsonParseError {
        id: LanguageModelToolUseId,
        tool_name: Arc<str>,
        raw_input: Arc<str>,
        json_parse_error: String,
    },
    StartMessage {
        message_id: String,
    },
    ReasoningDetails(serde_json::Value),
    UsageUpdate(TokenUsage),
}
- [L140:L225]enum LanguageModelCompletionError {
    PromptTooLarge { tokens: Option<u64> },
    NoApiKey { provider: LanguageModelProviderName },
    RateLimitExceeded {
        provider: LanguageModelProviderName,
        retry_after: Option<Duration>,
    },
    ServerOverloaded {
        provider: LanguageModelProviderName,
        retry_after: Option<Duration>,
    },
    ApiInternalServerError {
        provider: LanguageModelProviderName,
        message: String,
    },
    UpstreamProviderError {
        message: String,
        status: StatusCode,
        retry_after: Option<Duration>,
    },
    HttpResponseError {
        provider: LanguageModelProviderName,
        status_code: StatusCode,
        message: String,
    },
    BadRequestFormat {
        provider: LanguageModelProviderName,
        message: String,
    },
    AuthenticationError {
        provider: LanguageModelProviderName,
        message: String,
    },
    PermissionError {
        provider: LanguageModelProviderName,
        message: String,
    },
    ApiEndpointNotFound { provider: LanguageModelProviderName },
    ApiReadResponseError {
        provider: LanguageModelProviderName,
        error: io::Error,
    },
    SerializeRequest {
        provider: LanguageModelProviderName,
        error: serde_json::Error,
    },
    BuildRequestBody {
        provider: LanguageModelProviderName,
        error: http::Error,
    },
    HttpSend {
        provider: LanguageModelProviderName,
        error: anyhow::Error,
    },
    DeserializeResponse {
        provider: LanguageModelProviderName,
        error: serde_json::Error,
    },
}
- [L480:L485]enum StopReason {
    EndTurn,
    MaxTokens,
    ToolUse,
    Refusal,
}
- [L488:L497]struct TokenUsage {
    pub input_tokens: u64,
    pub output_tokens: u64,
    pub cache_creation_input_tokens: u64,
    pub cache_read_input_tokens: u64,
}
- [L537:L537]struct LanguageModelToolUseId(Arc<str>);
- [L555:L564]struct LanguageModelToolUse {
    pub id: LanguageModelToolUseId,
    pub name: Arc<str>,
    pub raw_input: String,
    pub input: serde_json::Value,
    pub is_input_complete: bool,
    pub thought_signature: Option<String>,
}
- [L566:L571]struct LanguageModelTextStream {
    pub message_id: Option<String>,
    pub stream: BoxStream<'static, Result<String, LanguageModelCompletionError>>,
    pub last_token_usage: Arc<Mutex<TokenUsage>>,
}
- [L583:L583]trait LanguageModel: Send + Sync {
- [L762:L762]trait LanguageModelExt: LanguageModel {
- [L789:L798]enum AuthenticateError {
    ConnectionRefused,
    CredentialsNotFound,
}
- [L800:L807]enum IconOrSvg {
    Icon(IconName),
    Svg(SharedString),
}
- [L815:L815]trait LanguageModelProvider: 'static {
- [L839:L843]enum ConfigurationViewTargetAgent {
    ZedAgent,
    Other(SharedString),
}
- [L846:L853]enum LanguageModelProviderTosView {
    ThreadEmptyState,
    ThreadFreshStart,
    TextThreadPopup,
    Configuration,
}
- [L855:L855]trait LanguageModelProviderState: 'static {
- [L873:L873]struct LanguageModelId(pub SharedString);
- [L876:L876]struct LanguageModelName(pub SharedString);
- [L879:L879]struct LanguageModelProviderId(pub SharedString);
- [L882:L882]struct LanguageModelProviderName(pub SharedString);

## crates/language_model/src/model/cloud_model.rs
- [L13:L13]struct PaymentRequiredError;
- [L25:L27]struct ModelRequestLimitReachedError {
    pub plan: Plan,
}
- [L49:L49]struct ToolUseLimitReachedError;
- [L61:L61]struct LlmApiToken(Arc<RwLock<Option<String>>>);
- [L92:L92]struct GlobalRefreshLlmTokenListener(Entity<RefreshLlmTokenListener>);
- [L96:L96]struct RefreshLlmTokenEvent;
- [L98:L98]struct RefreshLlmTokenListener;

## crates/language_model/src/model/mod.rs
- [L1:L1]mod cloud_model;

## crates/language_model/src/rate_limiter.rs
- [L13:L15]struct RateLimiter {
    semaphore: Arc<Semaphore>,
}
- [L17:L20]struct RateLimitGuard<T> {
    inner: T,
    _guard: SemaphoreGuardArc,
}

## crates/language_model/src/registry.rs
- [L13:L13]type BuiltinProviderHidingFn = Box<dyn Fn(&str) -> Option<&'static str> + Send + Sync>;
- [L11:L18]fn init(cx: &mut App) 
- [L20:L20]struct GlobalLanguageModelRegistry(Entity<LanguageModelRegistry>);
- [L25:L32]enum ConfigurationError {
    NoProvider,
    ModelNotFound,
    ProviderNotAuthenticated(Arc<dyn LanguageModelProvider>),
}
- [L47:L60]struct LanguageModelRegistry {
    default_model: Option<ConfiguredModel>,
    default_fast_model: Option<ConfiguredModel>,
    inline_assistant_model: Option<ConfiguredModel>,
    commit_message_model: Option<ConfiguredModel>,
    thread_summary_model: Option<ConfiguredModel>,
    providers: BTreeMap<LanguageModelProviderId, Arc<dyn LanguageModelProvider>>,
    inline_alternatives: Vec<Arc<dyn LanguageModel>>,
    installed_llm_extension_ids: HashSet<Arc<str>>,
    builtin_provider_hiding_fn: Option<BuiltinProviderHidingFn>,
}
- [L63:L66]struct SelectedModel {
    pub provider: LanguageModelProviderId,
    pub model: LanguageModelId,
}
- [L93:L96]struct ConfiguredModel {
    pub provider: Arc<dyn LanguageModelProvider>,
    pub model: Arc<dyn LanguageModel>,
}
- [L108:L118]enum Event {
    DefaultModelChanged,
    InlineAssistantModelChanged,
    CommitMessageModelChanged,
    ThreadSummaryModelChanged,
    ProviderStateChanged(LanguageModelProviderId),
    AddedProvider(LanguageModelProviderId),
    RemovedProvider(LanguageModelProviderId),
    ProvidersChanged,
}

## crates/language_model/src/request.rs
- [L20:L25]struct LanguageModelImage {
    pub source: SharedString,
    pub size: Option<Size<DevicePixels>>,
}
- [L211:L215]fn encode_png_bytes(image: &image::DynamicImage) -> Result<Vec<u8>> 
- [L217:L227]fn encode_bytes_as_base64(bytes: &[u8]) -> Result<Vec<u8>> 
- [L230:L236]struct LanguageModelToolResult {
    pub tool_use_id: LanguageModelToolUseId,
    pub tool_name: Arc<str>,
    pub is_error: bool,
    pub content: LanguageModelToolResultContent,
    pub output: Option<serde_json::Value>,
}
- [L239:L242]enum LanguageModelToolResultContent {
    Text(Arc<str>),
    Image(LanguageModelImage),
}
- [L355:L365]enum MessageContent {
    Text(String),
    Thinking {
        text: String,
        signature: Option<String>,
    },
    RedactedThinking(String),
    Image(LanguageModelImage),
    ToolUse(LanguageModelToolUse),
    ToolResult(LanguageModelToolResult),
}
- [L403:L409]struct LanguageModelRequestMessage {
    pub role: Role,
    pub content: Vec<MessageContent>,
    pub cache: bool,
    pub reasoning_details: Option<serde_json::Value>,
}
- [L427:L431]struct LanguageModelRequestTool {
    pub name: String,
    pub description: String,
    pub input_schema: serde_json::Value,
}
- [L434:L438]enum LanguageModelToolChoice {
    Auto,
    Any,
    None,
}
- [L441:L452]struct LanguageModelRequest {
    pub thread_id: Option<String>,
    pub prompt_id: Option<String>,
    pub intent: Option<CompletionIntent>,
    pub mode: Option<CompletionMode>,
    pub messages: Vec<LanguageModelRequestMessage>,
    pub tools: Vec<LanguageModelRequestTool>,
    pub tool_choice: Option<LanguageModelToolChoice>,
    pub stop: Vec<String>,
    pub temperature: Option<f32>,
    pub thinking_allowed: bool,
}
- [L455:L458]struct LanguageModelResponseMessage {
    pub role: Option<Role>,
    pub content: Option<String>,
}

## crates/language_model/src/role.rs
- [L6:L10]enum Role {
    User,
    Assistant,
    System,
}

## crates/language_model/src/telemetry.rs
- [L11:L16]struct AnthropicEventData {
    pub completion_type: AnthropicCompletionType,
    pub event: AnthropicEventType,
    pub language_name: Option<String>,
    pub message_id: Option<String>,
}
- [L19:L23]enum AnthropicCompletionType {
    Editor,
    Terminal,
    Panel,
}
- [L26:L31]enum AnthropicEventType {
    Invoked,
    Response,
    Accept,
    Reject,
}
- [L54:L61]fn report_anthropic_event(
    model: &Arc<dyn crate::LanguageModel>,
    event: AnthropicEventData,
    cx: &gpui::App,
) 
- [L64:L69]struct AnthropicEventReporter {
    http_client: Arc<dyn HttpClient>,
    executor: BackgroundExecutor,
    api_key: Option<String>,
    is_anthropic: bool,
}

## crates/language_model/src/tool_schema.rs
- [L9:L16]enum LanguageModelToolSchemaFormat {
    JsonSchema,
    JsonSchemaSubset,
}
- [L18:L30]fn root_schema_for<T: JsonSchema>(format: LanguageModelToolSchemaFormat) -> Schema 
- [L33:L33]struct ToJsonSchemaSubsetTransform;
- [L55:L71]fn adapt_schema_to_format(
    json: &mut Value,
    format: LanguageModelToolSchemaFormat,
) -> Result<()> 
- [L73:L89]fn preprocess_json_schema(json: &mut Value) -> Result<()> 
- [L91:L149]fn adapt_to_json_schema_subset(json: &mut Value) -> Result<()> 

## crates/language_models/src/extension.rs
- [L11:L11]static BUILTIN_TO_EXTENSION_MAP: LazyLock<HashMap<&'static str, &'static str>> =
- [L22:L25]fn extension_for_builtin_provider(provider_id: &str) -> Option<&'static str> 
- [L27:L30]struct LanguageModelProviderRegistryProxy {
    registry: Entity<LanguageModelRegistry>,
}
- [L55:L67]fn init_proxy(cx: &mut App) 

## crates/language_models/src/language_models.rs
- [L10:L10]mod extension;
- [L11:L11]mod provider;
- [L31:L122]fn init(user_store: Entity<UserStore>, client: Arc<Client>, cx: &mut App) 
- [L124:L149]fn register_openai_compatible_providers(
    registry: &mut LanguageModelRegistry,
    old: &HashSet<Arc<str>>,
    new: &HashSet<Arc<str>>,
    client: Arc<Client>,
    cx: &mut Context<LanguageModelRegistry>,
) 
- [L151:L216]fn register_language_model_providers(
    registry: &mut LanguageModelRegistry,
    user_store: Entity<UserStore>,
    client: Arc<Client>,
    cx: &mut Context<LanguageModelRegistry>,
) 

## crates/language_models/src/provider.rs
- [L1:L1]mod anthropic;
- [L2:L2]mod bedrock;
- [L3:L3]mod cloud;
- [L4:L4]mod copilot_chat;
- [L5:L5]mod deepseek;
- [L6:L6]mod google;
- [L7:L7]mod lmstudio;
- [L8:L8]mod mistral;
- [L9:L9]mod ollama;
- [L10:L10]mod open_ai;
- [L11:L11]mod open_ai_compatible;
- [L12:L12]mod open_router;
- [L13:L13]mod vercel;
- [L14:L14]mod x_ai;

## crates/language_models/src/provider/anthropic.rs
- [L33:L37]struct AnthropicSettings {
    pub api_url: String,
    pub available_models: Vec<AvailableModel>,
}
- [L39:L42]struct AnthropicLanguageModelProvider {
    http_client: Arc<dyn HttpClient>,
    state: Entity<State>,
}
- [L45:L45]static API_KEY_ENV_VAR: LazyLock<EnvVar> = env_var!(API_KEY_ENV_VAR_NAME);
- [L47:L49]struct State {
    api_key_state: ApiKeyState,
}
- [L214:L220]struct AnthropicModel {
    id: LanguageModelId,
    model: anthropic::Model,
    state: Entity<State>,
    http_client: Arc<dyn HttpClient>,
    request_limiter: RateLimiter,
}
- [L222:L373]fn into_anthropic_count_tokens_request(
    request: LanguageModelRequest,
    model: String,
    mode: AnthropicModelMode,
) -> CountTokensRequest 
- [L375:L431]fn count_anthropic_tokens_with_tiktoken(request: LanguageModelRequest) -> Result<u64> 
- [L609:L789]fn into_anthropic(
    request: LanguageModelRequest,
    model: String,
    default_temperature: f32,
    max_output_tokens: u64,
    mode: AnthropicModelMode,
) -> anthropic::Request 
- [L791:L795]struct AnthropicEventMapper {
    tool_uses_by_index: HashMap<usize, RawToolUse>,
    usage: Usage,
    stop_reason: StopReason,
}
- [L968:L972]struct RawToolUse {
    id: String,
    name: String,
    input_json: String,
}
- [L974:L988]fn update_usage(usage: &mut Usage, new: &Usage) 
- [L990:L997]fn convert_usage(usage: &Usage) -> language_model::TokenUsage 
- [L999:L1004]struct ConfigurationView {
    api_key_editor: Entity<InputField>,
    state: Entity<State>,
    load_credentials_task: Option<Task<()>>,
    target_agent: ConfigurationViewTargetAgent,
}

## crates/language_models/src/provider/bedrock.rs
- [L58:L66]struct BedrockCredentials {
    pub access_key_id: String,
    pub secret_access_key: String,
    pub session_token: Option<String>,
    pub bearer_token: Option<String>,
}
- [L68:L86]enum BedrockAuth {
    Automatic,
    NamedProfile { profile_name: String },
    SingleSignOn { profile_name: String },
    IamCredentials {
        access_key_id: String,
        secret_access_key: String,
        session_token: Option<String>,
    },
    ApiKey { api_key: String },
}
- [L107:L115]struct AmazonBedrockSettings {
    pub available_models: Vec<AvailableModel>,
    pub region: Option<String>,
    pub endpoint: Option<String>,
    pub profile_name: Option<String>,
    pub role_arn: Option<String>,
    pub authentication_method: Option<BedrockAuthMethod>,
    pub allow_global: Option<bool>,
}
- [L118:L128]enum BedrockAuthMethod {
    NamedProfile,
    SingleSignOn,
    ApiKey,
    Automatic,
}
- [L143:L150]enum ModelMode {
    Default,
    Thinking {
        budget_tokens: Option<u64>,
    },
}
- [L177:L177]static ZED_BEDROCK_ACCESS_KEY_ID_VAR: LazyLock<EnvVar> = env_var!("ZED_ACCESS_KEY_ID");
- [L178:L178]static ZED_BEDROCK_SECRET_ACCESS_KEY_VAR: LazyLock<EnvVar> = env_var!("ZED_SECRET_ACCESS_KEY");
- [L179:L179]static ZED_BEDROCK_SESSION_TOKEN_VAR: LazyLock<EnvVar> = env_var!("ZED_SESSION_TOKEN");
- [L180:L180]static ZED_AWS_PROFILE_VAR: LazyLock<EnvVar> = env_var!("ZED_AWS_PROFILE");
- [L181:L181]static ZED_BEDROCK_REGION_VAR: LazyLock<EnvVar> = env_var!("ZED_AWS_REGION");
- [L182:L182]static ZED_AWS_ENDPOINT_VAR: LazyLock<EnvVar> = env_var!("ZED_AWS_ENDPOINT");
- [L183:L183]static ZED_BEDROCK_BEARER_TOKEN_VAR: LazyLock<EnvVar> = env_var!("ZED_BEDROCK_BEARER_TOKEN");
- [L185:L193]struct State {
    auth: Option<BedrockAuth>,
    settings: Option<AmazonBedrockSettings>,
    credentials_from_env: bool,
    _subscription: Subscription,
}
- [L383:L387]struct BedrockLanguageModelProvider {
    http_client: AwsHttpClient,
    handle: tokio::runtime::Handle,
    state: Entity<State>,
}
- [L512:L520]struct BedrockModel {
    id: LanguageModelId,
    model: Model,
    http_client: AwsHttpClient,
    handle: tokio::runtime::Handle,
    client: OnceCell<BedrockClient>,
    state: Entity<State>,
    request_limiter: RateLimiter,
}
- [L726:L741]fn deny_tool_use_events(
    events: impl Stream<Item = Result<LanguageModelCompletionEvent, LanguageModelCompletionError>>,
) -> impl Stream<Item = Result<LanguageModelCompletionEvent, LanguageModelCompletionError>> 
- [L743:L943]fn into_bedrock(
    request: LanguageModelRequest,
    model: String,
    default_temperature: f32,
    max_output_tokens: u64,
    mode: BedrockModelMode,
    supports_caching: bool,
) -> Result<bedrock::Request> 
- [L947:L1005]fn get_bedrock_tokens(
    request: LanguageModelRequest,
    cx: &App,
) -> BoxFuture<'static, Result<u64>> 
- [L1007:L1139]fn map_to_language_model_completion_events(
    events: Pin<Box<dyn Send + Stream<Item = Result<BedrockStreamingResponse, BedrockError>>>>,
) -> impl Stream<Item = Result<LanguageModelCompletionEvent, LanguageModelCompletionError>> 
- [L1141:L1149]struct ConfigurationView {
    access_key_id_editor: Entity<InputField>,
    secret_access_key_editor: Entity<InputField>,
    session_token_editor: Entity<InputField>,
    bearer_token_editor: Entity<InputField>,
    state: Entity<State>,
    load_credentials_task: Option<Task<()>>,
    focus_handle: FocusHandle,
}

## crates/language_models/src/provider/cloud.rs
- [L56:L58]struct ZedDotDevSettings {
    pub available_models: Vec<AvailableModel>,
}
- [L61:L68]enum ModelMode {
    Default,
    Thinking {
        budget_tokens: Option<u32>,
    },
}
- [L79:L83]struct CloudLanguageModelProvider {
    client: Arc<Client>,
    state: Entity<State>,
    _maintain_client_status: Task<()>,
}
- [L85:L97]struct State {
    client: Arc<Client>,
    llm_api_token: LlmApiToken,
    user_store: Entity<UserStore>,
    status: client::Status,
    models: Vec<Arc<cloud_llm_client::LanguageModel>>,
    default_model: Option<Arc<cloud_llm_client::LanguageModel>>,
    default_fast_model: Option<Arc<cloud_llm_client::LanguageModel>>,
    recommended_models: Vec<Arc<cloud_llm_client::LanguageModel>>,
    _fetch_models_task: Task<()>,
    _settings_subscription: Subscription,
    _llm_token_subscription: Subscription,
}
- [L369:L375]struct CloudLanguageModel {
    id: LanguageModelId,
    model: Arc<cloud_llm_client::LanguageModel>,
    llm_api_token: LlmApiToken,
    client: Arc<Client>,
    request_limiter: RateLimiter,
}
- [L377:L382]struct PerformLlmCompletionResponse {
    response: Response<AsyncBody>,
    usage: Option<ModelRequestUsage>,
    tool_use_limit_reached: bool,
    includes_status_messages: bool,
}
- [L483:L487]struct ApiError {
    status: StatusCode,
    body: String,
    headers: HeaderMap<HeaderValue>,
}
- [L489:L508]struct CloudApiError {
    code: String,
    message: String,
    upstream_status: Option<StatusCode>,
    retry_after: Option<f64>,
}
- [L510:L516]fn deserialize_optional_status_code<'de, D>(deserializer: D) -> Result<Option<StatusCode>, D::Error>
where
    D: serde::Deserializer<'de>,
- [L957:L987]fn map_cloud_completion_events<T, F>(
    stream: Pin<Box<dyn Stream<Item = Result<CompletionEvent<T>>> + Send>>,
    provider: &LanguageModelProviderName,
    mut map_callback: F,
) -> BoxStream<'static, Result<LanguageModelCompletionEvent, LanguageModelCompletionError>>
where
    T: DeserializeOwned + 'static,
    F: FnMut(T) -> Vec<Result<LanguageModelCompletionEvent, LanguageModelCompletionError>>
        + Send
        + 'static,
- [L989:L998]fn provider_name(provider: &cloud_llm_client::LanguageModelProvider) -> LanguageModelProviderName 
- [L1000:L1011]fn usage_updated_event<T>(
    usage: Option<ModelRequestUsage>,
) -> impl Stream<Item = Result<CompletionEvent<T>>> 
- [L1013:L1021]fn tool_use_limit_reached_event<T>(
    tool_use_limit_reached: bool,
) -> impl Stream<Item = Result<CompletionEvent<T>>> 
- [L1023:L1046]fn response_lines<T: DeserializeOwned>(
    response: Response<AsyncBody>,
    includes_status_messages: bool,
) -> impl Stream<Item = Result<CompletionEvent<T>>> 
- [L1049:L1056]struct ZedAiConfiguration {
    is_connected: bool,
    plan: Option<Plan>,
    subscription_period: Option<(DateTime<Utc>, DateTime<Utc>)>,
    eligible_for_trial: bool,
    account_too_young: bool,
    sign_in_callback: Arc<dyn Fn(&mut Window, &mut App) + Send + Sync>,
}
- [L1144:L1147]struct ConfigurationView {
    state: Entity<State>,
    sign_in_callback: Arc<dyn Fn(&mut Window, &mut App) + Send + Sync>,
}

## crates/language_models/src/provider/copilot_chat.rs
- [L36:L38]struct CopilotChatLanguageModelProvider {
    state: Entity<State>,
}
- [L40:L43]struct State {
    _copilot_chat_subscription: Option<Subscription>,
    _settings_subscription: Subscription,
}
- [L201:L218]fn collect_tiktoken_messages(
    request: LanguageModelRequest,
) -> Vec<tiktoken_rs::ChatCompletionRequestMessage> 
- [L220:L223]struct CopilotChatLanguageModel {
    model: CopilotChatModel,
    request_limiter: RateLimiter,
}
- [L363:L551]fn map_to_language_model_completion_events(
    events: Pin<Box<dyn Send + Stream<Item = Result<ResponseEvent>>>>,
    is_streaming: bool,
) -> impl Stream<Item = Result<LanguageModelCompletionEvent, LanguageModelCompletionError>> 
- [L553:L555]struct CopilotResponsesEventMapper {
    pending_stop_reason: Option<StopReason>,
}
- [L740:L915]fn into_copilot_chat(
    model: &copilot::copilot_chat::Model,
    request: LanguageModelRequest,
) -> Result<CopilotChatRequest> 
- [L917:L1115]fn into_copilot_responses(
    model: &copilot::copilot_chat::Model,
    request: LanguageModelRequest,
) -> copilot::copilot_responses::Request 

## crates/language_models/src/provider/deepseek.rs
- [L30:L30]static API_KEY_ENV_VAR: LazyLock<EnvVar> = env_var!(API_KEY_ENV_VAR_NAME);
- [L33:L37]struct RawToolCall {
    id: String,
    name: String,
    arguments: String,
}
- [L40:L43]struct DeepSeekSettings {
    pub api_url: String,
    pub available_models: Vec<AvailableModel>,
}
- [L44:L47]struct DeepSeekLanguageModelProvider {
    http_client: Arc<dyn HttpClient>,
    state: Entity<State>,
}
- [L49:L51]struct State {
    api_key_state: ApiKeyState,
}
- [L190:L196]struct DeepSeekLanguageModel {
    id: LanguageModelId,
    model: deepseek::Model,
    state: Entity<State>,
    http_client: Arc<dyn HttpClient>,
    request_limiter: RateLimiter,
}
- [L318:L408]fn into_deepseek(
    request: LanguageModelRequest,
    model: &deepseek::Model,
    max_output_tokens: Option<u64>,
) -> deepseek::Request 
- [L410:L412]struct DeepSeekEventMapper {
    tool_calls_by_index: HashMap<usize, RawToolCall>,
}
- [L524:L528]struct ConfigurationView {
    api_key_editor: Entity<InputField>,
    state: Entity<State>,
    load_credentials_task: Option<Task<()>>,
}

## crates/language_models/src/provider/google.rs
- [L41:L44]struct GoogleSettings {
    pub api_url: String,
    pub available_models: Vec<AvailableModel>,
}
- [L48:L55]enum ModelMode {
    Default,
    Thinking {
        budget_tokens: Option<u32>,
    },
}
- [L57:L60]struct GoogleLanguageModelProvider {
    http_client: Arc<dyn HttpClient>,
    state: Entity<State>,
}
- [L62:L64]struct State {
    api_key_state: ApiKeyState,
}
- [L69:L69]static API_KEY_ENV_VAR: LazyLock<EnvVar> = LazyLock::new(|| {
- [L240:L246]struct GoogleLanguageModel {
    id: LanguageModelId,
    model: google_ai::Model,
    state: Entity<State>,
    http_client: Arc<dyn HttpClient>,
    request_limiter: RateLimiter,
}
- [L389:L556]fn into_google(
    mut request: LanguageModelRequest,
    model_id: String,
    mode: GoogleModelMode,
) -> google_ai::GenerateContentRequest 
- [L558:L561]struct GoogleEventMapper {
    usage: UsageMetadata,
    stop_reason: StopReason,
}
- [L688:L715]fn count_google_tokens(
    request: LanguageModelRequest,
    cx: &App,
) -> BoxFuture<'static, Result<u64>> 
- [L717:L736]fn update_usage(usage: &mut UsageMetadata, new: &UsageMetadata) 
- [L738:L750]fn convert_usage(usage: &UsageMetadata) -> language_model::TokenUsage 
- [L752:L757]struct ConfigurationView {
    api_key_editor: Entity<InputField>,
    state: Entity<State>,
    target_agent: language_model::ConfigurationViewTargetAgent,
    load_credentials_task: Option<Task<()>>,
}

## crates/language_models/src/provider/lmstudio.rs
- [L36:L39]struct LmStudioSettings {
    pub api_url: String,
    pub available_models: Vec<AvailableModel>,
}
- [L41:L44]struct LmStudioLanguageModelProvider {
    http_client: Arc<dyn HttpClient>,
    state: Entity<State>,
}
- [L46:L51]struct State {
    http_client: Arc<dyn HttpClient>,
    available_models: Vec<lmstudio::Model>,
    fetch_model_task: Option<Task<Result<()>>>,
    _subscription: Subscription,
}
- [L256:L261]struct LmStudioLanguageModel {
    id: LanguageModelId,
    model: lmstudio::Model,
    http_client: Arc<dyn HttpClient>,
    request_limiter: RateLimiter,
}
- [L475:L477]struct LmStudioEventMapper {
    tool_calls_by_index: HashMap<usize, RawToolCall>,
}
- [L597:L601]struct RawToolCall {
    id: String,
    name: String,
    arguments: String,
}
- [L603:L635]fn add_message_content_part(
    new_part: lmstudio::MessagePart,
    role: Role,
    messages: &mut Vec<lmstudio::ChatMessage>,
) 
- [L637:L640]struct ConfigurationView {
    state: Entity<State>,
    loading_models_task: Option<Task<()>>,
}

## crates/language_models/src/provider/mistral.rs
- [L30:L30]static API_KEY_ENV_VAR: LazyLock<EnvVar> = env_var!(API_KEY_ENV_VAR_NAME);
- [L33:L33]static CODESTRAL_API_KEY_ENV_VAR: LazyLock<EnvVar> = env_var!(CODESTRAL_API_KEY_ENV_VAR_NAME);
- [L36:L39]struct MistralSettings {
    pub api_url: String,
    pub available_models: Vec<AvailableModel>,
}
- [L41:L44]struct MistralLanguageModelProvider {
    http_client: Arc<dyn HttpClient>,
    pub state: Entity<State>,
}
- [L46:L49]struct State {
    api_key_state: ApiKeyState,
    codestral_api_key_state: Entity<ApiKeyState>,
}
- [L51:L51]struct CodestralApiKey(Entity<ApiKeyState>);
- [L54:L63]fn codestral_api_key(cx: &mut App) -> Entity<ApiKeyState> 
- [L92:L92]struct GlobalMistralLanguageModelProvider(Arc<MistralLanguageModelProvider>);
- [L256:L262]struct MistralLanguageModel {
    id: LanguageModelId,
    model: mistral::Model,
    state: Entity<State>,
    http_client: Arc<dyn HttpClient>,
    request_limiter: RateLimiter,
}
- [L388:L573]fn into_mistral(
    request: LanguageModelRequest,
    model: mistral::Model,
    max_output_tokens: Option<u64>,
) -> mistral::Request 
- [L575:L577]struct MistralEventMapper {
    tool_calls_by_index: HashMap<usize, RawToolCall>,
}
- [L732:L736]struct RawToolCall {
    id: String,
    name: String,
    arguments: String,
}
- [L738:L742]struct ConfigurationView {
    api_key_editor: Entity<InputField>,
    state: Entity<State>,
    load_credentials_task: Option<Task<()>>,
}

## crates/language_models/src/provider/ollama.rs
- [L41:L41]static API_KEY_ENV_VAR: LazyLock<EnvVar> = env_var!(API_KEY_ENV_VAR_NAME);
- [L44:L48]struct OllamaSettings {
    pub api_url: String,
    pub auto_discover: bool,
    pub available_models: Vec<AvailableModel>,
}
- [L50:L53]struct OllamaLanguageModelProvider {
    http_client: Arc<dyn HttpClient>,
    state: Entity<State>,
}
- [L55:L60]struct State {
    api_key_state: ApiKeyState,
    http_client: Arc<dyn HttpClient>,
    fetched_models: Vec<ollama::Model>,
    fetch_model_task: Option<Task<Result<()>>>,
}
- [L295:L301]struct OllamaLanguageModel {
    id: LanguageModelId,
    model: ollama::Model,
    http_client: Arc<dyn HttpClient>,
    request_limiter: RateLimiter,
    state: Entity<State>,
}
- [L501:L600]fn map_to_language_model_completion_events(
    stream: Pin<Box<dyn Stream<Item = anyhow::Result<ChatResponseDelta>> + Send>>,
) -> impl Stream<Item = Result<LanguageModelCompletionEvent, LanguageModelCompletionError>> 
- [L602:L606]struct ConfigurationView {
    api_key_editor: Entity<InputField>,
    api_url_editor: Entity<InputField>,
    state: Entity<State>,
}
- [L898:L925]fn merge_settings_into_models(
    models: &mut HashMap<String, ollama::Model>,
    available_models: &[AvailableModel],
) 
- [L927:L935]fn tool_into_ollama(tool: LanguageModelRequestTool) -> ollama::OllamaTool 

## crates/language_models/src/provider/open_ai.rs
- [L31:L31]static API_KEY_ENV_VAR: LazyLock<EnvVar> = env_var!(API_KEY_ENV_VAR_NAME);
- [L34:L37]struct OpenAiSettings {
    pub api_url: String,
    pub available_models: Vec<AvailableModel>,
}
- [L39:L42]struct OpenAiLanguageModelProvider {
    http_client: Arc<dyn HttpClient>,
    state: Entity<State>,
}
- [L44:L46]struct State {
    api_key_state: ApiKeyState,
}
- [L192:L198]struct OpenAiLanguageModel {
    id: LanguageModelId,
    model: open_ai::Model,
    state: Entity<State>,
    http_client: Arc<dyn HttpClient>,
    request_limiter: RateLimiter,
}
- [L340:L461]fn into_open_ai(
    request: LanguageModelRequest,
    model_id: &str,
    supports_parallel_tool_calls: bool,
    supports_prompt_cache_key: bool,
    max_output_tokens: Option<u64>,
    reasoning_effort: Option<ReasoningEffort>,
) -> open_ai::Request 
- [L463:L495]fn add_message_content_part(
    new_part: open_ai::MessagePart,
    role: Role,
    messages: &mut Vec<open_ai::RequestMessage>,
) 
- [L497:L499]struct OpenAiEventMapper {
    tool_calls_by_index: HashMap<usize, RawToolCall>,
}
- [L605:L609]struct RawToolCall {
    id: String,
    name: String,
    arguments: String,
}
- [L630:L676]fn count_open_ai_tokens(
    request: LanguageModelRequest,
    model: Model,
    cx: &App,
) -> BoxFuture<'static, Result<u64>> 
- [L678:L682]struct ConfigurationView {
    api_key_editor: Entity<InputField>,
    state: Entity<State>,
    load_credentials_task: Option<Task<()>>,
}

## crates/language_models/src/provider/open_ai_compatible.rs
- [L25:L28]struct OpenAiCompatibleSettings {
    pub api_url: String,
    pub available_models: Vec<AvailableModel>,
}
- [L30:L35]struct OpenAiCompatibleLanguageModelProvider {
    id: LanguageModelProviderId,
    name: LanguageModelProviderName,
    http_client: Arc<dyn HttpClient>,
    state: Entity<State>,
}
- [L37:L41]struct State {
    id: Arc<str>,
    api_key_state: ApiKeyState,
    settings: OpenAiCompatibleSettings,
}
- [L187:L195]struct OpenAiCompatibleLanguageModel {
    id: LanguageModelId,
    provider_id: LanguageModelProviderId,
    provider_name: LanguageModelProviderName,
    model: AvailableModel,
    state: Entity<State>,
    http_client: Arc<dyn HttpClient>,
    request_limiter: RateLimiter,
}
- [L347:L351]struct ConfigurationView {
    api_key_editor: Entity<InputField>,
    state: Entity<State>,
    load_credentials_task: Option<Task<()>>,
}

## crates/language_models/src/provider/open_router.rs
- [L29:L29]static API_KEY_ENV_VAR: LazyLock<EnvVar> = env_var!(API_KEY_ENV_VAR_NAME);
- [L32:L35]struct OpenRouterSettings {
    pub api_url: String,
    pub available_models: Vec<AvailableModel>,
}
- [L37:L40]struct OpenRouterLanguageModelProvider {
    http_client: Arc<dyn HttpClient>,
    state: Entity<State>,
}
- [L42:L47]struct State {
    api_key_state: ApiKeyState,
    http_client: Arc<dyn HttpClient>,
    available_models: Vec<open_router::Model>,
    fetch_models_task: Option<Task<Result<(), LanguageModelCompletionError>>>,
}
- [L252:L258]struct OpenRouterLanguageModel {
    id: LanguageModelId,
    model: open_router::Model,
    state: Entity<State>,
    http_client: Arc<dyn HttpClient>,
    request_limiter: RateLimiter,
}
- [L383:L517]fn into_open_router(
    request: LanguageModelRequest,
    model: &Model,
    max_output_tokens: Option<u64>,
) -> open_router::Request 
- [L519:L555]fn add_message_content_part(
    new_part: open_router::MessagePart,
    role: Role,
    messages: &mut Vec<open_router::RequestMessage>,
    reasoning_details: Option<serde_json::Value>,
) 
- [L557:L560]struct OpenRouterEventMapper {
    tool_calls_by_index: HashMap<usize, RawToolCall>,
    reasoning_details: Option<serde_json::Value>,
}
- [L698:L703]struct RawToolCall {
    id: String,
    name: String,
    arguments: String,
    thought_signature: Option<String>,
}
- [L705:L729]fn count_open_router_tokens(
    request: LanguageModelRequest,
    _model: open_router::Model,
    cx: &App,
) -> BoxFuture<'static, Result<u64>> 
- [L731:L735]struct ConfigurationView {
    api_key_editor: Entity<InputField>,
    state: Entity<State>,
    load_credentials_task: Option<Task<()>>,
}

## crates/language_models/src/provider/vercel.rs
- [L26:L26]static API_KEY_ENV_VAR: LazyLock<EnvVar> = env_var!(API_KEY_ENV_VAR_NAME);
- [L29:L32]struct VercelSettings {
    pub api_url: String,
    pub available_models: Vec<AvailableModel>,
}
- [L34:L37]struct VercelLanguageModelProvider {
    http_client: Arc<dyn HttpClient>,
    state: Entity<State>,
}
- [L39:L41]struct State {
    api_key_state: ApiKeyState,
}
- [L184:L190]struct VercelLanguageModel {
    id: LanguageModelId,
    model: vercel::Model,
    state: Entity<State>,
    http_client: Arc<dyn HttpClient>,
    request_limiter: RateLimiter,
}
- [L312:L355]fn count_vercel_tokens(
    request: LanguageModelRequest,
    model: Model,
    cx: &App,
) -> BoxFuture<'static, Result<u64>> 
- [L357:L361]struct ConfigurationView {
    api_key_editor: Entity<InputField>,
    state: Entity<State>,
    load_credentials_task: Option<Task<()>>,
}

## crates/language_models/src/provider/x_ai.rs
- [L27:L27]static API_KEY_ENV_VAR: LazyLock<EnvVar> = env_var!(API_KEY_ENV_VAR_NAME);
- [L30:L33]struct XAiSettings {
    pub api_url: String,
    pub available_models: Vec<AvailableModel>,
}
- [L35:L38]struct XAiLanguageModelProvider {
    http_client: Arc<dyn HttpClient>,
    state: Entity<State>,
}
- [L40:L42]struct State {
    api_key_state: ApiKeyState,
}
- [L188:L194]struct XAiLanguageModel {
    id: LanguageModelId,
    model: x_ai::Model,
    state: Entity<State>,
    http_client: Arc<dyn HttpClient>,
    request_limiter: RateLimiter,
}
- [L329:L358]fn count_xai_tokens(
    request: LanguageModelRequest,
    model: Model,
    cx: &App,
) -> BoxFuture<'static, Result<u64>> 
- [L360:L364]struct ConfigurationView {
    api_key_editor: Entity<InputField>,
    state: Entity<State>,
    load_credentials_task: Option<Task<()>>,
}

## crates/language_models/src/settings.rs
- [L15:L29]struct AllLanguageModelSettings {
    pub anthropic: AnthropicSettings,
    pub bedrock: AmazonBedrockSettings,
    pub deepseek: DeepSeekSettings,
    pub google: GoogleSettings,
    pub lmstudio: LmStudioSettings,
    pub mistral: MistralSettings,
    pub ollama: OllamaSettings,
    pub open_router: OpenRouterSettings,
    pub openai: OpenAiSettings,
    pub openai_compatible: HashMap<Arc<str>, OpenAiCompatibleSettings>,
    pub vercel: VercelSettings,
    pub x_ai: XAiSettings,
    pub zed_dot_dev: ZedDotDevSettings,
}

## crates/language_onboarding/src/python.rs
- [L7:L10]struct BasedPyrightBanner {
    dismissed: bool,
    have_basedpyright: bool,
    _subscriptions: [Subscription; 1],

## crates/language_selector/src/active_buffer_language.rs
- [L13:L17]struct ActiveBufferLanguage {
    active_language: Option<Option<LanguageName>>,
    workspace: WeakEntity<Workspace>,
    _observe_active_editor: Option<Subscription>,
}

## crates/language_selector/src/language_selector.rs
- [L30:L32]fn init(cx: &mut App) 
- [L34:L36]struct LanguageSelector {
    picker: Entity<Picker<LanguageSelectorDelegate>>,
}
- [L105:L113]struct LanguageSelectorDelegate {
    language_selector: WeakEntity<LanguageSelector>,
    buffer: Entity<Buffer>,
    project: Entity<Project>,
    language_registry: Arc<LanguageRegistry>,
    candidates: Vec<StringMatchCandidate>,
    matches: Vec<StringMatch>,
    selected_index: usize,
}

## crates/language_tools/src/key_context_view.rs
- [L24:L37]fn init(cx: &mut App) 
- [L39:L45]struct KeyContextView {
    pending_keystrokes: Option<Vec<Keystroke>>,
    last_keystrokes: Option<SharedString>,
    last_possibilities: Vec<(SharedString, SharedString, Option<bool>)>,
    context_stack: Vec<KeyContext>,
    focus_handle: FocusHandle,
    _subscriptions: [Subscription; 2],

## crates/language_tools/src/language_tools.rs
- [L2:L2]mod lsp_button;
- [L3:L3]mod lsp_log_view;
- [L16:L20]fn init(cx: &mut App) 
- [L22:L54]fn get_or_create_tool<T>(
    workspace: &mut Workspace,
    destination: SplitDirection,
    window: &mut Window,
    cx: &mut Context<Workspace>,
    new_tool: impl FnOnce(&mut Window, &mut Context<T>) -> T,
) -> Entity<T>
where
    T: Item,

## crates/language_tools/src/lsp_button.rs
- [L37:L43]struct LspButton {
    server_state: Entity<LanguageServerState>,
    popover_menu_handle: PopoverMenuHandle<ContextMenu>,
    lsp_menu: Option<Entity<ContextMenu>>,
    lsp_menu_refresh: Task<()>,
    _subscriptions: Vec<Subscription>,
}
- [L46:L52]struct LanguageServerState {
    items: Vec<LspMenuItem>,
    workspace: WeakEntity<Workspace>,
    lsp_store: WeakEntity<LspStore>,
    active_editor: Option<ActiveEditor>,
    language_servers: LanguageServers,
}
- [L54:L58]struct ActiveEditor {
    editor: WeakEntity<Editor>,
    _editor_subscription: Subscription,
    editor_buffers: HashSet<BufferId>,
}
- [L70:L74]struct LanguageServers {
    health_statuses: HashMap<LanguageServerId, LanguageServerHealthStatus>,
    binary_statuses: HashMap<LanguageServerName, LanguageServerBinaryStatus>,
    servers_per_buffer_abs_path: HashMap<PathBuf, ServersForPath>,
}
- [L77:L80]struct ServersForPath {
    servers: HashMap<LanguageServerId, Option<LanguageServerName>>,
    worktree: Option<WeakEntity<Worktree>>,
}
- [L83:L86]struct LanguageServerHealthStatus {
    name: LanguageServerName,
    health: Option<(Option<SharedString>, ServerHealth)>,
}
- [L89:L92]struct LanguageServerBinaryStatus {
    status: BinaryStatus,
    message: Option<SharedString>,
}
- [L95:L101]struct ServerInfo {
    name: LanguageServerName,
    id: LanguageServerId,
    health: Option<ServerHealth>,
    binary_status: Option<LanguageServerBinaryStatus>,
    message: Option<SharedString>,
}
- [L449:L460]enum ServerData<'a> {
    WithHealthCheck {
        server_id: LanguageServerId,
        health: &'a LanguageServerHealthStatus,
        binary_status: Option<&'a LanguageServerBinaryStatus>,
    },
    WithBinaryStatus {
        server_id: LanguageServerId,
        server_name: &'a LanguageServerName,
        binary_status: &'a LanguageServerBinaryStatus,
    },
}
- [L463:L481]enum LspMenuItem {
    WithHealthCheck {
        server_id: LanguageServerId,
        health: LanguageServerHealthStatus,
        binary_status: Option<LanguageServerBinaryStatus>,
    },
    WithBinaryStatus {
        server_id: LanguageServerId,
        server_name: LanguageServerName,
        binary_status: LanguageServerBinaryStatus,
    },
    ToggleServersButton {
        restart: bool,
    },
    Header {
        header: Option<SharedString>,
        separator: bool,
    },
}

## crates/language_tools/src/lsp_log_view.rs
- [L31:L78]fn open_server_trace(
    log_store: &Entity<LogStore>,
    workspace: WeakEntity<Workspace>,
    server: LanguageServerSelector,
    window: &mut Window,
    cx: &mut App,
) 
- [L80:L89]struct LspLogView {
    pub(crate) editor: Entity<Editor>,
    editor_subscriptions: Vec<Subscription>,
    log_store: Entity<LogStore>,
    current_server_id: Option<LanguageServerId>,
    active_entry_kind: LogKind,
    project: Entity<Project>,
    focus_handle: FocusHandle,
    _log_store_subscriptions: Vec<Subscription>,
}
- [L91:L94]struct LspLogToolbarItemView {
    log_view: Option<Entity<LspLogView>>,
    _log_view_subscription: Option<Subscription>,
}
- [L115:L177]fn init(on_headless_host: bool, cx: &mut App) 
- [L684:L691]fn log_type(log_kind: LogKind) -> Option<LogType> 
- [L693:L716]fn send_toggle_log_message(
    server_state: &log_store::LanguageServerState,
    server_id: LanguageServerId,
    enabled: bool,
    log_type: LogType,
    cx: &mut App,
) 
- [L718:L724]fn log_contents<T: Message>(lines: &VecDeque<T>, level: <T as Message>::Level) -> String 
- [L1272:L1293]fn initialize_new_editor(
    content: String,
    move_to_end: bool,
    window: &mut Window,
    cx: &mut App,
) -> Entity<Editor> 
- [L1332:L1336]struct ServerInfo {
    id: LanguageServerId,
    capabilities: lsp::ServerCapabilities,
    status: LanguageServerStatus,
}

## crates/language_tools/src/lsp_log_view_tests.rs
- [L108:L115]fn init_test(cx: &mut gpui::TestAppContext) 

## crates/language_tools/src/syntax_tree_view.rs
- [L40:L89]fn init(cx: &mut App) 
- [L91:L101]struct SyntaxTreeView {
    workspace_handle: WeakEntity<Workspace>,
    editor: Option<EditorState>,
    list_scroll_handle: UniformListScrollHandle,
    last_active_editor: Option<Entity<Editor>>,
    selected_descendant_ix: Option<usize>,
    hovered_descendant_ix: Option<usize>,
    focus_handle: FocusHandle,
}
- [L103:L106]struct SyntaxTreeToolbarItemView {
    tree_view: Option<Entity<SyntaxTreeView>>,
    subscription: Option<gpui::Subscription>,
}
- [L108:L112]struct EditorState {
    editor: Entity<Editor>,
    active_buffer: Option<BufferState>,
    _subscription: gpui::Subscription,
}
- [L123:L127]struct BufferState {
    buffer: Entity<Buffer>,
    excerpt_id: ExcerptId,
    active_layer: Option<OwnedSyntaxLayer>,
}
- [L694:L704]fn format_node_range(node: Node) -> String 

## crates/languages/src/bash.rs

## crates/languages/src/c.rs
- [L15:L15]struct CLspAdapter;

## crates/languages/src/cpp.rs

## crates/languages/src/css.rs
- [L20:L22]fn server_binary_arguments(server_path: &Path) -> Vec<OsString> 
- [L24:L26]struct CssLspAdapter {
    node: NodeRuntime,
}

## crates/languages/src/eslint.rs
- [L24:L30]fn eslint_server_binary_arguments(server_path: &Path) -> Vec<OsString> 
- [L32:L34]struct EsLintLspAdapter {
    node: NodeRuntime,
}
- [L274:L285]fn normalize_path_separators(path: &str) -> String 
- [L287:L380]fn determine_working_directory(
    uri: Uri,
    working_directories: Vec<WorkingDirectory>,
    workspace_folder_path: PathBuf,
) -> Option<ResultWorkingDirectory> 
- [L382:L406]fn match_glob_pattern(pattern: &str, file_path: &Path) -> Option<String> 
- [L429:L433]struct LegacyDirectoryItem {
    directory: String,
    change_process_cwd: bool,
}
- [L436:L440]struct DirectoryItem {
    directory: String,
    not_cwd: Option<bool>,
}
- [L443:L447]struct PatternItem {
    pattern: String,
    not_cwd: Option<bool>,
}
- [L450:L452]struct ModeItem {
    mode: ModeEnum,
}
- [L456:L459]enum ModeEnum {
    Auto,
    Location,
}
- [L463:L469]enum WorkingDirectory {
    String(String),
    LegacyDirectoryItem(LegacyDirectoryItem),
    DirectoryItem(DirectoryItem),
    PatternItem(PatternItem),
    ModeItem(ModeItem),
}
- [L471:L471]struct WorkingDirectories(Option<Vec<WorkingDirectory>>);
- [L475:L478]enum ResultWorkingDirectory {
    ModeItem(ModeItem),
    DirectoryItem(DirectoryItem),
}

## crates/languages/src/go.rs
- [L29:L31]fn server_binary_arguments() -> Vec<OsString> 
- [L34:L34]struct GoLspAdapter;
- [L40:L40]static VERSION_REGEX: LazyLock<Regex> =
- [L43:L43]static GO_ESCAPE_SUBTEST_NAME_REGEX: LazyLock<Regex> = LazyLock::new(|| {
- [L401:L411]fn parse_version_output(output: &Output) -> Result<&str> 
- [L440:L449]fn adjust_runs(
    delta: usize,
    mut runs: Vec<(Range<usize>, HighlightId)>,
) -> Vec<(Range<usize>, HighlightId)> 
- [L730:L749]fn extract_subtest_name(input: &str) -> Option<String> 

## crates/languages/src/json.rs
- [L128:L130]fn server_binary_arguments(server_path: &Path) -> Vec<OsString> 
- [L132:L135]struct JsonLspAdapter {
    languages: Arc<LanguageRegistry>,
    node: NodeRuntime,
}
- [L323:L323]struct NodeVersionAdapter;

## crates/languages/src/lib.rs
- [L40:L40]struct LanguageDir;
- [L44:L44]static LANGUAGE_GIT_COMMIT: std::sync::LazyLock<Arc<Language>> =
- [L61:L337]fn init(languages: Arc<LanguageRegistry>, fs: Arc<dyn Fs>, node: NodeRuntime, cx: &mut App) 
- [L340:L346]struct LanguageInfo {
    name: &'static str,
    adapters: Vec<Arc<dyn LspAdapter>>,
    context: Option<Arc<dyn ContextProvider>>,
    toolchain: Option<Arc<dyn ToolchainLister>>,
    manifest_name: Option<ManifestName>,
}
- [L348:L376]fn register_language(
    languages: &LanguageRegistry,
    name: &'static str,
    adapters: Vec<Arc<dyn LspAdapter>>,
    context: Option<Arc<dyn ContextProvider>>,
    toolchain: Option<Arc<dyn ToolchainLister>>,
    manifest_name: Option<ManifestName>,
) 
- [L379:L385]fn language(name: &str, grammar: tree_sitter::Language) -> Arc<Language> 
- [L387:L412]fn load_config(name: &str) -> LanguageConfig 
- [L414:L433]fn load_queries(name: &str) -> LanguageQueries 

## crates/languages/src/package_json.rs
- [L7:L10]struct PackageJson {
    pub mtime: DateTime<Local>,
    pub data: PackageJsonData,
}
- [L13:L22]struct PackageJsonData {
    pub jest_package_path: Option<Arc<Path>>,
    pub mocha_package_path: Option<Arc<Path>>,
    pub vitest_package_path: Option<Arc<Path>>,
    pub jasmine_package_path: Option<Arc<Path>>,
    pub bun_package_path: Option<Arc<Path>>,
    pub node_package_path: Option<Arc<Path>>,
    pub scripts: BTreeSet<(Arc<Path>, String)>,
    pub package_manager: Option<&'static str>,
}

## crates/languages/src/python.rs
- [L82:L85]enum TestRunner {
    UNITTEST,
    PYTEST,
}
- [L99:L142]fn process_pyright_completions(items: &mut [lsp::CompletionItem]) 
- [L144:L146]struct TyLspAdapter {
    fs: Arc<dyn Fs>,
}
- [L439:L441]struct PyrightLspAdapter {
    node: NodeRuntime,
}
- [L924:L932]fn selected_test_runner(location: Option<&Arc<dyn language::File>>, cx: &App) -> TestRunner 
- [L1008:L1017]fn python_module_name_from_relative_path(relative_path: &str) -> Option<String> 
- [L1019:L1032]fn is_python_env_global(k: &PythonEnvironmentKind) -> bool 
- [L1034:L1056]fn python_env_kind_display(k: &PythonEnvironmentKind) -> &'static str 
- [L1060:L1060]static ENV_PRIORITY_LIST: &[PythonEnvironmentKind] = &[
- [L1077:L1087]fn env_priority(kind: Option<PythonEnvironmentKind>) -> usize 
- [L1104:L1122]fn get_venv_parent_dir(env: &PythonEnvironment) -> Option<PathBuf> 
- [L1126:L1130]enum SubprojectDistance {
    WithinSubproject(Reverse<usize>),
    WithinWorktree(Reverse<usize>),
    NotInWorktree,
}
- [L1132:L1152]fn wr_distance(
    wr: &PathBuf,
    subroot_relative_path: &RelPath,
    venv: Option<&PathBuf>,
) -> SubprojectDistance 
- [L1154:L1164]fn micromamba_shell_name(kind: ShellKind) -> &'static str 
- [L1470:L1474]struct EnvironmentApi<'a> {
    global_search_locations: Arc<Mutex<Vec<PathBuf>>>,
    project_env: &'a HashMap<String, String>,
    pet_env: pet_core::os_environment::EnvironmentApi,
}

## crates/languages/src/rust.rs
- [L35:L35]struct RustLspAdapter;
- [L64:L67]enum LibcType {
    Gnu,
    Musl,
}
- [L1043:L1047]struct CargoMetadata {
    packages: Vec<CargoPackage>,
}
- [L1050:L1054]struct CargoPackage {
    id: String,
    targets: Vec<CargoTarget>,
    manifest_path: Arc<Path>,
}
- [L1057:L1063]struct CargoTarget {
    name: String,
    kind: Vec<String>,
    src_path: String,
    required_features: Vec<String>,
}
- [L1066:L1069]enum TargetKind {
    Bin,
    Example,
}
- [L1090:L1097]struct TargetInfo {
    package_name: String,
    target_name: String,
    target_kind: TargetKind,
    required_features: Vec<String>,
}
- [L1122:L1172]fn target_info_from_metadata(
    metadata: CargoMetadata,
    abs_path: &Path,
) -> Option<(Option<TargetInfo>, Arc<Path>)> 
- [L1208:L1226]fn package_name_from_pkgid(pkgid: &str) -> Option<&str> 
- [L1272:L1293]fn test_fragment(variables: &TaskVariables, path: &Path, stem: &str) -> String 

## crates/languages/src/tailwind.rs
- [L24:L26]fn server_binary_arguments(server_path: &Path) -> Vec<OsString> 
- [L28:L30]struct TailwindLspAdapter {
    node: NodeRuntime,
}

## crates/languages/src/typescript.rs
- [L63:L63]struct PackageJsonContents(Arc<RwLock<HashMap<PathBuf, PackageJson>>>);
- [L585:L587]fn typescript_server_binary_arguments(server_path: &Path) -> Vec<OsString> 
- [L589:L593]fn replace_test_name_parameters(test_name: &str) -> String 
- [L595:L598]struct TypeScriptLspAdapter {
    fs: Arc<dyn Fs>,
    node: NodeRuntime,
}
- [L638:L641]struct TypeScriptVersions {
    typescript_version: Version,
    server_version: Version,
}

## crates/languages/src/vtsls.rs
- [L28:L30]fn typescript_server_binary_arguments(server_path: &Path) -> Vec<OsString> 
- [L32:L35]struct VtslsLspAdapter {
    node: NodeRuntime,
    fs: Arc<dyn Fs>,
}
- [L86:L89]struct TypeScriptVersions {
    typescript_version: Version,
    server_version: Version,
}

## crates/languages/src/yaml.rs
- [L22:L24]fn server_binary_arguments(server_path: &Path) -> Vec<OsString> 
- [L26:L28]struct YamlLspAdapter {
    node: NodeRuntime,
}

## crates/line_ending_selector/src/line_ending_indicator.rs
- [L10:L14]struct LineEndingIndicator {
    line_ending: Option<LineEnding>,
    active_editor: Option<WeakEntity<Editor>>,
    _observe_active_editor: Option<Subscription>,
}

## crates/line_ending_selector/src/line_ending_selector.rs
- [L22:L24]fn init(cx: &mut App) 
- [L26:L28]struct LineEndingSelector {
    picker: Entity<Picker<LineEndingSelectorDelegate>>,
}
- [L88:L95]struct LineEndingSelectorDelegate {
    line_ending_selector: WeakEntity<LineEndingSelector>,
    buffer: Entity<Buffer>,
    project: Entity<Project>,
    line_ending: LineEnding,
    matches: Vec<LineEnding>,
    selected_index: usize,
}

## crates/livekit_api/build.rs
- [L1:L9]fn main() 

## crates/livekit_api/src/livekit_api.rs
- [L1:L1]mod proto;
- [L2:L2]mod token;
- [L11:L11]trait Client: Send + Sync {
- [L26:L26]struct LiveKitParticipantUpdate {}
- [L29:L34]struct LiveKitClient {
    http: reqwest::Client,
    url: Arc<str>,
    key: Arc<str>,
    secret: Arc<str>,
}

## crates/livekit_api/src/proto.rs

## crates/livekit_api/src/token.rs
- [L14:L22]struct ClaimGrants<'a> {
    pub iss: Cow<'a, str>,
    pub sub: Option<Cow<'a, str>>,
    pub iat: u64,
    pub exp: u64,
    pub nbf: u64,
    pub jwtid: Option<Cow<'a, str>>,
    pub video: VideoGrant<'a>,
}
- [L26:L38]struct VideoGrant<'a> {
    pub room_create: Option<bool>,
    pub room_join: Option<bool>,
    pub room_list: Option<bool>,
    pub room_record: Option<bool>,
    pub room_admin: Option<bool>,
    pub room: Option<Cow<'a, str>>,
    pub can_publish: Option<bool>,
    pub can_subscribe: Option<bool>,
    pub can_publish_data: Option<bool>,
    pub hidden: Option<bool>,
    pub recorder: Option<bool>,
}
- [L70:L100]fn create(
    api_key: &str,
    secret_key: &str,
    identity: Option<&str>,
    video_grant: VideoGrant,
) -> Result<String> 
- [L102:L110]fn validate<'a>(token: &'a str, secret_key: &str) -> Result<ClaimGrants<'a>> 

## crates/livekit_client/examples/test_app.rs
- [L23:L72]fn main() 
- [L74:L76]fn quit(_: &Quit, cx: &mut gpui::App) 
- [L78:L86]struct LivekitWindow {
    room: Arc<livekit_client::Room>,
    microphone_track: Option<LocalTrackPublication>,
    screen_share_track: Option<LocalTrackPublication>,
    microphone_stream: Option<livekit_client::AudioStream>,
    screen_share_stream: Option<Box<dyn ScreenCaptureStream>>,
    remote_participants: Vec<(ParticipantIdentity, ParticipantState)>,
    _events_task: Task<()>,
}
- [L89:L94]struct ParticipantState {
    audio_output_stream: Option<(RemoteTrackPublication, AudioStream)>,
    muted: bool,
    screen_share_output_view: Option<(RemoteVideoTrack, Entity<RemoteVideoTrackView>)>,
    speaking: bool,
}

## crates/livekit_client/src/lib.rs
- [L45:L45]mod test;
- [L55:L58]enum Participant {
    Local(LocalParticipant),
    Remote(RemoteParticipant),
}
- [L61:L64]enum TrackPublication {
    Local(LocalTrackPublication),
    Remote(RemoteTrackPublication),
}
- [L83:L86]enum RemoteTrack {
    Audio(RemoteAudioTrack),
    Video(RemoteVideoTrack),
}
- [L98:L101]enum LocalTrack {
    Audio(LocalAudioTrack),
    Video(LocalVideoTrack),
}
- [L105:L181]enum RoomEvent {
    ParticipantConnected(RemoteParticipant),
    ParticipantDisconnected(RemoteParticipant),
    LocalTrackPublished {
        publication: LocalTrackPublication,
        track: LocalTrack,
        participant: LocalParticipant,
    },
    LocalTrackUnpublished {
        publication: LocalTrackPublication,
        participant: LocalParticipant,
    },
    LocalTrackSubscribed {
        track: LocalTrack,
    },
    TrackSubscribed {
        track: RemoteTrack,
        publication: RemoteTrackPublication,
        participant: RemoteParticipant,
    },
    TrackUnsubscribed {
        track: RemoteTrack,
        publication: RemoteTrackPublication,
        participant: RemoteParticipant,
    },
    TrackSubscriptionFailed {
        participant: RemoteParticipant,
        track_sid: TrackSid,
    },
    TrackPublished {
        publication: RemoteTrackPublication,
        participant: RemoteParticipant,
    },
    TrackUnpublished {
        publication: RemoteTrackPublication,
        participant: RemoteParticipant,
    },
    TrackMuted {
        participant: Participant,
        publication: TrackPublication,
    },
    TrackUnmuted {
        participant: Participant,
        publication: TrackPublication,
    },
    RoomMetadataChanged {
        old_metadata: String,
        metadata: String,
    },
    ParticipantMetadataChanged {
        participant: Participant,
        old_metadata: String,
        metadata: String,
    },
    ParticipantNameChanged {
        participant: Participant,
        old_name: String,
        name: String,
    },
    ParticipantAttributesChanged {
        participant: Participant,
        changed_attributes: HashMap<String, String>,
    },
    ActiveSpeakersChanged {
        speakers: Vec<Participant>,
    },
    ConnectionStateChanged(ConnectionState),
    Connected {
        participants_with_tracks: Vec<(RemoteParticipant, Vec<RemoteTrackPublication>)>,
    },
    Disconnected {
        reason: &'static str,
    },
    Reconnecting,
    Reconnected,
}

## crates/livekit_client/src/livekit_client.rs
- [L23:L23]struct RemoteVideoTrack(livekit::track::RemoteVideoTrack);
- [L25:L25]struct RemoteAudioTrack(livekit::track::RemoteAudioTrack);
- [L27:L27]struct RemoteTrackPublication(livekit::publication::RemoteTrackPublication);
- [L29:L29]struct RemoteParticipant(livekit::participant::RemoteParticipant);
- [L32:L32]struct LocalVideoTrack(livekit::track::LocalVideoTrack);
- [L34:L34]struct LocalAudioTrack(livekit::track::LocalAudioTrack);
- [L36:L36]struct LocalTrackPublication(livekit::publication::LocalTrackPublication);
- [L38:L38]struct LocalParticipant(livekit::participant::LocalParticipant);
- [L40:L44]struct Room {
    room: livekit::Room,
    _task: Task<()>,
    playback: playback::AudioStack,
}
- [L46:L46]type TrackSid = livekit::id::TrackSid;
- [L47:L47]type ConnectionState = livekit::ConnectionState;
- [L49:L49]struct ParticipantIdentity(pub String);
- [L303:L312]fn participant_from_livekit(participant: livekit::participant::Participant) -> Participant 
- [L314:L325]fn publication_from_livekit(
    publication: livekit::publication::TrackPublication,
) -> TrackPublication 
- [L327:L332]fn remote_track_from_livekit(track: livekit::track::RemoteTrack) -> RemoteTrack 
- [L334:L339]fn local_track_from_livekit(track: livekit::track::LocalTrack) -> LocalTrack 
- [L340:L485]fn room_event_from_livekit(event: livekit::RoomEvent) -> Option<RoomEvent> 

## crates/livekit_client/src/livekit_client/playback.rs
- [L425:L429]struct Speaker {
    pub name: String,
    pub is_staff: bool,
    pub sends_legacy_audio: bool,
}
- [L431:L457]fn send_to_livekit(frame_tx: UnboundedSender<AudioFrame<'static>>, mut microphone: impl Source) 
- [L461:L464]enum AudioStream {
    Input { _task: Task<()> },
    Output { _drop: Box<dyn std::any::Any> },
}
- [L504:L509]struct AudioMixerSource {
    ssrc: i32,
    sample_rate: u32,
    num_channels: u32,
    buffer: Arc<Mutex<VecDeque<Vec<i16>>>>,
}
- [L547:L578]fn play_remote_video_track(
    track: &crate::RemoteVideoTrack,
) -> impl Stream<Item = RemoteVideoFrame> + use<> 
- [L581:L618]fn create_buffer_pool(
    width: u32,
    height: u32,
) -> Result<core_video::pixel_buffer_pool::CVPixelBufferPool> 
- [L621:L621]type RemoteVideoFrame = core_video::pixel_buffer::CVPixelBuffer;
- [L624:L684]fn video_frame_buffer_from_webrtc(
    pool: core_video::pixel_buffer_pool::CVPixelBufferPool,
    buffer: Box<dyn VideoBuffer>,
) -> Option<RemoteVideoFrame> 
- [L687:L687]type RemoteVideoFrame = Arc<gpui::RenderImage>;
- [L690:L728]fn video_frame_buffer_from_webrtc(buffer: Box<dyn VideoBuffer>) -> Option<RemoteVideoFrame> 
- [L731:L739]fn video_frame_buffer_to_webrtc(frame: ScreenCaptureFrame) -> Option<impl AsRef<dyn VideoBuffer>> 
- [L742:L797]fn video_frame_buffer_to_webrtc(frame: ScreenCaptureFrame) -> Option<impl AsRef<dyn VideoBuffer>> 

## crates/livekit_client/src/livekit_client/playback/source.rs
- [L12:L21]fn frame_to_samplesbuffer(frame: AudioFrame) -> SamplesBuffer 
- [L23:L29]struct LiveKitStream {
    inner: rodio::queue::SourcesQueueOutput,
    _receiver_task: gpui::Task<()>,
    channel_count: ChannelCount,
    sample_rate: SampleRate,
}

## crates/livekit_client/src/mock_client.rs
- [L7:L7]type RemoteVideoTrack = track::RemoteVideoTrack;
- [L8:L8]type RemoteAudioTrack = track::RemoteAudioTrack;
- [L9:L9]type RemoteTrackPublication = publication::RemoteTrackPublication;
- [L10:L10]type RemoteParticipant = participant::RemoteParticipant;
- [L12:L12]type LocalVideoTrack = track::LocalVideoTrack;
- [L13:L13]type LocalAudioTrack = track::LocalAudioTrack;
- [L14:L14]type LocalTrackPublication = publication::LocalTrackPublication;
- [L15:L15]type LocalParticipant = participant::LocalParticipant;
- [L17:L17]type Room = test::Room;
- [L20:L20]struct AudioStream {}
- [L23:L23]type RemoteVideoFrame = std::sync::Arc<gpui::RenderImage>;

## crates/livekit_client/src/mock_client/participant.rs
- [L13:L16]struct LocalParticipant {
    pub(crate) identity: ParticipantIdentity,
    pub(crate) room: Room,
}
- [L19:L22]struct RemoteParticipant {
    pub(crate) identity: ParticipantIdentity,
    pub(crate) room: WeakRoom,
}
- [L125:L125]struct TestScreenCaptureStream;

## crates/livekit_client/src/mock_client/publication.rs
- [L6:L9]struct LocalTrackPublication {
    pub(crate) sid: TrackSid,
    pub(crate) room: WeakRoom,
}
- [L12:L16]struct RemoteTrackPublication {
    pub(crate) sid: TrackSid,
    pub(crate) room: WeakRoom,
    pub(crate) track: RemoteTrack,
}

## crates/livekit_client/src/mock_client/track.rs
- [L9:L9]struct LocalVideoTrack {}
- [L12:L12]struct LocalAudioTrack {}
- [L15:L18]struct RemoteVideoTrack {
    pub(crate) server_track: Arc<TestServerVideoTrack>,
    pub(crate) _room: WeakRoom,
}
- [L21:L24]struct RemoteAudioTrack {
    pub(crate) server_track: Arc<TestServerAudioTrack>,
    pub(crate) room: WeakRoom,
}

## crates/livekit_client/src/record.rs
- [L14:L19]struct CaptureInput {
    pub name: String,
    config: cpal::SupportedStreamConfig,
    samples: Arc<Mutex<Vec<i16>>>,
    _stream: cpal::Stream,
}
- [L48:L74]fn start_capture(
    device: cpal::Device,
    config: cpal::SupportedStreamConfig,
    samples: Arc<Mutex<Vec<i16>>>,
) -> Result<cpal::Stream> 
- [L76:L96]fn write_out(
    samples: Arc<Mutex<Vec<i16>>>,
    config: cpal::SupportedStreamConfig,
    path: &Path,
) -> Result<()> 

## crates/livekit_client/src/remote_video_track_view.rs
- [L7:L15]struct RemoteVideoTrackView {
    track: RemoteVideoTrack,
    latest_frame: Option<crate::RemoteVideoFrame>,
    current_rendered_frame: Option<crate::RemoteVideoFrame>,
    previous_rendered_frame: Option<crate::RemoteVideoFrame>,
    _maintain_frame: Task<()>,
}
- [L18:L20]enum RemoteVideoTrackViewEvent {
    Close,
}

## crates/livekit_client/src/test.rs
- [L17:L17]struct ParticipantIdentity(pub String);
- [L20:L20]struct TrackSid(pub(crate) String);
- [L38:L41]enum ConnectionState {
    Connected,
    Disconnected,
}
- [L43:L43]static SERVERS: Mutex<BTreeMap<String, Arc<TestServer>>> = Mutex::new(BTreeMap::new());
- [L45:L51]struct TestServer {
    pub url: String,
    pub api_key: String,
    pub secret_key: String,
    rooms: Mutex<HashMap<String, TestServerRoom>>,
    executor: BackgroundExecutor,
}
- [L545:L550]struct TestServerRoom {
    client_rooms: HashMap<ParticipantIdentity, Room>,
    video_tracks: Vec<Arc<TestServerVideoTrack>>,
    audio_tracks: Vec<Arc<TestServerAudioTrack>>,
    participant_permissions: HashMap<ParticipantIdentity, proto::ParticipantPermission>,
}
- [L566:L568]struct TestApiClient {
    url: String,
}
- [L640:L640]struct Room(pub(crate) Arc<Mutex<RoomState>>);

## crates/lmstudio/src/lmstudio.rs
- [L8:L8]const LMSTUDIO_API_URL: &str = "http://localhost:1234/api/v0";
- [L12:L17]enum Role {
    User,
    Assistant,
    System,
    Tool,
}
- [L46:L52]struct Model {
    pub name: String,
    pub display_name: Option<String>,
    pub max_tokens: u64,
    pub supports_tool_calls: bool,
    pub supports_images: bool,
}
- [L90:L96]enum ToolChoice {
    Auto,
    Required,
    None,
    Other(ToolDefinition),
}
- [L100:L103]enum ToolDefinition {
    Function { function: FunctionDefinition },
}
- [L106:L110]struct FunctionDefinition {
    pub name: String,
    pub description: Option<String>,
    pub parameters: Option<Value>,
}
- [L114:L131]enum ChatMessage {
    Assistant {
        content: Option<MessageContent>,
        tool_calls: Vec<ToolCall>,
    },
    User {
        content: MessageContent,
    },
    System {
        content: MessageContent,
    },
    Tool {
        content: MessageContent,
        tool_call_id: String,
    },
}
- [L135:L138]enum MessageContent {
    Plain(String),
    Multipart(Vec<MessagePart>),
}
- [L172:L180]enum MessagePart {
    Text {
        text: String,
    },
    Image {
        image_url: ImageUrl,
    },
}
- [L183:L187]struct ImageUrl {
    pub url: String,
    pub detail: Option<String>,
}
- [L190:L194]struct ToolCall {
    pub id: String,
    pub content: ToolCallContent,
}
- [L198:L200]enum ToolCallContent {
    Function { function: FunctionContent },
}
- [L203:L206]struct FunctionContent {
    pub name: String,
    pub arguments: String,
}
- [L209:L223]struct ChatCompletionRequest {
    pub model: String,
    pub messages: Vec<ChatMessage>,
    pub stream: bool,
    pub max_tokens: Option<i32>,
    pub stop: Option<Vec<String>>,
    pub temperature: Option<f32>,
    pub tools: Vec<ToolDefinition>,
    pub tool_choice: Option<ToolChoice>,
}
- [L226:L232]struct ChatResponse {
    pub id: String,
    pub object: String,
    pub created: u64,
    pub model: String,
    pub choices: Vec<ChoiceDelta>,
}
- [L235:L239]struct ChoiceDelta {
    pub index: u32,
    pub delta: ResponseMessageDelta,
    pub finish_reason: Option<String>,
}
- [L242:L250]struct ToolCallChunk {
    pub index: usize,
    pub id: Option<String>,
    pub function: Option<FunctionChunk>,
}
- [L253:L256]struct FunctionChunk {
    pub name: Option<String>,
    pub arguments: Option<String>,
}
- [L259:L263]struct Usage {
    pub prompt_tokens: u64,
    pub completion_tokens: u64,
    pub total_tokens: u64,
}
- [L267:L267]struct Capabilities(Vec<String>);
- [L280:L282]struct LmStudioError {
    pub message: String,
}
- [L286:L289]enum ResponseStreamResult {
    Ok(ResponseStreamEvent),
    Err { error: LmStudioError },
}
- [L292:L298]struct ResponseStreamEvent {
    pub created: u32,
    pub model: String,
    pub object: String,
    pub choices: Vec<ChoiceDelta>,
    pub usage: Option<Usage>,
}
- [L301:L303]struct ListModelsResponse {
    pub data: Vec<ModelEntry>,
}
- [L306:L319]struct ModelEntry {
    pub id: String,
    pub object: String,
    pub publisher: String,
    pub arch: Option<String>,
    pub compatibility_type: CompatibilityType,
    pub quantization: Option<String>,
    pub state: ModelState,
    pub max_context_length: Option<u64>,
    pub loaded_context_length: Option<u64>,
    pub capabilities: Capabilities,
}
- [L323:L327]enum ModelType {
    Llm,
    Embeddings,
    Vlm,
}
- [L331:L335]enum ModelState {
    Loaded,
    Loading,
    NotLoaded,
}
- [L339:L342]enum CompatibilityType {
    Gguf,
    Mlx,
}
- [L345:L352]struct ResponseMessageDelta {
    pub role: Option<Role>,
    pub content: Option<String>,
    pub reasoning_content: Option<String>,
    pub tool_calls: Option<Vec<ToolCallChunk>>,
}
- [L354:L354]async fn complete(
- [L386:L386]async fn stream_chat_completion(
- [L434:L434]async fn get_models(

## crates/lsp/src/input_handler.rs
- [L21:L25]struct LspStdoutHandler {
    pub(super) loop_handle: Task<Result<()>>,
    pub(super) incoming_messages: UnboundedReceiver<NotificationOrRequest>,
}

## crates/lsp/src/lsp.rs
- [L48:L48]const LSP_REQUEST_TIMEOUT: Duration = Duration::from_secs(60 * 2);
- [L55:L61]enum IoKind {
    StdOut,
    StdIn,
    StdErr,
}
- [L63:L70]struct LanguageServerBinary {
    pub path: PathBuf,
    pub arguments: Vec<OsString>,
    pub env: Option<HashMap<String, String>>,
}
- [L72:L81]struct LanguageServerBinaryOptions {
    pub allow_path_lookup: bool,
    pub allow_binary_download: bool,
    pub pre_release: bool,
}
- [L83:L83]struct NotificationSerializer(Box<dyn FnOnce() -> String + Send + Sync>);
- [L85:L111]struct LanguageServer {
    server_id: LanguageServerId,
    next_id: AtomicI32,
    outbound_tx: channel::Sender<String>,
    notification_tx: channel::Sender<NotificationSerializer>,
    name: LanguageServerName,
    version: Option<SharedString>,
    process_name: Arc<str>,
    binary: LanguageServerBinary,
    capabilities: RwLock<ServerCapabilities>,
    configuration: Arc<DidChangeConfigurationParams>,
    code_action_kinds: Option<Vec<CodeActionKind>>,
    notification_handlers: Arc<Mutex<HashMap<&'static str, NotificationHandler>>>,
    response_handlers: Arc<Mutex<Option<HashMap<RequestId, ResponseHandler>>>>,
    io_handlers: Arc<Mutex<HashMap<i32, IoHandler>>>,
    executor: BackgroundExecutor,
    io_tasks: Mutex<Option<(Task<Option<()>>, Task<Option<()>>)>>,
    output_done_rx: Mutex<Option<barrier::Receiver>>,
    server: Arc<Mutex<Option<Child>>>,
    workspace_folders: Option<Arc<Mutex<BTreeSet<Uri>>>>,
    root_uri: Uri,
}
- [L114:L117]enum LanguageServerSelector {
    Id(LanguageServerId),
    Name(LanguageServerName),
}
- [L119:L122]struct LanguageServerId(pub usize);
- [L139:L139]struct LanguageServerName(pub SharedString);
- [L181:L191]enum Subscription {
    Notification {
        method: &'static str,
        notification_handlers: Option<Arc<Mutex<HashMap<&'static str, NotificationHandler>>>>,
    },
    Io {
        id: i32,
        io_handlers: Option<Weak<Mutex<HashMap<i32, IoHandler>>>>,
    },
}
- [L193:L201]enum RequestId {
    Int(i32),
    Str(String),
}
- [L203:L212]struct Request<'a, T> {
    jsonrpc: &'static str,
    id: RequestId,
    method: &'a str,
    params: T,
}
- [L214:L223]struct AnyResponse<'a> {
    jsonrpc: &'a str,
    id: RequestId,
    error: Option<Error>,
    result: Option<&'a RawValue>,
}
- [L225:L234]struct Response<T> {
    jsonrpc: &'static str,
    id: RequestId,
    value: LspResult<T>,
}
- [L238:L242]enum LspResult<T> {
    Ok(Option<T>),
    Error(Option<Error>),
}
- [L244:L253]struct Notification<'a, T> {
    jsonrpc: &'static str,
    method: &'a str,
    params: T,
}
- [L255:L263]struct NotificationOrRequest {
    id: Option<RequestId>,
    method: String,
    params: Option<Value>,
}
- [L266:L271]struct Error {
    code: i64,
    message: String,
    data: Option<serde_json::Value>,
}
- [L273:L273]trait LspRequestFuture<O>: Future<Output = ConnectionResult<O>> {
- [L277:L280]struct LspRequest<F> {
    id: i32,
    request: F,
}
- [L307:L314]struct AdapterServerCapabilities {
    pub server_capabilities: ServerCapabilities,
    pub code_action_kinds: Option<Vec<CodeActionKind>>,
}
- [L1612:L1619]struct FakeLanguageServer {
    pub binary: LanguageServerBinary,
    pub server: Arc<LanguageServer>,
    notifications_rx: channel::Receiver<(String, String)>,
}

## crates/markdown/examples/markdown.rs
- [L36:L59]fn main() 
- [L61:L63]struct MarkdownExample {
    markdown: Entity<Markdown>,
}

## crates/markdown/examples/markdown_as_child.rs
- [L19:L43]fn main() 
- [L44:L46]struct HelloWorld {
    markdown: Entity<Markdown>,
}

## crates/markdown/src/markdown.rs
- [L1:L1]mod parser;
- [L44:L53]struct HeadingLevelStyles {
    pub h1: Option<TextStyleRefinement>,
    pub h2: Option<TextStyleRefinement>,
    pub h3: Option<TextStyleRefinement>,
    pub h4: Option<TextStyleRefinement>,
    pub h5: Option<TextStyleRefinement>,
    pub h6: Option<TextStyleRefinement>,
}
- [L56:L74]struct MarkdownStyle {
    pub base_text_style: TextStyle,
    pub container_style: StyleRefinement,
    pub code_block: StyleRefinement,
    pub code_block_overflow_x_scroll: bool,
    pub inline_code: TextStyleRefinement,
    pub block_quote: TextStyleRefinement,
    pub link: TextStyleRefinement,
    pub link_callback: Option<LinkStyleCallback>,
    pub rule_color: Hsla,
    pub block_quote_border_color: Hsla,
    pub syntax: Arc<SyntaxTheme>,
    pub selection_background_color: Hsla,
    pub heading: StyleRefinement,
    pub heading_level_styles: Option<HeadingLevelStyles>,
    pub height_is_multiple_of_line_height: bool,
    pub prevent_mouse_interaction: bool,
    pub table_columns_min_size: bool,
}
- [L100:L116]struct Markdown {
    source: SharedString,
    selection: Selection,
    pressed_link: Option<RenderedLink>,
    autoscroll_request: Option<usize>,
    parsed_markdown: ParsedMarkdown,
    images_by_source_offset: HashMap<usize, Arc<Image>>,
    should_reparse: bool,
    pending_parse: Option<Task<()>>,
    focus_handle: FocusHandle,
    language_registry: Option<Arc<LanguageRegistry>>,
    fallback_code_block_language: Option<LanguageName>,
    options: Options,
    copied_code_blocks: HashSet<ElementId>,
    code_block_scroll_handles: HashMap<usize, ScrollHandle>,
    context_menu_selected_text: Option<String>,
}
- [L118:L120]struct Options {
    parse_links_only: bool,
}
- [L122:L134]enum CodeBlockRenderer {
    Default {
        copy_button: bool,
        copy_button_on_hover: bool,
        border: bool,
    },
    Custom {
        render: CodeBlockRenderFn,
        transform: Option<CodeBlockTransformFn>,
    },
}
- [L136:L136]type CodeBlockRenderFn = Arc<
- [L147:L147]type CodeBlockTransformFn =
- [L447:L453]enum SelectMode {
    Character,
    Word(Range<usize>),
    Line(Range<usize>),
    All,
}
- [L456:L462]struct Selection {
    start: usize,
    end: usize,
    reversed: bool,
    pending: bool,
    mode: SelectMode,
}
- [L521:L526]struct ParsedMarkdown {
    pub source: SharedString,
    pub events: Arc<[(Range<usize>, MarkdownEvent)]>,
    pub languages_by_name: TreeMap<SharedString, Arc<Language>>,
    pub languages_by_path: TreeMap<Arc<str>, Arc<Language>>,
}
- [L538:L543]struct MarkdownElement {
    markdown: Entity<Markdown>,
    style: MarkdownStyle,
    code_block_renderer: CodeBlockRenderer,
    on_url_click: Option<Box<dyn Fn(SharedString, &mut Window, &mut App)>>,
}
- [L1416:L1446]fn apply_heading_style(
    mut heading: Div,
    level: pulldown_cmark::HeadingLevel,
    custom_styles: Option<&HeadingLevelStyles>,
) -> Div 
- [L1448:L1493]fn render_copy_code_block_button(
    id: usize,
    code: String,
    markdown: Entity<Markdown>,
    cx: &App,
) -> impl IntoElement 
- [L1503:L1506]enum AnyDiv {
    Div(Div),
    Stateful(Stateful<Div>),
}
- [L1548:L1553]struct TableState {
    alignments: Vec<Alignment>,
    in_head: bool,
    row_index: usize,
    col_index: usize,
}
- [L1591:L1604]struct MarkdownElementBuilder {
    div_stack: Vec<AnyDiv>,
    rendered_lines: Vec<RenderedLine>,
    pending_line: PendingLine,
    rendered_links: Vec<RenderedLink>,
    current_source_index: usize,
    html_comment: bool,
    base_text_style: TextStyle,
    text_style_stack: Vec<TextStyleRefinement>,
    code_block_stack: Vec<Option<Arc<Language>>>,
    list_stack: Vec<ListStackEntry>,
    table: TableState,
    syntax_theme: Arc<SyntaxTheme>,
}
- [L1607:L1611]struct PendingLine {
    text: String,
    runs: Vec<TextRun>,
    source_mappings: Vec<SourceMapping>,
}
- [L1613:L1615]struct ListStackEntry {
    bullet_index: Option<u64>,
}
- [L1810:L1814]struct RenderedLine {
    layout: TextLayout,
    source_mappings: Vec<SourceMapping>,
    source_end: usize,
}
- [L1870:L1873]struct SourceMapping {
    rendered_index: usize,
    source_index: usize,
}
- [L1875:L1878]struct RenderedMarkdown {
    element: AnyElement,
    text: RenderedText,
}
- [L1881:L1884]struct RenderedText {
    lines: Rc<[RenderedLine]>,
    links: Rc<[RenderedLink]>,
}
- [L1887:L1890]struct RenderedLink {
    source_range: Range<usize>,
    destination_url: SharedString,
}

## crates/markdown/src/parser.rs
- [L23:L328]fn parse_markdown(
    text: &str,
) -> (
    Vec<(Range<usize>, MarkdownEvent)>,
    HashSet<SharedString>,
    HashSet<Arc<str>>,
) 
- [L330:L365]fn parse_links_only(text: &str) -> Vec<(Range<usize>, MarkdownEvent)> 
- [L367:L400]enum MarkdownEvent {
    Start(MarkdownTag),
    End(MarkdownTagEnd),
    Text,
    SubstitutedText(String),
    Code,
    Html,
    InlineHtml,
    FootnoteReference,
    SoftBreak,
    HardBreak,
    Rule,
    TaskListMarker(bool),
}
- [L402:L483]enum MarkdownTag {
    Paragraph,
    Heading {
        level: HeadingLevel,
        id: Option<SharedString>,
        classes: Vec<SharedString>,
        attrs: Vec<(SharedString, Option<SharedString>)>,
    },
    BlockQuote,
    CodeBlock {
        kind: CodeBlockKind,
        metadata: CodeBlockMetadata,
    },
    HtmlBlock,
    List(Option<u64>),
    Item,
    FootnoteDefinition(SharedString),
    Table(Vec<Alignment>),
    TableHead,
    TableRow,
    TableCell,
    Emphasis,
    Strong,
    Strikethrough,
    Link {
        link_type: LinkType,
        dest_url: SharedString,
        title: SharedString,
        id: SharedString,
    },
    Image {
        link_type: LinkType,
        dest_url: SharedString,
        title: SharedString,
        id: SharedString,
    },
    MetadataBlock(MetadataBlockKind),
    DefinitionList,
    DefinitionListTitle,
    DefinitionListDefinition,
}
- [L486:L495]enum CodeBlockKind {
    Indented,
    Fenced,
    FencedLang(SharedString),
    FencedSrc(PathWithRange),
}
- [L498:L501]struct CodeBlockMetadata {
    pub content_range: Range<usize>,
    pub line_count: usize,
}
- [L503:L522]fn extract_code_content_range(text: &str) -> Range<usize> 

## crates/markdown/src/path_range.rs
- [L4:L7]struct PathWithRange {
    pub path: Arc<str>,
    pub range: Option<Range<LineCol>>,
}
- [L10:L13]struct LineCol {
    pub line: u32,
    pub col: Option<u32>,
}

## crates/markdown_preview/src/markdown_elements.rs
- [L11:L21]enum ParsedMarkdownElement {
    Heading(ParsedMarkdownHeading),
    ListItem(ParsedMarkdownListItem),
    Table(ParsedMarkdownTable),
    BlockQuote(ParsedMarkdownBlockQuote),
    CodeBlock(ParsedMarkdownCodeBlock),
    Paragraph(MarkdownParagraph),
    HorizontalRule(Range<usize>),
    Image(Image),
}
- [L45:L45]type MarkdownParagraph = Vec<MarkdownParagraphChunk>;
- [L49:L52]enum MarkdownParagraphChunk {
    Text(ParsedMarkdownText),
    Image(Image),
}
- [L56:L58]struct ParsedMarkdown {
    pub children: Vec<ParsedMarkdownElement>,
}
- [L62:L70]struct ParsedMarkdownListItem {
    pub source_range: Range<usize>,
    pub depth: u16,
    pub item_type: ParsedMarkdownListItemType,
    pub content: Vec<ParsedMarkdownElement>,
    pub nested: bool,
}
- [L74:L78]enum ParsedMarkdownListItemType {
    Ordered(u64),
    Task(bool, Range<usize>),
    Unordered,
}
- [L82:L87]struct ParsedMarkdownCodeBlock {
    pub source_range: Range<usize>,
    pub language: Option<String>,
    pub contents: SharedString,
    pub highlights: Option<Vec<(Range<usize>, HighlightId)>>,
}
- [L91:L95]struct ParsedMarkdownHeading {
    pub source_range: Range<usize>,
    pub level: HeadingLevel,
    pub contents: MarkdownParagraph,
}
- [L98:L105]enum HeadingLevel {
    H1,
    H2,
    H3,
    H4,
    H5,
    H6,
}
- [L108:L113]struct ParsedMarkdownTable {
    pub source_range: Range<usize>,
    pub header: Vec<ParsedMarkdownTableRow>,
    pub body: Vec<ParsedMarkdownTableRow>,
    pub caption: Option<MarkdownParagraph>,
}
- [L117:L123]enum ParsedMarkdownTableAlignment {
    None,
    Left,
    Center,
    Right,
}
- [L127:L133]struct ParsedMarkdownTableColumn {
    pub col_span: usize,
    pub row_span: usize,
    pub is_header: bool,
    pub children: MarkdownParagraph,
    pub alignment: ParsedMarkdownTableAlignment,
}
- [L137:L139]struct ParsedMarkdownTableRow {
    pub columns: Vec<ParsedMarkdownTableColumn>,
}
- [L161:L164]struct ParsedMarkdownBlockQuote {
    pub source_range: Range<usize>,
    pub children: Vec<ParsedMarkdownElement>,
}
- [L167:L176]struct ParsedMarkdownText {
    pub source_range: Range<usize>,
    pub contents: SharedString,
    pub highlights: Vec<(Range<usize>, MarkdownHighlight)>,
    pub regions: Vec<(Range<usize>, ParsedRegion)>,
}
- [L178:L185]enum MarkdownHighlight {
    Style(MarkdownHighlightStyle),
    Code(HighlightId),
}
- [L235:L250]struct MarkdownHighlightStyle {
    pub italic: bool,
    pub underline: bool,
    pub strikethrough: bool,
    pub weight: FontWeight,
    pub link: bool,
    pub oblique: bool,
}
- [L252:L260]struct ParsedRegion {
    pub code: bool,
    pub link: Option<Link>,
}
- [L262:L278]enum Link {
    Web {
        url: String,
    },
    Path {
        display_path: PathBuf,
        path: PathBuf,
    },
}
- [L320:L329]struct Image {
    pub link: Link,
    pub source_range: Range<usize>,
    pub alt_text: Option<SharedString>,
    pub width: Option<DefiniteLength>,
    pub height: Option<DefiniteLength>,
}

## crates/markdown_preview/src/markdown_minifier.rs
- [L492:L497]struct Context<'a> {
    parent: &'a Node,
    parent_context: Option<&'a Context<'a>>,
    left: Option<&'a [Rc<Node>]>,
    right: Option<&'a [Rc<Node>]>,
}
- [L568:L570]fn is_whitespace(s: &RefCell<Tendril<UTF8>>) -> bool 
- [L572:L622]fn is_block_element_name(name: &str) -> bool 
- [L624:L630]fn is_block_element(node: &Node) -> bool 
- [L633:L635]fn is_ascii_whitespace(c: char) -> bool 
- [L637:L639]fn preserve_whitespace(name: &str) -> bool 
- [L641:L643]fn contains_code(name: &str) -> bool 
- [L645:L666]fn is_self_closing(name: &str) -> bool 
- [L668:L687]fn optional_end_tag(name: &str) -> bool 

## crates/markdown_preview/src/markdown_parser.rs
- [L17:L17]async fn parse_markdown(
- [L37:L53]fn cleanup_html(source: &str) -> Vec<u8> 
- [L55:L63]struct MarkdownParser<'a> {
    tokens: Vec<(Event<'a>, Range<usize>)>,
    cursor: usize,
    parsed: Vec<ParsedMarkdownElement>,
    file_location_directory: Option<PathBuf>,
    language_registry: Option<Arc<LanguageRegistry>>,
}
- [L66:L68]struct ParseHtmlNodeContext {
    list_item_depth: u16,
}
- [L76:L79]struct MarkdownListItem {
    content: Vec<ParsedMarkdownElement>,
    item_type: ParsedMarkdownListItemType,
}
- [L3032:L3034]fn main() 
- [L3059:L3061]fn main() 

## crates/markdown_preview/src/markdown_preview.rs
- [L4:L4]mod markdown_elements;
- [L6:L6]mod markdown_parser;
- [L7:L7]mod markdown_preview_view;
- [L8:L8]mod markdown_renderer;
- [L36:L44]fn init(cx: &mut App) 

## crates/markdown_preview/src/markdown_preview_view.rs
- [L33:L44]struct MarkdownPreviewView {
    workspace: WeakEntity<Workspace>,
    image_cache: Entity<RetainAllImageCache>,
    active_editor: Option<EditorState>,
    focus_handle: FocusHandle,
    contents: Option<ParsedMarkdown>,
    selected_block: usize,
    list_state: ListState,
    language_registry: Arc<LanguageRegistry>,
    parsing_markdown_task: Option<Task<Result<()>>>,
    mode: MarkdownPreviewMode,
}
- [L47:L52]enum MarkdownPreviewMode {
    Default,
    Follow,
}
- [L54:L57]struct EditorState {
    editor: Entity<Editor>,
    _subscription: Subscription,
}

## crates/markdown_preview/src/markdown_renderer.rs
- [L29:L32]struct CheckboxClickedEvent {
    pub checked: bool,
    pub source_range: Range<usize>,
}
- [L47:L66]struct RenderContext {
    workspace: Option<WeakEntity<Workspace>>,
    next_id: usize,
    buffer_font_family: SharedString,
    buffer_text_style: TextStyle,
    text_style: TextStyle,
    border_color: Hsla,
    title_bar_background_color: Hsla,
    panel_background_color: Hsla,
    text_color: Hsla,
    link_color: Hsla,
    window_rem_size: Pixels,
    text_muted_color: Hsla,
    code_block_background_color: Hsla,
    code_span_background_color: Hsla,
    syntax_theme: Arc<SyntaxTheme>,
    indent: usize,
    checkbox_clicked_callback: Option<CheckboxClickedCallback>,
    is_last_child: bool,
}
- [L165:L179]fn render_parsed_markdown(
    parsed: &ParsedMarkdown,
    workspace: Option<WeakEntity<Workspace>>,
    window: &mut Window,
    cx: &mut App,
) -> Div 
- [L180:L192]fn render_markdown_block(block: &ParsedMarkdownElement, cx: &mut RenderContext) -> AnyElement 
- [L194:L231]fn render_markdown_heading(parsed: &ParsedMarkdownHeading, cx: &mut RenderContext) -> AnyElement 
- [L233:L311]fn render_markdown_list_item(
    parsed: &ParsedMarkdownListItem,
    cx: &mut RenderContext,
) -> AnyElement 
- [L313:L329]struct MarkdownCheckbox {
    id: ElementId,
    toggle_state: ToggleState,
    disabled: bool,
    placeholder: bool,
    on_click: Option<Box<dyn Fn(&ToggleState, &mut Window, &mut App) + 'static>>,
    filled: bool,
    style: ui::ToggleStyle,
    tooltip: Option<Box<dyn Fn(&mut Window, &mut App) -> gpui::AnyView>>,
    label: Option<SharedString>,
    render_cx: RenderContext,
}
- [L474:L485]fn calculate_table_columns_count(rows: &Vec<ParsedMarkdownTableRow>) -> usize 
- [L487:L580]fn render_markdown_table(parsed: &ParsedMarkdownTable, cx: &mut RenderContext) -> AnyElement 
- [L582:L610]fn render_markdown_block_quote(
    parsed: &ParsedMarkdownBlockQuote,
    cx: &mut RenderContext,
) -> AnyElement 
- [L612:L662]fn render_markdown_code_block(
    parsed: &ParsedMarkdownCodeBlock,
    cx: &mut RenderContext,
) -> AnyElement 
- [L664:L670]fn render_markdown_paragraph(parsed: &MarkdownParagraph, cx: &mut RenderContext) -> AnyElement 
- [L672:L777]fn render_markdown_text(parsed_new: &MarkdownParagraph, cx: &mut RenderContext) -> Vec<AnyElement> 
- [L779:L782]fn render_markdown_rule(cx: &mut RenderContext) -> AnyElement 
- [L784:L846]fn render_markdown_image(image: &Image, cx: &mut RenderContext) -> AnyElement 
- [L848:L851]struct InteractiveMarkdownElementTooltip {
    tooltip_text: Option<SharedString>,
    action_text: SharedString,
}
- [L895:L925]fn list_item_prefix(order: usize, ordered: bool, depth: usize) -> String 

## crates/media/build.rs
- [L3:L41]fn main() 
- [L44:L44]fn main() 

## crates/media/src/bindings.rs

## crates/media/src/media.rs
- [L7:L7]mod core_media {
- [L214:L214]mod core_video {

## crates/menu/src/menu.rs
- [L10:L10]fn init() 

## crates/migrator/src/migrations.rs

## crates/migrator/src/migrations/m_2025_01_02/settings.rs
- [L8:L8]const SETTINGS_PATTERNS: MigrationPatterns = &[(
- [L13:L49]fn replace_deprecated_settings_values(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 
- [L51:L51]static UPDATED_SETTINGS: LazyLock<HashMap<(&str, &str), Vec<(&str, &str)>>> = LazyLock::new(|| {

## crates/migrator/src/migrations/m_2025_01_29/keymap.rs
- [L11:L11]const KEYMAP_PATTERNS: MigrationPatterns = &[
- [L24:L49]fn replace_array_with_single_string(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 
- [L51:L51]static TRANSFORM_ARRAY: LazyLock<HashMap<(&str, &str), &str>> = LazyLock::new(|| {
- [L172:L204]fn replace_action_argument_object_with_single_value(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 
- [L207:L207]static UNWRAP_OBJECTS: LazyLock<HashMap<&str, HashMap<&str, &str>>> = LazyLock::new(|| {
- [L231:L246]fn replace_string_action(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 
- [L249:L249]static STRING_REPLACE: LazyLock<HashMap<&str, &str>> = LazyLock::new(|| {
- [L276:L296]fn rename_context_key(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 
- [L299:L299]static CONTEXT_REPLACE: LazyLock<HashMap<&str, &str>> = LazyLock::new(|| {

## crates/migrator/src/migrations/m_2025_01_29/settings.rs
- [L10:L10]const SETTINGS_PATTERNS: MigrationPatterns = &[
- [L19:L32]fn replace_setting_name(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 
- [L34:L34]static SETTINGS_STRING_REPLACE: LazyLock<HashMap<&'static str, &'static str>> =
- [L50:L74]fn replace_edit_prediction_provider_setting(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 
- [L76:L90]fn replace_setting_in_languages(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 
- [L92:L92]static LANGUAGE_SETTINGS_REPLACE: LazyLock<HashMap<&'static str, &'static str>> =

## crates/migrator/src/migrations/m_2025_01_30/keymap.rs
- [L9:L9]const KEYMAP_PATTERNS: MigrationPatterns = &[(
- [L14:L16]fn to_snake_case(text: &str) -> String 
- [L18:L61]fn action_argument_snake_case(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 
- [L63:L63]static ACTION_ARGUMENT_SNAKE_CASE_REPLACE: LazyLock<HashMap<&str, &str>> = LazyLock::new(|| {

## crates/migrator/src/migrations/m_2025_01_30/settings.rs
- [L7:L7]const SETTINGS_PATTERNS: MigrationPatterns = &[
- [L18:L42]fn replace_tab_close_button_setting_key(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 
- [L44:L83]fn replace_tab_close_button_setting_value(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 

## crates/migrator/src/migrations/m_2025_03_03/keymap.rs
- [L8:L8]const KEYMAP_PATTERNS: MigrationPatterns =
- [L11:L37]fn replace_string_action(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 
- [L39:L39]static STRING_REPLACE: LazyLock<HashMap<&str, &str>> = LazyLock::new(|| {
- [L57:L57]static STRING_TO_ARRAY_REPLACE: LazyLock<HashMap<&str, (&str, HashMap<&str, bool>)>> =

## crates/migrator/src/migrations/m_2025_03_06/keymap.rs
- [L8:L8]const KEYMAP_PATTERNS: MigrationPatterns = &[(
- [L13:L34]fn replace_array_with_single_string(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 
- [L37:L37]static TRANSFORM_ARRAY: LazyLock<HashSet<&str>> =

## crates/migrator/src/migrations/m_2025_03_29/settings.rs
- [L7:L7]const SETTINGS_PATTERNS: MigrationPatterns = &[
- [L12:L44]fn replace_setting_value(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 
- [L46:L65]fn replace_setting_name(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 

## crates/migrator/src/migrations/m_2025_04_15/keymap.rs
- [L8:L8]const KEYMAP_PATTERNS: MigrationPatterns =
- [L11:L26]fn replace_string_action(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 
- [L29:L29]static STRING_REPLACE: LazyLock<HashMap<&str, &str>> = LazyLock::new(|| {

## crates/migrator/src/migrations/m_2025_04_15/settings.rs
- [L7:L7]const SETTINGS_PATTERNS: MigrationPatterns = &[(
- [L12:L29]fn replace_bash_with_terminal_in_profiles(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 

## crates/migrator/src/migrations/m_2025_04_21/settings.rs
- [L7:L7]const SETTINGS_PATTERNS: MigrationPatterns =
- [L10:L25]fn rename_tools(contents: &str, mat: &QueryMatch, query: &Query) -> Option<(Range<usize>, String)> 

## crates/migrator/src/migrations/m_2025_04_23/settings.rs
- [L7:L7]const SETTINGS_PATTERNS: MigrationPatterns =
- [L10:L27]fn rename_path_search_tool(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 

## crates/migrator/src/migrations/m_2025_05_05/settings.rs
- [L9:L9]const SETTINGS_PATTERNS: MigrationPatterns = &[
- [L17:L28]fn rename_assistant(
    _contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 
- [L30:L41]fn rename_edit_prediction_assistant(
    _contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 

## crates/migrator/src/migrations/m_2025_05_08/settings.rs
- [L6:L6]const SETTINGS_PATTERNS: MigrationPatterns =
- [L9:L26]fn comment_duplicated_agent(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 

## crates/migrator/src/migrations/m_2025_05_29/settings.rs
- [L7:L7]const SETTINGS_PATTERNS: MigrationPatterns = &[(
- [L12:L51]fn replace_preferred_completion_mode_value(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 

## crates/migrator/src/migrations/m_2025_06_16/settings.rs
- [L7:L7]const SETTINGS_PATTERNS: MigrationPatterns = &[(
- [L27:L90]fn migrate_context_server_settings(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 

## crates/migrator/src/migrations/m_2025_06_25/settings.rs
- [L6:L6]const SETTINGS_PATTERNS: MigrationPatterns = &[
- [L52:L61]fn remove_version_fields(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 
- [L63:L72]fn remove_nested_version_fields(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 
- [L74:L133]fn remove_pair_with_whitespace(
    contents: &str,
    pair_node: tree_sitter::Node,
) -> Option<(Range<usize>, String)> 

## crates/migrator/src/migrations/m_2025_06_27/settings.rs
- [L6:L6]const SETTINGS_PATTERNS: MigrationPatterns = &[(
- [L38:L108]fn flatten_context_server_command(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 
- [L110:L132]fn reduce_indentation(text: &str, spaces: usize) -> String 

## crates/migrator/src/migrations/m_2025_07_08/settings.rs
- [L7:L7]const SETTINGS_PATTERNS: MigrationPatterns = &[(
- [L12:L37]fn migrate_drag_and_drop_selection(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 

## crates/migrator/src/migrations/m_2025_10_01/settings.rs
- [L5:L74]fn flatten_code_actions_formatters(value: &mut Value) -> Result<()> 

## crates/migrator/src/migrations/m_2025_10_02/settings.rs
- [L6:L8]fn remove_formatters_on_save(value: &mut Value) -> Result<()> 
- [L10:L41]fn remove_formatters_on_save_inner(value: &mut Value, path: &[&str]) -> Result<()> 

## crates/migrator/src/migrations/m_2025_10_03/settings.rs
- [L7:L7]const SETTINGS_PATTERNS: MigrationPatterns =
- [L10:L30]fn rename_agent_font_size(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 

## crates/migrator/src/migrations/m_2025_10_16/settings.rs
- [L6:L8]fn restore_code_actions_on_format(value: &mut Value) -> Result<()> 
- [L10:L71]fn restore_code_actions_on_format_inner(value: &mut Value, path: &[&str]) -> Result<()> 

## crates/migrator/src/migrations/m_2025_10_17/settings.rs
- [L4:L24]fn make_file_finder_include_ignored_an_enum(value: &mut Value) -> Result<()> 

## crates/migrator/src/migrations/m_2025_10_21/settings.rs
- [L4:L16]fn make_relative_line_numbers_an_enum(value: &mut Value) -> Result<()> 

## crates/migrator/src/migrations/m_2025_11_12/settings.rs
- [L7:L7]const SETTINGS_PATTERNS: MigrationPatterns = &[
- [L18:L34]fn rename_open_file_on_paste_setting(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 
- [L36:L60]fn replace_open_file_on_paste_setting_value(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 
- [L62:L84]fn is_project_panel_open_file_on_paste(contents: &str, mat: &QueryMatch, query: &Query) -> bool 

## crates/migrator/src/migrations/m_2025_11_20/settings.rs
- [L7:L7]const SETTINGS_PATTERNS: MigrationPatterns = &[(
- [L27:L76]fn migrate_custom_agent_settings(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 

## crates/migrator/src/migrations/m_2025_11_25/settings.rs
- [L4:L17]fn remove_context_server_source(settings: &mut Value) -> Result<()> 

## crates/migrator/src/migrations/m_2025_12_01/settings.rs
- [L7:L7]const SETTINGS_PATTERNS: MigrationPatterns = &[(
- [L12:L31]fn rename_enable_preview_from_code_navigation_setting(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 
- [L33:L55]fn is_enable_preview_from_code_navigation(contents: &str, mat: &QueryMatch, query: &Query) -> bool 

## crates/migrator/src/migrations/m_2025_12_08/keymap.rs
- [L8:L8]const KEYMAP_PATTERNS: MigrationPatterns =
- [L11:L26]fn replace_string_action(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 
- [L28:L28]static STRING_REPLACE: LazyLock<HashMap<&str, &str>> = LazyLock::new(|| {

## crates/migrator/src/migrations/m_2025_12_15/settings.rs
- [L7:L7]const SETTINGS_PATTERNS: MigrationPatterns = &[(
- [L12:L36]fn rename_restore_on_startup_values(
    contents: &str,
    mat: &QueryMatch,
    query: &Query,
) -> Option<(Range<usize>, String)> 
- [L38:L52]fn is_restore_on_startup_setting(contents: &str, mat: &QueryMatch, query: &Query) -> bool 

## crates/migrator/src/migrator.rs
- [L28:L67]fn migrate(text: &str, patterns: MigrationPatterns, query: &Query) -> Result<Option<String>> 
- [L69:L118]fn run_migrations(text: &str, migrations: &[MigrationType]) -> Result<Option<String>> 
- [L120:L148]fn migrate_keymap(text: &str) -> Result<Option<String>> 
- [L150:L153]enum MigrationType<'a> {
    TreeSitter(MigrationPatterns, &'a Query),
    Json(fn(&mut serde_json::Value) -> Result<()>),
}
- [L155:L241]fn migrate_settings(text: &str) -> Result<Option<String>> 
- [L243:L252]fn migrate_edit_prediction_provider_settings(text: &str) -> Result<Option<String>> 
- [L254:L254]type MigrationPatterns = &'static [(
- [L379:L379]static EDIT_PREDICTION_SETTINGS_MIGRATION_QUERY: LazyLock<Query> = LazyLock::new(|| {

## crates/migrator/src/patterns.rs

## crates/migrator/src/patterns/keymap.rs
- [L1:L1]const KEYMAP_ACTION_ARRAY_PATTERN: &str = r#"(document
- [L23:L23]const KEYMAP_ACTION_STRING_PATTERN: &str = r#"(document
- [L42:L42]const KEYMAP_CONTEXT_PATTERN: &str = r#"(document
- [L54:L54]const KEYMAP_ACTION_ARRAY_ARGUMENT_AS_OBJECT_PATTERN: &str = r#"(document

## crates/migrator/src/patterns/settings.rs
- [L1:L1]const SETTINGS_ROOT_KEY_VALUE_PATTERN: &str = r#"(document
- [L10:L10]const SETTINGS_NESTED_KEY_VALUE_PATTERN: &str = r#"(document
- [L24:L24]const SETTINGS_LANGUAGES_PATTERN: &str = r#"(document
- [L43:L43]const SETTINGS_ASSISTANT_TOOLS_PATTERN: &str = r#"(document
- [L75:L75]const SETTINGS_ASSISTANT_PATTERN: &str = r#"(document
- [L84:L84]const SETTINGS_EDIT_PREDICTIONS_ASSISTANT_PATTERN: &str = r#"(document
- [L97:L97]const SETTINGS_DUPLICATED_AGENT_PATTERN: &str = r#"(document
- [L112:L131]fn migrate_language_setting(
    value: &mut serde_json::Value,
    migrate_fn: fn(&mut serde_json::Value, path: &[&str]) -> anyhow::Result<()>,
) -> anyhow::Result<()> 

## crates/miniprofiler_ui/src/miniprofiler_ui.rs
- [L24:L35]fn init(startup_time: Instant, cx: &mut App) 
- [L37:L80]fn open_performance_profiler(
    startup_time: Instant,
    _workspace: &mut workspace::Workspace,
    workspace_handle: WindowHandle<Workspace>,
    cx: &mut App,
) 
- [L82:L85]enum DataMode {
    Realtime(Option<Vec<TaskTiming>>),
    Snapshot(Vec<TaskTiming>),
}
- [L87:L92]struct TimingBar {
    location: &'static core::panic::Location<'static>,
    start: Instant,
    end: Instant,
    color: Hsla,
}
- [L94:L102]struct ProfilerWindow {
    startup_time: Instant,
    data: DataMode,
    include_self_timings: ToggleState,
    autoscroll: bool,
    scroll_handle: UniformListScrollHandle,
    workspace: Option<WindowHandle<Workspace>>,
    _refresh: Option<Task<()>>,
}

## crates/mistral/src/mistral.rs
- [L9:L9]const MISTRAL_API_URL: &str = "https://api.mistral.ai/v1";
- [L10:L10]const CODESTRAL_API_URL: &str = "https://codestral.mistral.ai";
- [L14:L19]enum Role {
    User,
    Assistant,
    System,
    Tool,
}
- [L48:L92]enum Model {
    CodestralLatest,
    MistralLargeLatest,
    MistralMediumLatest,
    MistralSmallLatest,
    MagistralMediumLatest,
    MagistralSmallLatest,
    OpenMistralNemo,
    OpenCodestralMamba,
    DevstralMediumLatest,
    DevstralSmallLatest,
    Pixtral12BLatest,
    PixtralLargeLatest,
    Custom {
        name: String,
        display_name: Option<String>,
        max_tokens: u64,
        max_output_tokens: Option<u64>,
        max_completion_tokens: Option<u64>,
        supports_tools: Option<bool>,
        supports_images: Option<bool>,
        supports_thinking: Option<bool>,
    },
}
- [L232:L248]struct Request {
    pub model: String,
    pub messages: Vec<RequestMessage>,
    pub stream: bool,
    pub max_tokens: Option<u64>,
    pub temperature: Option<f32>,
    pub response_format: Option<ResponseFormat>,
    pub tool_choice: Option<ToolChoice>,
    pub parallel_tool_calls: Option<bool>,
    pub tools: Vec<ToolDefinition>,
}
- [L252:L256]enum ResponseFormat {
    Text,
    JsonObject,
}
- [L260:L262]enum ToolDefinition {
    Function { function: FunctionDefinition },
}
- [L265:L269]struct FunctionDefinition {
    pub name: String,
    pub description: Option<String>,
    pub parameters: Option<Value>,
}
- [L273:L280]enum ToolChoice {
    Auto,
    Required,
    None,
    Any,
    Function(ToolDefinition),
}
- [L284:L304]enum RequestMessage {
    Assistant {
        content: Option<MessageContent>,
        tool_calls: Vec<ToolCall>,
    },
    User {
        content: MessageContent,
    },
    System {
        content: MessageContent,
    },
    Tool {
        content: String,
        tool_call_id: String,
    },
}
- [L308:L313]enum MessageContent {
    Plain { content: String },
    Multipart { content: Vec<MessagePart> },
}
- [L349:L353]enum MessagePart {
    Text { text: String },
    ImageUrl { image_url: String },
    Thinking { thinking: Vec<ThinkingPart> },
}
- [L356:L356]type ContentPart = MessagePart;
- [L360:L362]enum ThinkingPart {
    Text { text: String },
}
- [L365:L369]struct ToolCall {
    pub id: String,
    pub content: ToolCallContent,
}
- [L373:L375]enum ToolCallContent {
    Function { function: FunctionContent },
}
- [L378:L381]struct FunctionContent {
    pub name: String,
    pub arguments: String,
}
- [L384:L388]struct Usage {
    pub prompt_tokens: u64,
    pub completion_tokens: u64,
    pub total_tokens: u64,
}
- [L391:L398]struct StreamResponse {
    pub id: String,
    pub object: String,
    pub created: u64,
    pub model: String,
    pub choices: Vec<StreamChoice>,
    pub usage: Option<Usage>,
}
- [L401:L405]struct StreamChoice {
    pub index: u32,
    pub delta: StreamDelta,
    pub finish_reason: Option<String>,
}
- [L408:L414]struct StreamDelta {
    pub role: Option<Role>,
    pub content: Option<MessageContentDelta>,
    pub tool_calls: Option<Vec<ToolCallChunk>>,
}
- [L418:L421]enum MessageContentDelta {
    Text(String),
    Parts(Vec<MessagePart>),
}
- [L424:L428]struct ToolCallChunk {
    pub index: usize,
    pub id: Option<String>,
    pub function: Option<FunctionChunk>,
}
- [L431:L434]struct FunctionChunk {
    pub name: Option<String>,
    pub arguments: Option<String>,
}
- [L436:L436]async fn stream_completion(

## crates/multi_buffer/src/anchor.rs
- [L12:L16]struct Anchor {
    pub excerpt_id: ExcerptId,
    pub text_anchor: text::Anchor,
    pub diff_base_anchor: Option<text::Anchor>,
}
- [L226:L226]trait AnchorRangeExt {

## crates/multi_buffer/src/multi_buffer.rs
- [L65:L65]struct ExcerptId(u32);
- [L68:L68]struct BaseTextRow(pub u32);
- [L70:L98]struct MultiBuffer {
    snapshot: RefCell<MultiBufferSnapshot>,
    buffers: HashMap<BufferId, BufferState>,
    excerpts_by_path: BTreeMap<PathKey, Vec<ExcerptId>>,
    paths_by_excerpt: HashMap<ExcerptId, PathKey>,
    diffs: HashMap<BufferId, DiffState>,
    subscriptions: Topic<MultiBufferOffset>,
    singleton: bool,
    history: History,
    title: Option<String>,
    capability: Capability,
    buffer_changed_since_sync: Rc<Cell<bool>>,
    follower: Option<Entity<MultiBuffer>>,
    filter_mode: Option<MultiBufferFilterMode>,
}
- [L101:L104]enum MultiBufferFilterMode {
    KeepInsertions,
    KeepDeletions,
}
- [L107:L139]enum Event {
    ExcerptsAdded {
        buffer: Entity<Buffer>,
        predecessor: ExcerptId,
        excerpts: Vec<(ExcerptId, ExcerptRange<language::Anchor>)>,
    },
    ExcerptsRemoved {
        ids: Vec<ExcerptId>,
        removed_buffer_ids: Vec<BufferId>,
    },
    ExcerptsExpanded {
        ids: Vec<ExcerptId>,
    },
    ExcerptsEdited {
        excerpt_ids: Vec<ExcerptId>,
        buffer_ids: Vec<BufferId>,
    },
    DiffHunksToggled,
    Edited {
        edited_buffer: Option<Entity<Buffer>>,
    },
    TransactionUndone {
        transaction_id: TransactionId,
    },
    Reloaded,
    LanguageChanged(BufferId, bool),
    Reparsed(BufferId),
    Saved,
    FileHandleChanged,
    DirtyChanged,
    DiagnosticsUpdated,
    BufferDiffChanged,
}
- [L141:L158]struct MultiBufferDiffHunk {
    pub row_range: Range<MultiBufferRow>,
    pub buffer_id: BufferId,
    pub buffer_range: Range<text::Anchor>,
    pub excerpt_id: ExcerptId,
    pub diff_base_byte_range: Range<BufferOffset>,
    pub secondary_status: DiffHunkSecondaryStatus,
    pub word_diffs: Vec<Range<MultiBufferOffset>>,
}
- [L188:L188]type MultiBufferPoint = Point;
- [L194:L194]struct MultiBufferRow(pub u32);
- [L209:L209]trait MultiBufferDimension: 'static + Copy + Default + std::fmt::Debug {
- [L251:L251]struct MultiBufferOffset(pub usize);
- [L263:L265]struct MultiBufferOffsetUniformSampler {
    sampler: rand::distr::uniform::UniformUsize,
}
- [L328:L328]struct BufferOffset(pub usize);
- [L390:L390]struct MultiBufferOffsetUtf16(pub OffsetUtf16);
- [L421:L421]struct BufferOffsetUtf16(pub OffsetUtf16);
- [L505:L505]trait ToOffset: 'static + fmt::Debug {
- [L510:L510]trait ToPoint: 'static + fmt::Debug {
- [L515:L520]struct BufferState {
    buffer: Entity<Buffer>,
    last_version: RefCell<clock::Global>,
    last_non_text_state_update_count: Cell<usize>,
    excerpts: Vec<Locator>,
    _subscriptions: [gpui::Subscription; 2],
- [L523:L526]struct DiffState {
    diff: Entity<BufferDiff>,
    _subscription: gpui::Subscription,
}
- [L546:L564]struct MultiBufferSnapshot {
    excerpts: SumTree<Excerpt>,
    diffs: TreeMap<BufferId, BufferDiffSnapshot>,
    diff_transforms: SumTree<DiffTransform>,
    non_text_state_update_count: usize,
    edit_count: usize,
    is_dirty: bool,
    has_deleted_file: bool,
    has_conflict: bool,
    singleton: bool,
    excerpt_ids: SumTree<ExcerptIdMapping>,
    replaced_excerpts: TreeMap<ExcerptId, ExcerptId>,
    trailing_excerpt_update_count: usize,
    all_diff_hunks_expanded: bool,
    show_headers: bool,
}
- [L567:L586]enum DiffTransform {
    Unmodified {
        summary: MBTextSummary,
    },
    InsertedHunk {
        summary: MBTextSummary,
        hunk_info: DiffTransformHunkInfo,
    },
    FilteredInsertedHunk {
        summary: MBTextSummary,
        hunk_info: DiffTransformHunkInfo,
    },
    DeletedHunk {
        summary: TextSummary,
        buffer_id: BufferId,
        hunk_info: DiffTransformHunkInfo,
        has_trailing_newline: bool,
    },
}
- [L589:L594]struct DiffTransformHunkInfo {
    excerpt_id: ExcerptId,
    hunk_start_anchor: text::Anchor,
    hunk_secondary_status: DiffHunkSecondaryStatus,
    base_text_byte_range: Range<usize>,
}
- [L612:L618]struct ExcerptInfo {
    pub id: ExcerptId,
    pub buffer: BufferSnapshot,
    pub buffer_id: BufferId,
    pub range: ExcerptRange<text::Anchor>,
    pub end_row: MultiBufferRow,
}
- [L620:L627]struct CurrentInsertedHunk {
    hunk_excerpt_start: ExcerptOffset,
    insertion_end_offset: ExcerptOffset,
    hunk_info: DiffTransformHunkInfo,
    is_filtered: bool,
}
- [L640:L647]struct ExcerptBoundary {
    pub prev: Option<ExcerptInfo>,
    pub next: ExcerptInfo,
    pub row: MultiBufferRow,
}
- [L659:L662]struct ExpandInfo {
    pub direction: ExpandExcerptDirection,
    pub excerpt_id: ExcerptId,
}
- [L665:L673]struct RowInfo {
    pub buffer_id: Option<BufferId>,
    pub buffer_row: Option<u32>,
    pub base_text_row: Option<BaseTextRow>,
    pub multibuffer_row: Option<MultiBufferRow>,
    pub diff_status: Option<buffer_diff::DiffHunkStatus>,
    pub expand_info: Option<ExpandInfo>,
    pub wrapped_buffer_row: Option<u32>,
}
- [L675:L693]struct Excerpt {
    id: ExcerptId,
    locator: Locator,
    buffer_id: BufferId,
    buffer: BufferSnapshot,
    range: ExcerptRange<text::Anchor>,
    max_buffer_row: BufferRow,
    text_summary: TextSummary,
    has_trailing_newline: bool,
}
- [L695:L709]struct MultiBufferExcerpt<'a> {
    excerpt: &'a Excerpt,
    diff_transforms:
        sum_tree::Cursor<'a, 'static, DiffTransform, DiffTransforms<MultiBufferOffset>>,
    offset: MultiBufferOffset,
    excerpt_offset: ExcerptOffset,
    buffer_offset: BufferOffset,
}
- [L712:L715]struct ExcerptIdMapping {
    id: ExcerptId,
    locator: Locator,
}
- [L717:L726]struct ExcerptRange<T> {
    pub context: Range<T>,
    pub primary: Range<T>,
}
- [L738:L744]struct ExcerptSummary {
    excerpt_id: ExcerptId,
    excerpt_locator: Locator,
    widest_line_number: u32,
    text: MBTextSummary,
}
- [L747:L750]struct DiffTransformSummary {
    input: MBTextSummary,
    output: MBTextSummary,
}
- [L752:L776]struct MBTextSummary {
    pub len: MultiBufferOffset,
    pub chars: usize,
    pub len_utf16: OffsetUtf16,
    pub lines: Point,
    pub first_line_chars: u32,
    pub last_line_chars: u32,
    pub last_line_len_utf16: u32,
    pub longest_row: u32,
    pub longest_row_chars: u32,
}
- [L893:L898]struct MultiBufferRows<'a> {
    point: Point,
    is_empty: bool,
    is_singleton: bool,
    cursor: MultiBufferCursor<'a, Point, Point>,
}
- [L900:L911]struct MultiBufferChunks<'a> {
    excerpts: Cursor<'a, 'static, Excerpt, ExcerptOffset>,
    diff_transforms:
        Cursor<'a, 'static, DiffTransform, Dimensions<MultiBufferOffset, ExcerptOffset>>,
    diffs: &'a TreeMap<BufferId, BufferDiffSnapshot>,
    diff_base_chunks: Option<(BufferId, BufferChunks<'a>)>,
    buffer_chunk: Option<Chunk<'a>>,
    range: Range<MultiBufferOffset>,
    excerpt_offset_range: Range<ExcerptOffset>,
    excerpt_chunks: Option<ExcerptChunks<'a>>,
    language_aware: bool,
}
- [L913:L918]struct ReversedMultiBufferChunks<'a> {
    cursor: MultiBufferCursor<'a, MultiBufferOffset, BufferOffset>,
    current_chunks: Option<rope::Chunks<'a>>,
    start: MultiBufferOffset,
    offset: MultiBufferOffset,
}
- [L920:L926]struct MultiBufferBytes<'a> {
    range: Range<MultiBufferOffset>,
    cursor: MultiBufferCursor<'a, MultiBufferOffset, BufferOffset>,
    excerpt_bytes: Option<text::Bytes<'a>>,
    has_trailing_newline: bool,
    chunk: &'a [u8],
}
- [L928:L932]struct ReversedMultiBufferBytes<'a> {
    range: Range<MultiBufferOffset>,
    chunks: ReversedMultiBufferChunks<'a>,
    chunk: &'a [u8],
}
- [L935:L938]struct DiffTransforms<MBD> {
    output_dimension: OutputDimension<MBD>,
    excerpt_dimension: ExcerptDimension<MBD>,
}
- [L961:L966]struct MultiBufferCursor<'a, MBD, BD> {
    excerpts: Cursor<'a, 'static, Excerpt, ExcerptDimension<MBD>>,
    diff_transforms: Cursor<'a, 'static, DiffTransform, DiffTransforms<MBD>>,
    snapshot: &'a MultiBufferSnapshot,
    cached_region: Option<MultiBufferRegion<'a, MBD, BD>>,
}
- [L968:L980]struct MultiBufferRegion<'a, MBD, BD> {
    buffer: &'a BufferSnapshot,
    is_main_buffer: bool,
    diff_hunk_status: Option<DiffHunkStatus>,
    excerpt: &'a Excerpt,
    buffer_range: Range<BD>,
    diff_base_byte_range: Option<Range<usize>>,
    range: Range<MBD>,
    has_trailing_newline: bool,
}
- [L992:L996]struct ExcerptChunks<'a> {
    excerpt_id: ExcerptId,
    content_chunks: BufferChunks<'a>,
    has_footer: bool,
}
- [L999:L1005]struct BufferEdit {
    range: Range<BufferOffset>,
    new_text: Arc<str>,
    is_insertion: bool,
    original_indent_column: Option<u32>,
    excerpt_id: ExcerptId,
}
- [L1008:L1012]enum DiffChangeKind {
    BufferEdited,
    DiffUpdated { base_changed: bool },
    ExpandOrCollapseHunks { expand: bool },
}
- [L1015:L1019]enum ExpandExcerptDirection {
    Up,
    Down,
    UpAndDown,
}
- [L1040:L1047]struct IndentGuide {
    pub buffer_id: BufferId,
    pub start_row: MultiBufferRow,
    pub end_row: MultiBufferRow,
    pub depth: u32,
    pub tab_size: u32,
    pub settings: IndentGuideSettings,
}
- [L3563:L3581]fn build_excerpt_ranges(
    ranges: impl IntoIterator<Item = Range<Point>>,
    context_line_count: u32,
    buffer_snapshot: &BufferSnapshot,
) -> Vec<ExcerptRange<Point>> 
- [L7403:L7403]struct OutputDimension<T>(T);
- [L7458:L7458]struct ExcerptDimension<T>(T);
- [L8155:L8155]mod debug {

## crates/multi_buffer/src/multi_buffer_tests.rs
- [L16:L18]fn init_logger() 
- [L21:L39]fn test_empty_singleton(cx: &mut App) 
- [L42:L74]fn test_singleton(cx: &mut App) 
- [L77:L105]fn test_remote(cx: &mut App) 
- [L108:L351]fn test_excerpt_boundaries_and_clipping(cx: &mut App) 
- [L622:L707]fn test_excerpt_events(cx: &mut App) 
- [L710:L784]fn test_expand_excerpts(cx: &mut App) 
- [L886:L905]fn test_empty_multibuffer(cx: &mut App) 
- [L962:L999]fn test_singleton_multibuffer_anchors(cx: &mut App) 
- [L1002:L1109]fn test_multibuffer_anchors(cx: &mut App) 
- [L1112:L1235]fn test_resolving_anchors_after_replacing_their_excerpts(cx: &mut App) 
- [L1620:L1717]fn test_set_excerpts_for_buffer_ordering(cx: &mut TestAppContext) 
- [L1720:L1913]fn test_set_excerpts_for_buffer(cx: &mut TestAppContext) 
- [L1916:L1994]fn test_set_excerpts_for_buffer_rename(cx: &mut TestAppContext) 
- [L2226:L2232]struct ReferenceMultibuffer {
    excerpts: Vec<ReferenceExcerpt>,
    diffs: HashMap<BufferId, Entity<BufferDiff>>,
}
- [L2235:L2240]struct ReferenceExcerpt {
    id: ExcerptId,
    buffer: Entity<Buffer>,
    range: Range<text::Anchor>,
    expanded_diff_hunks: Vec<text::Anchor>,
}
- [L2243:L2249]struct ReferenceRegion {
    buffer_id: Option<BufferId>,
    range: Range<usize>,
    buffer_range: Option<Range<Point>>,
    status: Option<DiffHunkStatus>,
    excerpt_id: Option<ExcerptId>,
}
- [L3011:L3201]fn check_multibuffer(
    multibuffer: &MultiBuffer,
    reference: &ReferenceMultibuffer,
    anchors: &[Anchor],
    cx: &App,
    rng: &mut StdRng,
) 
- [L3203:L3233]fn check_multibuffer_edits(
    snapshot: &MultiBufferSnapshot,
    old_snapshot: &MultiBufferSnapshot,
    subscription: Subscription<MultiBufferOffset>,
) 
- [L3236:L3384]fn test_history(cx: &mut App) 
- [L3647:L3699]fn format_diff(
    text: &str,
    row_infos: &Vec<RowInfo>,
    boundary_rows: &HashSet<MultiBufferRow>,
    has_diff: Option<bool>,
) -> String 
- [L3885:L3901]fn assert_excerpts_match(
    multibuffer: &Entity<MultiBuffer>,
    cx: &mut TestAppContext,
    expected: &str,
) 
- [L3904:L3924]fn assert_new_snapshot(
    multibuffer: &Entity<MultiBuffer>,
    snapshot: &mut MultiBufferSnapshot,
    subscription: &mut Subscription<MultiBufferOffset>,
    cx: &mut TestAppContext,
    expected_diff: &str,
) 
- [L3927:L3953]fn check_edits(
    old_snapshot: &MultiBufferSnapshot,
    new_snapshot: &MultiBufferSnapshot,
    edits: &[Edit<MultiBufferOffset>],
) 
- [L3956:L3964]fn assert_chunks_in_ranges(snapshot: &MultiBufferSnapshot) 
- [L3967:L3979]fn assert_consistent_line_numbers(snapshot: &MultiBufferSnapshot) 
- [L3982:L4110]fn assert_position_translation(snapshot: &MultiBufferSnapshot) 
- [L4112:L4139]fn assert_line_indents(snapshot: &MultiBufferSnapshot) 
- [L4142:L4147]fn test_new_empty_buffer_uses_untitled_title(cx: &mut App) 
- [L4150:L4155]fn test_new_empty_buffer_uses_untitled_title_when_only_contains_whitespace(cx: &mut App) 
- [L4158:L4163]fn test_new_empty_buffer_takes_first_line_for_title(cx: &mut App) 
- [L4166:L4171]fn test_new_empty_buffer_takes_trimmed_first_line_for_title(cx: &mut App) 
- [L4174:L4181]fn test_new_empty_buffer_uses_truncated_first_line_for_title(cx: &mut App) 
- [L4184:L4193]fn test_new_empty_buffer_uses_truncated_first_line_for_title_after_merging_adjacent_spaces(
    cx: &mut App,
) 
- [L4196:L4205]fn test_new_empty_buffers_title_can_be_set(cx: &mut App) 
- [L4208:L4280]fn test_random_chunk_bitmaps(cx: &mut App, mut rng: StdRng) 
- [L4283:L4439]fn test_random_chunk_bitmaps_with_diffs(cx: &mut App, mut rng: StdRng) 
- [L4441:L4468]fn collect_word_diffs(
    base_text: &str,
    modified_text: &str,
    cx: &mut TestAppContext,
) -> Vec<String> 
- [L4553:L4665]fn test_excerpts_containment_functions(cx: &mut App) 

## crates/multi_buffer/src/path_key.rs
- [L17:L21]struct PathKey {
    pub sort_prefix: Option<u64>,
    pub path: Arc<RelPath>,
}

## crates/multi_buffer/src/transaction.rs
- [L37:L43]struct Transaction {
    id: TransactionId,
    buffer_transactions: HashMap<BufferId, text::TransactionId>,
    first_edit_at: Instant,
    last_edit_at: Instant,
    suppress_grouping: bool,
}

## crates/nc/src/nc.rs
- [L4:L12]fn main(_socket: &str) -> Result<()> 
- [L14:L56]fn main(socket: &str) -> Result<()> 

## crates/net/src/async_net.rs
- [L8:L8]mod windows {

## crates/net/src/listener.rs
- [L15:L15]struct UnixListener(UnixSocket);

## crates/net/src/net.rs
- [L1:L1]mod async_net;
- [L3:L3]mod listener;
- [L5:L5]mod socket;
- [L7:L7]mod stream;

## crates/net/src/socket.rs
- [L13:L13]struct UnixSocket(SOCKET);

## crates/net/src/stream.rs
- [L15:L15]struct UnixStream(UnixSocket);

## crates/net/src/util.rs
- [L71:L76]fn sun_path_offset(addr: &SOCKADDR_UN) -> usize 

## crates/node_runtime/src/node_runtime.rs
- [L27:L31]struct NodeBinaryOptions {
    pub allow_path_lookup: bool,
    pub allow_binary_download: bool,
    pub use_paths: Option<(PathBuf, PathBuf)>,
}
- [L33:L38]enum VersionStrategy<'a> {
    Pin(&'a Version),
    Latest(&'a Version),
}
- [L41:L41]struct NodeRuntime(Arc<Mutex<NodeRuntimeState>>);
- [L43:L49]struct NodeRuntimeState {
    http: Arc<dyn HttpClient>,
    instance: Option<Box<dyn NodeRuntimeTrait>>,
    last_options: Option<NodeBinaryOptions>,
    options: watch::Receiver<Option<NodeBinaryOptions>>,
    shell_env_loaded: Shared<oneshot::Receiver<()>>,
}
- [L324:L327]enum ArchiveType {
    TarGz,
    Zip,
}
- [L331:L335]struct NpmInfo {
    dist_tags: NpmInfoDistTags,
    versions: Vec<Version>,
}
- [L338:L340]struct NpmInfoDistTags {
    latest: Option<Version>,
}
- [L363:L365]struct ManagedNodeRuntime {
    installation_path: PathBuf,
}
- [L493:L512]fn path_with_node_binary_prepended(node_binary: &Path) -> Option<OsString> 
- [L599:L604]struct SystemNodeRuntime {
    node: PathBuf,
    npm: PathBuf,
    global_node_modules: PathBuf,
    scratch_dir: PathBuf,
}
- [L656:L659]enum DetectError {
    NotInPath(which::Error),
    Other(anyhow::Error),
}
- [L724:L724]async fn read_package_installed_version(
- [L753:L755]struct UnavailableNodeRuntime {
    error_message: Arc<String>,
}
- [L785:L826]fn configure_npm_command(
    command: &mut smol::process::Command,
    directory: Option<&Path>,
    proxy: Option<&Url>,
) 

## crates/notifications/src/notification_store.rs
- [L12:L15]fn init(client: Arc<Client>, user_store: Entity<UserStore>, cx: &mut App) 
- [L17:L17]struct GlobalNotificationStore(Entity<NotificationStore>);
- [L21:L29]struct NotificationStore {
    client: Arc<Client>,
    user_store: Entity<UserStore>,
    channel_store: Entity<ChannelStore>,
    notifications: SumTree<NotificationEntry>,
    loaded_all_notifications: bool,
    _watch_connection_status: Task<Option<()>>,
    _subscriptions: Vec<client::Subscription>,
}
- [L32:L46]enum NotificationEvent {
    NotificationsUpdated {
        old_range: Range<usize>,
        new_count: usize,
    },
    NewNotification {
        entry: NotificationEntry,
    },
    NotificationRemoved {
        entry: NotificationEntry,
    },
    NotificationRead {
        entry: NotificationEntry,
    },
}
- [L49:L55]struct NotificationEntry {
    pub id: u64,
    pub notification: Notification,
    pub timestamp: OffsetDateTime,
    pub is_read: bool,
    pub response: Option<bool>,
}
- [L58:L62]struct NotificationSummary {
    max_id: u64,
    count: usize,
    unread_count: usize,
}
- [L65:L65]struct Count(usize);
- [L68:L68]struct NotificationId(u64);
- [L428:L432]struct AddNotificationsOptions {
    is_new: bool,
    clear_old: bool,
    includes_first: bool,
}

## crates/notifications/src/notifications.rs
- [L4:L4]mod status_toast;

## crates/notifications/src/status_toast.rs
- [L9:L12]struct ToastIcon {
    icon: IconName,
    color: Color,
}
- [L38:L45]struct StatusToast {
    icon: Option<ToastIcon>,
    text: SharedString,
    action: Option<ToastAction>,
    show_dismiss: bool,
    this_handle: Entity<Self>,
    focus_handle: FocusHandle,
}

## crates/ollama/src/ollama.rs
- [L8:L8]const OLLAMA_API_URL: &str = "http://localhost:11434";
- [L12:L20]struct Model {
    pub name: String,
    pub display_name: Option<String>,
    pub max_tokens: u64,
    pub keep_alive: Option<KeepAlive>,
    pub supports_tools: Option<bool>,
    pub supports_vision: Option<bool>,
    pub supports_thinking: Option<bool>,
}
- [L22:L43]fn get_max_tokens(name: &str) -> u64 
- [L82:L102]enum ChatMessage {
    Assistant {
        content: String,
        tool_calls: Option<Vec<OllamaToolCall>>,
        images: Option<Vec<String>>,
        thinking: Option<String>,
    },
    User {
        content: String,
        images: Option<Vec<String>>,
    },
    System {
        content: String,
    },
    Tool {
        tool_name: String,
        content: String,
    },
}
- [L105:L110]struct OllamaToolCall {
    pub id: Option<String>,
    pub function: OllamaFunctionCall,
}
- [L113:L116]struct OllamaFunctionCall {
    pub name: String,
    pub arguments: Value,
}
- [L119:L123]struct OllamaFunctionTool {
    pub name: String,
    pub description: Option<String>,
    pub parameters: Option<Value>,
}
- [L127:L129]enum OllamaTool {
    Function { function: OllamaFunctionTool },
}
- [L132:L140]struct ChatRequest {
    pub model: String,
    pub messages: Vec<ChatMessage>,
    pub stream: bool,
    pub keep_alive: KeepAlive,
    pub options: Option<ChatOptions>,
    pub tools: Vec<OllamaTool>,
    pub think: Option<bool>,
}
- [L144:L150]struct ChatOptions {
    pub num_ctx: Option<u64>,
    pub num_predict: Option<isize>,
    pub stop: Option<Vec<String>>,
    pub temperature: Option<f32>,
    pub top_p: Option<f32>,
}
- [L153:L161]struct ChatResponseDelta {
    pub model: String,
    pub created_at: String,
    pub message: ChatMessage,
    pub done_reason: Option<String>,
    pub done: bool,
    pub prompt_eval_count: Option<u64>,
    pub eval_count: Option<u64>,
}
- [L164:L166]struct LocalModelsResponse {
    pub models: Vec<LocalModelListing>,
}
- [L169:L175]struct LocalModelListing {
    pub name: String,
    pub modified_at: String,
    pub size: u64,
    pub digest: String,
    pub details: ModelDetails,
}
- [L178:L183]struct LocalModel {
    pub modelfile: String,
    pub parameters: String,
    pub template: String,
    pub details: ModelDetails,
}
- [L186:L192]struct ModelDetails {
    pub format: String,
    pub family: String,
    pub families: Option<Vec<String>>,
    pub parameter_size: String,
    pub quantization_level: String,
}
- [L195:L199]struct ModelShow {
    pub capabilities: Vec<String>,
    pub context_length: Option<u64>,
    pub architecture: Option<String>,
}
- [L279:L279]async fn stream_chat_completion(
- [L317:L317]async fn get_models(
- [L349:L349]async fn show_model(

## crates/onboarding/src/base_keymap_picker.rs
- [L22:L27]fn init(cx: &mut App) 
- [L29:L43]fn toggle(
    workspace: &mut Workspace,
    _: &ToggleBaseKeymapSelector,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) 
- [L45:L47]struct BaseKeymapSelector {
    picker: Entity<Picker<BaseKeymapSelectorDelegate>>,
}
- [L75:L80]struct BaseKeymapSelectorDelegate {
    selector: WeakEntity<BaseKeymapSelector>,
    matches: Vec<StringMatch>,
    selected_index: usize,
    fs: Arc<dyn Fs>,
}

## crates/onboarding/src/basics_page.rs
- [L32:L39]fn get_theme_family_themes(theme_name: &str) -> Option<(&'static str, &'static str)> 
- [L41:L228]fn render_theme_section(tab_index: &mut isize, cx: &mut App) -> impl IntoElement 
- [L230:L316]fn render_telemetry_section(tab_index: &mut isize, cx: &App) -> impl IntoElement 
- [L318:L373]fn render_base_keymap_section(tab_index: &mut isize, cx: &mut App) -> impl IntoElement 
- [L375:L411]fn render_vim_mode_switch(tab_index: &mut isize, cx: &mut App) -> impl IntoElement 
- [L413:L453]fn render_worktree_auto_trust_switch(tab_index: &mut isize, cx: &mut App) -> impl IntoElement 
- [L455:L479]fn render_setting_import_button(
    tab_index: isize,
    label: SharedString,
    action: &dyn Action,
    imported: bool,
) -> impl IntoElement + 'static 
- [L481:L516]fn render_import_settings_section(tab_index: &mut isize, cx: &mut App) -> impl IntoElement 

## crates/onboarding/src/multibuffer_hint.rs
- [L11:L15]struct MultibufferHint {
    shown_on: HashSet<EntityId>,
    active_item: Option<Box<dyn ItemHandle>>,
    subscription: Option<Subscription>,
}

## crates/onboarding/src/onboarding.rs
- [L32:L32]mod multibuffer_hint;
- [L35:L42]struct ImportVsCodeSettings {
    pub skip_prompt: bool,
}
- [L44:L51]struct ImportCursorSettings {
    pub skip_prompt: bool,
}
- [L53:L53]const FIRST_OPEN: &str = "first_open";
- [L54:L54]const DOCS_URL: &str = "https://zed.dev/docs/";
- [L70:L179]fn init(cx: &mut App) 
- [L181:L202]fn show_onboarding_view(app_state: Arc<AppState>, cx: &mut App) -> Task<anyhow::Result<()>> 
- [L204:L210]struct Onboarding {
    workspace: WeakEntity<Workspace>,
    focus_handle: FocusHandle,
    user_store: Entity<UserStore>,
    scroll_handle: ScrollHandle,
    _settings_subscription: Subscription,
}
- [L399:L433]fn go_to_welcome_page(cx: &mut App) 
- [L435:L435]async fn handle_import_vscode_settings(
- [L530:L533]struct SettingsImportState {
    pub cursor: bool,
    pub vscode: bool,
}

## crates/onboarding/src/theme_preview.rs
- [L13:L17]enum ThemePreviewStyle {
    Bordered,
    Borderless,
    SideBySide(Arc<Theme>),
}
- [L19:L26]struct ThemePreviewTile {
    theme: Arc<Theme>,
    seed: f32,
    style: ThemePreviewStyle,
}
- [L28:L28]static CHILD_RADIUS: LazyLock<Pixels> = LazyLock::new(|| {

## crates/open_ai/src/open_ai.rs
- [L14:L14]const OPEN_AI_API_URL: &str = "https://api.openai.com/v1";
- [L16:L18]fn is_none_or_empty<T: AsRef<[U]>, U>(opt: &Option<T>) -> bool 
- [L22:L27]enum Role {
    User,
    Assistant,
    System,
    Tool,
}
- [L56:L102]enum Model {
    ThreePointFiveTurbo,
    Four,
    FourTurbo,
    FourOmni,
    FourOmniMini,
    FourPointOne,
    FourPointOneMini,
    FourPointOneNano,
    O1,
    O3Mini,
    O3,
    O4Mini,
    Five,
    FiveMini,
    FiveNano,
    FivePointOne,
    FivePointTwo,
    Custom {
        name: String,
        display_name: Option<String>,
        max_tokens: u64,
        max_output_tokens: Option<u64>,
        max_completion_tokens: Option<u64>,
        reasoning_effort: Option<ReasoningEffort>,
    },
}
- [L269:L290]struct Request {
    pub model: String,
    pub messages: Vec<RequestMessage>,
    pub stream: bool,
    pub max_completion_tokens: Option<u64>,
    pub stop: Vec<String>,
    pub temperature: Option<f32>,
    pub tool_choice: Option<ToolChoice>,
    pub parallel_tool_calls: Option<bool>,
    pub tools: Vec<ToolDefinition>,
    pub prompt_cache_key: Option<String>,
    pub reasoning_effort: Option<ReasoningEffort>,
}
- [L294:L300]enum ToolChoice {
    Auto,
    Required,
    None,
    Other(ToolDefinition),
}
- [L304:L307]enum ToolDefinition {
    Function { function: FunctionDefinition },
}
- [L310:L314]struct FunctionDefinition {
    pub name: String,
    pub description: Option<String>,
    pub parameters: Option<Value>,
}
- [L318:L334]enum RequestMessage {
    Assistant {
        content: Option<MessageContent>,
        tool_calls: Vec<ToolCall>,
    },
    User {
        content: MessageContent,
    },
    System {
        content: MessageContent,
    },
    Tool {
        content: MessageContent,
        tool_call_id: String,
    },
}
- [L338:L341]enum MessageContent {
    Plain(String),
    Multipart(Vec<MessagePart>),
}
- [L375:L380]enum MessagePart {
    Text { text: String },
    Image { image_url: ImageUrl },
}
- [L383:L387]struct ImageUrl {
    pub url: String,
    pub detail: Option<String>,
}
- [L390:L394]struct ToolCall {
    pub id: String,
    pub content: ToolCallContent,
}
- [L398:L400]enum ToolCallContent {
    Function { function: FunctionContent },
}
- [L403:L406]struct FunctionContent {
    pub name: String,
    pub arguments: String,
}
- [L409:L416]struct Response {
    pub id: String,
    pub object: String,
    pub created: u64,
    pub model: String,
    pub choices: Vec<Choice>,
    pub usage: Usage,
}
- [L419:L423]struct Choice {
    pub index: u32,
    pub message: RequestMessage,
    pub finish_reason: Option<String>,
}
- [L426:L431]struct ResponseMessageDelta {
    pub role: Option<Role>,
    pub content: Option<String>,
    pub tool_calls: Option<Vec<ToolCallChunk>>,
}
- [L434:L442]struct ToolCallChunk {
    pub index: usize,
    pub id: Option<String>,
    pub function: Option<FunctionChunk>,
}
- [L445:L448]struct FunctionChunk {
    pub name: Option<String>,
    pub arguments: Option<String>,
}
- [L451:L455]struct Usage {
    pub prompt_tokens: u64,
    pub completion_tokens: u64,
    pub total_tokens: u64,
}
- [L458:L462]struct ChoiceDelta {
    pub index: u32,
    pub delta: Option<ResponseMessageDelta>,
    pub finish_reason: Option<String>,
}
- [L465:L475]enum RequestError {
    HttpResponseError {
        provider: String,
        status_code: StatusCode,
        body: String,
        headers: HeaderMap<HeaderValue>,
    },
}
- [L478:L480]struct ResponseStreamError {
    message: String,
}
- [L484:L487]enum ResponseStreamResult {
    Ok(ResponseStreamEvent),
    Err { error: ResponseStreamError },
}
- [L490:L493]struct ResponseStreamEvent {
    pub choices: Vec<ChoiceDelta>,
    pub usage: Option<Usage>,
}
- [L495:L495]async fn stream_completion(
- [L566:L571]enum OpenAiEmbeddingModel {
    TextEmbedding3Small,
    TextEmbedding3Large,
}
- [L574:L577]struct OpenAiEmbeddingRequest<'a> {
    model: OpenAiEmbeddingModel,
    input: Vec<&'a str>,
}
- [L580:L582]struct OpenAiEmbeddingResponse {
    pub data: Vec<OpenAiEmbedding>,
}
- [L585:L587]struct OpenAiEmbedding {
    pub embedding: Vec<f32>,
}
- [L589:L626]fn embed<'a>(
    client: &dyn HttpClient,
    api_url: &str,
    api_key: &str,
    model: OpenAiEmbeddingModel,
    texts: impl IntoIterator<Item = &'a str>,
) -> impl 'static + Future<Output = Result<OpenAiEmbeddingResponse>> 

## crates/open_router/src/open_router.rs
- [L14:L14]const OPEN_ROUTER_API_URL: &str = "https://openrouter.ai/api/v1";
- [L16:L31]fn extract_retry_after(headers: &http::HeaderMap) -> Option<std::time::Duration> 
- [L33:L35]fn is_none_or_empty<T: AsRef<[U]>, U>(opt: &Option<T>) -> bool 
- [L39:L44]enum Role {
    User,
    Assistant,
    System,
    Tool,
}
- [L73:L82]struct Model {
    pub name: String,
    pub display_name: Option<String>,
    pub max_tokens: u64,
    pub supports_tools: Option<bool>,
    pub supports_images: Option<bool>,
    pub mode: ModelMode,
    pub provider: Option<Provider>,
}
- [L147:L166]struct Request {
    pub model: String,
    pub messages: Vec<RequestMessage>,
    pub stream: bool,
    pub max_tokens: Option<u64>,
    pub stop: Vec<String>,
    pub temperature: f32,
    pub tool_choice: Option<ToolChoice>,
    pub parallel_tool_calls: Option<bool>,
    pub tools: Vec<ToolDefinition>,
    pub reasoning: Option<Reasoning>,
    pub usage: RequestUsage,
    pub provider: Option<Provider>,
}
- [L169:L171]struct RequestUsage {
    pub include: bool,
}
- [L175:L181]enum ToolChoice {
    Auto,
    Required,
    None,
    Other(ToolDefinition),
}
- [L186:L189]enum ToolDefinition {
    Function { function: FunctionDefinition },
}
- [L193:L197]struct FunctionDefinition {
    pub name: String,
    pub description: Option<String>,
    pub parameters: Option<Value>,
}
- [L200:L209]struct Reasoning {
    pub effort: Option<String>,
    pub max_tokens: Option<u32>,
    pub exclude: Option<bool>,
    pub enabled: Option<bool>,
}
- [L213:L231]enum RequestMessage {
    Assistant {
        content: Option<MessageContent>,
        tool_calls: Vec<ToolCall>,
        reasoning_details: Option<serde_json::Value>,
    },
    User {
        content: MessageContent,
    },
    System {
        content: MessageContent,
    },
    Tool {
        content: MessageContent,
        tool_call_id: String,
    },
}
- [L235:L238]enum MessageContent {
    Plain(String),
    Multipart(Vec<MessagePart>),
}
- [L319:L327]enum MessagePart {
    Text {
        text: String,
    },
    Image {
        image_url: String,
    },
}
- [L330:L334]struct ToolCall {
    pub id: String,
    pub content: ToolCallContent,
}
- [L338:L340]enum ToolCallContent {
    Function { function: FunctionContent },
}
- [L343:L348]struct FunctionContent {
    pub name: String,
    pub arguments: String,
    pub thought_signature: Option<String>,
}
- [L351:L359]struct ResponseMessageDelta {
    pub role: Option<Role>,
    pub content: Option<String>,
    pub reasoning: Option<String>,
    pub tool_calls: Option<Vec<ToolCallChunk>>,
    pub reasoning_details: Option<serde_json::Value>,
}
- [L362:L366]struct ToolCallChunk {
    pub index: usize,
    pub id: Option<String>,
    pub function: Option<FunctionChunk>,
}
- [L369:L374]struct FunctionChunk {
    pub name: Option<String>,
    pub arguments: Option<String>,
    pub thought_signature: Option<String>,
}
- [L377:L381]struct Usage {
    pub prompt_tokens: u64,
    pub completion_tokens: u64,
    pub total_tokens: u64,
}
- [L384:L388]struct ChoiceDelta {
    pub index: u32,
    pub delta: ResponseMessageDelta,
    pub finish_reason: Option<String>,
}
- [L391:L398]struct ResponseStreamEvent {
    pub id: Option<String>,
    pub created: u32,
    pub model: String,
    pub choices: Vec<ChoiceDelta>,
    pub usage: Option<Usage>,
}
- [L401:L408]struct Response {
    pub id: String,
    pub object: String,
    pub created: u64,
    pub model: String,
    pub choices: Vec<Choice>,
    pub usage: Usage,
}
- [L411:L415]struct Choice {
    pub index: u32,
    pub message: RequestMessage,
    pub finish_reason: Option<String>,
}
- [L418:L420]struct ListModelsResponse {
    pub data: Vec<ModelEntry>,
}
- [L423:L434]struct ModelEntry {
    pub id: String,
    pub name: String,
    pub created: usize,
    pub description: String,
    pub context_length: Option<u64>,
    pub supported_parameters: Vec<String>,
    pub architecture: Option<ModelArchitecture>,
}
- [L437:L440]struct ModelArchitecture {
    pub input_modalities: Vec<String>,
}
- [L442:L442]async fn stream_completion(
- [L536:L536]async fn list_models(
- [L651:L675]enum OpenRouterError {
    SerializeRequest(serde_json::Error),
    BuildRequestBody(http::Error),
    HttpSend(anyhow::Error),
    DeserializeResponse(serde_json::Error),
    ReadResponse(io::Error),
    RateLimit { retry_after: Duration },
    ServerOverloaded { retry_after: Option<Duration> },
    ApiError(ApiError),
}
- [L678:L683]struct OpenRouterErrorBody {
    pub code: u16,
    pub message: String,
    pub metadata: Option<std::collections::HashMap<String, serde_json::Value>>,
}
- [L686:L688]struct OpenRouterErrorResponse {
    pub error: OpenRouterErrorBody,
}
- [L692:L695]struct ApiError {
    pub code: ApiErrorCode,
    pub message: String,
}
- [L697:L718]enum ApiErrorCode {
    InvalidRequestError,
    AuthenticationError,
    PaymentRequiredError,
    PermissionError,
    RequestTimedOut,
    RateLimitError,
    ApiError,
    OverloadedError,
}

## crates/outline/src/outline.rs
- [L25:L36]fn init(cx: &mut App) 
- [L38:L59]fn toggle(
    editor: Entity<Editor>,
    _: &zed_actions::outline::ToggleOutline,
    window: &mut Window,
    cx: &mut App,
) 
- [L61:L63]struct OutlineView {
    picker: Entity<Picker<OutlineViewDelegate>>,
}
- [L130:L138]struct OutlineViewDelegate {
    outline_view: WeakEntity<OutlineView>,
    active_editor: Entity<Editor>,
    outline: Outline<Anchor>,
    selected_match_index: usize,
    prev_scroll_position: Option<Point<ScrollOffset>>,
    matches: Vec<StringMatch>,
    last_query: String,
}
- [L140:L140]enum OutlineRowHighlights {}
- [L353:L387]fn render_item<T>(
    outline_item: &OutlineItem<T>,
    match_ranges: impl IntoIterator<Item = Range<usize>>,
    cx: &App,
) -> StyledText 

## crates/outline_panel/src/outline_panel.rs
- [L105:L138]struct OutlinePanel {
    fs: Arc<dyn Fs>,
    width: Option<Pixels>,
    project: Entity<Project>,
    workspace: WeakEntity<Workspace>,
    active: bool,
    pinned: bool,
    scroll_handle: UniformListScrollHandle,
    rendered_entries_len: usize,
    context_menu: Option<(Entity<ContextMenu>, Point<Pixels>, Subscription)>,
    focus_handle: FocusHandle,
    pending_serialization: Task<Option<()>>,
    fs_entries_depth: HashMap<(WorktreeId, ProjectEntryId), usize>,
    fs_entries: Vec<FsEntry>,
    fs_children_count: HashMap<WorktreeId, HashMap<Arc<RelPath>, FsChildren>>,
    collapsed_entries: HashSet<CollapsedEntry>,
    unfolded_dirs: HashMap<WorktreeId, BTreeSet<ProjectEntryId>>,
    selected_entry: SelectedEntry,
    active_item: Option<ActiveItem>,
    _subscriptions: Vec<Subscription>,
    new_entries_for_fs_update: HashSet<ExcerptId>,
    fs_entries_update_task: Task<()>,
    cached_entries_update_task: Task<()>,
    reveal_selection_task: Task<anyhow::Result<()>>,
    outline_fetch_tasks: HashMap<(BufferId, ExcerptId), Task<()>>,
    excerpts: HashMap<BufferId, HashMap<ExcerptId, Excerpt>>,
    cached_entries: Vec<CachedEntry>,
    filter_editor: Entity<Editor>,
    mode: ItemsDisplayMode,
    max_width_item_index: Option<usize>,
    preserve_selection_on_buffer_fold_toggles: HashSet<BufferId>,
    pending_default_expansion_depth: Option<usize>,
    outline_children_cache: HashMap<BufferId, HashMap<(Range<Anchor>, usize), bool>>,
}
- [L141:L144]enum ItemsDisplayMode {
    Search(SearchState),
    Outline,
}
- [L147:L154]struct SearchState {
    kind: SearchKind,
    query: String,
    matches: Vec<(Range<editor::Anchor>, Arc<OnceLock<SearchData>>)>,
    highlight_search_match_tx: channel::Sender<HighlightArguments>,
    _search_match_highlighter: Task<()>,
    _search_match_notify: Task<()>,
}
- [L156:L160]struct HighlightArguments {
    multi_buffer_snapshot: MultiBufferSnapshot,
    match_range: Range<editor::Anchor>,
    search_data: Arc<OnceLock<SearchData>>,
}
- [L285:L289]enum SelectedEntry {
    Invalidated(Option<PanelEntry>),
    Valid(PanelEntry, usize),
    None,
}
- [L306:L309]struct FsChildren {
    files: usize,
    dirs: usize,
}
- [L318:L322]struct CachedEntry {
    depth: usize,
    string_match: Option<StringMatch>,
    entry: PanelEntry,
}
- [L325:L331]enum CollapsedEntry {
    Dir(WorktreeId, ProjectEntryId),
    File(WorktreeId, BufferId),
    ExternalFile(BufferId),
    Excerpt(BufferId, ExcerptId),
    Outline(BufferId, ExcerptId, Range<Anchor>),
}
- [L334:L337]struct Excerpt {
    range: ExcerptRange<language::Anchor>,
    outlines: ExcerptOutlines,
}
- [L364:L368]enum ExcerptOutlines {
    Outlines(Vec<Outline>),
    Invalidated(Vec<Outline>),
    NotFetched,
}
- [L371:L374]struct FoldedDirsEntry {
    worktree_id: WorktreeId,
    entries: Vec<GitEntry>,
}
- [L378:L383]enum PanelEntry {
    Fs(FsEntry),
    FoldedDirs(FoldedDirsEntry),
    Outline(OutlineEntry),
    Search(SearchEntry),
}
- [L386:L390]struct SearchEntry {
    match_range: Range<editor::Anchor>,
    kind: SearchKind,
    render_data: Arc<OnceLock<SearchData>>,
}
- [L393:L396]enum SearchKind {
    Project,
    Buffer,
}
- [L399:L406]struct SearchData {
    context_range: Range<editor::Anchor>,
    context_text: String,
    truncated_left: bool,
    truncated_right: bool,
    search_match_indices: Vec<Range<usize>>,
    highlights_data: HighlightStyleData,
}
- [L532:L536]struct OutlineEntryExcerpt {
    id: ExcerptId,
    buffer_id: BufferId,
    range: ExcerptRange<language::Anchor>,
}
- [L539:L543]struct OutlineEntryOutline {
    buffer_id: BufferId,
    excerpt_id: ExcerptId,
    outline: Outline,
}
- [L569:L572]enum OutlineEntry {
    Excerpt(OutlineEntryExcerpt),
    Outline(OutlineEntryOutline),
}
- [L584:L589]struct FsEntryFile {
    worktree_id: WorktreeId,
    entry: GitEntry,
    buffer_id: BufferId,
    excerpts: Vec<ExcerptId>,
}
- [L606:L609]struct FsEntryDirectory {
    worktree_id: WorktreeId,
    entry: GitEntry,
}
- [L624:L627]struct FsEntryExternalFile {
    buffer_id: BufferId,
    excerpts: Vec<ExcerptId>,
}
- [L642:L646]enum FsEntry {
    ExternalFile(FsEntryExternalFile),
    Directory(FsEntryDirectory),
    File(FsEntryFile),
}
- [L648:L653]struct ActiveItem {
    item_handle: Box<dyn WeakItemHandle>,
    active_editor: WeakEntity<Editor>,
    _buffer_search_subscription: Subscription,
    _editor_subscription: Subscription,
}
- [L656:L658]enum Event {
    Focus,
}
- [L661:L664]struct SerializedOutlinePanel {
    width: Option<Pixels>,
    active: Option<bool>,
}
- [L666:L673]fn init(cx: &mut App) 
- [L4866:L4875]fn workspace_active_editor(
    workspace: &Workspace,
    cx: &App,
) -> Option<(Box<dyn ItemHandle>, Entity<Editor>)> 
- [L4877:L4896]fn back_to_common_visited_parent(
    visited_dirs: &mut Vec<(ProjectEntryId, Arc<RelPath>)>,
    worktree_id: &WorktreeId,
    new_entry: &Entry,
) -> Option<(WorktreeId, ProjectEntryId)> 
- [L4898:L4909]fn file_name(path: &Path) -> String 
- [L5111:L5143]fn find_active_indent_guide_ix(
    outline_panel: &OutlinePanel,
    candidates: &[IndentGuideLayout],
) -> Option<usize> 
- [L5145:L5276]fn subscribe_for_editor_events(
    editor: &Entity<Editor>,
    window: &mut Window,
    cx: &mut Context<OutlinePanel>,
) -> Subscription 
- [L5278:L5284]fn empty_icon() -> AnyElement 
- [L5287:L5291]struct GenerationState {
    entries: Vec<CachedEntry>,
    match_candidates: Vec<StringMatchCandidate>,
    max_width_estimate_and_index: Option<(u64, usize)>,
}
- [L6099:L6103]struct OutlineEntryExcerpt {
    id: ExcerptId,
    buffer_id: BufferId,
    range: ExcerptRange<language::Anchor>,
}"),

## crates/outline_panel/src/outline_panel_settings.rs
- [L8:L21]struct OutlinePanelSettings {
    pub button: bool,
    pub default_width: Pixels,
    pub dock: DockSide,
    pub file_icons: bool,
    pub folder_icons: bool,
    pub git_status: bool,
    pub indent_size: f32,
    pub indent_guides: IndentGuidesSettings,
    pub auto_reveal_entries: bool,
    pub auto_fold_dirs: bool,
    pub scrollbar: ScrollbarSettings,
    pub expand_outlines_with_depth: usize,
}
- [L24:L29]struct ScrollbarSettings {
    pub show: Option<ShowScrollbar>,
}
- [L32:L34]struct IndentGuidesSettings {
    pub show: ShowIndentGuides,
}

## crates/panel/src/panel.rs
- [L18:L18]trait PanelHeader: workspace::Panel {
- [L33:L33]trait PanelTabs: PanelHeader {
- [L45:L45]struct PanelTab {}
- [L53:L62]fn panel_button(label: impl Into<SharedString>) -> ui::Button 
- [L64:L66]fn panel_filled_button(label: impl Into<SharedString>) -> ui::Button 
- [L68:L74]fn panel_icon_button(id: impl Into<SharedString>, icon: IconName) -> ui::IconButton 
- [L76:L78]fn panel_filled_icon_button(id: impl Into<SharedString>, icon: IconName) -> ui::IconButton 
- [L80:L86]fn panel_editor_container(_window: &mut Window, cx: &mut App) -> Div 
- [L88:L127]fn panel_editor_style(monospace: bool, window: &Window, cx: &App) -> EditorStyle 
- [L129:L136]fn panel_editor_element(
    editor: &Entity<Editor>,
    monospace: bool,
    window: &mut Window,
    cx: &mut App,
) -> EditorElement 

## crates/paths/src/paths.rs
- [L11:L11]const EDITORCONFIG_NAME: &str = ".editorconfig";
- [L16:L16]static CUSTOM_DATA_DIR: OnceLock<PathBuf> = OnceLock::new();
- [L23:L23]static CURRENT_DATA_DIR: OnceLock<PathBuf> = OnceLock::new();
- [L30:L30]static CONFIG_DIR: OnceLock<PathBuf> = OnceLock::new();
- [L10:L37]fn remote_server_dir_relative() -> &'static RelPath 
- [L39:L44]fn remote_wsl_server_dir_relative() -> &'static RelPath 
- [L46:L81]fn set_custom_data_dir(dir: &str) -> &'static PathBuf 
- [L83:L103]fn config_dir() -> &'static PathBuf 
- [L105:L127]fn data_dir() -> &'static PathBuf 
- [L129:L156]fn temp_dir() -> &'static PathBuf 
- [L158:L162]fn hang_traces_dir() -> &'static PathBuf 
- [L164:L174]fn logs_dir() -> &'static PathBuf 
- [L176:L180]fn remote_server_state_dir() -> &'static PathBuf 
- [L182:L186]fn log_file() -> &'static PathBuf 
- [L188:L192]fn old_log_file() -> &'static PathBuf 
- [L194:L198]fn database_dir() -> &'static PathBuf 
- [L200:L206]fn crashes_dir() -> &'static Option<PathBuf> 
- [L208:L212]fn crashes_retired_dir() -> &'static Option<PathBuf> 
- [L214:L218]fn settings_file() -> &'static PathBuf 
- [L220:L224]fn global_settings_file() -> &'static PathBuf 
- [L226:L230]fn settings_backup_file() -> &'static PathBuf 
- [L232:L236]fn keymap_file() -> &'static PathBuf 
- [L238:L242]fn keymap_backup_file() -> &'static PathBuf 
- [L244:L248]fn tasks_file() -> &'static PathBuf 
- [L250:L254]fn debug_scenarios_file() -> &'static PathBuf 
- [L256:L262]fn extensions_dir() -> &'static PathBuf 
- [L264:L270]fn remote_extensions_dir() -> &'static PathBuf 
- [L272:L278]fn remote_extensions_uploads_dir() -> &'static PathBuf 
- [L280:L286]fn themes_dir() -> &'static PathBuf 
- [L288:L292]fn snippets_dir() -> &'static PathBuf 
- [L294:L306]fn text_threads_dir() -> &'static PathBuf 
- [L308:L320]fn prompts_dir() -> &'static PathBuf 
- [L322:L347]fn prompt_overrides_dir(repo_path: Option<&Path>) -> PathBuf 
- [L349:L361]fn embeddings_dir() -> &'static PathBuf 
- [L363:L369]fn languages_dir() -> &'static PathBuf 
- [L371:L377]fn debug_adapters_dir() -> &'static PathBuf 
- [L379:L385]fn external_agents_dir() -> &'static PathBuf 
- [L387:L391]fn copilot_dir() -> &'static PathBuf 
- [L393:L397]fn supermaven_dir() -> &'static PathBuf 
- [L399:L403]fn default_prettier_dir() -> &'static PathBuf 
- [L405:L409]fn remote_servers_dir() -> &'static PathBuf 
- [L411:L415]fn devcontainer_dir() -> &'static PathBuf 
- [L417:L420]fn local_settings_folder_name() -> &'static str 
- [L422:L425]fn local_vscode_folder_name() -> &'static str 
- [L427:L432]fn local_settings_file_relative_path() -> &'static RelPath 
- [L434:L439]fn local_tasks_file_relative_path() -> &'static RelPath 
- [L441:L446]fn local_vscode_tasks_file_relative_path() -> &'static RelPath 
- [L448:L450]fn debug_task_file_name() -> &'static str 
- [L452:L454]fn task_file_name() -> &'static str 
- [L456:L462]fn local_debug_file_relative_path() -> &'static RelPath 
- [L464:L469]fn local_vscode_launch_file_relative_path() -> &'static RelPath 
- [L471:L473]fn user_ssh_config_file() -> PathBuf 
- [L475:L481]fn global_ssh_config_file() -> Option<&'static Path> 
- [L483:L490]fn vscode_settings_file_paths() -> Vec<PathBuf> 
- [L492:L499]fn cursor_settings_file_paths() -> Vec<PathBuf> 
- [L501:L524]fn vscode_user_data_paths() -> Vec<PathBuf> 
- [L526:L530]fn cursor_user_data_paths() -> Vec<PathBuf> 
- [L532:L553]fn add_vscode_user_data_paths(paths: &mut Vec<PathBuf>, product_name: &str) 
- [L556:L558]fn global_gitignore_path() -> Option<PathBuf> 
- [L561:L566]fn global_gitignore_path() -> Option<PathBuf> 

## crates/picker/src/head.rs

## crates/picker/src/highlighted_match_with_paths.rs
- [L4:L8]struct HighlightedMatchWithPaths {
    pub prefix: Option<SharedString>,
    pub match_label: HighlightedMatch,
    pub paths: Vec<HighlightedMatch>,
}
- [L11:L15]struct HighlightedMatch {
    pub text: String,
    pub highlight_positions: Vec<usize>,
    pub color: Color,
}

## crates/picker/src/picker.rs
- [L2:L2]mod highlighted_match_with_paths;
- [L3:L3]mod popover_menu;
- [L28:L31]enum ElementContainer {
    List(ListState),
    UniformList(UniformListScrollHandle),
}
- [L33:L36]enum Direction {
    Up,
    Down,
}
- [L46:L53]struct ConfirmInput {
    pub secondary: bool,
}
- [L55:L58]struct PendingUpdateMatches {
    delegate_update_matches: Option<Task<()>>,
    _task: Task<Result<()>>,
}
- [L60:L75]struct Picker<D: PickerDelegate> {
    pub delegate: D,
    element_container: ElementContainer,
    head: Head,
    pending_update_matches: Option<PendingUpdateMatches>,
    confirm_on_update: Option<bool>,
    width: Option<Length>,
    widest_item: Option<usize>,
    max_height: Option<Length>,
    show_scrollbar: bool,
    is_modal: bool,
}
- [L78:L84]enum PickerEditorPosition {
    Start,
    End,
}
- [L86:L86]trait PickerDelegate: Sized + 'static {
- [L258:L261]enum ContainerKind {
    List,
    UniformList,
}

## crates/picker/src/popover_menu.rs
- [L11:L24]struct PickerPopoverMenu<T, TT, P>
where
    T: PopoverTrigger + ButtonCommon,
    TT: Fn(&mut Window, &mut App) -> AnyView + 'static,
    P: PickerDelegate,
{
    picker: Entity<Picker<P>>,
    trigger: T,
    tooltip: TT,
    handle: Option<PopoverMenuHandle<Picker<P>>>,
    anchor: Corner,
    offset: Option<Point<Pixels>>,
    _subscriptions: Vec<Subscription>,
}

## crates/prettier/src/prettier.rs
- [L22:L26]enum Prettier {
    Real(RealPrettier),
    Test(TestPrettier),
}
- [L29:L33]struct RealPrettier {
    default: bool,
    prettier_dir: PathBuf,
    server: Arc<LanguageServer>,
}
- [L37:L40]struct TestPrettier {
    prettier_dir: PathBuf,
    default: bool,
}
- [L42:L42]const FAIL_THRESHOLD: usize = 4;
- [L43:L43]const PRETTIER_SERVER_FILE: &str = "prettier_server.js";
- [L44:L44]const PRETTIER_SERVER_JS: &str = include_str!("./prettier_server.js");
- [L49:L49]const FORMAT_SUFFIX: &str = "\nformatted by test prettier";
- [L566:L598]fn prettier_parser_name(
    buffer_path: Option<&Path>,
    buffer_language: Option<&Language>,
    prettier_settings: &PrettierSettings,
) -> anyhow::Result<Option<String>> 
- [L635:L635]enum Format {}
- [L639:L642]struct FormatParams {
    text: String,
    options: FormatOptions,
}
- [L646:L653]struct FormatOptions {
    plugins: Vec<PathBuf>,
    parser: Option<String>,
    path: Option<PathBuf>,
    prettier_options: Option<HashMap<String, serde_json::Value>>,
    ignore_path: Option<PathBuf>,
}
- [L657:L659]struct FormatResult {
    text: String,
}
- [L667:L667]enum ClearCache {}

## crates/project/src/agent_server_store.rs
- [L34:L40]struct AgentServerCommand {
    pub path: PathBuf,
    pub args: Vec<String>,
    pub env: Option<HashMap<String, String>>,
}
- [L68:L68]struct ExternalAgentServerName(pub SharedString);
- [L94:L94]trait ExternalAgentServer {
- [L113:L128]enum AgentServerStoreState {
    Local {
        node_runtime: NodeRuntime,
        fs: Arc<dyn Fs>,
        project_environment: Entity<ProjectEnvironment>,
        downstream_client: Option<(u64, AnyProtoClient)>,
        settings: Option<AllAgentServersSettings>,
        http_client: Arc<dyn HttpClient>,
        extension_agents: Vec<(
            Arc<str>,
            String,
            HashMap<String, extension::TargetConfig>,
            HashMap<String, String>,
            Option<String>,
        )>,
        _subscriptions: [Subscription; 1],
- [L137:L142]struct AgentServerStore {
    state: AgentServerStoreState,
    external_agents: HashMap<ExternalAgentServerName, Box<dyn ExternalAgentServer>>,
    agent_icons: HashMap<ExternalAgentServerName, SharedString>,
    agent_display_names: HashMap<ExternalAgentServerName, SharedString>,
}
- [L144:L144]struct AgentServersUpdated;
- [L940:L1069]fn get_or_npm_install_builtin_agent(
    binary_name: SharedString,
    package_name: SharedString,
    entrypoint_path: PathBuf,
    minimum_version: Option<semver::Version>,
    status_tx: Option<watch::Sender<SharedString>>,
    new_version_available: Option<watch::Sender<Option<String>>>,
    fs: Arc<dyn Fs>,
    node_runtime: NodeRuntime,
    cx: &mut AsyncApp,
) -> Task<std::result::Result<AgentServerCommand, anyhow::Error>> 
- [L1071:L1091]fn find_bin_in_path(
    bin_name: SharedString,
    root_dir: PathBuf,
    env: HashMap<String, String>,
    cx: &mut AsyncApp,
) -> Task<Option<PathBuf>> 
- [L1126:L1132]struct RemoteExternalAgentServer {
    project_id: u64,
    upstream_client: Entity<RemoteClient>,
    name: ExternalAgentServerName,
    status_tx: Option<watch::Sender<SharedString>>,
    new_version_available_tx: Option<watch::Sender<Option<String>>>,
}
- [L1189:L1195]struct LocalGemini {
    fs: Arc<dyn Fs>,
    node_runtime: NodeRuntime,
    project_environment: Entity<ProjectEnvironment>,
    custom_command: Option<AgentServerCommand>,
    ignore_system_version: bool,
}
- [L1287:L1292]struct LocalClaudeCode {
    fs: Arc<dyn Fs>,
    node_runtime: NodeRuntime,
    project_environment: Entity<ProjectEnvironment>,
    custom_command: Option<AgentServerCommand>,
}
- [L1379:L1385]struct LocalCodex {
    fs: Arc<dyn Fs>,
    project_environment: Entity<ProjectEnvironment>,
    http_client: Arc<dyn HttpClient>,
    custom_command: Option<AgentServerCommand>,
    no_browser: bool,
}
- [L1564:L1564]const CODEX_ACP_REPO: &str = "zed-industries/codex-acp";
- [L1566:L1593]fn get_platform_info() -> Option<(&'static str, &'static str, &'static str)> 
- [L1595:L1598]fn asset_name(version: &str) -> Option<String> 
- [L1600:L1609]struct LocalExtensionArchiveAgent {
    fs: Arc<dyn Fs>,
    http_client: Arc<dyn HttpClient>,
    node_runtime: NodeRuntime,
    project_environment: Entity<ProjectEnvironment>,
    extension_id: Arc<str>,
    agent_id: Arc<str>,
    targets: HashMap<String, extension::TargetConfig>,
    env: HashMap<String, String>,
}
- [L1611:L1614]struct LocalCustomAgent {
    project_environment: Entity<ProjectEnvironment>,
    command: AgentServerCommand,
}
- [L1852:L1852]const GEMINI_NAME: &'static str = "gemini";
- [L1853:L1853]const CLAUDE_CODE_NAME: &'static str = "claude";
- [L1854:L1854]const CODEX_NAME: &'static str = "codex";
- [L1857:L1862]struct AllAgentServersSettings {
    pub gemini: Option<BuiltinAgentServerSettings>,
    pub claude: Option<BuiltinAgentServerSettings>,
    pub codex: Option<BuiltinAgentServerSettings>,
    pub custom: HashMap<SharedString, CustomAgentServerSettings>,
}
- [L1864:L1872]struct BuiltinAgentServerSettings {
    pub path: Option<PathBuf>,
    pub args: Option<Vec<String>>,
    pub env: Option<HashMap<String, String>>,
    pub ignore_system_version: Option<bool>,
    pub default_mode: Option<String>,
    pub default_model: Option<String>,
    pub favorite_models: Vec<String>,
}
- [L1912:L1950]enum CustomAgentServerSettings {
    Custom {
        command: AgentServerCommand,
        default_mode: Option<String>,
        default_model: Option<String>,
        favorite_models: Vec<String>,
    },
    Extension {
        default_mode: Option<String>,
        default_model: Option<String>,
        favorite_models: Vec<String>,
    },
}

## crates/project/src/buffer_store.rs
- [L30:L41]struct BufferStore {
    state: BufferStoreState,
    loading_buffers: HashMap<ProjectPath, Shared<Task<Result<Entity<Buffer>, Arc<anyhow::Error>>>>>,
    worktree_store: Entity<WorktreeStore>,
    opened_buffers: HashMap<BufferId, OpenBuffer>,
    path_to_buffer_id: HashMap<ProjectPath, BufferId>,
    downstream_client: Option<(AnyProtoClient, u64)>,
    shared_buffers: HashMap<proto::PeerId, HashMap<BufferId, SharedBuffer>>,
    non_searchable_buffers: HashSet<BufferId>,
}
- [L44:L47]struct SharedBuffer {
    buffer: Entity<Buffer>,
    lsp_handle: Option<OpenLspBufferHandle>,
}
- [L49:L52]enum BufferStoreState {
    Local(LocalBufferStore),
    Remote(RemoteBufferStore),
}
- [L54:L62]struct RemoteBufferStore {
    shared_with_me: HashSet<Entity<Buffer>>,
    upstream_client: AnyProtoClient,
    project_id: u64,
    loading_remote_buffers_by_id: HashMap<BufferId, Entity<Buffer>>,
    remote_buffer_listeners:
        HashMap<BufferId, Vec<oneshot::Sender<anyhow::Result<Entity<Buffer>>>>>,
    worktree_store: Entity<WorktreeStore>,
}
- [L64:L68]struct LocalBufferStore {
    local_buffer_ids_by_entry_id: HashMap<ProjectEntryId, BufferId>,
    worktree_store: Entity<WorktreeStore>,
    _subscription: Subscription,
}
- [L70:L73]enum OpenBuffer {
    Complete { buffer: WeakEntity<Buffer> },
    Operations(Vec<Operation>),
}
- [L75:L87]enum BufferStoreEvent {
    BufferAdded(Entity<Buffer>),
    BufferOpened {
        buffer: Entity<Buffer>,
        project_path: ProjectPath,
    },
    SharedBufferClosed(proto::PeerId, BufferId),
    BufferDropped(BufferId),
    BufferChangedFilePath {
        buffer: Entity<Buffer>,
        old_file: Option<Arc<dyn language::File>>,
    },
}
- [L90:L90]struct ProjectTransaction(pub HashMap<Entity<Buffer>, language::Transaction>);
- [L1687:L1692]fn is_not_found_error(error: &anyhow::Error) -> bool 

## crates/project/src/color_extractor.rs
- [L10:L10]static RELAXED_HEX_REGEX: LazyLock<Regex> = LazyLock::new(|| {
- [L17:L17]static STRICT_HEX_REGEX: LazyLock<Regex> = LazyLock::new(|| {
- [L24:L24]static RELAXED_RGB_OR_HSL_REGEX: LazyLock<Regex> = LazyLock::new(|| {
- [L31:L31]static STRICT_RGB_OR_HSL_REGEX: LazyLock<Regex> = LazyLock::new(|| {
- [L38:L58]fn extract_color(item: &CompletionItem) -> Option<Hsla> 
- [L60:L63]enum ParseMode {
    Strict,
    Relaxed,
}
- [L65:L106]fn parse(str: &str, mode: ParseMode) -> Option<Hsla> 
- [L108:L114]fn parse_component(value: &str, max: f32) -> Option<f32> 
- [L116:L118]fn from_hex(hex: &str) -> Option<Hsla> 
- [L120:L127]fn from_rgb(r: &str, g: &str, b: &str, a: Option<&str>) -> Option<Hsla> 
- [L129:L136]fn from_hsl(h: &str, s: &str, l: &str, a: Option<&str>) -> Option<Hsla> 

## crates/project/src/connection_manager.rs
- [L13:L13]struct GlobalManager(Entity<Manager>);
- [L15:L15]const RECONNECT_TIMEOUT: Duration = Duration::from_secs(30);
- [L17:L21]struct Manager {
    client: Arc<Client>,
    maintain_connection: Option<Task<Option<()>>>,
    projects: HashSet<WeakEntity<Project>>,
}
- [L23:L30]fn init(client: Arc<Client>, cx: &mut App) 

## crates/project/src/context_server_store.rs
- [L1:L1]mod extension;
- [L2:L2]mod registry;
- [L21:L23]fn init(cx: &mut App) 
- [L34:L39]enum ContextServerStatus {
    Starting,
    Running,
    Stopped,
    Error(Arc<str>),
}
- [L52:L71]enum ContextServerState {
    Starting {
        server: Arc<ContextServer>,
        configuration: Arc<ContextServerConfiguration>,
        _task: Task<()>,
    },
    Running {
        server: Arc<ContextServer>,
        configuration: Arc<ContextServerConfiguration>,
    },
    Stopped {
        server: Arc<ContextServer>,
        configuration: Arc<ContextServerConfiguration>,
    },
    Error {
        server: Arc<ContextServer>,
        configuration: Arc<ContextServerConfiguration>,
        error: Arc<str>,
    },
}
- [L94:L106]enum ContextServerConfiguration {
    Custom {
        command: ContextServerCommand,
    },
    Extension {
        command: ContextServerCommand,
        settings: serde_json::Value,
    },
    Http {
        url: url::Url,
        headers: HashMap<String, String>,
    },
}
- [L162:L162]type ContextServerFactory =
- [L165:L175]struct ContextServerStore {
    context_server_settings: HashMap<Arc<str>, ContextServerSettings>,
    servers: HashMap<ContextServerId, ContextServerState>,
    worktree_store: Entity<WorktreeStore>,
    project: WeakEntity<Project>,
    registry: Entity<ContextServerDescriptorRegistry>,
    update_servers_task: Option<Task<Result<()>>>,
    context_server_factory: Option<ContextServerFactory>,
    needs_server_update: bool,
    _subscriptions: Vec<Subscription>,
}
- [L177:L182]enum Event {
    ServerStatusChanged {
        server_id: ContextServerId,
        status: ContextServerStatus,
    },
}

## crates/project/src/context_server_store/extension.rs
- [L15:L20]fn init(cx: &mut App) 
- [L22:L24]struct ExtensionProject {
    worktree_ids: Vec<u64>,
}
- [L32:L35]struct ContextServerDescriptor {
    id: Arc<str>,
    extension: Arc<dyn Extension>,
}
- [L37:L49]fn extension_project(
    worktree_store: Entity<WorktreeStore>,
    cx: &mut AsyncApp,
) -> Result<Arc<ExtensionProject>> 
- [L97:L99]struct ContextServerDescriptorRegistryProxy {
    context_server_factory_registry: Entity<ContextServerDescriptorRegistry>,
}

## crates/project/src/context_server_store/registry.rs
- [L11:L11]trait ContextServerDescriptor {
- [L24:L24]struct GlobalContextServerDescriptorRegistry(Entity<ContextServerDescriptorRegistry>);
- [L29:L31]struct ContextServerDescriptorRegistry {
    context_servers: HashMap<Arc<str>, Arc<dyn ContextServerDescriptor>>,
}

## crates/project/src/debounced_delay.rs
- [L5:L9]struct DebouncedDelay<E: 'static> {
    task: Option<Task<()>>,
    cancel_channel: Option<oneshot::Sender<()>>,
    _phantom_data: PhantomData<E>,
}

## crates/project/src/debugger.rs
- [L14:L14]mod breakpoint_store;
- [L15:L15]mod dap_command;
- [L16:L16]mod dap_store;
- [L17:L17]mod locators;
- [L19:L19]mod session;
- [L22:L22]mod test;

## crates/project/src/debugger/breakpoint_store.rs
- [L131:L134]struct RemoteBreakpointStore {
    upstream_client: AnyProtoClient,
    _upstream_project_id: u64,
}
- [L137:L140]struct LocalBreakpointStore {
    worktree_store: Entity<WorktreeStore>,
    buffer_store: Entity<BufferStore>,
}
- [L143:L146]enum BreakpointStoreMode {
    Local(LocalBreakpointStore),
    Remote(RemoteBreakpointStore),
}
- [L149:L155]struct ActiveStackFrame {
    pub session_id: SessionId,
    pub thread_id: ThreadId,
    pub stack_frame_id: StackFrameId,
    pub path: Arc<Path>,
    pub position: text::Anchor,
}
- [L157:L163]struct BreakpointStore {
    breakpoints: BTreeMap<Arc<Path>, BreakpointsInFile>,
    downstream_client: Option<(AnyProtoClient, u64)>,
    active_stack_frame: Option<ActiveStackFrame>,
    mode: BreakpointStoreMode,
}
- [L864:L867]enum BreakpointUpdatedReason {
    Toggled,
    FileSaved,
}
- [L869:L874]enum BreakpointStoreEvent {
    SetDebugLine,
    ClearDebugLines,
    BreakpointsUpdated(Arc<Path>, BreakpointUpdatedReason),
    BreakpointsCleared(Vec<Arc<Path>>),
}
- [L881:L887]enum BreakpointEditAction {
    Toggle,
    InvertState,
    EditLogMessage(BreakpointMessage),
    EditCondition(BreakpointMessage),
    EditHitCondition(BreakpointMessage),
}
- [L890:L893]enum BreakpointState {
    Enabled,
    Disabled,
}
- [L916:L922]struct Breakpoint {
    pub message: Option<BreakpointMessage>,
    pub hit_condition: Option<Arc<str>>,
    pub condition: Option<BreakpointMessage>,
    pub state: BreakpointState,
}
- [L1008:L1017]struct SourceBreakpoint {
    pub row: u32,
    pub path: Arc<Path>,
    pub message: Option<Arc<str>>,
    pub condition: Option<Arc<str>>,
    pub hit_condition: Option<Arc<str>>,
    pub state: BreakpointState,
}

## crates/project/src/debugger/dap_command.rs
- [L19:L19]trait LocalDapCommand: 'static + Send + Sync + std::fmt::Debug {
- [L37:L37]trait DapCommand: LocalDapCommand {
- [L109:L113]struct StepCommand {
    pub thread_id: i64,
    pub granularity: Option<SteppingGranularity>,
    pub single_thread: Option<bool>,
}
- [L818:L824]struct VariablesCommand {
    pub variables_reference: u64,
    pub filter: Option<VariablesArgumentsFilter>,
    pub start: Option<u64>,
    pub count: Option<u64>,
    pub format: Option<ValueFormat>,
}
- [L1535:L1555]fn dap_client_capabilities(adapter_id: String) -> InitializeRequestArguments 
- [L1673:L1687]enum DataBreakpointContext {
    Variable {
        variables_reference: u64,
        name: String,
        bytes: Option<u64>,
    },
    Expression {
        expression: String,
        frame_id: Option<u64>,
    },
    Address {
        address: String,
        bytes: Option<u64>,
    },
}

## crates/project/src/debugger/dap_store.rs
- [L57:L67]enum DapStoreEvent {
    DebugClientStarted(SessionId),
    DebugSessionInitialized(SessionId),
    DebugClientShutdown(SessionId),
    DebugClientEvent {
        session_id: SessionId,
        message: Message,
    },
    Notification(String),
    RemoteHasInitialized,
}
- [L69:L73]enum DapStoreMode {
    Local(LocalDapStore),
    Remote(RemoteDapStore),
    Collab,
}
- [L75:L82]struct LocalDapStore {
    fs: Arc<dyn Fs>,
    node_runtime: NodeRuntime,
    http_client: Arc<dyn HttpClient>,
    environment: Entity<ProjectEnvironment>,
    toolchain_store: Arc<dyn LanguageToolchainStore>,
    is_headless: bool,
}
- [L84:L90]struct RemoteDapStore {
    remote_client: Entity<RemoteClient>,
    upstream_client: AnyProtoClient,
    upstream_project_id: u64,
    node_runtime: NodeRuntime,
    http_client: Arc<dyn HttpClient>,
}
- [L92:L100]struct DapStore {
    mode: DapStoreMode,
    downstream_client: Option<(AnyProtoClient, u64)>,
    breakpoint_store: Entity<BreakpointStore>,
    worktree_store: Entity<WorktreeStore>,
    sessions: BTreeMap<SessionId, Entity<Session>>,
    next_session_id: u32,
    adapter_options: BTreeMap<DebugAdapterName, Arc<PersistedAdapterOptions>>,
}
- [L105:L107]struct PersistedExceptionBreakpoint {
    pub enabled: bool,
}
- [L109:L114]struct PersistedAdapterOptions {
    pub exception_breakpoints: BTreeMap<String, PersistedExceptionBreakpoint>,
}
- [L937:L946]struct DapAdapterDelegate {
    fs: Arc<dyn Fs>,
    console: mpsc::UnboundedSender<String>,
    worktree: worktree::Snapshot,
    node_runtime: NodeRuntime,
    http_client: Arc<dyn HttpClient>,
    toolchain_store: Arc<dyn LanguageToolchainStore>,
    load_shell_env_task: Shared<Task<Option<HashMap<String, String>>>>,
    is_headless: bool,
}

## crates/project/src/debugger/locators.rs

## crates/project/src/debugger/locators/cargo.rs

## crates/project/src/debugger/locators/go.rs
- [L13:L22]struct DelveLaunchRequest {
    request: String,
    mode: String,
    program: String,
    cwd: Option<String>,
    args: Vec<String>,
    build_flags: Vec<String>,
    env: HashMap<String, String>,
}
- [L24:L67]fn is_debug_flag(arg: &str) -> Option<bool> 
- [L69:L84]fn is_build_flag(mut arg: &str) -> Option<bool> 

## crates/project/src/debugger/locators/node.rs

## crates/project/src/debugger/locators/python.rs

## crates/project/src/debugger/memory.rs
- [L42:L45]enum PageChunk {
    Mapped(Arc<[u8]>),
    Unmapped(u64),
}
- [L105:L108]struct MemoryCell(pub Option<u8>);
- [L239:L265]fn page_contents_into_iter(data: Arc<MappedPageContents>) -> Box<dyn Iterator<Item = MemoryCell>> 
- [L266:L273]struct MemoryIterator {
    start: MemoryAddress,
    end: MemoryAddress,
    current_known_page: Option<(PageAddress, Box<dyn Iterator<Item = MemoryCell>>)>,
    pages: std::vec::IntoIter<(PageAddress, PageContents)>,
}

## crates/project/src/debugger/session.rs
- [L76:L76]struct ThreadId(pub i64);
- [L85:L88]struct StackFrame {
    pub dap: dap::StackFrame,
    pub scopes: Vec<dap::Scope>,
}
- [L100:L107]enum ThreadStatus {
    Running,
    Stopped,
    Stepping,
    Exited,
    Ended,
}
- [L122:L127]struct Thread {
    dap: dap::Thread,
    stack_frames: Vec<StackFrame>,
    stack_frames_error: Option<SharedString>,
    _has_stopped: bool,
}
- [L141:L146]struct Watcher {
    pub expression: SharedString,
    pub value: SharedString,
    pub variables_reference: u64,
    pub presentation_hint: Option<VariablePresentationHint>,
}
- [L149:L153]struct DataBreakpointState {
    pub dap: dap::DataBreakpoint,
    pub is_enabled: bool,
    pub context: Arc<DataBreakpointContext>,
}
- [L155:L161]enum SessionState {
    Booting(Option<Task<Result<()>>>),
    Running(RunningMode),
}
- [L164:L173]struct RunningMode {
    client: Arc<DebugAdapterClient>,
    binary: DebugAdapterBinary,
    tmp_breakpoint: Option<SourceBreakpoint>,
    worktree: WeakEntity<Worktree>,
    executor: BackgroundExecutor,
    is_started: bool,
    has_ever_stopped: bool,
    messages_tx: UnboundedSender<Message>,
}
- [L176:L179]struct SessionQuirks {
    pub compact: bool,
    pub prefer_thread_name: bool,
}
- [L181:L194]fn client_source(abs_path: &Path) -> dap::Source 
- [L613:L616]struct ThreadStates {
    global_state: Option<ThreadStatus>,
    known_thread_states: IndexMap<ThreadId, ThreadStatus>,
}
- [L678:L686]struct SessionSnapshot {
    threads: IndexMap<ThreadId, Thread>,
    thread_states: ThreadStates,
    variables: HashMap<VariableReference, Vec<dap::Variable>>,
    stack_frames: IndexMap<StackFrameId, StackFrame>,
    locations: HashMap<u64, dap::LocationsResponse>,
    modules: Vec<dap::Module>,
    loaded_sources: Vec<dap::Source>,
}
- [L691:L691]struct OutputToken(pub usize);
- [L692:L722]struct Session {
    pub state: SessionState,
    active_snapshot: SessionSnapshot,
    snapshots: VecDeque<SessionSnapshot>,
    selected_snapshot_index: Option<usize>,
    id: SessionId,
    label: Option<SharedString>,
    adapter: DebugAdapterName,
    pub(super) capabilities: Capabilities,
    child_session_ids: HashSet<SessionId>,
    parent_session: Option<Entity<Session>>,
    output_token: OutputToken,
    output: Box<circular_buffer::CircularBuffer<MAX_TRACKED_OUTPUT_EVENTS, dap::OutputEvent>>,
    watchers: HashMap<SharedString, Watcher>,
    is_session_terminated: bool,
    requests: HashMap<TypeId, HashMap<RequestSlot, Shared<Task<Option<()>>>>>,
    pub(crate) breakpoint_store: Entity<BreakpointStore>,
    ignore_breakpoints: bool,
    exception_breakpoints: BTreeMap<String, (ExceptionBreakpointsFilter, IsEnabled)>,
    data_breakpoints: BTreeMap<String, DataBreakpointState>,
    background_tasks: Vec<Task<()>>,
    restart_task: Option<Task<()>>,
    task_context: TaskContext,
    memory: memory::Memory,
    quirks: SessionQuirks,
    remote_client: Option<Entity<RemoteClient>>,
    node_runtime: Option<NodeRuntime>,
    http_client: Option<Arc<dyn HttpClient>>,
    companion_port: Option<u16>,
}
- [L771:L776]struct CompletionsQuery {
    pub query: String,
    pub column: u64,
    pub line: Option<u64>,
    pub frame_id: Option<u64>,
}
- [L795:L812]enum SessionEvent {
    Modules,
    LoadedSources,
    Stopped(Option<ThreadId>),
    StackTrace,
    Variables,
    Watchers,
    Threads,
    InvalidateInlineValue,
    CapabilitiesLoaded,
    RunInTerminal {
        request: RunInTerminalRequestArguments,
        sender: mpsc::Sender<Result<u32>>,
    },
    DataBreakpointInfo,
    ConsoleOutput,
    HistoricSnapshotSelected,
}
- [L815:L822]enum SessionStateEvent {
    Running,
    Shutdown,
    Restart,
    SpawnChildSession {
        request: StartDebuggingRequestArguments,
    },
}
- [L3055:L3060]struct LaunchBrowserInCompanionParams {
    server_port: u16,
    params: HashMap<String, serde_json::Value>,
    other: HashMap<String, serde_json::Value>,
}
- [L3064:L3066]struct KillCompanionBrowserParams {
    launch_id: u64,
}

## crates/project/src/debugger/test.rs
- [L8:L27]fn intercept_debug_sessions<T: Fn(&Arc<DebugAdapterClient>) + 'static>(
    cx: &mut gpui::TestAppContext,
    configure: T,
) -> Subscription 
- [L29:L55]fn register_default_handlers(session: &Session, client: &Arc<DebugAdapterClient>, cx: &mut App) 

## crates/project/src/environment.rs
- [L21:L31]struct ProjectEnvironment {
    cli_environment: Option<HashMap<String, String>>,
    local_environments: HashMap<(Shell, Arc<Path>), Shared<Task<Option<HashMap<String, String>>>>>,
    remote_environments: HashMap<(Shell, Arc<Path>), Shared<Task<Option<HashMap<String, String>>>>>,
    environment_error_messages: VecDeque<String>,
    environment_error_messages_tx: mpsc::UnboundedSender<String>,
    worktree_store: WeakEntity<WorktreeStore>,
    remote_client: Option<WeakEntity<RemoteClient>>,
    is_remote_project: bool,
    _tasks: Vec<Task<()>>,
}
- [L33:L35]enum ProjectEnvironmentEvent {
    ErrorsUpdated,
}
- [L291:L293]fn set_origin_marker(env: &mut HashMap<String, String>, origin: EnvironmentOrigin) 
- [L297:L300]enum EnvironmentOrigin {
    Cli,
    WorktreeShell,
}

## crates/project/src/git_store.rs
- [L1:L1]mod branch_diff;
- [L3:L3]mod git_traversal;
- [L4:L4]mod pending_op;
- [L89:L102]struct GitStore {
    state: GitStoreState,
    buffer_store: Entity<BufferStore>,
    worktree_store: Entity<WorktreeStore>,
    repositories: HashMap<RepositoryId, Entity<Repository>>,
    worktree_ids: HashMap<RepositoryId, HashSet<WorktreeId>>,
    active_repo_id: Option<RepositoryId>,
    loading_diffs:
        HashMap<(BufferId, DiffKind), Shared<Task<Result<Entity<BufferDiff>, Arc<anyhow::Error>>>>>,
    diffs: HashMap<BufferId, Entity<BufferGitState>>,
    shared_diffs: HashMap<proto::PeerId, HashMap<BufferId, SharedDiffs>>,
    _subscriptions: Vec<Subscription>,
}
- [L105:L108]struct SharedDiffs {
    unstaged: Option<Entity<BufferDiff>>,
    uncommitted: Option<Entity<BufferDiff>>,
}
- [L110:L137]struct BufferGitState {
    unstaged_diff: Option<WeakEntity<BufferDiff>>,
    uncommitted_diff: Option<WeakEntity<BufferDiff>>,
    conflict_set: Option<WeakEntity<ConflictSet>>,
    recalculate_diff_task: Option<Task<Result<()>>>,
    reparse_conflict_markers_task: Option<Task<Result<()>>>,
    language: Option<Arc<Language>>,
    language_registry: Option<Arc<LanguageRegistry>>,
    conflict_updated_futures: Vec<oneshot::Sender<()>>,
    recalculating_tx: postage::watch::Sender<bool>,
    hunk_staging_operation_count: usize,
    hunk_staging_operation_count_as_of_write: usize,
    head_text: Option<Arc<String>>,
    index_text: Option<Arc<String>>,
    head_changed: bool,
    index_changed: bool,
    language_changed: bool,
}
- [L140:L148]enum DiffBasesChange {
    SetIndex(Option<String>),
    SetHead(Option<String>),
    SetEach {
        index: Option<String>,
        head: Option<String>,
    },
    SetBoth(Option<String>),
}
- [L151:L154]enum DiffKind {
    Unstaged,
    Uncommitted,
}
- [L156:L168]enum GitStoreState {
    Local {
        next_repository_id: Arc<AtomicU64>,
        downstream: Option<LocalDownstreamState>,
        project_environment: Entity<ProjectEnvironment>,
        fs: Arc<dyn Fs>,
    },
    Remote {
        upstream_client: AnyProtoClient,
        upstream_project_id: u64,
        downstream: Option<(AnyProtoClient, ProjectId)>,
    },
}
- [L170:L173]enum DownstreamUpdate {
    UpdateRepository(RepositorySnapshot),
    RemoveRepository(RepositoryId),
}
- [L175:L180]struct LocalDownstreamState {
    client: AnyProtoClient,
    project_id: ProjectId,
    updates_tx: mpsc::UnboundedSender<DownstreamUpdate>,
    _task: Task<Result<()>>,
}
- [L183:L185]struct GitStoreCheckpoint {
    checkpoints_by_work_dir_abs_path: HashMap<Arc<Path>, GitRepositoryCheckpoint>,
}
- [L188:L191]struct StatusEntry {
    pub repo_path: RepoPath,
    pub status: FileStatus,
}
- [L246:L246]struct RepositoryId(pub u64);
- [L249:L253]struct MergeDetails {
    pub conflicted_paths: TreeSet<RepoPath>,
    pub message: Option<SharedString>,
    pub heads: Vec<Option<SharedString>>,
}
- [L256:L268]struct RepositorySnapshot {
    pub id: RepositoryId,
    pub statuses_by_path: SumTree<StatusEntry>,
    pub work_directory_abs_path: Arc<Path>,
    pub path_style: PathStyle,
    pub branch: Option<Branch>,
    pub head_commit: Option<CommitDetails>,
    pub scan_id: u64,
    pub merge: MergeDetails,
    pub remote_origin_url: Option<String>,
    pub remote_upstream_url: Option<String>,
    pub stash_entries: GitStash,
}
- [L273:L276]struct JobInfo {
    pub start: Instant,
    pub message: SharedString,
}
- [L278:L293]struct Repository {
    this: WeakEntity<Self>,
    snapshot: RepositorySnapshot,
    commit_message_buffer: Option<Entity<Buffer>>,
    git_store: WeakEntity<GitStore>,
    paths_needing_status_update: BTreeSet<RepoPath>,
    job_sender: mpsc::UnboundedSender<GitJob>,
    active_jobs: HashMap<JobId, JobInfo>,
    pending_ops: SumTree<PendingOps>,
    job_id: JobId,
    askpass_delegates: Arc<Mutex<HashMap<u64, AskPassDelegate>>>,
    latest_askpass_id: u64,
    repository_state: Shared<Task<Result<RepositoryState, String>>>,
}
- [L304:L308]struct LocalRepositoryState {
    pub fs: Arc<dyn Fs>,
    pub backend: Arc<dyn GitRepository>,
    pub environment: Arc<HashMap<String, String>>,
}
- [L352:L355]struct RemoteRepositoryState {
    pub project_id: ProjectId,
    pub client: AnyProtoClient,
}
- [L358:L361]enum RepositoryState {
    Local(LocalRepositoryState),
    Remote(RemoteRepositoryState),
}
- [L364:L370]enum RepositoryEvent {
    StatusesChanged,
    MergeHeadsChanged,
    BranchChanged,
    StashEntriesChanged,
    PendingOpsChanged { pending_ops: SumTree<PendingOps> },
}
- [L373:L373]struct JobsUpdated;
- [L376:L384]enum GitStoreEvent {
    ActiveRepositoryChanged(Option<RepositoryId>),
    RepositoryUpdated(RepositoryId, RepositoryEvent, bool),
    RepositoryAdded,
    RepositoryRemoved(RepositoryId),
    IndexWriteError(anyhow::Error),
    JobsUpdated,
    ConflictsUpdated,
}
- [L390:L393]struct GitJob {
    job: Box<dyn FnOnce(RepositoryState, &mut AsyncApp) -> Task<()>>,
    key: Option<GitJobKey>,
}
- [L396:L401]enum GitJobKey {
    WriteIndex(Vec<RepoPath>),
    ReloadBufferDiffBases,
    RefreshStatuses,
    ReloadGitState,
}
- [L3213:L3242]fn make_remote_delegate(
    this: Entity<GitStore>,
    project_id: u64,
    repository_id: RepositoryId,
    askpass_id: u64,
    cx: &mut AsyncApp,
) -> AskPassDelegate 
- [L3435:L3443]fn stash_to_proto(entry: &StashEntry) -> proto::StashEntry 
- [L3445:L3453]fn proto_to_stash(entry: &proto::StashEntry) -> Result<StashEntry> 
- [L5949:L5998]fn get_permalink_in_rust_registry_src(
    provider_registry: Arc<GitHostingProviderRegistry>,
    path: PathBuf,
    selection: Range<u32>,
) -> Result<url::Url> 
- [L6000:L6041]fn serialize_blame_buffer_response(blame: Option<git::blame::Blame>) -> proto::BlameBufferResponse 
- [L6043:L6077]fn deserialize_blame_buffer_response(
    response: proto::BlameBufferResponse,
) -> Option<git::blame::Blame> 
- [L6079:L6107]fn branch_to_proto(branch: &git::repository::Branch) -> proto::Branch 
- [L6109:L6115]fn worktree_to_proto(worktree: &git::repository::Worktree) -> proto::Worktree 
- [L6117:L6123]fn proto_to_worktree(proto: &proto::Worktree) -> git::repository::Worktree 
- [L6125:L6155]fn proto_to_branch(proto: &proto::Branch) -> git::repository::Branch 
- [L6157:L6165]fn commit_details_to_proto(commit: &CommitDetails) -> proto::GitCommitDetails 
- [L6167:L6175]fn proto_to_commit_details(proto: &proto::GitCommitDetails) -> CommitDetails 
- [L6244:L6328]fn status_from_proto(
    simple_status: i32,
    status: Option<proto::GitFileStatus>,
) -> anyhow::Result<FileStatus> 
- [L6330:L6354]fn status_to_proto(status: FileStatus) -> proto::GitFileStatus 
- [L6356:L6362]fn unmerged_status_to_proto(code: UnmergedStatusCode) -> i32 
- [L6364:L6374]fn tracked_status_to_proto(code: StatusCode) -> i32 

## crates/project/src/git_store/branch_diff.rs
- [L25:L28]enum DiffBase {
    Head,
    Merge { base_ref: SharedString },
}
- [L36:L46]struct BranchDiff {
    diff_base: DiffBase,
    repo: Option<Entity<Repository>>,
    project: Entity<Project>,
    base_commit: Option<SharedString>,
    head_commit: Option<SharedString>,
    tree_diff: Option<TreeDiff>,
    _subscription: Subscription,
    update_needed: postage::watch::Sender<()>,
    _task: Task<()>,
}
- [L48:L50]enum BranchDiffEvent {
    FileListChanged,
}
- [L363:L379]fn diff_status_to_file_status(branch_diff: &git::status::TreeDiffStatus) -> FileStatus 
- [L382:L386]struct DiffBuffer {
    pub repo_path: RepoPath,
    pub file_status: FileStatus,
    pub load: Task<Result<(Entity<Buffer>, Entity<BufferDiff>)>>,
}

## crates/project/src/git_store/conflict_set.rs
- [L5:L8]struct ConflictSet {
    pub has_conflict: bool,
    pub snapshot: ConflictSetSnapshot,
}
- [L11:L15]struct ConflictSetUpdate {
    pub buffer_range: Option<Range<Anchor>>,
    pub old_range: Range<usize>,
    pub new_range: Range<usize>,
}
- [L18:L21]struct ConflictSetSnapshot {
    pub buffer_id: BufferId,
    pub conflicts: Arc<[ConflictRegion]>,
}
- [L94:L101]struct ConflictRegion {
    pub ours_branch_name: SharedString,
    pub theirs_branch_name: SharedString,
    pub range: Range<Anchor>,
    pub ours: Range<Anchor>,
    pub theirs: Range<Anchor>,
    pub base: Option<Range<Anchor>>,
}

## crates/project/src/git_store/git_traversal.rs
- [L11:L20]struct GitTraversal<'a> {
    traversal: Traversal<'a>,
    current_entry_summary: Option<GitSummary>,
    repo_root_to_snapshot: BTreeMap<&'a Path, &'a RepositorySnapshot>,
    repo_location: Option<(
        RepositoryId,
        Cursor<'a, 'static, StatusEntry, PathProgress<'a>>,
    )>,
}
- [L159:L162]struct ChildEntriesGitIter<'a> {
    parent_path: &'a RelPath,
    traversal: GitTraversal<'a>,
}
- [L197:L200]struct GitEntryRef<'a> {
    pub entry: &'a Entry,
    pub git_summary: GitSummary,
}
- [L226:L229]struct GitEntry {
    pub entry: Entry,
    pub git_summary: GitSummary,
}

## crates/project/src/git_store/pending_op.rs
- [L7:L12]enum GitStatus {
    Staged,
    Unstaged,
    Reverted,
    Unchanged,
}
- [L15:L20]enum JobStatus {
    Running,
    Finished,
    Skipped,
    Error,
}
- [L23:L26]struct PendingOps {
    pub repo_path: RepoPath,
    pub ops: Vec<PendingOp>,
}
- [L29:L33]struct PendingOp {
    pub id: PendingOpId,
    pub git_status: GitStatus,
    pub job_status: JobStatus,
}
- [L36:L39]struct PendingOpsSummary {
    pub staged_count: usize,
    pub staging_count: usize,
}
- [L42:L42]struct PendingOpId(pub u16);

## crates/project/src/image_store.rs
- [L22:L22]struct ImageId(NonZeroU64);
- [L43:L48]enum ImageItemEvent {
    ReloadNeeded,
    Reloaded,
    FileHandleChanged,
    MetadataUpdated,
}
- [L52:L54]enum ImageStoreEvent {
    ImageAdded(Entity<ImageItem>),
}
- [L59:L65]struct ImageMetadata {
    pub width: u32,
    pub height: u32,
    pub file_size: u64,
    pub colors: Option<ImageColorInfo>,
    pub format: ImageFormat,
}
- [L68:L71]struct ImageColorInfo {
    pub channels: u8,
    pub bits_per_channel: u8,
}
- [L102:L108]struct ImageItem {
    pub id: ImageId,
    pub file: Arc<worktree::File>,
    pub image: Arc<gpui::Image>,
    reload_task: Option<Task<()>>,
    pub image_metadata: Option<ImageMetadata>,
}
- [L206:L223]fn is_image_file(project: &Entity<Project>, path: &ProjectPath, cx: &App) -> bool 
- [L277:L284]struct RemoteImageStore {
    upstream_client: AnyProtoClient,
    project_id: u64,
    loading_remote_images_by_id: HashMap<ImageId, LoadingRemoteImage>,
    remote_image_listeners:
        HashMap<ImageId, Vec<oneshot::Sender<anyhow::Result<Entity<ImageItem>>>>>,
    loaded_images: HashMap<ImageId, Entity<ImageItem>>,
}
- [L286:L290]struct LoadingRemoteImage {
    state: proto::ImageState,
    chunks: Vec<Vec<u8>>,
    received_size: u64,
}
- [L292:L297]struct LocalImageStore {
    local_image_ids_by_path: HashMap<ProjectPath, ImageId>,
    local_image_ids_by_entry_id: HashMap<ProjectEntryId, ImageId>,
    image_store: WeakEntity<ImageStore>,
    _subscription: Subscription,
}
- [L299:L308]struct ImageStore {
    state: Box<dyn ImageStoreImpl>,
    opened_images: HashMap<ImageId, WeakEntity<ImageItem>>,
    worktree_store: Entity<WorktreeStore>,
    loading_images_by_path: HashMap<
        ProjectPath,
        postage::watch::Receiver<Option<Result<Entity<ImageItem>, Arc<anyhow::Error>>>>,
    >,
}
- [L890:L906]fn create_gpui_image(content: Vec<u8>) -> anyhow::Result<Arc<gpui::Image>> 

## crates/project/src/lsp_command.rs
- [L42:L51]fn lsp_formatting_options(settings: &LanguageSettings) -> lsp::FormattingOptions 
- [L53:L58]fn file_path_to_lsp_url(path: &Path) -> Result<lsp::Uri> 
- [L77:L77]trait LspCommand: 'static + Sized + Send + std::fmt::Debug {
- [L157:L160]enum LspParamsOrResponse<P, R> {
    Params(P),
    Response(R),
}
- [L175:L177]struct GetDefinitions {
    pub position: PointUtf16,
}
- [L1000:L1015]fn language_server_for_buffer(
    lsp_store: &Entity<LspStore>,
    buffer: &Entity<Buffer>,
    server_id: LanguageServerId,
    cx: &mut AsyncApp,
) -> Result<(Arc<CachedLspAdapter>, Arc<LanguageServer>)> 
- [L1017:L1017]async fn location_links_from_proto(
- [L1031:L1088]fn location_link_from_proto(
    link: proto::LocationLink,
    lsp_store: Entity<LspStore>,
    cx: &mut AsyncApp,
) -> Task<Result<LocationLink>> 
- [L1090:L1090]async fn location_links_from_lsp(
- [L1166:L1166]async fn location_link_from_lsp(
- [L1219:L1229]fn location_links_to_proto(
    links: Vec<LocationLink>,
    lsp_store: &mut LspStore,
    peer_id: PeerId,
    cx: &mut App,
) -> Vec<proto::LocationLink> 
- [L1231:L1271]fn location_link_to_proto(
    location: LocationLink,
    lsp_store: &mut LspStore,
    peer_id: PeerId,
    cx: &mut App,
) -> proto::LocationLink 
- [L2483:L2487]struct ParsedCompletionEdit {
    pub replace_range: Range<Anchor>,
    pub insert_range: Option<Range<Anchor>>,
    pub new_text: String,
}
- [L3988:L3991]struct WorkspaceLspPullDiagnostics {
    pub version: Option<i32>,
    pub diagnostics: LspPullDiagnostics,
}
- [L3993:L4016]fn process_full_workspace_diagnostics_report(
    diagnostics: &mut HashMap<lsp::Uri, WorkspaceLspPullDiagnostics>,
    server_id: LanguageServerId,
    report: lsp::WorkspaceFullDocumentDiagnosticReport,
    registration_id: Option<SharedString>,
) 
- [L4018:L4041]fn process_unchanged_workspace_diagnostics_report(
    diagnostics: &mut HashMap<lsp::Uri, WorkspaceLspPullDiagnostics>,
    server_id: LanguageServerId,
    report: lsp::WorkspaceUnchangedDocumentDiagnosticReport,
    registration_id: Option<SharedString>,
) 
- [L4375:L4401]fn process_related_documents(
    diagnostics: &mut HashMap<lsp::Uri, LspPullDiagnostics>,
    server_id: LanguageServerId,
    documents: impl IntoIterator<Item = (lsp::Uri, lsp::DocumentDiagnosticReportKind)>,
    registration_id: Option<SharedString>,
) 
- [L4403:L4449]fn process_unchanged_diagnostics_report(
    diagnostics: &mut HashMap<lsp::Uri, LspPullDiagnostics>,
    server_id: LanguageServerId,
    uri: lsp::Uri,
    report: lsp::UnchangedDocumentDiagnosticReport,
    registration_id: Option<SharedString>,
) 
- [L4451:L4514]fn process_full_diagnostics_report(
    diagnostics: &mut HashMap<lsp::Uri, LspPullDiagnostics>,
    server_id: LanguageServerId,
    uri: lsp::Uri,
    report: lsp::FullDocumentDiagnosticReport,
    registration_id: Option<SharedString>,
) 

## crates/project/src/lsp_command/signature_help.rs
- [L11:L15]struct SignatureHelp {
    pub active_signature: usize,
    pub signatures: Vec<SignatureHelpData>,
    pub(super) original_data: lsp::SignatureHelp,
}
- [L18:L24]struct SignatureHelpData {
    pub label: SharedString,
    pub documentation: Option<Entity<Markdown>>,
    pub highlights: Vec<(Range<usize>, HighlightStyle)>,
    pub active_parameter: Option<usize>,
    pub parameters: Vec<ParameterInfo>,
}
- [L27:L30]struct ParameterInfo {
    pub label_range: Option<Range<usize>>,
    pub documentation: Option<Entity<Markdown>>,
}
- [L136:L159]fn documentation_to_markdown(
    documentation: &lsp::Documentation,
    language_registry: Option<Arc<LanguageRegistry>>,
    cx: &mut App,
) -> Entity<Markdown> 
- [L161:L196]fn lsp_to_proto_signature(lsp_help: lsp::SignatureHelp) -> proto::SignatureHelp 
- [L198:L210]fn lsp_to_proto_documentation(documentation: lsp::Documentation) -> proto::Documentation 
- [L212:L250]fn proto_to_lsp_signature(proto_help: proto::SignatureHelp) -> lsp::SignatureHelp 
- [L252:L271]fn proto_to_lsp_documentation(documentation: proto::Documentation) -> Option<lsp::Documentation> 

## crates/project/src/lsp_store.rs
- [L12:L12]mod clangd_ext;
- [L13:L13]mod json_language_server_ext;
- [L14:L14]mod log_store;
- [L15:L15]mod lsp_ext_command;
- [L16:L16]mod rust_analyzer_ext;
- [L17:L17]mod vue_language_server_ext;
- [L146:L146]const SERVER_PROGRESS_THROTTLE_TIMEOUT: Duration = Duration::from_millis(100);
- [L151:L154]enum ProgressToken {
    Number(i32),
    String(SharedString),
}
- [L198:L201]enum FormatTrigger {
    Save,
    Manual,
}
- [L203:L206]enum LspFormatTarget {
    Buffers,
    Ranges(BTreeMap<BufferId, Vec<Range<Anchor>>>),
}
- [L209:L209]struct OpenLspBufferHandle(Entity<OpenLspBuffer>);
- [L211:L211]struct OpenLspBuffer(Entity<Buffer>);
- [L224:L227]struct UnifiedLanguageServer {
    id: LanguageServerId,
    project_roots: HashSet<Arc<RelPath>>,
}
- [L230:L235]struct LanguageServerSeed {
    worktree_id: WorktreeId,
    name: LanguageServerName,
    toolchain: Option<Toolchain>,
    settings: Arc<LspSettings>,
}
- [L238:L244]struct DocumentDiagnosticsUpdate<'a, D> {
    pub diagnostics: D,
    pub result_id: Option<SharedString>,
    pub registration_id: Option<SharedString>,
    pub server_id: LanguageServerId,
    pub disk_based_sources: Cow<'a, [String]>,
}
- [L246:L250]struct DocumentDiagnostics {
    diagnostics: Vec<DiagnosticEntry<Unclipped<PointUtf16>>>,
    document_abs_path: PathBuf,
    version: Option<i32>,
}
- [L253:L256]struct DynamicRegistrations {
    did_change_watched_files: HashMap<String, Vec<FileSystemWatcher>>,
    diagnostics: HashMap<Option<String>, DiagnosticServerCapabilities>,
}
- [L258:L304]struct LocalLspStore {
    weak: WeakEntity<LspStore>,
    pub worktree_store: Entity<WorktreeStore>,
    toolchain_store: Entity<LocalToolchainStore>,
    http_client: Arc<dyn HttpClient>,
    environment: Entity<ProjectEnvironment>,
    fs: Arc<dyn Fs>,
    languages: Arc<LanguageRegistry>,
    language_server_ids: HashMap<LanguageServerSeed, UnifiedLanguageServer>,
    yarn: Entity<YarnPathStore>,
    pub language_servers: HashMap<LanguageServerId, LanguageServerState>,
    buffers_being_formatted: HashSet<BufferId>,
    last_workspace_edits_by_language_server: HashMap<LanguageServerId, ProjectTransaction>,
    language_server_watched_paths: HashMap<LanguageServerId, LanguageServerWatchedPaths>,
    watched_manifest_filenames: HashSet<ManifestName>,
    language_server_paths_watched_for_rename:
        HashMap<LanguageServerId, RenamePathsWatchedForServer>,
    language_server_dynamic_registrations: HashMap<LanguageServerId, DynamicRegistrations>,
    supplementary_language_servers:
        HashMap<LanguageServerId, (LanguageServerName, Arc<LanguageServer>)>,
    prettier_store: Entity<PrettierStore>,
    next_diagnostic_group_id: usize,
    diagnostics: HashMap<
        WorktreeId,
        HashMap<
            Arc<RelPath>,
            Vec<(
                LanguageServerId,
                Vec<DiagnosticEntry<Unclipped<PointUtf16>>>,
            )>,
        >,
    >,
    buffer_snapshots: HashMap<BufferId, HashMap<LanguageServerId, Vec<LspBufferSnapshot>>>,
    _subscription: gpui::Subscription,
    lsp_tree: LanguageServerTree,
    registered_buffers: HashMap<BufferId, usize>,
    buffers_opened_in_servers: HashMap<BufferId, HashSet<LanguageServerId>>,
    buffer_pull_diagnostics_result_ids: HashMap<
        LanguageServerId,
        HashMap<Option<SharedString>, HashMap<PathBuf, Option<SharedString>>>,
    >,
    workspace_pull_diagnostics_result_ids: HashMap<
        LanguageServerId,
        HashMap<Option<SharedString>, HashMap<PathBuf, Option<SharedString>>>,
    >,
    restricted_worktrees_tasks: HashMap<WorktreeId, (Subscription, Receiver<()>)>,
}
- [L3684:L3711]fn notify_server_capabilities_updated(server: &LanguageServer, cx: &mut Context<LspStore>) 
- [L3714:L3719]struct FormattableBuffer {
    handle: Entity<Buffer>,
    abs_path: Option<PathBuf>,
    env: Option<HashMap<String, String>>,
    ranges: Option<Vec<Range<Anchor>>>,
}
- [L3721:L3724]struct RemoteLspStore {
    upstream_client: Option<AnyProtoClient>,
    upstream_project_id: u64,
}
- [L3737:L3754]struct LspStore {
    mode: LspStoreMode,
    last_formatting_failure: Option<String>,
    downstream_client: Option<(AnyProtoClient, u64)>,
    nonce: u128,
    buffer_store: Entity<BufferStore>,
    worktree_store: Entity<WorktreeStore>,
    pub languages: Arc<LanguageRegistry>,
    pub language_server_statuses: BTreeMap<LanguageServerId, LanguageServerStatus>,
    active_entry: Option<ProjectEntryId>,
    _maintain_workspace_config: (Task<Result<()>>, watch::Sender<()>),
    _maintain_buffer_languages: Task<()>,
    diagnostic_summaries:
        HashMap<WorktreeId, HashMap<Arc<RelPath>, HashMap<LanguageServerId, DiagnosticSummary>>>,
    pub lsp_server_capabilities: HashMap<LanguageServerId, lsp::ServerCapabilities>,
    lsp_data: HashMap<BufferId, BufferLspData>,
    next_hint_id: Arc<AtomicUsize>,
}
- [L3757:L3764]struct BufferLspData {
    buffer_version: Global,
    document_colors: Option<DocumentColorData>,
    code_lens: Option<CodeLensData>,
    inlay_hints: BufferInlayHints,
    lsp_requests: HashMap<LspKey, HashMap<LspRequestId, Task<()>>>,
    chunk_lsp_requests: HashMap<LspKey, HashMap<RowChunk, LspRequestId>>,
}
- [L3767:L3770]struct LspKey {
    request_type: TypeId,
    server_queried: Option<LanguageServerId>,
}
- [L3804:L3807]struct DocumentColors {
    pub colors: HashSet<DocumentColor>,
    pub cache_version: Option<usize>,
}
- [L3813:L3817]struct DocumentColorData {
    colors: HashMap<LanguageServerId, HashSet<DocumentColor>>,
    cache_version: usize,
    colors_update: Option<(Global, DocumentColorTask)>,
}
- [L3820:L3823]struct CodeLensData {
    lens: HashMap<LanguageServerId, Vec<CodeAction>>,
    update: Option<(Global, CodeLensTask)>,
}
- [L3826:L3862]enum LspStoreEvent {
    LanguageServerAdded(LanguageServerId, LanguageServerName, Option<WorktreeId>),
    LanguageServerRemoved(LanguageServerId),
    LanguageServerUpdate {
        language_server_id: LanguageServerId,
        name: Option<LanguageServerName>,
        message: proto::update_language_server::Variant,
    },
    LanguageServerLog(LanguageServerId, LanguageServerLogType, String),
    LanguageServerPrompt(LanguageServerPromptRequest),
    LanguageDetected {
        buffer: Entity<Buffer>,
        new_language: Option<Arc<Language>>,
    },
    Notification(String),
    RefreshInlayHints {
        server_id: LanguageServerId,
        request_id: Option<usize>,
    },
    RefreshCodeLens,
    DiagnosticsUpdated {
        server_id: LanguageServerId,
        paths: Vec<ProjectPath>,
    },
    DiskBasedDiagnosticsStarted {
        language_server_id: LanguageServerId,
    },
    DiskBasedDiagnosticsFinished {
        language_server_id: LanguageServerId,
    },
    SnippetEdit {
        buffer_id: BufferId,
        edits: Vec<(lsp::Range, Snippet)>,
        most_recent_edit: clock::Lamport,
    },
    WorkspaceEditApplied(ProjectTransaction),
}
- [L3865:L3875]struct LanguageServerStatus {
    pub name: LanguageServerName,
    pub server_version: Option<SharedString>,
    pub pending_work: BTreeMap<ProgressToken, LanguageServerProgress>,
    pub has_pending_diagnostic_updates: bool,
    pub progress_tokens: HashSet<ProgressToken>,
    pub worktree: Option<WorktreeId>,
    pub binary: Option<LanguageServerBinary>,
    pub configuration: Option<Value>,
    pub workspace_folders: BTreeSet<Uri>,
}
- [L3878:L3886]struct CoreSymbol {
    pub language_server_name: LanguageServerName,
    pub source_worktree_id: WorktreeId,
    pub source_language_server_id: LanguageServerId,
    pub path: SymbolLocation,
    pub name: String,
    pub kind: lsp::SymbolKind,
    pub range: Range<Unclipped<PointUtf16>>,
}
- [L3889:L3893]enum SymbolLocation {
    InProject(ProjectPath),
    OutsideProject {
        abs_path: Arc<Path>,
        signature: [u8; 32],
- [L13020:L13027]fn parse_register_capabilities<T: serde::de::DeserializeOwned>(
    reg: lsp::Registration,
) -> Result<OneOf<bool, T>> 
- [L13029:L13074]fn subscribe_to_binary_statuses(
    languages: &Arc<LanguageRegistry>,
    cx: &mut Context<'_, LspStore>,
) -> Task<()> 
- [L13076:L13201]fn lsp_workspace_diagnostics_refresh(
    registration_id: Option<String>,
    options: DiagnosticServerCapabilities,
    server: Arc<LanguageServer>,
    cx: &mut Context<'_, LspStore>,
) -> Option<WorkspaceRefreshTask> 
- [L13203:L13213]fn buffer_diagnostic_identifier(options: &DiagnosticServerCapabilities) -> Option<String> 
- [L13215:L13233]fn workspace_diagnostic_identifier(
    options: &DiagnosticServerCapabilities,
) -> Option<Option<String>> 
- [L13235:L13267]fn resolve_word_completion(snapshot: &BufferSnapshot, completion: &mut Completion) 
- [L13271:L13280]fn remove_empty_hover_blocks(mut hover: Hover) -> Option<Hover> 
- [L13354:L13359]enum LanguageServerToQuery {
    FirstCapable,
    Other(LanguageServerId),
}
- [L13362:L13365]struct RenamePathsWatchedForServer {
    did_rename: Vec<RenameActionPredicate>,
    will_rename: Vec<RenameActionPredicate>,
}
- [L13420:L13423]struct RenameActionPredicate {
    glob: GlobMatcher,
    kind: Option<FileOperationPatternKind>,
}
- [L13440:L13443]struct LanguageServerWatchedPaths {
    worktree_paths: HashMap<WorktreeId, GlobSet>,
    abs_paths: HashMap<Arc<Path>, (GlobSet, Task<()>)>,
}
- [L13446:L13449]struct LanguageServerWatchedPathsBuilder {
    worktree_paths: HashMap<WorktreeId, GlobSet>,
    abs_paths: HashMap<Arc<Path>, GlobSet>,
}
- [L13525:L13528]struct LspBufferSnapshot {
    version: i32,
    snapshot: TextBufferSnapshot,
}
- [L13530:L13538]struct LanguageServerPromptRequest {
    pub level: PromptLevel,
    pub message: String,
    pub actions: Vec<MessageActionItem>,
    pub lsp_name: String,
    pub(crate) response_channel: Sender<MessageActionItem>,
}
- [L13556:L13560]enum LanguageServerLogType {
    Log(MessageType),
    Trace { verbose_info: Option<String> },
    Rpc { received: bool },
}
- [L13625:L13630]struct WorkspaceRefreshTask {
    refresh_tx: mpsc::Sender<()>,
    progress_tx: mpsc::Sender<()>,
    task: Task<()>,
}
- [L13632:L13645]enum LanguageServerState {
    Starting {
        startup: Task<Option<Arc<LanguageServer>>>,
        pending_workspace_folders: Arc<Mutex<BTreeSet<Uri>>>,
    },
    Running {
        adapter: Arc<CachedLspAdapter>,
        server: Arc<LanguageServer>,
        simulate_disk_based_diagnostics_completion: Option<Task<()>>,
        workspace_diagnostics_refresh_tasks: HashMap<Option<String>, WorkspaceRefreshTask>,
    },
}
- [L13688:L13696]struct LanguageServerProgress {
    pub is_disk_based_diagnostics_progress: bool,
    pub is_cancellable: bool,
    pub title: Option<String>,
    pub message: Option<String>,
    pub percentage: Option<usize>,
    pub last_update_at: Instant,
}
- [L13699:L13702]struct DiagnosticSummary {
    pub error_count: usize,
    pub warning_count: usize,
}
- [L13743:L13757]enum CompletionDocumentation {
    Undocumented,
    SingleLine(SharedString),
    MultiLinePlainText(SharedString),
    MultiLineMarkdown(SharedString),
    SingleLineAndMultiLinePlainText {
        single_line: SharedString,
        plain_text: Option<SharedString>,
    },
}
- [L13802:L13805]enum ResolvedHint {
    Resolved(InlayHint),
    Resolving(Shared<Task<()>>),
}
- [L13807:L13814]fn glob_literal_prefix(glob: &Path) -> PathBuf 
- [L13816:L13821]struct SshLspAdapter {
    name: LanguageServerName,
    binary: LanguageServerBinary,
    initialization_options: Option<String>,
    code_action_kinds: Option<Vec<CodeActionKind>>,
}
- [L13901:L13914]fn language_server_settings<'a>(
    delegate: &'a dyn LspAdapterDelegate,
    language: &LanguageServerName,
    cx: &'a App,
) -> Option<&'a LspSettings> 
- [L13916:L13922]fn language_server_settings_for<'a>(
    location: SettingsLocation<'a>,
    language: &LanguageServerName,
    cx: &'a App,
) -> Option<&'a LspSettings> 
- [L13924:L13931]struct LocalLspAdapterDelegate {
    lsp_store: WeakEntity<LspStore>,
    worktree: worktree::Snapshot,
    fs: Arc<dyn Fs>,
    http_client: Arc<dyn HttpClient>,
    language_registry: Arc<LanguageRegistry>,
    load_shell_env_task: Shared<Task<Option<HashMap<String, String>>>>,
}
- [L14190:L14205]fn include_text(server: &lsp::LanguageServer) -> Option<bool> 
- [L14207:L14312]fn ensure_uniform_list_compatible_label(label: &mut CodeLabel) 

## crates/project/src/lsp_store/clangd_ext.rs
- [L11:L11]const CLANGD_SERVER_NAME: LanguageServerName = LanguageServerName::new_static("clangd");
- [L17:L20]struct InactiveRegionsParams {
    pub text_document: lsp::OptionalVersionedTextDocumentIdentifier,
    pub regions: Vec<lsp::Range>,
}
- [L22:L23]struct InactiveRegions;
- [L30:L38]fn is_inactive_region(diag: &Diagnostic) -> bool 
- [L40:L47]fn is_lsp_inactive_region(diag: &lsp::Diagnostic) -> bool 
- [L49:L104]fn register_notifications(
    lsp_store: WeakEntity<LspStore>,
    language_server: &LanguageServer,
    adapter: Arc<CachedLspAdapter>,
) 

## crates/project/src/lsp_store/inlay_hint_cache.rs
- [L15:L15]type CacheInlayHints = HashMap<LanguageServerId, Vec<(InlayId, InlayHint)>>;
- [L16:L16]type CacheInlayHintsTask = Shared<Task<Result<CacheInlayHints, Arc<anyhow::Error>>>>;
- [L18:L39]enum InvalidationStrategy {
    RefreshRequested {
        server_id: LanguageServerId,
        request_id: Option<usize>,
    },
    BufferEdited,
    None,
}
- [L50:L57]struct BufferInlayHints {
    chunks: RowChunks,
    hints_by_chunks: Vec<Option<CacheInlayHints>>,
    fetches_by_chunks: Vec<Option<CacheInlayHintsTask>>,
    hints_by_id: HashMap<InlayId, HintForId>,
    latest_invalidation_requests: HashMap<LanguageServerId, Option<usize>>,
    pub(super) hint_resolves: HashMap<InlayId, Shared<Task<()>>>,
}
- [L60:L64]struct HintForId {
    chunk_id: usize,
    server_id: LanguageServerId,
    position: usize,
}

## crates/project/src/lsp_store/json_language_server_ext.rs
- [L9:L15]struct SchemaContentRequest {}
- [L26:L26]struct SchemaHandlingImpl(SchemaRequestHandler);
- [L30:L36]fn register_schema_handler(handler: SchemaRequestHandler, cx: &mut App) 
- [L38:L38]struct SchemaContentsChanged {}
- [L45:L70]fn notify_schema_changed(lsp_store: Entity<LspStore>, uri: String, cx: &App) 
- [L72:L96]fn register_requests(lsp_store: WeakEntity<LspStore>, language_server: &LanguageServer) 

## crates/project/src/lsp_store/log_store.rs
- [L19:L23]fn init(on_headless_host: bool, cx: &mut App) -> Entity<LogStore> 
- [L25:L25]struct GlobalLogStore(pub Entity<LogStore>);
- [L30:L36]enum Event {
    NewServerLogEntry {
        id: LanguageServerId,
        kind: LanguageServerLogType,
        text: String,
    },
}
- [L40:L46]struct LogStore {
    on_headless_host: bool,
    projects: HashMap<WeakEntity<Project>, ProjectState>,
    pub copilot_log_subscription: Option<lsp::Subscription>,
    pub language_servers: HashMap<LanguageServerId, LanguageServerState>,
    io_tx: mpsc::UnboundedSender<(LanguageServerId, IoKind, String)>,
}
- [L48:L49]struct ProjectState {
    _subscriptions: [Subscription; 2],
- [L52:L52]trait Message: AsRef<str> {
- [L60:L63]struct LogMessage {
    message: String,
    typ: MessageType,
}
- [L88:L91]struct TraceMessage {
    message: String,
    is_verbose: bool,
}
- [L112:L114]struct RpcMessage {
    message: String,
}
- [L126:L137]struct LanguageServerState {
    pub name: Option<LanguageServerName>,
    pub worktree_id: Option<WorktreeId>,
    pub kind: LanguageServerKind,
    log_messages: VecDeque<LogMessage>,
    trace_messages: VecDeque<TraceMessage>,
    pub rpc_state: Option<LanguageServerRpcState>,
    pub trace_level: TraceValue,
    pub log_level: MessageType,
    io_logs_subscription: Option<lsp::Subscription>,
    pub toggled_log_kind: Option<LogKind>,
}
- [L156:L161]enum LanguageServerKind {
    Local { project: WeakEntity<Project> },
    Remote { project: WeakEntity<Project> },
    LocalSsh { lsp_store: WeakEntity<LspStore> },
    Global,
}
- [L186:L189]struct LanguageServerRpcState {
    pub rpc_messages: VecDeque<RpcMessage>,
    last_message_kind: Option<MessageKind>,
}
- [L192:L195]enum MessageKind {
    Send,
    Receive,
}
- [L198:L204]enum LogKind {
    Rpc,
    Trace,
    Logs,
    ServerInfo,
}

## crates/project/src/lsp_store/lsp_ext_command.rs
- [L29:L29]enum LspExtExpandMacro {}
- [L39:L42]struct ExpandMacroParams {
    pub text_document: lsp::TextDocumentIdentifier,
    pub position: lsp::Position,
}
- [L46:L49]struct ExpandedMacro {
    pub name: String,
    pub expansion: String,
}
- [L57:L59]struct ExpandMacro {
    pub position: PointUtf16,
}
- [L160:L160]enum LspOpenDocs {}
- [L170:L173]struct OpenDocsParams {
    pub text_document: lsp::TextDocumentIdentifier,
    pub position: lsp::Position,
}
- [L177:L180]struct DocsUrls {
    pub web: Option<String>,
    pub local: Option<String>,
}
- [L189:L191]struct OpenDocs {
    pub position: PointUtf16,
}
- [L294:L294]enum LspSwitchSourceHeader {}
- [L304:L304]struct SwitchSourceHeaderParams(lsp::TextDocumentIdentifier);
- [L308:L308]struct SwitchSourceHeaderResult(pub String);
- [L312:L312]struct SwitchSourceHeader;
- [L315:L317]struct GoToParentModule {
    pub position: PointUtf16,
}
- [L319:L319]struct LspGoToParentModule {}
- [L505:L505]enum Runnables {}
- [L515:L519]struct RunnablesParams {
    pub text_document: lsp::TextDocumentIdentifier,
    pub position: Option<lsp::Position>,
}
- [L523:L529]struct Runnable {
    pub label: String,
    pub location: Option<lsp::LocationLink>,
    pub kind: RunnableKind,
    pub args: RunnableArgs,
}
- [L534:L537]enum RunnableArgs {
    Cargo(CargoRunnableArgs),
    Shell(ShellRunnableArgs),
}
- [L541:L544]enum RunnableKind {
    Cargo,
    Shell,
}
- [L548:L563]struct CargoRunnableArgs {
    pub environment: HashMap<String, String>,
    pub cwd: PathBuf,
    pub override_cargo: Option<String>,
    pub workspace_root: Option<PathBuf>,
    pub cargo_args: Vec<String>,
    pub executable_args: Vec<String>,
}
- [L567:L574]struct ShellRunnableArgs {
    pub environment: HashMap<String, String>,
    pub cwd: PathBuf,
    pub program: String,
    pub args: Vec<String>,
}
- [L577:L580]struct GetLspRunnables {
    pub buffer_id: BufferId,
    pub position: Option<text::Anchor>,
}
- [L583:L585]struct LspRunnables {
    pub runnables: Vec<(Option<LocationLink>, TaskTemplate)>,
}
- [L779:L779]struct LspExtCancelFlycheck {}
- [L782:L782]struct LspExtRunFlycheck {}
- [L785:L785]struct LspExtClearFlycheck {}
- [L799:L801]struct RunFlycheckParams {
    pub text_document: Option<lsp::TextDocumentIdentifier>,
}

## crates/project/src/lsp_store/rust_analyzer_ext.rs
- [L10:L10]const RUST_ANALYZER_NAME: LanguageServerName = LanguageServerName::new_static("rust-analyzer");
- [L11:L11]const CARGO_DIAGNOSTICS_SOURCE_NAME: &str = "rustc";
- [L13:L17]enum ServerStatus {}
- [L21:L24]struct ServerStatusParams {
    pub health: ServerHealth,
    pub message: Option<String>,
}
- [L31:L82]fn register_notifications(lsp_store: WeakEntity<LspStore>, language_server: &LanguageServer) 
- [L84:L131]fn cancel_flycheck(
    project: Entity<Project>,
    buffer_path: Option<ProjectPath>,
    cx: &mut App,
) -> Task<anyhow::Result<()>> 
- [L133:L189]fn run_flycheck(
    project: Entity<Project>,
    buffer_path: Option<ProjectPath>,
    cx: &mut App,
) -> Task<anyhow::Result<()>> 
- [L191:L238]fn clear_flycheck(
    project: Entity<Project>,
    buffer_path: Option<ProjectPath>,
    cx: &mut App,
) -> Task<anyhow::Result<()>> 
- [L240:L275]fn find_rust_analyzer_server(
    project: &Entity<Project>,
    buffer: Option<&Entity<Buffer>>,
    cx: &mut AsyncApp,
) -> Option<LanguageServerId> 

## crates/project/src/lsp_store/vue_language_server_ext.rs
- [L8:L8]struct VueServerRequest;
- [L9:L9]struct TypescriptServerResponse;
- [L27:L124]fn register_requests(lsp_store: WeakEntity<LspStore>, language_server: &LanguageServer) 

## crates/project/src/manifest_tree.rs
- [L28:L32]struct WorktreeRoots {
    roots: RootPathTrie<ManifestName>,
    worktree_store: Entity<WorktreeStore>,
    _worktree_subscription: Subscription,
}
- [L68:L71]struct ManifestTree {
    root_points: HashMap<WorktreeId, Entity<WorktreeRoots>>,
    worktree_store: Entity<WorktreeStore>,
    _subscriptions: [Subscription; 2],

## crates/project/src/manifest_tree/manifest_store.rs
- [L9:L11]struct ManifestProvidersState {
    providers: HashMap<ManifestName, Arc<dyn ManifestProvider>>,
}
- [L14:L14]struct ManifestProvidersStore(Arc<RwLock<ManifestProvidersState>>);
- [L17:L17]struct GlobalManifestProvider(ManifestProvidersStore);

## crates/project/src/manifest_tree/path_trie.rs

## crates/project/src/manifest_tree/server_tree.rs
- [L40:L45]struct LanguageServerTree {
    manifest_tree: Entity<ManifestTree>,
    pub(crate) instances: BTreeMap<WorktreeId, ServersForWorktree>,
    languages: Arc<LanguageRegistry>,
    toolchains: Entity<LocalToolchainStore>,
}
- [L47:L51]struct LanguageServerTreeNode(Weak<InnerTreeNode>);
- [L95:L98]struct InnerTreeNode {
    id: OnceLock<LanguageServerId>,
    disposition: Arc<LaunchDisposition>,
}

## crates/project/src/persistence.rs
- [L23:L23]struct ProjectDb(ThreadSafeConnection);

## crates/project/src/prettier_store.rs
- [L33:L42]struct PrettierStore {
    node: NodeRuntime,
    fs: Arc<dyn Fs>,
    languages: Arc<LanguageRegistry>,
    worktree_store: Entity<WorktreeStore>,
    default_prettier: DefaultPrettier,
    prettiers_per_worktree: HashMap<WorktreeId, HashSet<Option<PathBuf>>>,
    prettier_ignores_per_worktree: HashMap<WorktreeId, HashSet<PathBuf>>,
    prettier_instances: HashMap<PathBuf, PrettierInstance>,
}
- [L700:L708]fn prettier_plugins_for_language(
    language_settings: &LanguageSettings,
) -> Option<&HashSet<String>> 
- [L778:L781]struct DefaultPrettier {
    prettier: PrettierInstallation,
    installed_plugins: HashSet<Arc<str>>,
}
- [L784:L791]enum PrettierInstallation {
    NotInstalled {
        attempts: usize,
        installation_task: Option<Shared<Task<Result<(), Arc<anyhow::Error>>>>>,
        not_installed_plugins: HashSet<Arc<str>>,
    },
    Installed(PrettierInstance),
}
- [L793:L793]type PrettierTask = Shared<Task<Result<Arc<Prettier>, Arc<anyhow::Error>>>>;
- [L796:L799]struct PrettierInstance {
    attempt: usize,
    prettier: Option<PrettierTask>,
}

## crates/project/src/project.rs
- [L1:L1]mod agent_server_store;
- [L2:L2]mod buffer_store;
- [L4:L4]mod connection_manager;
- [L5:L5]mod context_server_store;
- [L6:L6]mod debounced_delay;
- [L7:L7]mod debugger;
- [L8:L8]mod git_store;
- [L9:L9]mod image_store;
- [L10:L10]mod lsp_command;
- [L11:L11]mod lsp_store;
- [L13:L13]mod prettier_store;
- [L15:L15]mod project_settings;
- [L16:L16]mod search;
- [L18:L18]mod task_store;
- [L19:L19]mod telemetry_snapshot;
- [L20:L20]mod terminals;
- [L21:L21]mod toolchain_store;
- [L22:L22]mod trusted_worktrees;
- [L23:L23]mod worktree_store;
- [L34:L34]mod search_history;
- [L161:L161]trait ProjectItem: 'static {
- [L175:L179]enum OpenedBufferEvent {
    Disconnected,
    Ok(BufferId),
    Err(BufferId, Arc<anyhow::Error>),
}
- [L181:L223]struct Project {
    active_entry: Option<ProjectEntryId>,
    buffer_ordered_messages_tx: mpsc::UnboundedSender<BufferOrderedMessage>,
    languages: Arc<LanguageRegistry>,
    dap_store: Entity<DapStore>,
    agent_server_store: Entity<AgentServerStore>,
    breakpoint_store: Entity<BreakpointStore>,
    collab_client: Arc<client::Client>,
    join_project_response_message_id: u32,
    task_store: Entity<TaskStore>,
    user_store: Entity<UserStore>,
    fs: Arc<dyn Fs>,
    remote_client: Option<Entity<RemoteClient>>,
    client_state: ProjectClientState,
    git_store: Entity<GitStore>,
    collaborators: HashMap<proto::PeerId, Collaborator>,
    client_subscriptions: Vec<client::Subscription>,
    worktree_store: Entity<WorktreeStore>,
    buffer_store: Entity<BufferStore>,
    context_server_store: Entity<ContextServerStore>,
    image_store: Entity<ImageStore>,
    lsp_store: Entity<LspStore>,
    _subscriptions: Vec<gpui::Subscription>,
    buffers_needing_diff: HashSet<WeakEntity<Buffer>>,
    git_diff_debouncer: DebouncedDelay<Self>,
    remotely_created_models: Arc<Mutex<RemotelyCreatedModels>>,
    terminals: Terminals,
    node: Option<NodeRuntime>,
    search_history: SearchHistory,
    search_included_history: SearchHistory,
    search_excluded_history: SearchHistory,
    snippets: Entity<SnippetProvider>,
    environment: Entity<ProjectEnvironment>,
    settings_observer: Entity<SettingsObserver>,
    toolchain_store: Option<Entity<ToolchainStore>>,
    agent_location: Option<AgentLocation>,
}
- [L226:L229]struct AgentLocation {
    pub buffer: WeakEntity<Buffer>,
    pub position: Anchor,
}
- [L232:L236]struct RemotelyCreatedModels {
    worktrees: Vec<Entity<Worktree>>,
    buffers: Vec<Entity<Buffer>>,
    retain_count: usize,
}
- [L238:L240]struct RemotelyCreatedModelGuard {
    remote_models: std::sync::Weak<Mutex<RemotelyCreatedModels>>,
}
- [L258:L271]enum BufferOrderedMessage {
    Operation {
        buffer_id: BufferId,
        operation: proto::Operation,
    },
    LanguageServerUpdate {
        language_server_id: LanguageServerId,
        message: proto::update_language_server::Variant,
        name: Option<LanguageServerName>,
    },
    Resync,
}
- [L274:L286]enum ProjectClientState {
    Local,
    Shared { remote_id: u64 },
    Remote {
        sharing_has_stopped: bool,
        capability: Capability,
        remote_id: u64,
        replica_id: ReplicaId,
    },
}
- [L289:L356]enum Event {
    LanguageServerAdded(LanguageServerId, LanguageServerName, Option<WorktreeId>),
    LanguageServerRemoved(LanguageServerId),
    LanguageServerLog(LanguageServerId, LanguageServerLogType, String),
    LanguageServerBufferRegistered {
        server_id: LanguageServerId,
        buffer_id: BufferId,
        buffer_abs_path: PathBuf,
        name: Option<LanguageServerName>,
    },
    ToggleLspLogs {
        server_id: LanguageServerId,
        enabled: bool,
        toggled_log_kind: LogKind,
    },
    Toast {
        notification_id: SharedString,
        message: String,
    },
    HideToast {
        notification_id: SharedString,
    },
    LanguageServerPrompt(LanguageServerPromptRequest),
    LanguageNotFound(Entity<Buffer>),
    ActiveEntryChanged(Option<ProjectEntryId>),
    ActivateProjectPanel,
    WorktreeAdded(WorktreeId),
    WorktreeOrderChanged,
    WorktreeRemoved(WorktreeId),
    WorktreeUpdatedEntries(WorktreeId, UpdatedEntriesSet),
    DiskBasedDiagnosticsStarted {
        language_server_id: LanguageServerId,
    },
    DiskBasedDiagnosticsFinished {
        language_server_id: LanguageServerId,
    },
    DiagnosticsUpdated {
        paths: Vec<ProjectPath>,
        language_server_id: LanguageServerId,
    },
    RemoteIdChanged(Option<u64>),
    DisconnectedFromHost,
    DisconnectedFromSshRemote,
    Closed,
    DeletedEntry(WorktreeId, ProjectEntryId),
    CollaboratorUpdated {
        old_peer_id: proto::PeerId,
        new_peer_id: proto::PeerId,
    },
    CollaboratorJoined(proto::PeerId),
    CollaboratorLeft(proto::PeerId),
    HostReshared,
    Reshared,
    Rejoined,
    RefreshInlayHints {
        server_id: LanguageServerId,
        request_id: Option<usize>,
    },
    RefreshCodeLens,
    RevealInProjectPanel(ProjectEntryId),
    SnippetEdit(BufferId, Vec<(lsp::Range, Snippet)>),
    ExpandedAllForEntry(WorktreeId, ProjectEntryId),
    EntryRenamed(ProjectTransaction, ProjectPath, PathBuf),
    WorkspaceEditApplied(ProjectTransaction),
    AgentLocationChanged,
}
- [L358:L358]struct AgentLocationChanged;
- [L360:L363]enum DebugAdapterClientState {
    Starting(Task<Option<Arc<DebugAdapterClient>>>),
    Running(Arc<DebugAdapterClient>),
}
- [L366:L369]struct ProjectPath {
    pub worktree_id: WorktreeId,
    pub path: Arc<RelPath>,
}
- [L406:L411]enum PrepareRenameResponse {
    Success(Range<Anchor>),
    OnlyUnpreparedRenameSupported,
    InvalidPosition,
}
- [L414:L420]enum InlayId {
    EditPrediction(usize),
    DebuggerValue(usize),
    Hint(usize),
    Color(usize),
}
- [L434:L442]struct InlayHint {
    pub position: language::Anchor,
    pub label: InlayHintLabel,
    pub kind: Option<InlayHintKind>,
    pub padding_left: bool,
    pub padding_right: bool,
    pub tooltip: Option<InlayHintTooltip>,
    pub resolve_state: ResolveState,
}
- [L444:L460]enum CompletionIntent {
    Complete,
    CompleteWithInsert,
    CompleteWithReplace,
    Compose,
}
- [L472:L500]struct Completion {
    pub replace_range: Range<Anchor>,
    pub new_text: String,
    pub label: CodeLabel,
    pub documentation: Option<CompletionDocumentation>,
    pub source: CompletionSource,
    pub icon_path: Option<SharedString>,
    pub match_start: Option<text::Anchor>,
    pub snippet_deduplication_key: Option<(usize, usize)>,
    pub insert_text_mode: Option<InsertTextMode>,
    pub confirm: Option<Arc<dyn Send + Sync + Fn(CompletionIntent, &mut Window, &mut App) -> bool>>,
}
- [L503:L525]enum CompletionSource {
    Lsp {
        insert_range: Option<Range<Anchor>>,
        server_id: LanguageServerId,
        lsp_completion: Box<lsp::CompletionItem>,
        lsp_defaults: Option<Arc<lsp::CompletionListItemDefaults>>,
        resolved: bool,
    },
    Dap {
        sort_text: String,
    },
    Custom,
    BufferWord {
        word_range: Range<Anchor>,
        resolved: bool,
    },
}
- [L620:L627]struct CompletionResponse {
    pub completions: Vec<Completion>,
    pub display_options: CompletionDisplayOptions,
    pub is_incomplete: bool,
}
- [L630:L632]struct CompletionDisplayOptions {
    pub dynamic_width: bool,
}
- [L657:L669]struct CodeAction {
    pub server_id: LanguageServerId,
    pub range: Range<Anchor>,
    pub lsp_action: LspAction,
    pub resolved: bool,
}
- [L671:L681]enum LspAction {
    Action(Box<lsp::CodeAction>),
    Command(lsp::Command),
    CodeLens(lsp::CodeLens),
}
- [L722:L726]enum ResolveState {
    Resolved,
    CanResolve(LanguageServerId, Option<lsp::LSPAny>),
    Resolving,
}
- [L737:L740]enum InlayHintLabel {
    String(String),
    LabelParts(Vec<InlayHintLabelPart>),
}
- [L743:L747]struct InlayHintLabelPart {
    pub value: String,
    pub tooltip: Option<InlayHintLabelPartTooltip>,
    pub location: Option<(LanguageServerId, lsp::Location)>,
}
- [L750:L753]enum InlayHintTooltip {
    String(String),
    MarkupContent(MarkupContent),
}
- [L756:L759]enum InlayHintLabelPartTooltip {
    String(String),
    MarkupContent(MarkupContent),
}
- [L762:L765]struct MarkupContent {
    pub kind: HoverBlockKind,
    pub value: String,
}
- [L768:L771]struct LocationLink {
    pub origin: Option<Location>,
    pub target: Location,
}
- [L774:L777]struct DocumentHighlight {
    pub range: Range<language::Anchor>,
    pub kind: DocumentHighlightKind,
}
- [L780:L789]struct Symbol {
    pub language_server_name: LanguageServerName,
    pub source_worktree_id: WorktreeId,
    pub source_language_server_id: LanguageServerId,
    pub path: SymbolLocation,
    pub label: CodeLabel,
    pub name: String,
    pub kind: lsp::SymbolKind,
    pub range: Range<Unclipped<PointUtf16>>,
}
- [L792:L798]struct DocumentSymbol {
    pub name: String,
    pub kind: lsp::SymbolKind,
    pub range: Range<Unclipped<PointUtf16>>,
    pub selection_range: Range<Unclipped<PointUtf16>>,
    pub children: Vec<DocumentSymbol>,
}
- [L801:L804]struct HoverBlock {
    pub text: String,
    pub kind: HoverBlockKind,
}
- [L807:L811]enum HoverBlockKind {
    PlainText,
    Markdown,
    Code { language: String },
}
- [L814:L818]struct Hover {
    pub contents: Vec<HoverBlock>,
    pub range: Option<Range<language::Anchor>>,
    pub language: Option<Arc<Language>>,
}
- [L826:L834]enum EntitySubscription {
    Project(PendingEntitySubscription<Project>),
    BufferStore(PendingEntitySubscription<BufferStore>),
    GitStore(PendingEntitySubscription<GitStore>),
    WorktreeStore(PendingEntitySubscription<WorktreeStore>),
    LspStore(PendingEntitySubscription<LspStore>),
    SettingsObserver(PendingEntitySubscription<SettingsObserver>),
    DapStore(PendingEntitySubscription<DapStore>),
}
- [L837:L840]struct DirectoryItem {
    pub path: PathBuf,
    pub is_dir: bool,
}
- [L843:L848]struct DocumentColor {
    pub lsp_range: lsp::Range,
    pub color: lsp::Color,
    pub resolved: bool,
    pub color_presentations: Vec<ColorPresentation>,
}
- [L865:L869]struct ColorPresentation {
    pub label: SharedString,
    pub text_edit: Option<lsp::TextEdit>,
    pub additional_text_edits: Vec<lsp::TextEdit>,
}
- [L887:L890]enum DirectoryLister {
    Project(Entity<Project>),
    Local(Entity<Project>, Arc<dyn Fs>),
}
- [L984:L984]const DEFAULT_COMPLETION_CONTEXT: CompletionContext = CompletionContext {
- [L989:L1004]enum LspPullDiagnostics {
    Default,
    Response {
        server_id: LanguageServerId,
        uri: lsp::Uri,
        registration_id: Option<SharedString>,
        diagnostics: PulledDiagnostics,
    },
}
- [L1007:L1017]enum PulledDiagnostics {
    Unchanged {
        result_id: SharedString,
    },
    Changed {
        result_id: Option<SharedString>,
        diagnostics: Vec<lsp::Diagnostic>,
    },
}
- [L1019:L1025]struct DisableAiSettings {
    pub disable_ai: bool,
}
- [L5491:L5496]struct PathMatchCandidateSet {
    pub snapshot: Snapshot,
    pub include_ignored: bool,
    pub include_root_name: bool,
    pub candidates: Candidates,
}
- [L5498:L5505]enum Candidates {
    Directories,
    Files,
    Entries,
}
- [L5569:L5571]struct PathMatchCandidateSetIter<'a> {
    traversal: Traversal<'a>,
}
- [L5607:L5619]enum ResolvedPath {
    ProjectPath {
        project_path: ProjectPath,
        is_dir: bool,
    },
    AbsPath {
        path: String,
        is_dir: bool,
    },
}
- [L5745:L5751]fn proto_to_prompt(level: proto::language_server_prompt_request::Level) -> gpui::PromptLevel 
- [L5753:L5818]fn provide_inline_values(
    captures: impl Iterator<Item = (Range<usize>, language::DebuggerTextObject)>,
    snapshot: &language::BufferSnapshot,
    max_row: usize,
) -> Vec<InlineValueLocation> 

## crates/project/src/project_search.rs
- [L36:L41]struct Search {
    buffer_store: Entity<BufferStore>,
    worktree_store: Entity<WorktreeStore>,
    limit: usize,
    kind: SearchKind,
}
- [L43:L58]enum SearchKind {
    Local {
        fs: Arc<dyn Fs>,
        worktrees: Vec<Entity<Worktree>>,
    },
    Remote {
        client: AnyProtoClient,
        remote_id: u64,
        models: Arc<Mutex<RemotelyCreatedModels>>,
    },
    OpenBuffersOnly,
}
- [L60:L68]struct SearchResultsHandle {
    results: Receiver<SearchResult>,
    matching_buffers: Receiver<Entity<Buffer>>,
    trigger_search: Box<dyn FnOnce(&mut App) -> Task<()> + Send + Sync>,
}
- [L82:L99]enum FindSearchCandidates {
    Local {
        fs: Arc<dyn Fs>,
        input_paths_rx: Receiver<InputPath>,
        confirm_contents_will_match_tx: Sender<MatchingEntry>,
        confirm_contents_will_match_rx: Receiver<MatchingEntry>,
    },
    Remote,
    OpenBuffersOnly,
}
- [L573:L584]struct Worker<'search> {
    query: &'search SearchQuery,
    open_buffers: &'search HashSet<ProjectEntryId>,
    candidates: FindSearchCandidates,
    find_all_matches_rx: Receiver<(
        Entity<Buffer>,
        BufferSnapshot,
        oneshot::Sender<(Entity<Buffer>, Vec<Range<language::Anchor>>)>,
    )>,
}
- [L656:L661]struct RequestHandler<'worker> {
    query: &'worker SearchQuery,
    fs: Option<&'worker dyn Fs>,
    open_entries: &'worker HashSet<ProjectEntryId>,
    confirm_contents_will_match_tx: &'worker Sender<MatchingEntry>,
}
- [L765:L769]struct InputPath {
    entry: Entry,
    snapshot: Snapshot,
    should_scan_tx: oneshot::Sender<ProjectPath>,
}
- [L771:L775]struct MatchingEntry {
    worktree_root: Arc<Path>,
    path: ProjectPath,
    should_scan_tx: oneshot::Sender<ProjectPath>,
}
- [L777:L784]struct PathInclusionMatcher {
    included: BTreeSet<PathBuf>,
    query: Arc<SearchQuery>,
}

## crates/project/src/project_settings.rs
- [L38:L76]struct ProjectSettings {
    pub lsp: HashMap<LanguageServerName, settings::LspSettings>,
    pub global_lsp_settings: GlobalLspSettings,
    pub dap: HashMap<DebugAdapterName, DapSettings>,
    pub context_servers: HashMap<Arc<str>, ContextServerSettings>,
    pub diagnostics: DiagnosticsSettings,
    pub git: GitSettings,
    pub node: NodeBinarySettings,
    pub load_direnv: DirenvSettings,
    pub session: SessionSettings,
}
- [L79:L93]struct SessionSettings {
    pub restore_unsaved_buffers: bool,
    pub trust_all_worktrees: bool,
}
- [L96:L103]struct NodeBinarySettings {
    pub path: Option<String>,
    pub npm_path: Option<String>,
    pub ignore_system_version: bool,
}
- [L115:L122]struct GlobalLspSettings {
    pub button: bool,
}
- [L126:L155]enum ContextServerSettings {
    Stdio {
        enabled: bool,
        command: ContextServerCommand,
    },
    Http {
        enabled: bool,
        url: String,
        headers: HashMap<String, String>,
    },
    Extension {
        enabled: bool,
        settings: serde_json::Value,
    },
}
- [L226:L233]enum DiagnosticSeverity {
    Off,
    Error,
    Warning,
    Info,
    Hint,
}
- [L260:L272]enum GoToDiagnosticSeverity {
    Error = 3,
    Warning = 2,
    Information = 1,
    Hint = 0,
}
- [L296:L312]enum GoToDiagnosticSeverityFilter {
    Only(GoToDiagnosticSeverity),
    Range {
        min: GoToDiagnosticSeverity,
        max: GoToDiagnosticSeverity,
    },
}
- [L334:L366]struct GitSettings {
    pub enabled: GitEnabledSettings,
    pub git_gutter: settings::GitGutterSetting,
    pub gutter_debounce: u64,
    pub inline_blame: InlineBlameSettings,
    pub blame: BlameSettings,
    pub branch_picker: BranchPickerSettings,
    pub hunk_style: settings::GitHunkStyleSetting,
    pub path_style: GitPathStyle,
}
- [L369:L378]struct GitEnabledSettings {
    pub status: bool,
    pub diff: bool,
}
- [L381:L385]enum GitPathStyle {
    FileNameFirst,
    FilePathFirst,
}
- [L397:L421]struct InlineBlameSettings {
    pub enabled: bool,
    pub delay_ms: settings::DelayMs,
    pub padding: u32,
    pub min_column: u32,
    pub show_commit_summary: bool,
}
- [L424:L429]struct BlameSettings {
    pub show_avatar: bool,
}
- [L443:L449]struct BranchPickerSettings {
    pub show_author_name: bool,
}
- [L460:L472]struct DiagnosticsSettings {
    pub button: bool,
    pub include_warnings: bool,
    pub lsp_pull_diagnostics: LspPullDiagnosticsSettings,
    pub inline: InlineDiagnosticsSettings,
}
- [L475:L498]struct InlineDiagnosticsSettings {
    pub enabled: bool,
    pub update_debounce_ms: u64,
    pub padding: u32,
    pub min_column: u32,
    pub max_severity: Option<DiagnosticSeverity>,
}
- [L501:L511]struct LspPullDiagnosticsSettings {
    pub enabled: bool,
    pub debounce_ms: u64,
}
- [L609:L612]enum SettingsObserverMode {
    Local(Arc<dyn Fs>),
    Remote,
}
- [L615:L619]enum SettingsObserverEvent {
    LocalSettingsUpdated(Result<PathBuf, InvalidSettingsError>),
    LocalTasksUpdated(Result<PathBuf, InvalidSettingsError>),
    LocalDebugScenariosUpdated(Result<PathBuf, InvalidSettingsError>),
}
- [L623:L635]struct SettingsObserver {
    mode: SettingsObserverMode,
    downstream_client: Option<AnyProtoClient>,
    worktree_store: Entity<WorktreeStore>,
    project_id: u64,
    task_store: Entity<TaskStore>,
    pending_local_settings:
        HashMap<PathTrust, BTreeMap<(WorktreeId, Arc<RelPath>), Option<String>>>,
    _trusted_worktrees_watcher: Option<Subscription>,
    _user_settings_watcher: Option<Subscription>,
    _global_task_config_watcher: Task<()>,
    _global_debug_config_watcher: Task<()>,
}
- [L1280:L1309]fn apply_local_settings(
    worktree_id: WorktreeId,
    directory: &Arc<RelPath>,
    kind: LocalSettingsKind,
    file_content: &Option<String>,
    cx: &mut Context<'_, SettingsObserver>,
) 
- [L1311:L1318]fn local_settings_kind_from_proto(kind: proto::LocalSettingsKind) -> LocalSettingsKind 
- [L1320:L1327]fn local_settings_kind_to_proto(kind: LocalSettingsKind) -> proto::LocalSettingsKind 
- [L1330:L1334]struct DapSettings {
    pub binary: DapBinary,
    pub args: Vec<String>,
    pub env: HashMap<String, String>,
}
- [L1349:L1352]enum DapBinary {
    Default,
    Custom(String),
}

## crates/project/src/project_tests.rs
- [L3310:L3326]fn chunks_with_diagnostics<T: ToOffset + ToPoint>(
    buffer: &Buffer,
    range: Range<T>,
) -> Vec<(String, Option<DiagnosticSeverity>)> 
- [L8607:L8645]fn merge_pending_ops_snapshots(
    source: Vec<pending_op::PendingOps>,
    mut target: Vec<pending_op::PendingOps>,
) -> Vec<pending_op::PendingOps> 
- [L10433:L10441]fn init_test(cx: &mut gpui::TestAppContext) 
- [L10443:L10455]fn json_lang() -> Arc<Language> 
- [L10457:L10469]fn js_lang() -> Arc<Language> 
- [L10471:L10539]fn python_lang(fs: Arc<FakeFs>) -> Arc<Language> 
- [L10541:L10553]fn typescript_lang() -> Arc<Language> 
- [L10555:L10567]fn tsx_lang() -> Arc<Language> 
- [L10569:L10587]fn get_all_tasks(
    project: &Entity<Project>,
    task_contexts: Arc<TaskContexts>,
    cx: &mut App,
) -> Task<Vec<(TaskSourceKind, ResolvedTask)>> 
- [L10590:L10619]fn assert_entry_git_state(
    tree: &Worktree,
    repository: &Repository,
    path: &str,
    index_status: Option<StatusCode>,
    is_ignored: bool,
) 
- [L10622:L10626]fn git_init(path: &Path) -> git2::Repository 
- [L10629:L10634]fn git_add<P: AsRef<Path>>(path: P, repo: &git2::Repository) 
- [L10637:L10641]fn git_remove_index(path: &Path, repo: &git2::Repository) 
- [L10644:L10668]fn git_commit(msg: &'static str, repo: &git2::Repository) 
- [L10672:L10674]fn git_cherry_pick(commit: &git2::Commit<'_>, repo: &git2::Repository) 
- [L10677:L10683]fn git_stash(repo: &mut git2::Repository) 
- [L10686:L10699]fn git_reset(offset: usize, repo: &git2::Repository) 
- [L10703:L10710]fn git_branch(name: &str, repo: &git2::Repository) 
- [L10714:L10717]fn git_checkout(name: &str, repo: &git2::Repository) 
- [L10721:L10727]fn git_status(repo: &git2::Repository) -> collections::HashMap<String, git2::Status> 

## crates/project/src/search.rs
- [L22:L28]enum SearchResult {
    Buffer {
        buffer: Entity<Buffer>,
        ranges: Vec<Range<Anchor>>,
    },
    LimitReached,
}
- [L31:L35]enum SearchInputKind {
    Query,
    Include,
    Exclude,
}
- [L38:L44]struct SearchInputs {
    query: Arc<str>,
    files_to_include: PathMatcher,
    files_to_exclude: PathMatcher,
    match_full_paths: bool,
    buffers: Option<Vec<Entity<Buffer>>>,
}
- [L61:L80]enum SearchQuery {
    Text {
        search: AhoCorasick,
        replacement: Option<String>,
        whole_word: bool,
        case_sensitive: bool,
        include_ignored: bool,
        inner: SearchInputs,
    },
    Regex {
        regex: Regex,
        replacement: Option<String>,
        multiline: bool,
        whole_word: bool,
        case_sensitive: bool,
        include_ignored: bool,
        one_match_per_line: bool,
        inner: SearchInputs,
    },
}
- [L82:L82]static WORD_MATCH_TEST: LazyLock<Regex> = LazyLock::new(|| {

## crates/project/src/search_history.rs
- [L3:L11]enum QueryInsertionBehavior {
    AlwaysInsert,
    ReplacePreviousIfContains,
}
- [L13:L22]struct SearchHistoryCursor {
    selection: Option<usize>,
}
- [L32:L36]struct SearchHistory {
    history: VecDeque<String>,
    max_history_len: Option<usize>,
    insertion_behavior: QueryInsertionBehavior,
}

## crates/project/src/task_inventory.rs
- [L34:L38]struct DebugScenarioContext {
    pub task_context: TaskContext,
    pub worktree_id: Option<WorktreeId>,
    pub active_buffer: Option<WeakEntity<Buffer>>,
}
- [L40:L46]struct Inventory {
    last_scheduled_tasks: VecDeque<(TaskSourceKind, ResolvedTask)>,
    last_scheduled_scenarios: VecDeque<(DebugScenario, DebugScenarioContext)>,
    templates_from_settings: InventoryFor<TaskTemplate>,
    scenarios_from_settings: InventoryFor<DebugScenario>,
}
- [L77:L80]struct InventoryFor<T> {
    global: HashMap<PathBuf, Vec<T>>,
    worktree: HashMap<WorktreeId, HashMap<Arc<RelPath>, Vec<T>>>,
}
- [L133:L156]enum TaskSourceKind {
    UserInput,
    Worktree {
        id: WorktreeId,
        directory_in_worktree: Arc<RelPath>,
        id_base: Cow<'static, str>,
    },
    AbsPath {
        id_base: Cow<'static, str>,
        abs_path: PathBuf,
    },
    Language { name: SharedString },
    Lsp {
        language_name: SharedString,
        server: LanguageServerId,
    },
}
- [L158:L171]struct TaskContexts {
    pub active_item_context: Option<(Option<WorktreeId>, Option<Location>, TaskContext)>,
    pub active_worktree_context: Option<(WorktreeId, TaskContext)>,
    pub other_worktree_contexts: Vec<(WorktreeId, TaskContext)>,
    pub lsp_task_sources: HashMap<LanguageServerName, Vec<BufferId>>,
    pub latest_selection: Option<text::Anchor>,
}
- [L805:L826]fn task_lru_comparator(
    (kind_a, task_a, lru_score_a): &(TaskSourceKind, ResolvedTask, u32),
    (kind_b, task_b, lru_score_b): &(TaskSourceKind, ResolvedTask, u32),
) -> cmp::Ordering 
- [L828:L836]fn task_source_kind_preference(kind: &TaskSourceKind) -> u32 
- [L838:L845]fn task_variables_preference(task: &ResolvedTask) -> Reverse<usize> 
- [L963:L967]struct BasicContextProvider {
    worktree_store: Entity<WorktreeStore>,
}
- [L1072:L1075]struct ContextProviderWithTasks {
    templates: TaskTemplates,
}

## crates/project/src/task_store.rs
- [L26:L29]enum TaskStore {
    Functional(StoreState),
    Noop,
}
- [L31:L37]struct StoreState {
    mode: StoreMode,
    task_inventory: Entity<Inventory>,
    buffer_store: WeakEntity<BufferStore>,
    worktree_store: Entity<WorktreeStore>,
    toolchain_store: Arc<dyn LanguageToolchainStore>,
}
- [L39:L48]enum StoreMode {
    Local {
        downstream_client: Option<(AnyProtoClient, u64)>,
        environment: Entity<ProjectEnvironment>,
    },
    Remote {
        upstream_client: AnyProtoClient,
        project_id: u64,
    },
}
- [L53:L56]enum TaskSettingsLocation<'a> {
    Global(&'a Path),
    Worktree(SettingsLocation<'a>),
}
- [L303:L350]fn local_task_context_for_location(
    worktree_store: Entity<WorktreeStore>,
    toolchain_store: Arc<dyn LanguageToolchainStore>,
    environment: Entity<ProjectEnvironment>,
    captured_variables: TaskVariables,
    location: Location,
    cx: &App,
) -> Task<Option<TaskContext>> 
- [L352:L419]fn remote_task_context_for_location(
    project_id: u64,
    upstream_client: AnyProtoClient,
    worktree_store: Entity<WorktreeStore>,
    captured_variables: TaskVariables,
    location: Location,
    toolchain_store: Arc<dyn LanguageToolchainStore>,
    cx: &mut App,
) -> Task<Option<TaskContext>> 
- [L421:L443]fn worktree_root(
    worktree_store: &Entity<WorktreeStore>,
    location: &Location,
    cx: &mut App,
) -> Option<PathBuf> 
- [L445:L501]fn combine_task_variables(
    mut captured_variables: TaskVariables,
    fs: Option<Arc<dyn Fs>>,
    worktree_store: Entity<WorktreeStore>,
    location: Location,
    project_env: Option<HashMap<String, String>>,
    baseline: BasicContextProvider,
    toolchain_store: Arc<dyn LanguageToolchainStore>,
    cx: &mut App,
) -> Task<anyhow::Result<TaskVariables>> 

## crates/project/src/telemetry_snapshot.rs
- [L12:L14]struct TelemetrySnapshot {
    pub worktree_snapshots: Vec<TelemetryWorktreeSnapshot>,
}
- [L34:L37]struct TelemetryWorktreeSnapshot {
    pub worktree_path: String,
    pub git_state: Option<GitState>,
}
- [L40:L45]struct GitState {
    pub remote_url: Option<String>,
    pub head_sha: Option<String>,
    pub current_branch: Option<String>,
    pub diff: Option<String>,
}

## crates/project/src/terminals.rs
- [L23:L25]struct Terminals {
    pub(crate) local_handles: Vec<WeakEntity<terminal::Terminal>>,
}
- [L564:L598]fn create_remote_shell(
    spawn_command: Option<(&String, &Vec<String>)>,
    mut env: HashMap<String, String>,
    working_directory: Option<Arc<Path>>,
    remote_client: Entity<RemoteClient>,
    cx: &mut App,
) -> Result<(Shell, HashMap<String, String>)> 

## crates/project/src/toolchain_store.rs
- [L32:L37]struct ToolchainStore {
    mode: ToolchainStoreInner,
    user_toolchains: BTreeMap<ToolchainScope, IndexSet<Toolchain>>,
    worktree_store: Entity<WorktreeStore>,
    _sub: Subscription,
}
- [L39:L42]enum ToolchainStoreInner {
    Local(Entity<LocalToolchainStore>),
    Remote(Entity<RemoteToolchainStore>),
}
- [L44:L50]struct Toolchains {
    pub toolchains: ToolchainList,
    pub root_path: Arc<RelPath>,
    pub user_toolchains: BTreeMap<ToolchainScope, IndexSet<Toolchain>>,
}
- [L415:L422]struct LocalToolchainStore {
    languages: Arc<LanguageRegistry>,
    worktree_store: Entity<WorktreeStore>,
    project_environment: Entity<ProjectEnvironment>,
    active_toolchains: BTreeMap<(WorktreeId, LanguageName), BTreeMap<Arc<RelPath>, Toolchain>>,
    manifest_tree: Entity<ManifestTree>,
    fs: Arc<dyn Fs>,
}
- [L459:L459]struct EmptyToolchainStore;
- [L472:L472]struct RemoteStore(WeakEntity<RemoteToolchainStore>);
- [L475:L478]enum ToolchainStoreEvent {
    ToolchainActivated,
    CustomToolchainsModified,
}
- [L629:L632]struct RemoteToolchainStore {
    client: AnyProtoClient,
    project_id: u64,
}

## crates/project/src/trusted_worktrees.rs
- [L55:L73]fn init(
    db_trusted_paths: TrustedPaths,
    downstream_client: Option<(AnyProtoClient, u64)>,
    upstream_client: Option<(AnyProtoClient, u64)>,
    cx: &mut App,
) 
- [L75:L117]fn track_worktree_trust(
    worktree_store: Entity<WorktreeStore>,
    remote_host: Option<RemoteHostLocation>,
    downstream_client: Option<(AnyProtoClient, u64)>,
    upstream_client: Option<(AnyProtoClient, u64)>,
    cx: &mut App,
) 
- [L119:L120]struct TrustedWorktrees(Entity<TrustedWorktreesStore>);
- [L130:L141]struct TrustedWorktreesStore {
    downstream_client: Option<(AnyProtoClient, u64)>,
    upstream_client: Option<(AnyProtoClient, u64)>,
    worktree_stores: HashMap<WeakEntity<WorktreeStore>, Option<RemoteHostLocation>>,
    trusted_paths: TrustedPaths,
    restricted: HashSet<WorktreeId>,
}
- [L143:L150]struct RemoteHostLocation {
    pub user_name: Option<SharedString>,
    pub host_identifier: SharedString,
}
- [L175:L186]enum PathTrust {
    Worktree(WorktreeId),
    AbsPath(PathBuf),
}
- [L214:L219]enum TrustedWorktreesEvent {
    Trusted(Option<RemoteHostLocation>, HashSet<PathTrust>),
    Restricted(Option<RemoteHostLocation>, HashSet<PathTrust>),
}
- [L223:L223]type TrustedPaths = HashMap<Option<RemoteHostLocation>, HashSet<PathTrust>>;
- [L622:L633]fn find_worktree_in_store(
    worktree_store: &WorktreeStore,
    abs_path: &Path,
    cx: &App,
) -> Option<WorktreeId> 

## crates/project/src/worktree_store.rs
- [L37:L41]struct MatchingEntry {
    worktree_root: Arc<Path>,
    path: ProjectPath,
    respond: oneshot::Sender<ProjectPath>,
}
- [L43:L52]enum WorktreeStoreState {
    Local {
        fs: Arc<dyn Fs>,
    },
    Remote {
        upstream_client: AnyProtoClient,
        upstream_project_id: u64,
        path_style: PathStyle,
    },
}
- [L54:L65]struct WorktreeStore {
    next_entry_id: Arc<AtomicUsize>,
    downstream_client: Option<(AnyProtoClient, u64)>,
    retain_worktrees: bool,
    worktrees: Vec<WorktreeHandle>,
    worktrees_reordered: bool,
    scanning_enabled: bool,
    loading_worktrees:
        HashMap<Arc<SanitizedPath>, Shared<Task<Result<Entity<Worktree>, Arc<anyhow::Error>>>>>,
    state: WorktreeStoreState,
}
- [L68:L77]enum WorktreeStoreEvent {
    WorktreeAdded(Entity<Worktree>),
    WorktreeRemoved(EntityId, WorktreeId),
    WorktreeReleased(EntityId, WorktreeId),
    WorktreeOrderChanged,
    WorktreeUpdateSent(Entity<Worktree>),
    WorktreeUpdatedEntries(WorktreeId, UpdatedEntriesSet),
    WorktreeUpdatedGitRepositories(WorktreeId, UpdatedGitRepositoriesSet),
    WorktreeDeletedEntry(WorktreeId, ProjectEntryId),
}
- [L1200:L1203]enum WorktreeHandle {
    Strong(Entity<Worktree>),
    Weak(WeakEntity<Worktree>),
}

## crates/project/src/yarn.rs
- [L25:L57]fn resolve_virtual(path: &Path) -> Option<Arc<Path>> 
- [L126:L131]fn zip_path(path: &Path) -> Option<&Path> 

## crates/project_benchmarks/src/main.rs
- [L15:L32]struct Args {
    worktrees: Vec<String>,
    query: String,
    regex: bool,
    whole_word: bool,
    case_sensitive: bool,
    include_ignored: bool,
}
- [L34:L136]fn main() -> Result<(), anyhow::Error> 

## crates/project_panel/benches/sorting.rs
- [L8:L44]fn load_linux_repo_snapshot() -> Vec<GitEntry> 
- [L45:L80]fn criterion_benchmark(c: &mut Criterion) 

## crates/project_panel/src/project_panel.rs
- [L78:L82]struct VisibleEntriesForWorktree {
    worktree_id: WorktreeId,
    entries: Vec<GitEntry>,
    index: OnceCell<HashSet<Arc<RelPath>>>,
}
- [L84:L97]struct State {
    last_worktree_root_id: Option<ProjectEntryId>,
    ancestors: HashMap<ProjectEntryId, FoldedAncestors>,
    visible_entries: Vec<VisibleEntriesForWorktree>,
    max_width_item_index: Option<usize>,
    selection: Option<SelectedEntry>,
    edit_state: Option<EditState>,
    unfolded_dir_ids: HashSet<ProjectEntryId>,
    expanded_dir_ids: HashMap<WorktreeId, Vec<ProjectEntryId>>,
}
- [L114:L144]struct ProjectPanel {
    project: Entity<Project>,
    fs: Arc<dyn Fs>,
    focus_handle: FocusHandle,
    scroll_handle: UniformListScrollHandle,
    hover_scroll_task: Option<Task<()>>,
    rendered_entries_len: usize,
    folded_directory_drag_target: Option<FoldedDirectoryDragTarget>,
    drag_target_entry: Option<DragTarget>,
    marked_entries: Vec<SelectedEntry>,
    context_menu: Option<(Entity<ContextMenu>, Point<Pixels>, Subscription)>,
    filename_editor: Entity<Editor>,
    clipboard: Option<ClipboardEntry>,
    _dragged_entry_destination: Option<Arc<Path>>,
    workspace: WeakEntity<Workspace>,
    width: Option<Pixels>,
    pending_serialization: Task<Option<()>>,
    diagnostics: HashMap<(WorktreeId, Arc<RelPath>), DiagnosticSeverity>,
    diagnostic_summary_update: Task<()>,
    mouse_down: bool,
    hover_expand_task: Option<Task<()>>,
    previous_drag_position: Option<Point<Pixels>>,
    sticky_items_count: usize,
    last_reported_update: Instant,
    update_visible_entries_task: UpdateVisibleEntriesTask,
    state: State,
}
- [L146:L150]struct UpdateVisibleEntriesTask {
    _visible_entries_task: Task<()>,
    focus_filename_editor: bool,
    autoscroll: bool,
}
- [L162:L172]enum DragTarget {
    Entry {
        entry_id: ProjectEntryId,
        highlight_entry_id: ProjectEntryId,
    },
    Background,
}
- [L175:L180]struct FoldedDirectoryDragTarget {
    entry_id: ProjectEntryId,
    index: usize,
    is_delimiter_target: bool,
}
- [L183:L187]enum ValidationState {
    None,
    Warning(String),
    Error(String),
}
- [L190:L199]struct EditState {
    worktree_id: WorktreeId,
    entry_id: ProjectEntryId,
    leaf_entry_id: Option<ProjectEntryId>,
    is_dir: bool,
    depth: usize,
    processing_filename: Option<Arc<RelPath>>,
    previously_focused: Option<SelectedEntry>,
    validation_state: ValidationState,
}
- [L208:L211]enum ClipboardEntry {
    Copied(BTreeSet<SelectedEntry>),
    Cut(BTreeSet<SelectedEntry>),
}
- [L214:L234]struct EntryDetails {
    filename: String,
    icon: Option<SharedString>,
    path: Arc<RelPath>,
    depth: usize,
    kind: EntryKind,
    is_ignored: bool,
    is_expanded: bool,
    is_selected: bool,
    is_marked: bool,
    is_editing: bool,
    is_processing: bool,
    is_cut: bool,
    sticky: Option<StickyDetails>,
    filename_text_color: Color,
    diagnostic_severity: Option<DiagnosticSeverity>,
    git_status: GitSummary,
    is_private: bool,
    worktree_id: WorktreeId,
    canonical_path: Option<Arc<Path>>,
}
- [L237:L239]struct StickyDetails {
    sticky_index: usize,
}
- [L241:L248]struct Delete {
    pub skip_prompt: bool,
}
- [L250:L257]struct Trash {
    pub skip_prompt: bool,
}
- [L259:L266]struct SelectNextDiagnostic {
    pub severity: GoToDiagnosticSeverityFilter,
}
- [L268:L275]struct SelectPrevDiagnostic {
    pub severity: GoToDiagnosticSeverityFilter,
}
- [L348:L351]struct FoldedAncestors {
    current_ancestor_depth: usize,
    ancestors: Vec<ProjectEntryId>,
}
- [L380:L516]fn init(cx: &mut App) 
- [L519:L531]enum Event {
    OpenedEntry {
        entry_id: ProjectEntryId,
        focus_opened_item: bool,
        allow_preview: bool,
    },
    SplitEntry {
        entry_id: ProjectEntryId,
        allow_preview: bool,
        split_direction: Option<SplitDirection>,
    },
    Focus,
}
- [L534:L536]struct SerializedProjectPanel {
    width: Option<Pixels>,
}
- [L538:L544]struct DraggedProjectEntryView {
    selection: SelectedEntry,
    icon: Option<SharedString>,
    filename: String,
    click_offset: Point<Pixels>,
    selections: Arc<[SelectedEntry]>,
}
- [L546:L552]struct ItemColors {
    default: Hsla,
    hover: Hsla,
    drag_over: Hsla,
    marked: Hsla,
    focused: Hsla,
}
- [L554:L572]fn get_item_color(is_sticky: bool, cx: &App) -> ItemColors 
- [L5578:L5581]struct StickyProjectPanelCandidate {
    index: usize,
    depth: usize,
}
- [L5589:L5596]fn item_width_estimate(depth: usize, item_text_chars: usize, is_symlink: bool) -> usize 
- [L6352:L6354]fn cmp_directories_first(a: &Entry, b: &Entry) -> cmp::Ordering 
- [L6357:L6359]fn cmp_mixed(a: &Entry, b: &Entry) -> cmp::Ordering 
- [L6362:L6364]fn cmp_files_first(a: &Entry, b: &Entry) -> cmp::Ordering 
- [L6367:L6373]fn cmp_with_mode(a: &Entry, b: &Entry, mode: &settings::ProjectPanelSortMode) -> cmp::Ordering 
- [L6375:L6380]fn sort_worktree_entries_with_mode(
    entries: &mut [impl AsRef<Entry>],
    mode: settings::ProjectPanelSortMode,
) 
- [L6382:L6387]fn par_sort_worktree_entries_with_mode(
    entries: &mut Vec<GitEntry>,
    mode: settings::ProjectPanelSortMode,
) 

## crates/project_panel/src/project_panel_settings.rs
- [L15:L37]struct ProjectPanelSettings {
    pub button: bool,
    pub hide_gitignore: bool,
    pub default_width: Pixels,
    pub dock: DockSide,
    pub entry_spacing: ProjectPanelEntrySpacing,
    pub file_icons: bool,
    pub folder_icons: bool,
    pub git_status: bool,
    pub indent_size: f32,
    pub indent_guides: IndentGuidesSettings,
    pub sticky_scroll: bool,
    pub auto_reveal_entries: bool,
    pub auto_fold_dirs: bool,
    pub starts_open: bool,
    pub scrollbar: ScrollbarSettings,
    pub show_diagnostics: ShowDiagnostics,
    pub hide_root: bool,
    pub hide_hidden: bool,
    pub drag_and_drop: bool,
    pub auto_open: AutoOpenSettings,
    pub sort_mode: ProjectPanelSortMode,
}
- [L40:L42]struct IndentGuidesSettings {
    pub show: ShowIndentGuides,
}
- [L45:L50]struct ScrollbarSettings {
    pub show: Option<ShowScrollbar>,
}
- [L53:L57]struct AutoOpenSettings {
    pub on_create: bool,
    pub on_paste: bool,
    pub on_drop: bool,
}

## crates/project_panel/src/project_panel_tests.rs
- [L5997:L6011]fn toggle_expand_dir(panel: &Entity<ProjectPanel>, path: &str, cx: &mut VisualTestContext) 
- [L7637:L7657]fn select_path(panel: &Entity<ProjectPanel>, path: &str, cx: &mut VisualTestContext) 
- [L7659:L7679]fn select_path_with_mark(panel: &Entity<ProjectPanel>, path: &str, cx: &mut VisualTestContext) 
- [L7681:L7705]fn drag_selection_to(
    panel: &Entity<ProjectPanel>,
    target_path: &str,
    is_file: bool,
    cx: &mut VisualTestContext,
) 
- [L7707:L7722]fn find_project_entry(
    panel: &Entity<ProjectPanel>,
    path: &str,
    cx: &mut VisualTestContext,
) -> Option<ProjectEntryId> 
- [L7724:L7780]fn visible_entries_as_strings(
    panel: &Entity<ProjectPanel>,
    range: Range<usize>,
    cx: &mut VisualTestContext,
) -> Vec<String> 
- [L7991:L8008]fn init_test(cx: &mut TestAppContext) 
- [L8010:L8028]fn init_test_with_editor(cx: &mut TestAppContext) 
- [L8030:L8041]fn set_auto_open_settings(
    cx: &mut TestAppContext,
    auto_open_settings: ProjectPanelAutoOpenSettings,
) 
- [L8043:L8069]fn ensure_single_file_is_opened(
    window: &WindowHandle<Workspace>,
    expected_path: &str,
    cx: &mut TestAppContext,
) 
- [L8071:L8089]fn submit_deletion(panel: &Entity<ProjectPanel>, cx: &mut VisualTestContext) 
- [L8091:L8101]fn submit_deletion_skipping_prompt(panel: &Entity<ProjectPanel>, cx: &mut VisualTestContext) 
- [L8103:L8121]fn ensure_no_open_items_and_panes(workspace: &WindowHandle<Workspace>, cx: &mut VisualTestContext) 
- [L8123:L8126]struct TestProjectItemView {
    focus_handle: FocusHandle,
    path: ProjectPath,
}
- [L8128:L8130]struct TestProjectItem {
    path: ProjectPath,
}

## crates/project_panel/src/utils.rs

## crates/project_symbols/src/project_symbols.rs
- [L19:L35]fn init(cx: &mut App) 
- [L37:L37]type ProjectSymbols = Entity<Picker<ProjectSymbolsDelegate>>;
- [L39:L48]struct ProjectSymbolsDelegate {
    workspace: WeakEntity<Workspace>,
    project: Entity<Project>,
    selected_match_index: usize,
    symbols: Vec<Symbol>,
    visible_match_candidates: Vec<StringMatchCandidate>,
    external_match_candidates: Vec<StringMatchCandidate>,
    show_worktree_root_name: bool,
    matches: Vec<StringMatch>,
}

## crates/prompt_store/src/prompt_store.rs
- [L31:L45]fn init(cx: &mut App) 
- [L48:L53]struct PromptMetadata {
    pub id: PromptId,
    pub title: Option<SharedString>,
    pub default: bool,
    pub saved_at: DateTime<Utc>,
}
- [L66:L70]enum BuiltInPrompt {
    CommitMessage,
}
- [L97:L100]enum PromptId {
    User { uuid: UserPromptId },
    BuiltIn(BuiltInPrompt),
}
- [L149:L149]struct UserPromptId(pub Uuid);
- [L172:L177]struct PromptStore {
    env: heed::Env,
    metadata_cache: RwLock<MetadataCache>,
    metadata: Database<SerdeJson<PromptId>, SerdeJson<PromptMetadata>>,
    bodies: Database<SerdeJson<PromptId>, Str>,
}
- [L179:L179]struct PromptsUpdatedEvent;
- [L184:L187]struct MetadataCache {
    metadata: Vec<PromptMetadata>,
    metadata_by_id: HashMap<PromptId, PromptMetadata>,
}
- [L569:L570]struct GlobalPromptStore(Shared<Task<Result<Entity<PromptStore>, Arc<anyhow::Error>>>>);

## crates/prompt_store/src/prompts.rs
- [L23:L23]const RULES_FILE_NAMES: &[&str] = &[
- [L36:L46]struct ProjectContext {
    pub worktrees: Vec<WorktreeContext>,
    pub has_rules: bool,
    pub user_rules: Vec<UserRulesContext>,
    pub has_user_rules: bool,
    pub os: String,
    pub arch: String,
    pub shell: String,
}
- [L67:L71]struct UserRulesContext {
    pub uuid: UserPromptId,
    pub title: Option<String>,
    pub contents: String,
}
- [L74:L78]struct WorktreeContext {
    pub root_name: String,
    pub abs_path: Arc<Path>,
    pub rules_file: Option<RulesFileContext>,
}
- [L81:L88]struct RulesFileContext {
    pub path_in_worktree: Arc<RelPath>,
    pub text: String,
    pub project_entry_id: usize,
}
- [L91:L95]struct ContentPromptDiagnosticContext {
    pub line_number: usize,
    pub error_message: String,
    pub code_content: String,
}
- [L98:L107]struct ContentPromptContext {
    pub content_type: String,
    pub language_name: Option<String>,
    pub is_insert: bool,
    pub is_truncated: bool,
    pub document_content: String,
    pub user_prompt: String,
    pub rewrite_section: Option<String>,
    pub diagnostic_errors: Vec<ContentPromptDiagnosticContext>,
}
- [L110:L117]struct ContentPromptContextV2 {
    pub content_type: String,
    pub language_name: Option<String>,
    pub is_truncated: bool,
    pub document_content: String,
    pub rewrite_section: String,
    pub diagnostic_errors: Vec<ContentPromptDiagnosticContext>,
}
- [L120:L127]struct TerminalAssistantPromptContext {
    pub os: String,
    pub arch: String,
    pub shell: Option<String>,
    pub working_directory: Option<String>,
    pub latest_output: Vec<String>,
    pub user_prompt: String,
}
- [L129:L133]struct PromptLoadingParams<'a> {
    pub fs: Arc<dyn Fs>,
    pub repo_path: Option<PathBuf>,
    pub cx: &'a gpui::App,
}
- [L135:L137]struct PromptBuilder {
    handlebars: Arc<Mutex<Handlebars<'static>>>,
}

## crates/proto/build.rs
- [L1:L10]fn main() 

## crates/proto/src/error.rs
- [L44:L44]trait ErrorCodeExt {
- [L77:L77]trait ErrorExt {
- [L147:L152]struct RpcError {
    request: Option<String>,
    msg: String,
    code: ErrorCode,
    tags: Vec<String>,
}

## crates/proto/src/macros.rs

## crates/proto/src/proto.rs
- [L3:L3]mod error;
- [L19:L19]const REMOTE_SERVER_PEER_ID: PeerId = PeerId { owner_id: 0, id: 0 };
- [L20:L20]const REMOTE_SERVER_PROJECT_ID: u64 = 0;
- [L762:L762]const MAX_WORKTREE_UPDATE_MAX_CHUNK_SIZE: usize = 2;
- [L764:L764]const MAX_WORKTREE_UPDATE_MAX_CHUNK_SIZE: usize = 256;
- [L766:L843]fn split_worktree_update(mut message: UpdateWorktree) -> impl Iterator<Item = UpdateWorktree> 
- [L845:L878]fn split_repository_update(
    mut update: UpdateRepository,
) -> impl Iterator<Item = UpdateRepository> 

## crates/proto/src/typed_envelope.rs
- [L11:L11]trait EnvelopedMessage: Clone + Debug + Serialize + Sized + Send + Sync + 'static {
- [L23:L23]trait EntityMessage: EnvelopedMessage {
- [L28:L28]trait RequestMessage: EnvelopedMessage {
- [L36:L36]trait LspRequestMessage: EnvelopedMessage {
- [L53:L53]struct LspRequestId(pub u64);
- [L55:L61]struct ProtoLspResponse<R> {
    pub server_id: u64,
    pub response: R,
}
- [L84:L84]trait AnyTypedEnvelope: Any + Send + Sync {
- [L94:L97]enum MessagePriority {
    Foreground,
    Background,
}
- [L172:L176]struct Receipt<T> {
    pub sender_id: PeerId,
    pub message_id: u32,
    payload_type: PhantomData<T>,
}
- [L187:L193]struct TypedEnvelope<T> {
    pub sender_id: PeerId,
    pub original_sender_id: Option<PeerId>,
    pub message_id: u32,
    pub payload: T,
    pub received_at: Instant,
}

## crates/recent_projects/src/dev_container.rs
- [L15:L20]struct DevContainerUp {
    _outcome: String,
    container_id: String,
    _remote_user: String,
    remote_workspace_folder: String,
}
- [L24:L26]struct DevContainerConfiguration {
    name: Option<String>,
}
- [L29:L31]struct DevContainerConfigurationOutput {
    configuration: DevContainerConfiguration,
}
- [L34:L36]fn dev_container_cli() -> String 
- [L39:L41]fn dev_container_cli() -> String 
- [L216:L230]fn project_directory(cx: &mut AsyncWindowContext) -> Option<Arc<Path>> 

## crates/recent_projects/src/dev_container_suggest.rs
- [L14:L18]fn devcontainer_path() -> &'static RelPath 
- [L20:L22]fn project_devcontainer_key(project_path: &str) -> String 
- [L24:L106]fn suggest_on_worktree_updated(
    worktree_id: WorktreeId,
    updated_entries: &UpdatedEntriesSet,
    project: &gpui::Entity<Project>,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) 

## crates/recent_projects/src/disconnected_overlay.rs
- [L14:L17]enum Host {
    CollabGuestProject,
    RemoteServerProject(RemoteConnectionOptions),
}
- [L19:L24]struct DisconnectedOverlay {
    workspace: WeakEntity<Workspace>,
    host: Host,
    focus_handle: FocusHandle,
    finished: bool,
}

## crates/recent_projects/src/recent_projects.rs
- [L3:L3]mod disconnected_overlay;
- [L40:L257]fn init(cx: &mut App) 
- [L260:L289]fn add_wsl_distro(
    fs: Arc<dyn project::Fs>,
    connection_options: &remote::WslConnectionOptions,
    cx: &App,
) 
- [L291:L295]struct RecentProjects {
    pub picker: Entity<Picker<RecentProjectsDelegate>>,
    rem_width: f32,
    _subscription: Subscription,
}
- [L377:L388]struct RecentProjectsDelegate {
    workspace: WeakEntity<Workspace>,
    workspaces: Vec<(WorkspaceId, SerializedWorkspaceLocation, PathList)>,
    selected_match_index: usize,
    matches: Vec<StringMatch>,
    render_paths: bool,
    create_new_window: bool,
    reset_selected_match_index: bool,
    has_any_non_local_projects: bool,
    focus_handle: FocusHandle,
}
- [L779:L824]fn highlights_for_path(
    path: &Path,
    match_positions: &Vec<usize>,
    path_start_offset: usize,
) -> (Option<HighlightedMatch>, HighlightedMatch) 
- [L874:L876]struct MatchTooltip {
    highlighted_location: HighlightedMatchWithPaths,
}

## crates/recent_projects/src/remote_connections.rs
- [L37:L42]struct SshSettings {
    pub ssh_connections: ExtendingVec<SshConnection>,
    pub wsl_connections: ExtendingVec<WslConnection>,
    pub read_ssh_config: bool,
}
- [L86:L90]enum Connection {
    Ssh(SshConnection),
    Wsl(WslConnection),
    DevContainer(DevContainerConnection),
}
- [L131:L140]struct RemoteConnectionPrompt {
    connection_string: SharedString,
    nickname: Option<SharedString>,
    is_wsl: bool,
    is_devcontainer: bool,
    status_message: Option<SharedString>,
    prompt: Option<(Entity<Markdown>, oneshot::Sender<EncryptedPassword>)>,
    cancellation: Option<oneshot::Sender<()>>,
    editor: Entity<Editor>,
}
- [L150:L154]struct RemoteConnectionModal {
    pub prompt: Entity<RemoteConnectionPrompt>,
    paths: Vec<PathBuf>,
    finished: bool,
}
- [L493:L497]struct RemoteClientDelegate {
    window: AnyWindowHandle,
    ui: WeakEntity<RemoteConnectionPrompt>,
    known_password: Option<EncryptedPassword>,
}
- [L588:L617]fn connect(
    unique_identifier: ConnectionIdentifier,
    connection_options: RemoteConnectionOptions,
    ui: Entity<RemoteConnectionPrompt>,
    window: &mut Window,
    cx: &mut App,
) -> Task<Result<Option<Entity<RemoteClient>>>> 
- [L619:L619]async fn open_remote_project(

## crates/recent_projects/src/remote_servers.rs
- [L57:L66]struct RemoteServerProjects {
    mode: Mode,
    focus_handle: FocusHandle,
    workspace: WeakEntity<Workspace>,
    retained_connections: Vec<Entity<RemoteClient>>,
    ssh_config_updates: Task<()>,
    ssh_config_servers: BTreeSet<SharedString>,
    create_new_window: bool,
    _subscription: Subscription,
}
- [L68:L73]struct CreateRemoteServer {
    address_editor: Entity<Editor>,
    address_error: Option<SharedString>,
    ssh_prompt: Option<Entity<RemoteConnectionPrompt>>,
    _creating: Option<Task<Option<()>>>,
}
- [L91:L95]enum DevContainerCreationProgress {
    Initial,
    Creating,
    Error(String),
}
- [L98:L103]struct CreateRemoteDevContainer {
    entries: [NavigableEntry; 3],
- [L124:L128]struct AddWslDistro {
    picker: Entity<Picker<crate::wsl_picker::WslPickerDelegate>>,
    connection_prompt: Option<Entity<RemoteConnectionPrompt>>,
    _creating: Option<Task<()>>,
}
- [L164:L172]enum ProjectPickerData {
    Ssh {
        connection_string: SharedString,
        nickname: Option<SharedString>,
    },
    Wsl {
        distro_name: SharedString,
    },
}
- [L174:L178]struct ProjectPicker {
    data: ProjectPickerData,
    picker: Entity<Picker<OpenPathDelegate>>,
    _path_task: Shared<Task<Option<()>>>,
}
- [L180:L183]struct EditNicknameState {
    index: SshServerIndex,
    editor: Entity<Editor>,
}
- [L414:L414]struct SshServerIndex(usize);
- [L423:L423]struct WslServerIndex(usize);
- [L431:L434]enum ServerIndex {
    Ssh(SshServerIndex),
    Wsl(WslServerIndex),
}
- [L447:L459]enum RemoteEntry {
    Project {
        open_folder: NavigableEntry,
        projects: Vec<(NavigableEntry, RemoteProject)>,
        configure: NavigableEntry,
        connection: Connection,
        index: ServerIndex,
    },
    SshConfig {
        open_folder: NavigableEntry,
        host: SharedString,
    },
}
- [L481:L487]struct DefaultState {
    scroll_handle: ScrollHandle,
    add_new_server: NavigableEntry,
    add_new_devcontainer: NavigableEntry,
    add_new_wsl: NavigableEntry,
    servers: Vec<RemoteEntry>,
}
- [L571:L575]enum ViewServerOptionsState {
    Ssh {
        connection: SshConnectionOptions,
        server_index: SshServerIndex,
        entries: [NavigableEntry; 4],
- [L593:L602]enum Mode {
    Default(DefaultState),
    ViewServerOptions(ViewServerOptionsState),
    EditNickname(EditNicknameState),
    ProjectPicker(Entity<ProjectPicker>),
    CreateRemoteServer(CreateRemoteServer),
    CreateRemoteDevContainer(CreateRemoteDevContainer),
    AddWslDistro(AddWslDistro),
}
- [L2672:L2727]fn spawn_ssh_config_watch(fs: Arc<dyn Fs>, cx: &Context<RemoteServerProjects>) -> Task<()> 
- [L2729:L2731]fn get_text(element: &Entity<Editor>, cx: &mut App) -> String 

## crates/recent_projects/src/ssh_config.rs
- [L3:L39]fn parse_ssh_config_hosts(config: &str) -> BTreeSet<String> 
- [L41:L49]fn parse_hosts_from(line: &str, hosts: &mut BTreeSet<String>) 

## crates/recent_projects/src/wsl_picker.rs
- [L16:L19]struct WslDistroSelected {
    pub secondary: bool,
    pub distro: String,
}
- [L22:L22]struct WslPickerDismissed;

## crates/refineable/derive_refineable/src/derive_refineable.rs
- [L10:L127]fn derive_refineable(input: TokenStream) -> TokenStream 
- [L506:L510]fn is_refineable_field(f: &Field) -> bool 
- [L512:L522]fn is_optional_field(f: &Field) -> bool 
- [L524:L548]fn get_wrapper_type(field: &Field, ty: &Type) -> syn::Type 

## crates/refineable/derive_refineable/src/derive_refineable.rs
- [L10:L127]fn derive_refineable(input: TokenStream) -> TokenStream 
- [L506:L510]fn is_refineable_field(f: &Field) -> bool 
- [L512:L522]fn is_optional_field(f: &Field) -> bool 
- [L524:L548]fn get_wrapper_type(field: &Field, ty: &Type) -> syn::Type 

## crates/refineable/src/refineable.rs
- [L29:L29]trait Refineable: Clone {
- [L66:L66]trait IsEmpty {
- [L71:L80]struct Cascade<S: Refineable>(Vec<Option<S::Refinement>>);
- [L88:L93]struct CascadeSlot(usize);

## crates/release_channel/src/lib.rs
- [L11:L11]static RELEASE_CHANNEL_NAME: LazyLock<String> = LazyLock::new(|| {
- [L21:L21]static RELEASE_CHANNEL: LazyLock<ReleaseChannel> =
- [L27:L36]fn app_identifier() -> &'static str 
- [L38:L40]struct AppCommitSha(String);
- [L42:L42]struct GlobalAppCommitSha(AppCommitSha);
- [L74:L74]struct GlobalAppVersion(Version);
- [L78:L79]struct AppVersion;
- [L121:L138]enum ReleaseChannel {
    Dev,
    Nightly,
    Preview,
    Stable,
}
- [L140:L140]struct GlobalReleaseChannel(ReleaseChannel);
- [L144:L148]fn init(app_version: Version, cx: &mut App) 
- [L150:L154]fn init_test(app_version: Version, release_channel: ReleaseChannel, cx: &mut App) 
- [L216:L218]struct InvalidReleaseChannel;

## crates/remote/src/json_log.rs
- [L5:L11]struct LogRecord<'a> {
    pub level: usize,
    pub module_path: Option<&'a str>,
    pub file: Option<&'a str>,
    pub line: Option<u32>,
    pub message: String,
}
- [L40:L48]fn serialize_level(level: Level) -> usize 
- [L50:L59]fn deserialize_level(level: usize) -> Option<Level> 

## crates/remote/src/protocol.rs
- [L7:L7]struct MessageId(pub u32);
- [L9:L9]type MessageLen = u32;
- [L10:L10]const MESSAGE_LEN_SIZE: usize = size_of::<MessageLen>();
- [L12:L14]fn message_len_from_buffer(buffer: &[u8]) -> MessageLen 
- [L16:L16]async fn read_message_with_len<S: AsyncRead + Unpin>(
- [L26:L26]async fn read_message<S: AsyncRead + Unpin>(
- [L38:L38]async fn write_message<S: AsyncWrite + Unpin>(
- [L54:L54]async fn write_size_prefixed_buffer<S: AsyncWrite + Unpin>(
- [L64:L64]async fn read_message_raw<S: AsyncRead + Unpin>(

## crates/remote/src/proxy.rs
- [L4:L7]enum ProxyLaunchError {
    ServerNotRunning,
}

## crates/remote/src/remote.rs
- [L1:L1]mod json_log;
- [L2:L2]mod protocol;
- [L3:L3]mod proxy;
- [L4:L4]mod remote_client;

## crates/remote/src/remote_client.rs
- [L53:L57]enum RemoteOs {
    Linux,
    MacOs,
    Windows,
}
- [L80:L83]enum RemoteArch {
    X86_64,
    Aarch64,
}
- [L101:L104]struct RemotePlatform {
    pub os: RemoteOs,
    pub arch: RemoteArch,
}
- [L107:L111]struct CommandTemplate {
    pub program: String,
    pub args: Vec<String>,
    pub env: HashMap<String, String>,
}
- [L113:L113]trait RemoteClientDelegate: Send + Sync {
- [L145:L173]enum State {
    Connecting,
    Connected {
        remote_connection: Arc<dyn RemoteConnection>,
        delegate: Arc<dyn RemoteClientDelegate>,
        multiplex_task: Task<Result<()>>,
        heartbeat_task: Task<Result<()>>,
    },
    HeartbeatMissed {
        missed_heartbeats: usize,
        ssh_connection: Arc<dyn RemoteConnection>,
        delegate: Arc<dyn RemoteClientDelegate>,
        multiplex_task: Task<Result<()>>,
        heartbeat_task: Task<Result<()>>,
    },
    Reconnecting,
    ReconnectFailed {
        ssh_connection: Arc<dyn RemoteConnection>,
        delegate: Arc<dyn RemoteClientDelegate>,
        error: anyhow::Error,
        attempts: usize,
    },
    ReconnectExhausted,
    ServerNotRunning,
}
- [L280:L288]enum ConnectionState {
    Connecting,
    Connected,
    HeartbeatMissed,
    Reconnecting,
    Disconnected,
}
- [L303:L309]struct RemoteClient {
    client: Arc<ChannelClient>,
    unique_identifier: String,
    connection_options: RemoteConnectionOptions,
    path_style: PathStyle,
    state: Option<State>,
}
- [L312:L314]enum RemoteClientEvent {
    Disconnected,
}
- [L318:L323]enum ConnectionIdentifier {
    Setup(u64),
    Workspace(i64),
}
- [L325:L325]static NEXT_ID: AtomicU64 = AtomicU64::new(1);
- [L352:L352]async fn connect(
- [L1042:L1045]enum ConnectionPoolEntry {
    Connecting(Shared<Task<Result<Arc<dyn RemoteConnection>, Arc<anyhow::Error>>>>),
    Connected(Weak<dyn RemoteConnection>),
}
- [L1048:L1050]struct ConnectionPool {
    connections: HashMap<RemoteConnectionOptions, ConnectionPoolEntry>,
}
- [L1134:L1138]enum RemoteConnectionOptions {
    Ssh(SshConnectionOptions),
    Wsl(WslConnectionOptions),
    Docker(DockerConnectionOptions),
}
- [L1163:L1169]struct OpenWslPath {
    pub distro: WslConnectionOptions,
    pub paths: Vec<PathBuf>,
}
- [L1172:L1172]trait RemoteConnection: Send + Sync {
- [L1218:L1221]struct Signal<T> {
    tx: Mutex<Option<oneshot::Sender<T>>>,
    rx: Shared<Task<Option<T>>>,
}
- [L1249:L1260]struct ChannelClient {
    next_message_id: AtomicU32,
    outgoing_tx: Mutex<mpsc::UnboundedSender<Envelope>>,
    buffer: Mutex<VecDeque<Envelope>>,
    response_channels: ResponseChannels,
    message_handlers: Mutex<ProtoMessageHandlerSet>,
    max_received: AtomicU32,
    name: &'static str,
    task: Mutex<Task<Result<()>>>,
    remote_started: Signal<()>,
    has_wsl_interop: bool,
}

## crates/remote/src/transport.rs
- [L15:L15]mod docker;
- [L16:L16]mod ssh;
- [L17:L17]mod wsl;
- [L19:L52]fn parse_platform(output: &str) -> Result<RemotePlatform> 
- [L54:L65]fn parse_shell(output: &str, fallback_shell: &str) -> String 
- [L67:L169]fn handle_rpc_messages_over_child_process_stdio(
    mut remote_proxy_process: Child,
    incoming_tx: UnboundedSender<Envelope>,
    mut outgoing_rx: UnboundedReceiver<Envelope>,
    mut connection_activity_tx: Sender<()>,
    cx: &AsyncApp,
) -> Task<Result<i32>> 

## crates/remote/src/transport/docker.rs
- [L32:L36]struct DockerConnectionOptions {
    pub name: String,
    pub container_id: String,
    pub upload_binary_over_docker_exec: bool,
}

## crates/remote/src/transport/ssh.rs
- [L51:L54]enum SshConnectionHost {
    IpAddr(IpAddr),
    Hostname(String),
}
- [L100:L111]struct SshConnectionOptions {
    pub host: SshConnectionHost,
    pub username: Option<String>,
    pub port: Option<u16>,
    pub password: Option<String>,
    pub args: Option<Vec<String>>,
    pub port_forwards: Option<Vec<SshPortForwardOption>>,
    pub connection_timeout: Option<u16>,
    pub nickname: Option<String>,
    pub upload_binary_over_ssh: bool,
}
- [L129:L136]struct SshSocket {
    connection_options: SshConnectionOptions,
    socket_path: std::path::PathBuf,
    envs: HashMap<String, String>,
    _proxy: askpass::PasswordProxy,
}
- [L138:L140]struct MasterProcess {
    process: Child,
}
- [L1249:L1253]fn parse_port_number(port_str: &str) -> Result<u16> 
- [L1255:L1283]fn parse_port_forward_spec(spec: &str) -> Result<SshPortForwardOption> 
- [L1478:L1563]fn build_command(
    input_program: Option<String>,
    input_args: &[String],
    input_env: &HashMap<String, String>,
    working_dir: Option<String>,
    port_forward: Option<(u16, String, u16)>,
    ssh_env: HashMap<String, String>,
    ssh_path_style: PathStyle,
    ssh_shell: &str,
    ssh_shell_kind: ShellKind,
    ssh_args: Vec<String>,
) -> Result<CommandTemplate> 

## crates/remote/src/transport/wsl.rs
- [L31:L34]struct WslConnectionOptions {
    pub distro_name: String,
    pub user: Option<String>,
}
- [L578:L610]fn wsl_command_impl(
    options: &WslConnectionOptions,
    program: &str,
    args: &[impl AsRef<OsStr>],
    exec: bool,
) -> process::Command 

## crates/remote_server/build.rs
- [L6:L34]fn main() 

## crates/remote_server/src/headless_project.rs
- [L47:L65]struct HeadlessProject {
    pub fs: Arc<dyn Fs>,
    pub session: AnyProtoClient,
    pub worktree_store: Entity<WorktreeStore>,
    pub buffer_store: Entity<BufferStore>,
    pub lsp_store: Entity<LspStore>,
    pub task_store: Entity<TaskStore>,
    pub dap_store: Entity<DapStore>,
    pub agent_server_store: Entity<AgentServerStore>,
    pub settings_observer: Entity<SettingsObserver>,
    pub next_entry_id: Arc<AtomicUsize>,
    pub languages: Arc<LanguageRegistry>,
    pub extensions: Entity<HeadlessExtensionStore>,
    pub git_store: Entity<GitStore>,
    pub environment: Entity<ProjectEnvironment>,
    pub _toolchain_store: Entity<ToolchainStore>,
}
- [L67:L74]struct HeadlessAppState {
    pub session: AnyProtoClient,
    pub fs: Arc<dyn Fs>,
    pub http_client: Arc<dyn HttpClient>,
    pub node_runtime: NodeRuntime,
    pub languages: Arc<LanguageRegistry>,
    pub extension_host_proxy: Arc<ExtensionHostProxy>,
}
- [L938:L952]fn prompt_to_proto(
    prompt: &project::LanguageServerPromptRequest,
) -> proto::language_server_prompt_request::Level 

## crates/remote_server/src/main.rs
- [L9:L23]struct Cli {
    command: Option<Commands>,
    askpass: Option<String>,
    crash_handler: Option<PathBuf>,
    printenv: bool,
}
- [L26:L28]fn main() 
- [L31:L55]fn main() -> anyhow::Result<()> 

## crates/remote_server/src/remote_editing_tests.rs
- [L1906:L1906]async fn init_test(
- [L1952:L1954]fn init_logger() 
- [L1956:L1982]fn build_project(ssh: Entity<RemoteClient>, cx: &mut TestAppContext) -> Entity<Project> 

## crates/remote_server/src/remote_server.rs
- [L4:L4]mod unix;
- [L15:L35]enum Commands {
    Run {
        log_file: PathBuf,
        pid_file: PathBuf,
        stdin_socket: PathBuf,
        stdout_socket: PathBuf,
        stderr_socket: PathBuf,
    },
    Proxy {
        reconnect: bool,
        identifier: String,
    },
    Version,
}
- [L38:L87]fn run(command: Commands) -> anyhow::Result<()> 

## crates/remote_server/src/unix.rs
- [L53:L53]static VERSION: LazyLock<String> = LazyLock::new(|| match *RELEASE_CHANNEL {
- [L66:L76]fn init_logging_proxy() 
- [L78:L129]fn init_logging_server(log_file_path: PathBuf) -> Result<Receiver<Vec<u8>>> 
- [L131:L182]fn handle_crash_files_requests(project: &Entity<HeadlessProject>, client: &AnyProtoClient) 
- [L184:L188]struct ServerListeners {
    stdin: UnixListener,
    stdout: UnixListener,
    stderr: UnixListener,
}
- [L200:L325]fn start_server(
    listeners: ServerListeners,
    log_rx: Receiver<Vec<u8>>,
    cx: &mut App,
    is_wsl_interop: bool,
) -> AnyProtoClient 
- [L327:L343]fn init_paths() -> anyhow::Result<()> 
- [L345:L488]fn execute_run(
    log_file: PathBuf,
    pid_file: PathBuf,
    stdin_socket: PathBuf,
    stdout_socket: PathBuf,
    stderr_socket: PathBuf,
) -> Result<()> 
- [L507:L513]struct ServerPaths {
    log_file: PathBuf,
    pid_file: PathBuf,
    stdin_socket: PathBuf,
    stdout_socket: PathBuf,
    stderr_socket: PathBuf,
}
- [L822:L829]fn write_pid_file(path: &Path) -> Result<()> 
- [L851:L918]fn initialize_settings(
    session: AnyProtoClient,
    fs: Arc<dyn Fs>,
    cx: &mut App,
) -> watch::Receiver<Option<NodeBinaryOptions>> 
- [L920:L950]fn handle_settings_file_changes(
    mut server_settings_file: mpsc::UnboundedReceiver<String>,
    cx: &mut App,
    settings_changed: impl Fn(Option<anyhow::Error>, &mut App) + 'static,
) 
- [L952:L964]fn read_proxy_settings(cx: &mut Context<HeadlessProject>) -> Option<Url> 
- [L966:L979]fn daemonize() -> Result<ControlFlow<()>> 
- [L1006:L1025]fn cleanup_old_binaries() -> Result<()> 
- [L1027:L1032]fn is_new_version(version: &str) -> bool 
- [L1034:L1049]fn is_file_in_use(file_name: &OsStr) -> bool 

## crates/repl/src/components.rs

## crates/repl/src/components/kernel_list_item.rs
- [L7:L12]struct KernelListItem {
    kernel_specification: KernelSpecification,
    status_color: Color,
    buttons: Vec<AnyElement>,
    children: Vec<AnyElement>,
}

## crates/repl/src/components/kernel_options.rs
- [L23:L34]struct KernelSelector<T, TT>
where
    T: PopoverTrigger + ButtonCommon,
    TT: Fn(&mut Window, &mut App) -> AnyView + 'static,
{
    handle: Option<PopoverMenuHandle<Picker<KernelPickerDelegate>>>,
    on_select: OnSelect,
    trigger: T,
    tooltip: TT,
    info_text: Option<SharedString>,
    worktree_id: WorktreeId,
}
- [L36:L41]struct KernelPickerDelegate {
    all_kernels: Vec<KernelSpecification>,
    filtered_kernels: Vec<KernelSpecification>,
    selected_kernelspec: Option<KernelSpecification>,
    on_select: OnSelect,
}
- [L44:L51]fn truncate_path(path: &SharedString, max_length: usize) -> SharedString 

## crates/repl/src/jupyter_settings.rs
- [L8:L10]struct JupyterSettings {
    pub kernel_selections: HashMap<String, String>,
}

## crates/repl/src/kernels/mod.rs
- [L23:L23]type JupyterMessageChannel = stream::SelectAll<Receiver<JupyterMessage>>;
- [L26:L30]enum KernelSpecification {
    Remote(RemoteKernelSpecification),
    Jupyter(LocalKernelSpecification),
    PythonEnv(LocalKernelSpecification),
}
- [L79:L157]fn python_env_kernel_specifications(
    project: &Entity<Project>,
    worktree_id: WorktreeId,
    cx: &mut App,
) -> impl Future<Output = Result<Vec<KernelSpecification>>> + use<> 
- [L159:L159]trait RunningKernel: Send + Debug {
- [L170:L178]enum KernelStatus {
    Idle,
    Busy,
    Starting,
    Error,
    ShuttingDown,
    Shutdown,
    Restarting,
}
- [L201:L208]enum Kernel {
    RunningKernel(Box<dyn RunningKernel>),
    StartingKernel(Shared<Task<()>>),
    ErroredLaunch(String),
    ShuttingDown,
    Shutdown,
    Restarting,
}

## crates/repl/src/kernels/native_kernel.rs
- [L30:L34]struct LocalKernelSpecification {
    pub name: String,
    pub path: PathBuf,
    pub kernelspec: JupyterKernelspec,
}
- [L89:L97]struct NativeRunningKernel {
    pub process: smol::process::Child,
    connection_path: PathBuf,
    _process_status_task: Option<Task<()>>,
    pub working_directory: PathBuf,
    pub request_tx: mpsc::Sender<JupyterMessage>,
    pub execution_state: ExecutionState,
    pub kernel_info: Option<KernelInfoReply>,
}
- [L442:L442]async fn local_kernel_specifications(fs: Arc<dyn Fs>) -> Result<Vec<LocalKernelSpecification>> {

## crates/repl/src/kernels/remote_kernels.rs
- [L23:L28]struct RemoteKernelSpecification {
    pub name: String,
    pub url: String,
    pub token: String,
    pub kernelspec: JupyterKernelspec,
}
- [L30:L30]async fn launch_remote_kernel(
- [L68:L68]async fn list_remote_kernelspecs(
- [L117:L127]struct RemoteRunningKernel {
    remote_server: RemoteServer,
    _receiving_task: Task<Result<()>>,
    _routing_task: Task<Result<()>>,
    http_client: Arc<dyn HttpClient>,
    pub working_directory: std::path::PathBuf,
    pub request_tx: mpsc::Sender<JupyterMessage>,
    pub execution_state: ExecutionState,
    pub kernel_info: Option<KernelInfoReply>,
    pub kernel_id: String,
}

## crates/repl/src/notebook.rs

## crates/repl/src/notebook/cell.rs
- [L23:L27]enum CellPosition {
    First,
    Middle,
    Last,
}
- [L29:L36]enum CellControlType {
    RunCell,
    RerunCell,
    ClearCell,
    CellOptions,
    CollapseCell,
    ExpandCell,
}
- [L51:L53]struct CellControl {
    button: IconButton,
}
- [L80:L86]enum Cell {
    Code(Entity<CodeCell>),
    Markdown(Entity<MarkdownCell>),
    Raw(Entity<RawCell>),
}
- [L88:L113]fn convert_outputs(
    outputs: &Vec<nbformat::v4::Output>,
    window: &mut Window,
    cx: &mut App,
) -> Vec<Output> 
- [L244:L244]trait RenderableCell: Render {
- [L329:L329]trait RunnableCell: RenderableCell {
- [L335:L345]struct MarkdownCell {
    id: CellId,
    metadata: CellMetadata,
    image_cache: Entity<RetainAllImageCache>,
    source: String,
    parsed_markdown: Option<markdown_preview::markdown_elements::ParsedMarkdown>,
    markdown_parsing_task: Task<()>,
    selected: bool,
    cell_position: Option<CellPosition>,
    languages: Arc<LanguageRegistry>,
}
- [L431:L441]struct CodeCell {
    id: CellId,
    metadata: CellMetadata,
    execution_count: Option<i32>,
    source: String,
    editor: Entity<editor::Editor>,
    outputs: Vec<Output>,
    selected: bool,
    cell_position: Option<CellPosition>,
    language_task: Task<()>,
}
- [L671:L677]struct RawCell {
    id: CellId,
    metadata: CellMetadata,
    source: String,
    selected: bool,
    cell_position: Option<CellPosition>,
}

## crates/repl/src/notebook/notebook_ui.rs
- [L56:L72]fn init(cx: &mut App) 
- [L74:L87]struct NotebookEditor {
    languages: Arc<LanguageRegistry>,
    project: Entity<Project>,
    focus_handle: FocusHandle,
    notebook_item: Entity<NotebookItem>,
    remote_id: Option<ViewId>,
    cell_list: ListState,
    selected_cell_index: usize,
    cell_order: Vec<CellId>,
    cell_map: HashMap<CellId, Cell>,
}
- [L540:L548]struct NotebookItem {
    path: PathBuf,
    project_path: ProjectPath,
    languages: Arc<LanguageRegistry>,
    notebook: nbformat::v4::Notebook,
    id: ProjectEntryId,
}

## crates/repl/src/outputs.rs
- [L54:L54]mod plain;
- [L61:L72]fn rank_mime_type(mimetype: &MimeType) -> usize 
- [L105:L128]enum Output {
    Plain {
        content: Entity<TerminalOutput>,
        display_id: Option<String>,
    },
    Stream {
        content: Entity<TerminalOutput>,
    },
    Image {
        content: Entity<ImageView>,
        display_id: Option<String>,
    },
    ErrorOutput(ErrorView),
    Message(String),
    Table {
        content: Entity<TableView>,
        display_id: Option<String>,
    },
    Markdown {
        content: Entity<MarkdownView>,
        display_id: Option<String>,
    },
    ClearOutputWaitMarker,
}
- [L379:L390]enum ExecutionStatus {
    Unknown,
    ConnectingToKernel,
    Queued,
    Executing,
    Finished,
    ShuttingDown,
    Shutdown,
    KernelErrored(String),
    Restarting,
}
- [L392:L400]struct ExecutionView {
    workspace: WeakEntity<Workspace>,
    pub outputs: Vec<Output>,
    pub status: ExecutionStatus,
}

## crates/repl/src/outputs/image.rs
- [L12:L18]struct ImageView {
    clipboard_image: Arc<Image>,
    height: u32,
    width: u32,
    image: Arc<RenderImage>,
}
- [L20:L20]const STANDARD_INDIFFERENT: GeneralPurpose = GeneralPurpose::new(

## crates/repl/src/outputs/markdown.rs
- [L14:L19]struct MarkdownView {
    raw_text: String,
    image_cache: Entity<RetainAllImageCache>,
    contents: Option<ParsedMarkdown>,
    parsing_markdown_task: Option<Task<Result<()>>>,
}

## crates/repl/src/outputs/plain.rs
- [L36:L55]struct TerminalOutput {
    full_buffer: Option<Entity<Buffer>>,
    parser: Processor,
    handler: alacritty_terminal::Term<VoidListener>,
}
- [L57:L83]fn text_style(window: &mut Window, cx: &mut App) -> TextStyle 
- [L85:L115]fn terminal_size(window: &mut Window, cx: &mut App) -> terminal::TerminalBounds 

## crates/repl/src/outputs/table.rs
- [L68:L76]struct TableView {
    pub table: TabularDataResource,
    pub widths: Vec<Pixels>,
    cached_clipboard_content: ClipboardItem,
}
- [L78:L87]fn cell_content(row: &Value, field: &str) -> String 

## crates/repl/src/outputs/user_error.rs
- [L6:L12]struct ErrorView {
    pub ename: String,
    pub evalue: String,
    pub traceback: Entity<TerminalOutput>,
}

## crates/repl/src/repl.rs
- [L1:L1]mod components;
- [L3:L3]mod kernels;
- [L4:L4]mod notebook;
- [L29:L29]const KERNEL_DOCS_URL: &str = "https://zed.dev/docs/repl#changing-kernels";
- [L31:L35]fn init(fs: Arc<dyn Fs>, cx: &mut App) 
- [L37:L61]fn zed_dispatcher(cx: &mut App) -> impl Dispatcher 

## crates/repl/src/repl_editor.rs
- [L18:L73]fn assign_kernelspec(
    kernel_specification: KernelSpecification,
    weak_editor: WeakEntity<Editor>,
    window: &mut Window,
    cx: &mut App,
) -> Result<()> 
- [L75:L175]fn run(
    editor: WeakEntity<Editor>,
    move_down: bool,
    window: &mut Window,
    cx: &mut App,
) -> Result<()> 
- [L177:L182]enum SessionSupport {
    ActiveSession(Entity<Session>),
    Inactive(KernelSpecification),
    RequiresSetup(LanguageName),
    Unsupported,
}
- [L184:L195]fn worktree_id_for_editor(editor: WeakEntity<Editor>, cx: &mut App) -> Option<WorktreeId> 
- [L197:L230]fn session(editor: WeakEntity<Editor>, cx: &mut App) -> SessionSupport 
- [L232:L242]fn clear_outputs(editor: WeakEntity<Editor>, cx: &mut App) 
- [L244:L255]fn interrupt(editor: WeakEntity<Editor>, cx: &mut App) 
- [L257:L268]fn shutdown(editor: WeakEntity<Editor>, window: &mut Window, cx: &mut App) 
- [L270:L289]fn restart(editor: WeakEntity<Editor>, window: &mut Window, cx: &mut App) 
- [L291:L343]fn setup_editor_session_actions(editor: &mut Editor, editor_handle: WeakEntity<Editor>) 
- [L345:L351]fn cell_range(buffer: &BufferSnapshot, start_row: u32, end_row: u32) -> Range<Point> 
- [L354:L417]fn jupytext_cells(
    buffer: &BufferSnapshot,
    range: Range<Point>,
) -> (Vec<Range<Point>>, Option<Point>) 
- [L419:L447]fn runnable_ranges(
    buffer: &BufferSnapshot,
    range: Range<Point>,
    cx: &mut App,
) -> (Vec<Range<Point>>, Option<Point>) 
- [L451:L463]fn markdown_code_blocks(
    buffer: &BufferSnapshot,
    range: Range<Point>,
    cx: &mut App,
) -> Vec<Range<Point>> 
- [L465:L475]fn language_supported(language: &Arc<Language>, cx: &mut App) -> bool 
- [L477:L491]fn get_language(editor: WeakEntity<Editor>, cx: &mut App) -> Option<Arc<Language>> 

## crates/repl/src/repl_sessions_ui.rs
- [L37:L144]fn init(cx: &mut App) 
- [L146:L149]struct ReplSessionsPage {
    focus_handle: FocusHandle,
    _subscriptions: Vec<Subscription>,
}
- [L253:L256]struct ReplSessionsContainer {
    title: SharedString,
    children: Vec<AnyElement>,
}

## crates/repl/src/repl_settings.rs
- [L3:L16]struct ReplSettings {
    pub max_lines: usize,
    pub max_columns: usize,
}

## crates/repl/src/repl_store.rs
- [L17:L17]struct GlobalReplStore(Entity<ReplStore>);
- [L21:L29]struct ReplStore {
    fs: Arc<dyn Fs>,
    enabled: bool,
    sessions: HashMap<EntityId, Entity<Session>>,
    kernel_specifications: Vec<KernelSpecification>,
    selected_kernel_for_worktree: HashMap<WorktreeId, KernelSpecification>,
    kernel_specifications_for_worktree: HashMap<WorktreeId, Vec<KernelSpecification>>,
    _subscriptions: Vec<Subscription>,
}

## crates/repl/src/session.rs
- [L35:L42]struct Session {
    fs: Arc<dyn Fs>,
    editor: WeakEntity<Editor>,
    pub kernel: Kernel,
    blocks: HashMap<String, EditorBlock>,
    pub kernel_specification: KernelSpecification,
    _buffer_subscription: Subscription,
}
- [L44:L49]struct EditorBlock {
    code_range: Range<Anchor>,
    invalidation_anchor: Anchor,
    block_id: CustomBlockId,
    execution_view: Entity<ExecutionView>,
}
- [L642:L644]enum SessionEvent {
    Shutdown(WeakEntity<Editor>),
}

## crates/reqwest_client/src/reqwest_client.rs
- [L16:L16]static RUNTIME: OnceLock<tokio::runtime::Runtime> = OnceLock::new();
- [L17:L17]static REDACT_REGEX: LazyLock<Regex> = LazyLock::new(|| Regex::new(r"key=[^&]+").unwrap());
- [L19:L24]struct ReqwestClient {
    client: reqwest::Client,
    proxy: Option<Url>,
    user_agent: Option<HeaderValue>,
    handle: tokio::runtime::Handle,
}
- [L83:L92]fn runtime() -> &'static tokio::runtime::Runtime 
- [L112:L116]struct StreamReader {
    reader: Option<Pin<Box<dyn futures::AsyncRead + Send + Sync>>>,
    buf: BytesMut,
    capacity: usize,
}
- [L167:L203]fn poll_read_buf(
    io: &mut Pin<Box<dyn futures::AsyncRead + Send + Sync>>,
    cx: &mut std::task::Context<'_>,
    buf: &mut BytesMut,
) -> Poll<std::io::Result<usize>> 
- [L205:L213]fn redact_error(mut error: reqwest::Error) -> reqwest::Error 

## crates/rich_text/src/rich_text.rs
- [L13:L20]enum Highlight {
    Code,
    Id(HighlightId),
    InlineCode(bool),
    Highlight(HighlightStyle),
    Mention,
    SelfMention,
}
- [L35:L44]struct RichText {
    pub text: SharedString,
    pub highlights: Vec<(Range<usize>, Highlight)>,
    pub link_ranges: Vec<Range<usize>>,
    pub link_urls: Arc<[String]>,
    pub custom_ranges: Vec<Range<usize>>,
    custom_ranges_tooltip_fn:
        Option<Arc<dyn Fn(usize, Range<usize>, &mut Window, &mut App) -> Option<AnyView>>>,
}
- [L46:L52]struct Mention {
    pub range: Range<usize>,
    pub is_self_mention: bool,
}
- [L178:L369]fn render_markdown_mut(
    block: &str,
    mut mentions: &[Mention],
    language_registry: &Arc<LanguageRegistry>,
    language: Option<&Arc<Language>>,
    text: &mut String,
    highlights: &mut Vec<(Range<usize>, Highlight)>,
    link_ranges: &mut Vec<Range<usize>>,
    link_urls: &mut Vec<String>,
) 
- [L371:L393]fn render_code(
    text: &mut String,
    highlights: &mut Vec<(Range<usize>, Highlight)>,
    content: &str,
    language: &Arc<Language>,
) 
- [L395:L418]fn new_paragraph(text: &mut String, list_stack: &mut Vec<(Option<u64>, bool)>) 

## crates/rope/benches/rope_benchmark.rs
- [L12:L27]fn generate_random_text(rng: &mut StdRng, len: usize) -> String 
- [L29:L34]fn generate_random_rope(rng: &mut StdRng, text_len: usize) -> Rope 
- [L36:L61]fn generate_random_rope_ranges(rng: &mut StdRng, rope: &Rope) -> Vec<Range<usize>> 
- [L63:L71]fn generate_random_rope_points(rng: &mut StdRng, rope: &Rope) -> Vec<Point> 
- [L73:L270]fn rope_benchmarks(c: &mut Criterion) 

## crates/rope/src/chunk.rs
- [L17:L33]struct Chunk {
    chars: Bitmap,
    chars_utf16: Bitmap,
    newlines: Bitmap,
    tabs: Bitmap,
    pub text: ArrayString<MAX_BASE>,
}
- [L181:L187]struct ChunkSlice<'a> {
    chars: Bitmap,
    chars_utf16: Bitmap,
    newlines: Bitmap,
    tabs: Bitmap,
    text: &'a str,
}
- [L648:L651]struct Tabs {
    tabs: Bitmap,
    chars: Bitmap,
}
- [L654:L657]struct TabPosition {
    pub byte_offset: usize,
    pub char_offset: usize,
}
- [L683:L695]fn nth_set_bit(v: u128, n: usize) -> usize 
- [L700:L718]fn panic_char_boundary(text: &str, offset: usize) -> ! 
- [L723:L743]fn log_err_char_boundary(text: &str, offset: usize) 
- [L746:L781]fn nth_set_bit_u64(v: u64, mut n: u64) -> u64 

## crates/rope/src/offset_utf16.rs
- [L4:L4]struct OffsetUtf16(pub usize);

## crates/rope/src/point.rs
- [L7:L12]struct Point {
    pub row: u32,
    pub column: u32,
}

## crates/rope/src/point_utf16.rs
- [L7:L10]struct PointUtf16 {
    pub row: u32,
    pub column: u32,
}

## crates/rope/src/rope.rs
- [L26:L28]struct Rope {
    chunks: SumTree<Chunk>,
}
- [L614:L618]struct Cursor<'a> {
    rope: &'a Rope,
    chunks: sum_tree::Cursor<'a, 'static, Chunk, usize>,
    offset: usize,
}
- [L700:L707]struct ChunkBitmaps<'a> {
    pub text: &'a str,
    pub chars: Bitmap,
    pub tabs: Bitmap,
}
- [L710:L715]struct Chunks<'a> {
    chunks: sum_tree::Cursor<'a, 'static, Chunk, usize>,
    range: Range<usize>,
    offset: usize,
    reversed: bool,
}
- [L972:L972]struct ChunkWithBitmaps<'a>(pub Chunks<'a>);
- [L1017:L1021]struct Bytes<'a> {
    chunks: sum_tree::Cursor<'a, 'static, Chunk, usize>,
    range: Range<usize>,
    reversed: bool,
}
- [L1096:L1101]struct Lines<'a> {
    chunks: Chunks<'a>,
    current_line: String,
    done: bool,
    reversed: bool,
}
- [L1176:L1178]struct ChunkSummary {
    text: TextSummary,
}
- [L1190:L1214]struct TextSummary {
    pub len: usize,
    pub chars: usize,
    pub len_utf16: OffsetUtf16,
    pub lines: Point,
    pub first_line_chars: u32,
    pub last_line_chars: u32,
    pub last_line_len_utf16: u32,
    pub longest_row: u32,
    pub longest_row_chars: u32,
}
- [L1351:L1351]trait TextDimension:
- [L1501:L1507]struct DimensionPair<K, V> {
    pub key: K,
    pub value: Option<V>,
}

## crates/rope/src/unclipped.rs
- [L5:L5]struct Unclipped<T>(pub T);

## crates/rpc/src/auth.rs
- [L10:L12]fn oaep_sha256_padding() -> impl PaddingScheme 
- [L15:L26]enum EncryptionFormat {
    V0,
    V1,
}
- [L28:L28]struct PublicKey(RsaPublicKey);
- [L30:L30]struct PrivateKey(RsaPrivateKey);
- [L32:L39]fn keypair() -> Result<(PublicKey, PrivateKey)> 
- [L41:L49]fn random_token() -> String 
- [L111:L111]struct RsaRngCompat(rand::rngs::ThreadRng);

## crates/rpc/src/conn.rs
- [L4:L9]struct Connection {
    pub(crate) tx:
        Box<dyn 'static + Send + Unpin + futures::Sink<WebSocketMessage, Error = anyhow::Error>>,
    pub(crate) rx:
        Box<dyn 'static + Send + Unpin + futures::Stream<Item = anyhow::Result<WebSocketMessage>>>,
}

## crates/rpc/src/extension.rs
- [L9:L19]struct ExtensionApiManifest {
    pub name: String,
    pub version: Arc<str>,
    pub description: Option<String>,
    pub authors: Vec<String>,
    pub repository: String,
    pub schema_version: Option<i32>,
    pub wasm_api_version: Option<String>,
    pub provides: BTreeSet<ExtensionProvides>,
}
- [L38:L50]enum ExtensionProvides {
    Themes,
    IconThemes,
    Languages,
    Grammars,
    LanguageServers,
    ContextServers,
    AgentServers,
    SlashCommands,
    IndexedDocsProviders,
    Snippets,
    DebugAdapters,
}
- [L53:L59]struct ExtensionMetadata {
    pub id: Arc<str>,
    pub manifest: ExtensionApiManifest,
    pub published_at: DateTime<Utc>,
    pub download_count: u64,
}
- [L62:L64]struct GetExtensionsResponse {
    pub data: Vec<ExtensionMetadata>,
}

## crates/rpc/src/macros.rs

## crates/rpc/src/message_stream.rs
- [L16:L20]struct MessageStream<S> {
    stream: S,
    encoding_buffer: Vec<u8>,
}
- [L23:L27]enum Message {
    Envelope(Envelope),
    Ping,
    Pong,
}

## crates/rpc/src/notification.rs
- [L9:L35]enum Notification {
    ContactRequest {
        sender_id: u64,
    },
    ContactRequestAccepted {
        responder_id: u64,
    },
    ChannelInvitation {
        channel_id: u64,
        channel_name: String,
        inviter_id: u64,
    },
}

## crates/rpc/src/peer.rs
- [L31:L34]struct ConnectionId {
    pub owner_id: u32,
    pub id: u32,
}
- [L60:L64]struct Peer {
    epoch: AtomicU32,
    pub connections: RwLock<HashMap<ConnectionId, ConnectionState>>,
    next_connection_id: AtomicU32,
}
- [L67:L92]struct ConnectionState {
    outgoing_tx: mpsc::UnboundedSender<Message>,
    next_message_id: Arc<AtomicU32>,
    response_channels: Arc<
        Mutex<
            Option<
                HashMap<
                    u32,
                    oneshot::Sender<(proto::Envelope, std::time::Instant, oneshot::Sender<()>)>,
                >,
            >,
        >,
    >,
    stream_response_channels: Arc<
        Mutex<
            Option<
                HashMap<u32, mpsc::UnboundedSender<(Result<proto::Envelope>, oneshot::Sender<()>)>>,
            >,
        >,
    >,
}
- [L96:L96]const RECEIVE_TIMEOUT: Duration = Duration::from_secs(10);

## crates/rpc/src/proto_client.rs
- [L24:L24]struct AnyProtoClient(Arc<State>);
- [L39:L39]static NEXT_LSP_REQUEST_ID: OnceLock<Arc<AtomicU64>> = OnceLock::new();
- [L40:L40]static REQUEST_IDS: OnceLock<RequestIds> = OnceLock::new();
- [L42:L46]struct State {
    client: Arc<dyn ProtoClient>,
    next_lsp_request_id: Arc<AtomicU64>,
    request_ids: RequestIds,
}
- [L48:L48]trait ProtoClient: Send + Sync {
- [L66:L72]struct ProtoMessageHandlerSet {
    pub entity_types_by_message_type: HashMap<TypeId, TypeId>,
    pub entities_by_type_and_remote_id: HashMap<(TypeId, u64), EntityMessageSubscriber>,
    pub entity_id_extractors: HashMap<TypeId, fn(&dyn AnyTypedEnvelope) -> u64>,
    pub entities_by_message_type: HashMap<TypeId, AnyWeakEntity>,
    pub message_handlers: HashMap<TypeId, ProtoMessageHandler>,
}
- [L74:L74]type ProtoMessageHandler = Arc<
- [L156:L159]enum EntityMessageSubscriber {
    Entity { handle: AnyWeakEntity },
    Pending(Vec<Box<dyn AnyTypedEnvelope>>),
}
- [L520:L531]fn to_any_envelope<T: EnvelopedMessage>(
    envelope: &TypedEnvelope<proto::LspQueryResponse>,
    response: T,
) -> Box<dyn AnyTypedEnvelope> 

## crates/rpc/src/rpc.rs
- [L1:L1]mod auth;
- [L21:L21]const PROTOCOL_VERSION: u32 = 68;

## crates/rules_library/src/rules_library.rs
- [L31:L33]fn init(cx: &mut App) 
- [L51:L51]trait InlineAssistDelegate {
- [L69:L156]fn open_rules_library(
    language_registry: Arc<LanguageRegistry>,
    inline_assist_delegate: Box<dyn InlineAssistDelegate>,
    make_completion_provider: Rc<dyn Fn() -> Rc<dyn CompletionProvider>>,
    prompt_to_select: Option<PromptId>,
    cx: &mut App,
) -> Task<Result<WindowHandle<RulesLibrary>>> 
- [L158:L169]struct RulesLibrary {
    title_bar: Option<Entity<PlatformTitleBar>>,
    store: Entity<PromptStore>,
    language_registry: Arc<LanguageRegistry>,
    rule_editors: HashMap<PromptId, RuleEditor>,
    active_rule_id: Option<PromptId>,
    picker: Entity<Picker<RulePickerDelegate>>,
    pending_load: Task<()>,
    inline_assist_delegate: Box<dyn InlineAssistDelegate>,
    make_completion_provider: Rc<dyn Fn() -> Rc<dyn CompletionProvider>>,
    _subscriptions: Vec<Subscription>,
}
- [L171:L179]struct RuleEditor {
    title_editor: Entity<Editor>,
    body_editor: Entity<Editor>,
    token_count: Option<u64>,
    pending_token_count: Task<Option<()>>,
    next_title_and_body_to_save: Option<(String, Rope)>,
    pending_save: Option<Task<Option<()>>>,
    _subscriptions: Vec<Subscription>,
}
- [L181:L185]enum RulePickerEntry {
    Header(SharedString),
    Rule(PromptMetadata),
    Separator,
}
- [L187:L191]struct RulePickerDelegate {
    store: Entity<PromptStore>,
    selected_index: usize,
    filtered_entries: Vec<RulePickerEntry>,
}
- [L193:L198]enum RulePickerEvent {
    Selected { prompt_id: PromptId },
    Confirmed { prompt_id: PromptId },
    Deleted { prompt_id: PromptId },
    ToggledDefault { prompt_id: PromptId },
}

## crates/scheduler/src/clock.rs
- [L5:L5]trait Clock {
- [L10:L10]struct TestClock(Mutex<TestClockState>);
- [L12:L15]struct TestClockState {
    now: Instant,
    utc_now: DateTime<Utc>,
}

## crates/scheduler/src/executor.rs
- [L17:L21]struct ForegroundExecutor {
    session_id: SessionId,
    scheduler: Arc<dyn Scheduler>,
    not_send: PhantomData<Rc<()>>,
}
- [L77:L79]struct BackgroundExecutor {
    scheduler: Arc<dyn Scheduler>,
}
- [L108:L116]struct Task<T>(TaskState<T>);
- [L119:L125]enum TaskState<T> {
    Ready(Option<T>),
    Spawned(async_task::Task<T>),
}
- [L160:L223]fn spawn_local_with_source_location<Fut, S>(
    future: Fut,
    schedule: S,
) -> (async_task::Runnable, async_task::Task<Fut::Output, ()>)
where
    Fut: Future + 'static,
    Fut::Output: 'static,
    S: async_task::Schedule + Send + Sync + 'static,

## crates/scheduler/src/scheduler.rs
- [L21:L21]trait Scheduler: Send + Sync {
- [L38:L38]struct SessionId(u16);
- [L46:L46]struct Timer(oneshot::Receiver<()>);

## crates/scheduler/src/test_scheduler.rs
- [L30:L35]struct TestScheduler {
    clock: Arc<TestClock>,
    rng: Arc<Mutex<StdRng>>,
    state: Arc<Mutex<SchedulerState>>,
    thread: Thread,
}
- [L366:L372]struct TestSchedulerConfig {
    pub seed: u64,
    pub randomize_order: bool,
    pub allow_parking: bool,
    pub capture_pending_traces: bool,
    pub timeout_ticks: RangeInclusive<usize>,
}
- [L396:L399]struct ScheduledRunnable {
    session_id: Option<SessionId>,
    runnable: Runnable,
}
- [L407:L410]struct ScheduledTimer {
    expiration: Instant,
    _notify: oneshot::Sender<()>,
}
- [L412:L423]struct SchedulerState {
    runnables: VecDeque<ScheduledRunnable>,
    timers: Vec<ScheduledTimer>,
    blocked_sessions: Vec<SessionId>,
    randomize_order: bool,
    allow_parking: bool,
    timeout_ticks: RangeInclusive<usize>,
    next_session_id: SessionId,
    capture_pending_traces: bool,
    next_trace_id: TraceId,
    pending_traces: BTreeMap<TraceId, Backtrace>,
}
- [L433:L433]struct TraceId(usize);
- [L435:L440]struct TracingWaker {
    id: Option<TraceId>,
    awoken: Arc<AtomicBool>,
    thread: Thread,
    state: Arc<Mutex<SchedulerState>>,
}
- [L509:L509]struct Yield(usize);
- [L525:L541]fn exclude_wakers_from_trace(mut trace: Backtrace) -> Backtrace 

## crates/scheduler/src/tests.rs
- [L20:L26]fn test_foreground_executor_spawn() 
- [L29:L35]fn test_background_executor_spawn() 
- [L38:L99]fn test_foreground_ordering() 
- [L102:L129]fn test_timer_ordering() 
- [L132:L149]fn test_send_from_bg_to_fg() 
- [L152:L187]fn test_randomize_order() 
- [L223:L238]fn test_block() 
- [L242:L252]fn test_parking_panics() 
- [L255:L274]fn test_block_with_parking() 
- [L277:L291]fn test_helper_methods() 
- [L294:L327]fn test_block_with_timeout() 
- [L331:L354]fn test_block_does_not_progress_same_session_foreground() 
- [L356:L358]struct Yield {
    polls: usize,
}

## crates/schema_generator/src/main.rs
- [L8:L11]struct Args {
    pub schema_type: SchemaType,
}
- [L15:L19]enum SchemaType {
    Theme,
    IconTheme,
    Project,
}
- [L21:L42]fn main() -> Result<()> 

## crates/search/src/buffer_search.rs
- [L50:L61]struct Deploy {
    pub focus: bool,
    pub replace_enabled: bool,
    pub selection_search_enabled: bool,
}
- [L93:L95]enum Event {
    UpdateLocation,
}
- [L97:L100]fn init(cx: &mut App) 
- [L102:L110]struct BufferSearchBar {
    query_editor: Entity<Editor>,
    query_editor_focused: bool,
    replacement_editor: Entity<Editor>,
    replacement_editor_focused: bool,
    active_searchable_item: Option<Box<dyn SearchableItemHandle>>,
    active_match_index: Option<usize>,
    active_searchable_item_subscriptions: Option<[Subscription; 2]>,

## crates/search/src/buffer_search/registrar.rs
- [L7:L7]trait SearchActionsRegistrar {
- [L17:L22]struct DivRegistrar<'a, 'b, T: 'static> {
    div: Option<Div>,
    cx: &'a mut Context<'b, T>,
    search_getter: GetSearchBar<T>,
}
- [L92:L92]trait ActionExecutor<A: Action>: 'static + Clone {
- [L102:L103]struct ForDismissed<A>(pub(super) SearchBarActionCallback<A>);
- [L127:L128]struct ForDeployed<A>(pub(super) SearchBarActionCallback<A>);
- [L152:L154]struct WithResults<A>(pub(super) SearchBarActionCallback<A>);

## crates/search/src/project_search.rs
- [L66:L66]struct ActiveSettings(HashMap<WeakEntity<Project>, ProjectSearchSettings>);
- [L70:L191]fn init(cx: &mut App) 
- [L193:L195]fn contains_uppercase(str: &str) -> bool 
- [L197:L210]struct ProjectSearch {
    project: Entity<Project>,
    excerpts: Entity<MultiBuffer>,
    pending_search: Option<Task<Option<()>>>,
    match_ranges: Vec<Range<Anchor>>,
    active_query: Option<SearchQuery>,
    last_search_query_text: Option<String>,
    search_id: usize,
    no_results: Option<bool>,
    limit_reached: bool,
    search_history_cursor: SearchHistoryCursor,
    search_included_history_cursor: SearchHistoryCursor,
    search_excluded_history_cursor: SearchHistoryCursor,
}
- [L213:L218]enum InputPanel {
    Query,
    Replacement,
    Exclude,
    Include,
}
- [L220:L239]struct ProjectSearchView {
    workspace: WeakEntity<Workspace>,
    focus_handle: FocusHandle,
    entity: Entity<ProjectSearch>,
    query_editor: Entity<Editor>,
    replacement_editor: Entity<Editor>,
    results_editor: Entity<Editor>,
    search_options: SearchOptions,
    panels_with_errors: HashMap<InputPanel, String>,
    active_match_index: Option<usize>,
    search_id: usize,
    included_files_editor: Entity<Editor>,
    excluded_files_editor: Entity<Editor>,
    filters_enabled: bool,
    replace_enabled: bool,
    included_opened_only: bool,
    regex_language: Option<Arc<Language>>,
    results_collapsed: bool,
    _subscriptions: Vec<Subscription>,
}
- [L242:L245]struct ProjectSearchSettings {
    search_options: SearchOptions,
    filters_enabled: bool,
}
- [L247:L250]struct ProjectSearchBar {
    active_project_search: Option<Entity<ProjectSearchView>>,
    subscription: Option<Subscription>,
}
- [L411:L416]enum ViewEvent {
    UpdateTab,
    Activate,
    EditorEvent(editor::EditorEvent),
    Dismiss,
}
- [L1688:L1709]fn buffer_search_query(
    workspace: &mut Workspace,
    item: &dyn ItemHandle,
    cx: &mut Context<Workspace>,
) -> Option<String> 
- [L2390:L2415]fn register_workspace_action<A: Action>(
    workspace: &mut Workspace,
    callback: fn(&mut ProjectSearchBar, &A, &mut Window, &mut Context<ProjectSearchBar>),
) 
- [L2417:L2442]fn register_workspace_action_for_present_search<A: Action>(
    workspace: &mut Workspace,
    callback: fn(&mut Workspace, &A, &mut Window, &mut Context<Workspace>),
) 
- [L2445:L2458]fn perform_project_search(
    search_view: &Entity<ProjectSearchView>,
    text: impl Into<std::sync::Arc<str>>,
    cx: &mut gpui::VisualTestContext,
) 
- [L2461:L2461]mod tests {

## crates/search/src/search.rs
- [L16:L16]mod buffer_search;
- [L17:L17]mod project_search;
- [L19:L19]mod search_status_button;
- [L21:L25]fn init(cx: &mut App) 
- [L79:L86]enum SearchOption {
    WholeWord = 0,
    CaseSensitive,
    IncludeIgnored,
    Regex,
    OneMatchPerLine,
    Backwards,
}

## crates/search/src/search_bar.rs

## crates/search/src/search_status_button.rs
- [L6:L6]const SEARCH_ICON: IconName = IconName::MagnifyingGlass;
- [L8:L8]struct SearchButton;

## crates/session/src/session.rs
- [L7:L11]struct Session {
    session_id: String,
    old_session_id: Option<String>,
    old_window_ids: Option<Vec<WindowId>>,
}
- [L57:L61]struct AppSession {
    session: Session,
    _serialization_task: Task<()>,
    _subscriptions: Vec<Subscription>,
}
- [L111:L118]fn window_stack(cx: &App) -> Option<Vec<u64>> 

## crates/settings/src/base_keymap_setting.rs
- [L14:L24]enum BaseKeymap {
    VSCode,
    JetBrains,
    SublimeText,
    Atom,
    TextMate,
    Emacs,
    Cursor,
    None,
}

## crates/settings/src/editable_setting_control.rs
- [L7:L7]trait EditableSettingControl: RenderOnce {

## crates/settings/src/fallible_options.rs
- [L64:L64]trait FallibleOption: Default {}

## crates/settings/src/keymap_file.rs
- [L27:L27]trait KeyBindingValidator: Send + Sync {
- [L32:L32]struct KeyBindingValidatorRegistration(pub fn() -> Box<dyn KeyBindingValidator>);
- [L55:L59]struct KeymapFile(Vec<KeymapSection>);
- [L61:L93]struct KeymapSection {
    pub context: String,
    use_key_equivalents: bool,
    bindings: Option<IndexMap<String, KeymapAction>>,
    unrecognized_fields: IndexMap<String, Value>,
}
- [L101:L109]struct KeymapAction(Value);
- [L140:L151]enum KeymapFileLoadResult {
    Success {
        key_bindings: Vec<KeyBinding>,
    },
    SomeFailedToLoad {
        key_bindings: Vec<KeyBinding>,
        error_message: MarkdownString,
    },
    JsonParseFailure {
        error: anyhow::Error,
    },
}
- [L891:L907]enum KeybindUpdateOperation<'a> {
    Replace {
        source: KeybindUpdateTarget<'a>,
        target: KeybindUpdateTarget<'a>,
        target_keybind_source: KeybindSource,
    },
    Add {
        source: KeybindUpdateTarget<'a>,
        from: Option<KeybindUpdateTarget<'a>>,
    },
    Remove {
        target: KeybindUpdateTarget<'a>,
        target_keybind_source: KeybindSource,
    },
}
- [L957:L962]struct KeybindUpdateTarget<'a> {
    pub context: Option<&'a str>,
    pub keystrokes: &'a [KeybindingKeystroke],
    pub action_name: &'a str,
    pub action_arguments: Option<&'a str>,
}
- [L1006:L1013]enum KeybindSource {
    User,
    Vim,
    Base,
    Default,
    Unknown,
}
- [L1064:L1069]struct ActionSequence(pub Vec<Box<dyn Action>>);

## crates/settings/src/merge_from.rs
- [L17:L17]trait MergeFrom {

## crates/settings/src/serde_helper.rs
- [L3:L39]fn serialize_f32_with_two_decimal_places<S>(
    value: &f32,
    serializer: S,
) -> Result<S::Ok, S::Error>
where
    S: Serializer,
- [L41:L91]fn serialize_optional_f32_with_two_decimal_places<S>(
    value: &Option<f32>,
    serializer: S,
) -> Result<S::Ok, S::Error>
where
    S: Serializer,

## crates/settings/src/settings.rs
- [L5:L5]mod merge_from;
- [L16:L16]mod private {
- [L46:L46]struct ActiveSettingsProfileName(pub String);
- [L51:L51]struct WorktreeId(usize);
- [L88:L88]struct SettingsAssets;
- [L90:L94]fn init(cx: &mut App) 
- [L96:L98]fn default_settings() -> Cow<'static, str> 
- [L101:L101]const DEFAULT_KEYMAP_PATH: &str = "keymaps/default-macos.json";
- [L104:L104]const DEFAULT_KEYMAP_PATH: &str = "keymaps/default-windows.json";
- [L107:L107]const DEFAULT_KEYMAP_PATH: &str = "keymaps/default-linux.json";
- [L109:L111]fn default_keymap() -> Cow<'static, str> 
- [L113:L113]const VIM_KEYMAP_PATH: &str = "keymaps/vim.json";
- [L115:L117]fn vim_keymap() -> Cow<'static, str> 
- [L119:L121]fn initial_user_settings_content() -> Cow<'static, str> 
- [L123:L125]fn initial_server_settings_content() -> Cow<'static, str> 
- [L127:L129]fn initial_project_settings_content() -> Cow<'static, str> 
- [L131:L133]fn initial_keymap_content() -> Cow<'static, str> 
- [L135:L137]fn initial_tasks_content() -> Cow<'static, str> 
- [L139:L141]fn initial_debug_tasks_content() -> Cow<'static, str> 
- [L143:L145]fn initial_local_debug_tasks_content() -> Cow<'static, str> 

## crates/settings/src/settings_content.rs
- [L36:L166]struct SettingsContent {
    pub project: ProjectSettingsContent,
    pub theme: Box<ThemeSettingsContent>,
    pub extension: ExtensionSettingsContent,
    pub workspace: WorkspaceSettingsContent,
    pub editor: EditorSettingsContent,
    pub remote: RemoteSettingsContent,
    pub file_finder: Option<FileFinderSettingsContent>,
    pub git_panel: Option<GitPanelSettingsContent>,
    pub tabs: Option<ItemSettingsContent>,
    pub tab_bar: Option<TabBarSettingsContent>,
    pub status_bar: Option<StatusBarSettingsContent>,
    pub preview_tabs: Option<PreviewTabsSettingsContent>,
    pub agent: Option<AgentSettingsContent>,
    pub agent_servers: Option<AllAgentServersSettings>,
    pub audio: Option<AudioSettingsContent>,
    pub auto_update: Option<bool>,
    pub base_keymap: Option<BaseKeymapContent>,
    pub collaboration_panel: Option<PanelSettingsContent>,
    pub debugger: Option<DebuggerSettingsContent>,
    pub diagnostics: Option<DiagnosticsSettingsContent>,
    pub git: Option<GitSettings>,
    pub global_lsp_settings: Option<GlobalLspSettingsContent>,
    pub image_viewer: Option<ImageViewerSettingsContent>,
    pub repl: Option<ReplSettingsContent>,
    pub helix_mode: Option<bool>,
    pub journal: Option<JournalSettingsContent>,
    pub log: Option<HashMap<String, String>>,
    pub line_indicator_format: Option<LineIndicatorFormat>,
    pub language_models: Option<AllLanguageModelSettingsContent>,
    pub outline_panel: Option<OutlinePanelSettingsContent>,
    pub project_panel: Option<ProjectPanelSettingsContent>,
    pub message_editor: Option<MessageEditorSettings>,
    pub node: Option<NodeBinarySettings>,
    pub notification_panel: Option<NotificationPanelSettingsContent>,
    pub proxy: Option<String>,
    pub server_url: Option<String>,
    pub session: Option<SessionSettingsContent>,
    pub telemetry: Option<TelemetrySettingsContent>,
    pub terminal: Option<TerminalSettingsContent>,
    pub title_bar: Option<TitleBarSettingsContent>,
    pub vim_mode: Option<bool>,
    pub calls: Option<CallSettingsContent>,
    pub disable_ai: Option<SaturatingBool>,
    pub which_key: Option<WhichKeySettingsContent>,
    pub vim: Option<VimSettingsContent>,
}
- [L176:L191]struct UserSettingsContent {
    pub content: Box<SettingsContent>,
    pub dev: Option<Box<SettingsContent>>,
    pub nightly: Option<Box<SettingsContent>>,
    pub preview: Option<Box<SettingsContent>>,
    pub stable: Option<Box<SettingsContent>>,
    pub macos: Option<Box<SettingsContent>>,
    pub windows: Option<Box<SettingsContent>>,
    pub linux: Option<Box<SettingsContent>>,
    pub profiles: IndexMap<String, SettingsContent>,
}
- [L193:L195]struct ExtensionsSettingsContent {
    pub all_languages: AllLanguageSettingsContent,
}
- [L240:L250]enum BaseKeymapContent {
    VSCode,
    JetBrains,
    SublimeText,
    Atom,
    TextMate,
    Emacs,
    Cursor,
    None,
}
- [L267:L300]struct TitleBarSettingsContent {
    pub show_branch_icon: Option<bool>,
    pub show_onboarding_banner: Option<bool>,
    pub show_user_picture: Option<bool>,
    pub show_branch_name: Option<bool>,
    pub show_project_items: Option<bool>,
    pub show_sign_in: Option<bool>,
    pub show_user_menu: Option<bool>,
    pub show_menus: Option<bool>,
}
- [L302:L344]struct AudioSettingsContent {
    pub rodio_audio: Option<bool>,
    pub auto_microphone_volume: Option<bool>,
    pub auto_speaker_volume: Option<bool>,
    pub denoise: Option<bool>,
    pub legacy_audio_compatible: Option<bool>,
}
- [L346:L358]struct TelemetrySettingsContent {
    pub diagnostics: Option<bool>,
    pub metrics: Option<bool>,
}
- [L371:L400]struct DebuggerSettingsContent {
    pub stepping_granularity: Option<SteppingGranularity>,
    pub save_breakpoints: Option<bool>,
    pub button: Option<bool>,
    pub timeout: Option<u64>,
    pub log_dap_communications: Option<bool>,
    pub format_dap_log_messages: Option<bool>,
    pub dock: Option<DockPosition>,
}
- [L418:L427]enum SteppingGranularity {
    Statement,
    Line,
    Instruction,
}
- [L443:L447]enum DockPosition {
    Left,
    Bottom,
    Right,
}
- [L449:L455]struct SlashCommandSettings {
    pub cargo_workspace: Option<CargoWorkspaceCommandSettings>,
}
- [L457:L463]struct CargoWorkspaceCommandSettings {
    pub enabled: Option<bool>,
}
- [L465:L478]struct CallSettingsContent {
    pub mute_on_join: Option<bool>,
    pub share_on_join: Option<bool>,
}
- [L482:L526]struct GitPanelSettingsContent {
    pub button: Option<bool>,
    pub dock: Option<DockPosition>,
    pub default_width: Option<f32>,
    pub status_style: Option<StatusStyle>,
    pub scrollbar: Option<ScrollbarSettings>,
    pub fallback_branch_name: Option<String>,
    pub sort_by_path: Option<bool>,
    pub collapse_untracked_diff: Option<bool>,
    pub tree_view: Option<bool>,
}
- [L543:L547]enum StatusStyle {
    Icon,
    LabelColor,
}
- [L553:L555]struct ScrollbarSettings {
    pub show: Option<ShowScrollbar>,
}
- [L559:L573]struct NotificationPanelSettingsContent {
    pub button: Option<bool>,
    pub dock: Option<DockPosition>,
    pub default_width: Option<f32>,
}
- [L577:L591]struct PanelSettingsContent {
    pub button: Option<bool>,
    pub dock: Option<DockPosition>,
    pub default_width: Option<f32>,
}
- [L595:L601]struct MessageEditorSettings {
    pub auto_replace_emoji_shortcode: Option<bool>,
}
- [L605:L627]struct FileFinderSettingsContent {
    pub file_icons: Option<bool>,
    pub modal_max_width: Option<FileFinderWidthContent>,
    pub skip_focus_for_active_in_search: Option<bool>,
    pub git_status: Option<bool>,
    pub include_ignored: Option<IncludeIgnoredContent>,
}
- [L644:L652]enum IncludeIgnoredContent {
    All,
    Indexed,
    Smart,
}
- [L669:L676]enum FileFinderWidthContent {
    Small,
    Medium,
    Large,
    XLarge,
    Full,
}
- [L680:L688]struct VimSettingsContent {
    pub default_mode: Option<ModeContent>,
    pub toggle_relative_line_numbers: Option<bool>,
    pub use_system_clipboard: Option<UseSystemClipboard>,
    pub use_smartcase_find: Option<bool>,
    pub custom_digraphs: Option<HashMap<String, Arc<str>>>,
    pub highlight_on_yank_duration: Option<u64>,
    pub cursor_shape: Option<CursorShapeSettings>,
}
- [L692:L696]enum ModeContent {
    Normal,
    Insert,
}
- [L698:L708]enum UseSystemClipboard {
    Never,
    Always,
    OnYank,
}
- [L710:L730]struct CursorShapeSettings {
    pub normal: Option<CursorShape>,
    pub replace: Option<CursorShape>,
    pub visual: Option<CursorShape>,
    pub insert: Option<CursorShape>,
}
- [L732:L744]struct JournalSettingsContent {
    pub path: Option<String>,
    pub hour_format: Option<HourFormat>,
}
- [L748:L752]enum HourFormat {
    Hour12,
    Hour24,
}
- [L756:L809]struct OutlinePanelSettingsContent {
    pub button: Option<bool>,
    pub default_width: Option<f32>,
    pub dock: Option<DockSide>,
    pub file_icons: Option<bool>,
    pub folder_icons: Option<bool>,
    pub git_status: Option<bool>,
    pub indent_size: Option<f32>,
    pub auto_reveal_entries: Option<bool>,
    pub auto_fold_dirs: Option<bool>,
    pub indent_guides: Option<IndentGuidesSettingsContent>,
    pub scrollbar: Option<ScrollbarSettingsContent>,
    pub expand_outlines_with_depth: Option<usize>,
}
- [L825:L828]enum DockSide {
    Left,
    Right,
}
- [L844:L847]enum ShowIndentGuides {
    Always,
    Never,
}
- [L853:L856]struct IndentGuidesSettingsContent {
    pub show: Option<ShowIndentGuides>,
}
- [L860:L864]enum LineIndicatorFormat {
    Short,
    Long,
}
- [L866:L874]struct ImageViewerSettingsContent {
    pub unit: Option<ImageFileSizeUnit>,
}
- [L891:L897]enum ImageFileSizeUnit {
    Binary,
    Decimal,
}
- [L901:L906]struct RemoteSettingsContent {
    pub ssh_connections: Option<Vec<SshConnection>>,
    pub wsl_connections: Option<Vec<WslConnection>>,
    pub dev_container_connections: Option<Vec<DevContainerConnection>>,
    pub read_ssh_config: Option<bool>,
}
- [L912:L915]struct DevContainerConnection {
    pub name: SharedString,
    pub container_id: SharedString,
}
- [L919:L939]struct SshConnection {
    pub host: SharedString,
    pub username: Option<String>,
    pub port: Option<u16>,
    pub args: Vec<String>,
    pub projects: collections::BTreeSet<RemoteProject>,
    pub nickname: Option<String>,
    pub upload_binary_over_ssh: Option<bool>,
    pub port_forwards: Option<Vec<SshPortForwardOption>>,
    pub connection_timeout: Option<u16>,
}
- [L942:L947]struct WslConnection {
    pub distro_name: SharedString,
    pub user: Option<String>,
    pub projects: BTreeSet<RemoteProject>,
}
- [L953:L955]struct RemoteProject {
    pub paths: Vec<String>,
}
- [L959:L964]struct SshPortForwardOption {
    pub local_host: Option<String>,
    pub local_port: u16,
    pub remote_host: Option<String>,
    pub remote_port: u16,
}
- [L966:L980]struct ReplSettingsContent {
    pub max_lines: Option<usize>,
    pub max_columns: Option<usize>,
}
- [L982:L993]struct WhichKeySettingsContent {
    pub enabled: Option<bool>,
    pub delay_ms: Option<u64>,
}
- [L996:L1004]struct ExtendingVec<T>(pub Vec<T>);
- [L1023:L1028]struct SaturatingBool(pub bool);
- [L1064:L1064]struct DelayMs(pub u64);

## crates/settings/src/settings_content/agent.rs
- [L12:L122]struct AgentSettingsContent {
    pub enabled: Option<bool>,
    pub button: Option<bool>,
    pub dock: Option<DockPosition>,
    pub agents_panel_dock: Option<DockSide>,
    pub default_width: Option<f32>,
    pub default_height: Option<f32>,
    pub default_model: Option<LanguageModelSelection>,
    pub favorite_models: Vec<LanguageModelSelection>,
    pub inline_assistant_model: Option<LanguageModelSelection>,
    pub inline_assistant_use_streaming_tools: Option<bool>,
    pub commit_message_model: Option<LanguageModelSelection>,
    pub thread_summary_model: Option<LanguageModelSelection>,
    pub inline_alternatives: Option<Vec<LanguageModelSelection>>,
    pub default_profile: Option<Arc<str>>,
    pub default_view: Option<DefaultAgentView>,
    pub profiles: Option<IndexMap<Arc<str>, AgentProfileContent>>,
    pub always_allow_tool_actions: Option<bool>,
    pub notify_when_agent_waiting: Option<NotifyWhenAgentWaiting>,
    pub play_sound_when_agent_done: Option<bool>,
    pub single_file_review: Option<bool>,
    pub model_parameters: Vec<LanguageModelParameters>,
    pub preferred_completion_mode: Option<CompletionMode>,
    pub enable_feedback: Option<bool>,
    pub expand_edit_card: Option<bool>,
    pub expand_terminal_card: Option<bool>,
    pub use_modifier_to_send: Option<bool>,
    pub message_editor_min_lines: Option<usize>,
}
- [L196:L206]struct AgentProfileContent {
    pub name: Arc<str>,
    pub tools: IndexMap<Arc<str>, bool>,
    pub enable_all_context_servers: Option<bool>,
    pub context_servers: IndexMap<Arc<str>, ContextServerPresetContent>,
    pub default_model: Option<LanguageModelSelection>,
}
- [L210:L212]struct ContextServerPresetContent {
    pub tools: IndexMap<Arc<str>, bool>,
}
- [L216:L220]enum DefaultAgentView {
    Thread,
    TextThread,
}
- [L236:L241]enum NotifyWhenAgentWaiting {
    PrimaryScreen,
    AllScreens,
    Never,
}
- [L245:L248]struct LanguageModelSelection {
    pub provider: LanguageModelProviderSetting,
    pub model: String,
}
- [L252:L257]enum CompletionMode {
    Normal,
    Burn,
}
- [L261:L266]struct LanguageModelParameters {
    pub provider: Option<LanguageModelProviderSetting>,
    pub model: Option<SharedString>,
    pub temperature: Option<f32>,
}
- [L269:L269]struct LanguageModelProviderSetting(pub String);
- [L320:L328]struct AllAgentServersSettings {
    pub gemini: Option<BuiltinAgentServerSettings>,
    pub claude: Option<BuiltinAgentServerSettings>,
    pub codex: Option<BuiltinAgentServerSettings>,
    pub custom: HashMap<SharedString, CustomAgentServerSettings>,
}
- [L332:L373]struct BuiltinAgentServerSettings {
    pub path: Option<PathBuf>,
    pub args: Option<Vec<String>>,
    pub env: Option<HashMap<String, String>>,
    pub ignore_system_version: Option<bool>,
    pub default_mode: Option<String>,
    pub default_model: Option<String>,
    pub favorite_models: Vec<String>,
}
- [L378:L426]enum CustomAgentServerSettings {
    Custom {
        path: PathBuf,
        args: Vec<String>,
        env: Option<HashMap<String, String>>,
        default_mode: Option<String>,
        default_model: Option<String>,
        favorite_models: Vec<String>,
    },
    Extension {
        default_mode: Option<String>,
        default_model: Option<String>,
        favorite_models: Vec<String>,
    },
}

## crates/settings/src/settings_content/editor.rs
- [L15:L218]struct EditorSettingsContent {
    pub cursor_blink: Option<bool>,
    pub cursor_shape: Option<CursorShape>,
    pub hide_mouse: Option<HideMouseMode>,
    pub snippet_sort_order: Option<SnippetSortOrder>,
    pub current_line_highlight: Option<CurrentLineHighlight>,
    pub selection_highlight: Option<bool>,
    pub rounded_selection: Option<bool>,
    pub lsp_highlight_debounce: Option<DelayMs>,
    pub hover_popover_enabled: Option<bool>,
    pub hover_popover_delay: Option<DelayMs>,
    pub toolbar: Option<ToolbarContent>,
    pub scrollbar: Option<ScrollbarContent>,
    pub minimap: Option<MinimapContent>,
    pub gutter: Option<GutterContent>,
    pub scroll_beyond_last_line: Option<ScrollBeyondLastLine>,
    pub vertical_scroll_margin: Option<f32>,
    pub autoscroll_on_clicks: Option<bool>,
    pub horizontal_scroll_margin: Option<f32>,
    pub scroll_sensitivity: Option<f32>,
    pub fast_scroll_sensitivity: Option<f32>,
    pub sticky_scroll: Option<StickyScrollContent>,
    pub relative_line_numbers: Option<RelativeLineNumbers>,
    pub seed_search_query_from_cursor: Option<SeedQuerySetting>,
    pub use_smartcase_search: Option<bool>,
    pub multi_cursor_modifier: Option<MultiCursorModifier>,
    pub redact_private_values: Option<bool>,
    pub expand_excerpt_lines: Option<u32>,
    pub excerpt_context_lines: Option<u32>,
    pub middle_click_paste: Option<bool>,
    pub double_click_in_multibuffer: Option<DoubleClickInMultibuffer>,
    pub search_wrap: Option<bool>,
    pub search: Option<SearchSettingsContent>,
    pub auto_signature_help: Option<bool>,
    pub show_signature_help_after_edits: Option<bool>,
    pub minimum_contrast_for_highlights: Option<MinimumContrast>,
    pub go_to_definition_fallback: Option<GoToDefinitionFallback>,
    pub jupyter: Option<JupyterContent>,
    pub diagnostics_max_severity: Option<DiagnosticSeverityContent>,
    pub inline_code_actions: Option<bool>,
    pub drag_and_drop_selection: Option<DragAndDropSelectionContent>,
    pub lsp_document_colors: Option<DocumentColorsRenderMode>,
    pub completion_menu_scrollbar: Option<ShowScrollbar>,
}
- [L234:L238]enum RelativeLineNumbers {
    Disabled,
    Enabled,
    Wrapped,
}
- [L258:L280]struct ToolbarContent {
    pub breadcrumbs: Option<bool>,
    pub quick_actions: Option<bool>,
    pub selections_menu: Option<bool>,
    pub agent_review: Option<bool>,
    pub code_actions: Option<bool>,
}
- [L282:L316]struct ScrollbarContent {
    pub show: Option<ShowScrollbar>,
    pub git_diff: Option<bool>,
    pub search_results: Option<bool>,
    pub selected_text: Option<bool>,
    pub selected_symbol: Option<bool>,
    pub diagnostics: Option<ScrollbarDiagnostics>,
    pub cursors: Option<bool>,
    pub axes: Option<ScrollbarAxesContent>,
}
- [L318:L326]struct StickyScrollContent {
    pub enabled: Option<bool>,
}
- [L328:L361]struct MinimapContent {
    pub show: Option<ShowMinimap>,
    pub display_in: Option<DisplayIn>,
    pub thumb: Option<MinimapThumb>,
    pub thumb_border: Option<MinimapThumbBorder>,
    pub current_line_highlight: Option<CurrentLineHighlight>,
    pub max_width_columns: Option<num::NonZeroU32>,
}
- [L363:L376]struct ScrollbarAxesContent {
    pub horizontal: Option<bool>,
    pub vertical: Option<bool>,
}
- [L378:L402]struct GutterContent {
    pub line_numbers: Option<bool>,
    pub min_line_number_digits: Option<usize>,
    pub runnables: Option<bool>,
    pub breakpoints: Option<bool>,
    pub folds: Option<bool>,
}
- [L420:L430]enum DocumentColorsRenderMode {
    None,
    Inlay,
    Border,
    Background,
}
- [L446:L455]enum CurrentLineHighlight {
    None,
    Gutter,
    Line,
    All,
}
- [L472:L479]enum SeedQuerySetting {
    Always,
    Selection,
    Never,
}
- [L497:L504]enum DoubleClickInMultibuffer {
    Select,
    Open,
}
- [L524:L530]enum MinimapThumb {
    Hover,
    Always,
}
- [L550:L562]enum MinimapThumbBorder {
    Full,
    LeftOpen,
    RightOpen,
    LeftOnly,
    None,
}
- [L581:L592]enum ScrollbarDiagnostics {
    All,
    Information,
    Warning,
    Error,
    None,
}
- [L611:L615]enum MultiCursorModifier {
    Alt,
    CmdOrCtrl,
}
- [L634:L643]enum ScrollBeyondLastLine {
    Off,
    OnePage,
    VerticalScrollMargin,
}
- [L661:L671]enum CursorShape {
    Bar,
    Block,
    Underline,
    Hollow,
}
- [L689:L695]enum GoToDefinitionFallback {
    None,
    FindAllReferences,
}
- [L715:L723]enum HideMouseMode {
    Never,
    OnTyping,
    OnTypingAndMovement,
}
- [L743:L753]enum SnippetSortOrder {
    Top,
    Inline,
    Bottom,
    None,
}
- [L755:L771]struct SearchSettingsContent {
    pub button: Option<bool>,
    pub whole_word: Option<bool>,
    pub case_sensitive: Option<bool>,
    pub include_ignored: Option<bool>,
    pub regex: Option<bool>,
    pub center_on_match: Option<bool>,
}
- [L776:L786]struct JupyterContent {
    pub enabled: Option<bool>,
    pub kernel_selections: Option<HashMap<String, String>>,
}
- [L788:L801]struct DragAndDropSelectionContent {
    pub enabled: Option<bool>,
    pub delay: Option<DelayMs>,
}
- [L821:L829]enum ShowMinimap {
    Auto,
    Always,
    Never,
}
- [L849:L855]enum DisplayIn {
    AllEditors,
    ActiveEditor,
}
- [L874:L876]struct MinimumContrast(
);
- [L907:L909]struct InactiveOpacity(
);
- [L939:L941]struct CenteredPaddingSettings(
);

## crates/settings/src/settings_content/extension.rs
- [L10:L23]struct ExtensionSettingsContent {
    pub auto_install_extensions: HashMap<Arc<str>, bool>,
    pub auto_update_extensions: HashMap<Arc<str>, bool>,
    pub granted_extension_capabilities: Option<Vec<ExtensionCapabilityContent>>,
}
- [L25:L45]enum ExtensionCapabilityContent {
    ProcessExec {
        command: String,
        args: Vec<String>,
    },
    DownloadFile {
        host: String,
        path: Vec<String>,
    },
    NpmInstallPackage {
        package: String,
    },
}

## crates/settings/src/settings_content/language.rs
- [L14:L28]struct AllLanguageSettingsContent {
    pub features: Option<FeaturesContent>,
    pub edit_predictions: Option<EditPredictionSettingsContent>,
    pub defaults: LanguageSettingsContent,
    pub languages: LanguageToSettingsMap,
    pub file_types: Option<HashMap<Arc<str>, ExtendingVec<String>>>,
}
- [L58:L67]struct FeaturesContent {
    pub edit_prediction_provider: Option<EditPredictionProvider>,
    pub experimental_edit_prediction_context_retrieval: Option<bool>,
}
- [L69:L80]enum EditPredictionProvider {
    None,
    Copilot,
    Supermaven,
    Zed,
    Codestral,
    Experimental(&'static str),
}
- [L82:L82]const EXPERIMENTAL_SWEEP_EDIT_PREDICTION_PROVIDER_NAME: &str = "sweep";
- [L83:L83]const EXPERIMENTAL_ZETA2_EDIT_PREDICTION_PROVIDER_NAME: &str = "zeta2";
- [L84:L84]const EXPERIMENTAL_MERCURY_EDIT_PREDICTION_PROVIDER_NAME: &str = "mercury";
- [L152:L172]struct EditPredictionSettingsContent {
    pub disabled_globs: Option<Vec<String>>,
    pub mode: Option<EditPredictionsMode>,
    pub copilot: Option<CopilotSettingsContent>,
    pub codestral: Option<CodestralSettingsContent>,
    pub enabled_in_text_threads: Option<bool>,
    pub examples_dir: Option<Arc<Path>>,
}
- [L176:L189]struct CopilotSettingsContent {
    pub proxy: Option<String>,
    pub proxy_no_verify: Option<bool>,
    pub enterprise_uri: Option<String>,
}
- [L193:L206]struct CodestralSettingsContent {
    pub model: Option<String>,
    pub max_tokens: Option<u32>,
    pub api_url: Option<String>,
}
- [L224:L233]enum EditPredictionsMode {
    Subtle,
    Eager,
}
- [L250:L262]enum SoftWrap {
    None,
    PreferLine,
    EditorWidth,
    PreferredLineLength,
    Bounded,
}
- [L264:L450]struct LanguageSettingsContent {
    pub tab_size: Option<NonZeroU32>,
    pub hard_tabs: Option<bool>,
    pub soft_wrap: Option<SoftWrap>,
    pub preferred_line_length: Option<u32>,
    pub show_wrap_guides: Option<bool>,
    pub wrap_guides: Option<Vec<usize>>,
    pub indent_guides: Option<IndentGuideSettingsContent>,
    pub format_on_save: Option<FormatOnSave>,
    pub remove_trailing_whitespace_on_save: Option<bool>,
    pub ensure_final_newline_on_save: Option<bool>,
    pub formatter: Option<FormatterList>,
    pub prettier: Option<PrettierSettingsContent>,
    pub jsx_tag_auto_close: Option<JsxTagAutoCloseSettingsContent>,
    pub enable_language_server: Option<bool>,
    pub language_servers: Option<Vec<String>>,
    pub allow_rewrap: Option<RewrapBehavior>,
    pub show_edit_predictions: Option<bool>,
    pub edit_predictions_disabled_in: Option<Vec<String>>,
    pub show_whitespaces: Option<ShowWhitespaceSetting>,
    pub whitespace_map: Option<WhitespaceMapContent>,
    pub extend_comment_on_newline: Option<bool>,
    pub extend_list_on_newline: Option<bool>,
    pub indent_list_on_tab: Option<bool>,
    pub inlay_hints: Option<InlayHintSettingsContent>,
    pub use_autoclose: Option<bool>,
    pub use_auto_surround: Option<bool>,
    pub always_treat_brackets_as_autoclosed: Option<bool>,
    pub use_on_type_format: Option<bool>,
    pub code_actions_on_format: Option<HashMap<String, bool>>,
    pub linked_edits: Option<bool>,
    pub auto_indent: Option<bool>,
    pub auto_indent_on_paste: Option<bool>,
    pub tasks: Option<LanguageTaskSettingsContent>,
    pub show_completions_on_input: Option<bool>,
    pub show_completion_documentation: Option<bool>,
    pub completions: Option<CompletionSettingsContent>,
    pub debuggers: Option<Vec<String>>,
    pub word_diff_enabled: Option<bool>,
    pub colorize_brackets: Option<bool>,
}
- [L467:L483]enum ShowWhitespaceSetting {
    Selection,
    None,
    All,
    Boundary,
    Trailing,
}
- [L487:L490]struct WhitespaceMapContent {
    pub space: Option<char>,
    pub tab: Option<char>,
}
- [L507:L515]enum RewrapBehavior {
    InComments,
    InSelections,
    Anywhere,
}
- [L519:L522]struct JsxTagAutoCloseSettingsContent {
    pub enabled: Option<bool>,
}
- [L524:L573]struct InlayHintSettingsContent {
    pub enabled: Option<bool>,
    pub show_value_hints: Option<bool>,
    pub show_type_hints: Option<bool>,
    pub show_parameter_hints: Option<bool>,
    pub show_other_hints: Option<bool>,
    pub show_background: Option<bool>,
    pub edit_debounce_ms: Option<u64>,
    pub scroll_debounce_ms: Option<u64>,
    pub toggle_on_modifiers_press: Option<Modifiers>,
}
- [L575:L582]enum InlayHintKind {
    Type,
    Parameter,
}
- [L606:L634]struct CompletionSettingsContent {
    pub words: Option<WordsCompletionMode>,
    pub words_min_length: Option<u32>,
    pub lsp: Option<bool>,
    pub lsp_fetch_timeout_ms: Option<u64>,
    pub lsp_insert_mode: Option<LspInsertMode>,
}
- [L650:L661]enum LspInsertMode {
    Insert,
    Replace,
    ReplaceSubsequence,
    ReplaceSuffix,
}
- [L678:L687]enum WordsCompletionMode {
    Enabled,
    Fallback,
    Disabled,
}
- [L689:L709]struct PrettierSettingsContent {
    pub allowed: Option<bool>,
    pub parser: Option<String>,
    pub plugins: Option<HashSet<String>>,
    pub options: Option<HashMap<String, serde_json::Value>>,
}
- [L727:L732]enum FormatOnSave {
    On,
    Off,
}
- [L734:L740]enum FormatterList {
    Single(Formatter),
    Vec(Vec<Formatter>),
}
- [L757:L779]enum Formatter {
    Auto,
    Prettier,
    External {
        command: Arc<str>,
        arguments: Option<Arc<[String]>>,
    },
    CodeAction(String),
    LanguageServer(LanguageServerFormatterSpecifier),
}
- [L788:L794]enum LanguageServerFormatterSpecifier {
    Specific {
        name: String,
    },
    Current,
}
- [L822:L829]enum LanguageServerVariantContent {
    Specific {
        language_server: LanguageServerSpecifierContent,
    },
    Current(CurrentLanguageServerContent),
}
- [L833:L836]enum CurrentLanguageServerContent {
    LanguageServer,
}
- [L840:L843]struct LanguageServerSpecifierContent {
    name: Option<String>,
}
- [L845:L869]struct IndentGuideSettingsContent {
    pub enabled: Option<bool>,
    pub line_width: Option<u32>,
    pub active_line_width: Option<u32>,
    pub coloring: Option<IndentGuideColoring>,
    pub background_coloring: Option<IndentGuideBackgroundColoring>,
}
- [L871:L886]struct LanguageTaskSettingsContent {
    pub variables: Option<HashMap<String, String>>,
    pub enabled: Option<bool>,
    pub prefer_lsp: Option<bool>,
}
- [L888:L891]struct LanguageToSettingsMap(pub HashMap<SharedString, LanguageSettingsContent>);
- [L909:L917]enum IndentGuideColoring {
    Disabled,
    Fixed,
    IndentAware,
}
- [L935:L941]enum IndentGuideBackgroundColoring {
    Disabled,
    IndentAware,
}

## crates/settings/src/settings_content/language_model.rs
- [L10:L25]struct AllLanguageModelSettingsContent {
    pub anthropic: Option<AnthropicSettingsContent>,
    pub bedrock: Option<AmazonBedrockSettingsContent>,
    pub deepseek: Option<DeepseekSettingsContent>,
    pub google: Option<GoogleSettingsContent>,
    pub lmstudio: Option<LmStudioSettingsContent>,
    pub mistral: Option<MistralSettingsContent>,
    pub ollama: Option<OllamaSettingsContent>,
    pub open_router: Option<OpenRouterSettingsContent>,
    pub openai: Option<OpenAiSettingsContent>,
    pub openai_compatible: Option<HashMap<Arc<str>, OpenAiCompatibleSettingsContent>>,
    pub vercel: Option<VercelSettingsContent>,
    pub x_ai: Option<XAiSettingsContent>,
    pub zed_dot_dev: Option<ZedDotDevSettingsContent>,
}
- [L29:L32]struct AnthropicSettingsContent {
    pub api_url: Option<String>,
    pub available_models: Option<Vec<AnthropicAvailableModel>>,
}
- [L36:L54]struct AnthropicAvailableModel {
    pub name: String,
    pub display_name: Option<String>,
    pub max_tokens: u64,
    pub tool_override: Option<String>,
    pub cache_configuration: Option<LanguageModelCacheConfiguration>,
    pub max_output_tokens: Option<u64>,
    pub default_temperature: Option<f32>,
    pub extra_beta_headers: Vec<String>,
    pub mode: Option<ModelMode>,
}
- [L58:L65]struct AmazonBedrockSettingsContent {
    pub available_models: Option<Vec<BedrockAvailableModel>>,
    pub endpoint_url: Option<String>,
    pub region: Option<String>,
    pub profile: Option<String>,
    pub authentication_method: Option<BedrockAuthMethodContent>,
    pub allow_global: Option<bool>,
}
- [L69:L78]struct BedrockAvailableModel {
    pub name: String,
    pub display_name: Option<String>,
    pub max_tokens: u64,
    pub cache_configuration: Option<LanguageModelCacheConfiguration>,
    pub max_output_tokens: Option<u64>,
    pub default_temperature: Option<f32>,
    pub mode: Option<ModelMode>,
}
- [L81:L91]enum BedrockAuthMethodContent {
    NamedProfile,
    SingleSignOn,
    ApiKey,
    Automatic,
}
- [L95:L99]struct OllamaSettingsContent {
    pub api_url: Option<String>,
    pub auto_discover: Option<bool>,
    pub available_models: Option<Vec<OllamaAvailableModel>>,
}
- [L103:L118]struct OllamaAvailableModel {
    pub name: String,
    pub display_name: Option<String>,
    pub max_tokens: u64,
    pub keep_alive: Option<KeepAlive>,
    pub supports_tools: Option<bool>,
    pub supports_images: Option<bool>,
    pub supports_thinking: Option<bool>,
}
- [L122:L127]enum KeepAlive {
    Seconds(isize),
    Duration(String),
}
- [L144:L147]struct LmStudioSettingsContent {
    pub api_url: Option<String>,
    pub available_models: Option<Vec<LmStudioAvailableModel>>,
}
- [L151:L157]struct LmStudioAvailableModel {
    pub name: String,
    pub display_name: Option<String>,
    pub max_tokens: u64,
    pub supports_tool_calls: bool,
    pub supports_images: bool,
}
- [L161:L164]struct DeepseekSettingsContent {
    pub api_url: Option<String>,
    pub available_models: Option<Vec<DeepseekAvailableModel>>,
}
- [L168:L173]struct DeepseekAvailableModel {
    pub name: String,
    pub display_name: Option<String>,
    pub max_tokens: u64,
    pub max_output_tokens: Option<u64>,
}
- [L177:L180]struct MistralSettingsContent {
    pub api_url: Option<String>,
    pub available_models: Option<Vec<MistralAvailableModel>>,
}
- [L184:L193]struct MistralAvailableModel {
    pub name: String,
    pub display_name: Option<String>,
    pub max_tokens: u64,
    pub max_output_tokens: Option<u64>,
    pub max_completion_tokens: Option<u64>,
    pub supports_tools: Option<bool>,
    pub supports_images: Option<bool>,
    pub supports_thinking: Option<bool>,
}
- [L197:L200]struct OpenAiSettingsContent {
    pub api_url: Option<String>,
    pub available_models: Option<Vec<OpenAiAvailableModel>>,
}
- [L204:L211]struct OpenAiAvailableModel {
    pub name: String,
    pub display_name: Option<String>,
    pub max_tokens: u64,
    pub max_output_tokens: Option<u64>,
    pub max_completion_tokens: Option<u64>,
    pub reasoning_effort: Option<OpenAiReasoningEffort>,
}
- [L215:L220]enum OpenAiReasoningEffort {
    Minimal,
    Low,
    Medium,
    High,
}
- [L224:L227]struct OpenAiCompatibleSettingsContent {
    pub api_url: String,
    pub available_models: Vec<OpenAiCompatibleAvailableModel>,
}
- [L231:L239]struct OpenAiCompatibleAvailableModel {
    pub name: String,
    pub display_name: Option<String>,
    pub max_tokens: u64,
    pub max_output_tokens: Option<u64>,
    pub max_completion_tokens: Option<u64>,
    pub capabilities: OpenAiCompatibleModelCapabilities,
}
- [L243:L248]struct OpenAiCompatibleModelCapabilities {
    pub tools: bool,
    pub images: bool,
    pub parallel_tool_calls: bool,
    pub prompt_cache_key: bool,
}
- [L263:L266]struct VercelSettingsContent {
    pub api_url: Option<String>,
    pub available_models: Option<Vec<VercelAvailableModel>>,
}
- [L270:L276]struct VercelAvailableModel {
    pub name: String,
    pub display_name: Option<String>,
    pub max_tokens: u64,
    pub max_output_tokens: Option<u64>,
    pub max_completion_tokens: Option<u64>,
}
- [L280:L283]struct GoogleSettingsContent {
    pub api_url: Option<String>,
    pub available_models: Option<Vec<GoogleAvailableModel>>,
}
- [L287:L292]struct GoogleAvailableModel {
    pub name: String,
    pub display_name: Option<String>,
    pub max_tokens: u64,
    pub mode: Option<ModelMode>,
}
- [L296:L299]struct XAiSettingsContent {
    pub api_url: Option<String>,
    pub available_models: Option<Vec<XaiAvailableModel>>,
}
- [L303:L312]struct XaiAvailableModel {
    pub name: String,
    pub display_name: Option<String>,
    pub max_tokens: u64,
    pub max_output_tokens: Option<u64>,
    pub max_completion_tokens: Option<u64>,
    pub supports_images: Option<bool>,
    pub supports_tools: Option<bool>,
    pub parallel_tool_calls: Option<bool>,
}
- [L316:L318]struct ZedDotDevSettingsContent {
    pub available_models: Option<Vec<ZedDotDevAvailableModel>>,
}
- [L322:L347]struct ZedDotDevAvailableModel {
    pub provider: ZedDotDevAvailableProvider,
    pub name: String,
    pub display_name: Option<String>,
    pub max_tokens: usize,
    pub max_output_tokens: Option<u64>,
    pub max_completion_tokens: Option<u64>,
    pub tool_override: Option<String>,
    pub cache_configuration: Option<LanguageModelCacheConfiguration>,
    pub default_temperature: Option<f32>,
    pub extra_beta_headers: Vec<String>,
    pub mode: Option<ModelMode>,
}
- [L351:L355]enum ZedDotDevAvailableProvider {
    Anthropic,
    OpenAi,
    Google,
}
- [L359:L362]struct OpenRouterSettingsContent {
    pub api_url: Option<String>,
    pub available_models: Option<Vec<OpenRouterAvailableModel>>,
}
- [L366:L376]struct OpenRouterAvailableModel {
    pub name: String,
    pub display_name: Option<String>,
    pub max_tokens: u64,
    pub max_output_tokens: Option<u64>,
    pub max_completion_tokens: Option<u64>,
    pub supports_tools: Option<bool>,
    pub supports_images: Option<bool>,
    pub mode: Option<ModelMode>,
    pub provider: Option<OpenRouterProvider>,
}
- [L380:L392]struct OpenRouterProvider {
    order: Option<Vec<String>>,
    allow_fallbacks: bool,
    require_parameters: bool,
    data_collection: DataCollection,
    only: Option<Vec<String>>,
    ignore: Option<Vec<String>>,
    quantizations: Option<Vec<String>>,
    sort: Option<String>,
}
- [L396:L400]enum DataCollection {
    Allow,
    Disallow,
}
- [L402:L404]fn default_true() -> bool 
- [L406:L413]struct LanguageModelCacheConfiguration {
    pub max_cache_anchors: usize,
    pub should_speculate: bool,
    pub min_total_token: u64,
}
- [L419:L426]enum ModelMode {
    Default,
    Thinking {
        budget_tokens: Option<u32>,
    },
}

## crates/settings/src/settings_content/project.rs
- [L16:L16]struct LspSettingsMap(pub HashMap<Arc<str>, LspSettings>);
- [L29:L65]struct ProjectSettingsContent {
    pub all_languages: AllLanguageSettingsContent,
    pub worktree: WorktreeSettingsContent,
    pub lsp: LspSettingsMap,
    pub terminal: Option<ProjectTerminalSettingsContent>,
    pub dap: HashMap<Arc<str>, DapSettingsContent>,
    pub context_servers: HashMap<Arc<str>, ContextServerSettingsContent>,
    pub load_direnv: Option<DirenvSettings>,
    pub slash_commands: Option<SlashCommandSettings>,
    pub git_hosting_providers: Option<ExtendingVec<GitHostingProviderConfig>>,
}
- [L69:L113]struct WorktreeSettingsContent {
    pub project_name: Option<String>,
    pub prevent_sharing_in_public_channels: bool,
    pub file_scan_exclusions: Option<Vec<String>>,
    pub file_scan_inclusions: Option<Vec<String>>,
    pub private_files: Option<ExtendingVec<String>>,
    pub hidden_files: Option<Vec<String>>,
}
- [L118:L138]struct LspSettings {
    pub binary: Option<BinarySettings>,
    pub initialization_options: Option<serde_json::Value>,
    pub settings: Option<serde_json::Value>,
    pub enable_lsp_tasks: bool,
    pub fetch: Option<FetchSettings>,
}
- [L156:L161]struct BinarySettings {
    pub path: Option<String>,
    pub arguments: Option<Vec<String>>,
    pub env: Option<BTreeMap<String, String>>,
    pub ignore_system_version: Option<bool>,
}
- [L167:L170]struct FetchSettings {
    pub pre_release: Option<bool>,
}
- [L172:L180]struct GlobalLspSettingsContent {
    pub button: Option<bool>,
}
- [L185:L189]struct DapSettingsContent {
    pub binary: Option<String>,
    pub args: Option<Vec<String>>,
    pub env: Option<HashMap<String, String>>,
}
- [L195:L209]struct SessionSettingsContent {
    pub restore_unsaved_buffers: Option<bool>,
    pub trust_all_worktrees: Option<bool>,
}
- [L213:L242]enum ContextServerSettingsContent {
    Stdio {
        enabled: bool,
        command: ContextServerCommand,
    },
    Http {
        enabled: bool,
        url: String,
        headers: HashMap<String, String>,
    },
    Extension {
        enabled: bool,
        settings: serde_json::Value,
    },
}
- [L267:L274]struct ContextServerCommand {
    pub path: PathBuf,
    pub args: Vec<String>,
    pub env: Option<HashMap<String, String>>,
    pub timeout: Option<u64>,
}
- [L303:L336]struct GitSettings {
    pub enabled: Option<GitEnabledSettings>,
    pub git_gutter: Option<GitGutterSetting>,
    pub gutter_debounce: Option<u64>,
    pub inline_blame: Option<InlineBlameSettings>,
    pub blame: Option<BlameSettings>,
    pub branch_picker: Option<BranchPickerSettingsContent>,
    pub hunk_style: Option<GitHunkStyleSetting>,
    pub path_style: Option<GitPathStyle>,
}
- [L341:L345]struct GitEnabledSettings {
    pub disable_git: Option<bool>,
    pub enable_status: Option<bool>,
    pub enable_diff: Option<bool>,
}
- [L371:L377]enum GitGutterSetting {
    TrackedFiles,
    Hide,
}
- [L382:L406]struct InlineBlameSettings {
    pub enabled: Option<bool>,
    pub delay_ms: Option<DelayMs>,
    pub padding: Option<u32>,
    pub min_column: Option<u32>,
    pub show_commit_summary: Option<bool>,
}
- [L411:L416]struct BlameSettings {
    pub show_avatar: Option<bool>,
}
- [L421:L426]struct BranchPickerSettingsContent {
    pub show_author_name: Option<bool>,
}
- [L442:L448]enum GitHunkStyleSetting {
    StagedHollow,
    UnstagedHollow,
}
- [L465:L471]enum GitPathStyle {
    FileNameFirst,
    FilePathFirst,
}
- [L475:L487]struct DiagnosticsSettingsContent {
    pub button: Option<bool>,
    pub include_warnings: Option<bool>,
    pub lsp_pull_diagnostics: Option<LspPullDiagnosticsSettingsContent>,
    pub inline: Option<InlineDiagnosticsSettingsContent>,
}
- [L493:L503]struct LspPullDiagnosticsSettingsContent {
    pub enabled: Option<bool>,
    pub debounce_ms: Option<DelayMs>,
}
- [L509:L532]struct InlineDiagnosticsSettingsContent {
    pub enabled: Option<bool>,
    pub update_debounce_ms: Option<DelayMs>,
    pub padding: Option<u32>,
    pub min_column: Option<u32>,
    pub max_severity: Option<DiagnosticSeverityContent>,
}
- [L536:L543]struct NodeBinarySettings {
    pub path: Option<String>,
    pub npm_path: Option<String>,
    pub ignore_system_version: Option<bool>,
}
- [L547:L555]enum DirenvSettings {
    ShellHook,
    Direct,
    Disabled,
}
- [L573:L581]enum DiagnosticSeverityContent {
    Off,
    Error,
    Warning,
    Info,
    Hint,
    All,
}
- [L583:L597]struct GitHostingProviderConfig {
    pub provider: GitHostingProviderKind,
    pub base_url: String,
    pub name: String,
}
- [L601:L608]enum GitHostingProviderKind {
    Github,
    Gitlab,
    Bitbucket,
    Gitea,
    Forgejo,
    SourceHut,
}

## crates/settings/src/settings_content/terminal.rs
- [L12:L67]struct ProjectTerminalSettingsContent {
    pub shell: Option<Shell>,
    pub working_directory: Option<WorkingDirectory>,
    pub env: Option<HashMap<String, String>>,
    pub detect_venv: Option<VenvSettings>,
    pub path_hyperlink_regexes: Option<Vec<PathHyperlinkRegex>>,
    pub path_hyperlink_timeout_ms: Option<u64>,
}
- [L71:L176]struct TerminalSettingsContent {
    pub project: ProjectTerminalSettingsContent,
    pub font_size: Option<f32>,
    pub font_family: Option<FontFamilyName>,
    pub font_fallbacks: Option<Vec<FontFamilyName>>,
    pub line_height: Option<TerminalLineHeight>,
    pub font_features: Option<FontFeatures>,
    pub font_weight: Option<FontWeight>,
    pub cursor_shape: Option<CursorShapeContent>,
    pub blinking: Option<TerminalBlink>,
    pub alternate_scroll: Option<AlternateScroll>,
    pub option_as_meta: Option<bool>,
    pub copy_on_select: Option<bool>,
    pub keep_selection_on_copy: Option<bool>,
    pub button: Option<bool>,
    pub dock: Option<TerminalDockPosition>,
    pub default_width: Option<f32>,
    pub default_height: Option<f32>,
    pub max_scroll_history_lines: Option<usize>,
    pub scroll_multiplier: Option<f32>,
    pub toolbar: Option<TerminalToolbarContent>,
    pub scrollbar: Option<ScrollbarSettingsContent>,
    pub minimum_contrast: Option<f32>,
}
- [L193:L208]enum Shell {
    System,
    Program(String),
    WithArguments {
        program: String,
        args: Vec<String>,
        title_override: Option<SharedString>,
    },
}
- [L223:L236]enum WorkingDirectory {
    CurrentProjectDirectory,
    FirstProjectDirectory,
    AlwaysHome,
    Always { directory: String },
}
- [L242:L247]struct ScrollbarSettingsContent {
    pub show: Option<ShowScrollbar>,
}
- [L251:L260]enum TerminalLineHeight {
    Comfortable,
    Standard,
}
- [L291:L302]enum ShowScrollbar {
    Auto,
    System,
    Always,
    Never,
}
- [L320:L330]enum CursorShapeContent {
    Block,
    Underline,
    Bar,
    Hollow,
}
- [L346:L354]enum TerminalBlink {
    Off,
    TerminalControlled,
    On,
}
- [L370:L373]enum AlternateScroll {
    On,
    Off,
}
- [L378:L387]struct TerminalToolbarContent {
    pub breadcrumbs: Option<bool>,
}
- [L393:L403]enum CondaManager {
    Auto,
    Conda,
    Mamba,
    Micromamba,
}
- [L407:L422]enum VenvSettings {
    Off,
    On {
        activate_script: Option<ActivateScript>,
        venv_name: Option<String>,
        directories: Option<Vec<PathBuf>>,
        conda_manager: Option<CondaManager>,
    },
}
- [L424:L429]struct VenvSettingsContent<'a> {
    pub activate_script: ActivateScript,
    pub venv_name: &'a str,
    pub directories: &'a [PathBuf],
    pub conda_manager: CondaManager,
}
- [L452:L455]enum PathHyperlinkRegex {
    SingleLine(String),
    MultiLine(Vec<String>),
}
- [L471:L475]enum TerminalDockPosition {
    Left,
    Bottom,
    Right,
}
- [L479:L487]enum ActivateScript {
    Default,
    Csh,
    Fish,
    Nushell,
    PowerShell,
    Pyenv,
}

## crates/settings/src/settings_content/theme.rs
- [L12:L80]struct ThemeSettingsContent {
    pub ui_font_size: Option<f32>,
    pub ui_font_family: Option<FontFamilyName>,
    pub ui_font_fallbacks: Option<Vec<FontFamilyName>>,
    pub ui_font_features: Option<FontFeatures>,
    pub ui_font_weight: Option<FontWeight>,
    pub buffer_font_family: Option<FontFamilyName>,
    pub buffer_font_fallbacks: Option<Vec<FontFamilyName>>,
    pub buffer_font_size: Option<f32>,
    pub buffer_font_weight: Option<FontWeight>,
    pub buffer_line_height: Option<BufferLineHeight>,
    pub buffer_font_features: Option<FontFeatures>,
    pub agent_ui_font_size: Option<f32>,
    pub agent_buffer_font_size: Option<f32>,
    pub theme: Option<ThemeSelection>,
    pub icon_theme: Option<IconThemeSelection>,
    pub ui_density: Option<UiDensity>,
    pub unnecessary_code_fade: Option<CodeFade>,
    pub experimental_theme_overrides: Option<ThemeStyleContent>,
    pub theme_overrides: HashMap<String, ThemeStyleContent>,
}
- [L95:L95]struct CodeFade(#[serde(serialize_with = "serialize_f32_with_two_decimal_places")] pub f32);
- [L109:L111]fn default_font_features() -> Option<FontFeatures> 
- [L113:L115]fn default_font_fallbacks() -> Option<FontFallbacks> 
- [L117:L119]fn default_buffer_font_weight() -> Option<FontWeight> 
- [L135:L148]enum ThemeSelection {
    Static(ThemeName),
    Dynamic {
        mode: ThemeAppearanceMode,
        light: ThemeName,
        dark: ThemeName,
    },
}
- [L164:L177]enum IconThemeSelection {
    Static(IconThemeName),
    Dynamic {
        mode: ThemeAppearanceMode,
        light: IconThemeName,
        dark: IconThemeName,
    },
}
- [L199:L209]enum ThemeAppearanceMode {
    Light,
    Dark,
    System,
}
- [L229:L240]enum UiDensity {
    Compact,
    Default,
    Comfortable,
}
- [L254:L258]struct FontFamilyName(pub Arc<str>);
- [L305:L313]enum BufferLineHeight {
    Comfortable,
    Standard,
}
- [L315:L327]fn deserialize_line_height<'de, D>(deserializer: D) -> Result<f32, D::Error>
where
    D: serde::Deserializer<'de>,
- [L329:L352]struct ThemeStyleContent {
    pub window_background_appearance: Option<WindowBackgroundContent>,
    pub accents: Vec<AccentContent>,
    pub colors: ThemeColorsContent,
    pub status: StatusColorsContent,
    pub players: Vec<PlayerColorContent>,
    pub syntax: IndexMap<String, HighlightStyleContent>,
}
- [L355:L355]struct AccentContent(pub Option<SharedString>);
- [L358:L362]struct PlayerColorContent {
    pub cursor: Option<String>,
    pub background: Option<String>,
    pub selection: Option<String>,
}
- [L364:L368]struct ThemeName(pub Arc<str>);
- [L370:L374]struct IconThemeName(pub Arc<str>);
- [L379:L919]struct ThemeColorsContent {
    pub border: Option<String>,
    pub border_variant: Option<String>,
    pub border_focused: Option<String>,
    pub border_selected: Option<String>,
    pub border_transparent: Option<String>,
    pub border_disabled: Option<String>,
    pub elevated_surface_background: Option<String>,
    pub surface_background: Option<String>,
    pub background: Option<String>,
    pub element_background: Option<String>,
    pub element_hover: Option<String>,
    pub element_active: Option<String>,
    pub element_selected: Option<String>,
    pub element_disabled: Option<String>,
    pub element_selection_background: Option<String>,
    pub drop_target_background: Option<String>,
    pub drop_target_border: Option<String>,
    pub ghost_element_background: Option<String>,
    pub ghost_element_hover: Option<String>,
    pub ghost_element_active: Option<String>,
    pub ghost_element_selected: Option<String>,
    pub ghost_element_disabled: Option<String>,
    pub text: Option<String>,
    pub text_muted: Option<String>,
    pub text_placeholder: Option<String>,
    pub text_disabled: Option<String>,
    pub text_accent: Option<String>,
    pub icon: Option<String>,
    pub icon_muted: Option<String>,
    pub icon_disabled: Option<String>,
    pub icon_placeholder: Option<String>,
    pub icon_accent: Option<String>,
    pub debugger_accent: Option<String>,
    pub status_bar_background: Option<String>,
    pub title_bar_background: Option<String>,
    pub title_bar_inactive_background: Option<String>,
    pub toolbar_background: Option<String>,
    pub tab_bar_background: Option<String>,
    pub tab_inactive_background: Option<String>,
    pub tab_active_background: Option<String>,
    pub search_match_background: Option<String>,
    pub search_active_match_background: Option<String>,
    pub panel_background: Option<String>,
    pub panel_focused_border: Option<String>,
    pub panel_indent_guide: Option<String>,
    pub panel_indent_guide_hover: Option<String>,
    pub panel_indent_guide_active: Option<String>,
    pub panel_overlay_background: Option<String>,
    pub panel_overlay_hover: Option<String>,
    pub pane_focused_border: Option<String>,
    pub pane_group_border: Option<String>,
    pub deprecated_scrollbar_thumb_background: Option<String>,
    pub scrollbar_thumb_background: Option<String>,
    pub scrollbar_thumb_hover_background: Option<String>,
    pub scrollbar_thumb_active_background: Option<String>,
    pub scrollbar_thumb_border: Option<String>,
    pub scrollbar_track_background: Option<String>,
    pub scrollbar_track_border: Option<String>,
    pub minimap_thumb_background: Option<String>,
    pub minimap_thumb_hover_background: Option<String>,
    pub minimap_thumb_active_background: Option<String>,
    pub minimap_thumb_border: Option<String>,
    pub editor_foreground: Option<String>,
    pub editor_background: Option<String>,
    pub editor_gutter_background: Option<String>,
    pub editor_subheader_background: Option<String>,
    pub editor_active_line_background: Option<String>,
    pub editor_highlighted_line_background: Option<String>,
    pub editor_debugger_active_line_background: Option<String>,
    pub editor_line_number: Option<String>,
    pub editor_active_line_number: Option<String>,
    pub editor_hover_line_number: Option<String>,
    pub editor_invisible: Option<String>,
    pub editor_wrap_guide: Option<String>,
    pub editor_active_wrap_guide: Option<String>,
    pub editor_indent_guide: Option<String>,
    pub editor_indent_guide_active: Option<String>,
    pub editor_document_highlight_read_background: Option<String>,
    pub editor_document_highlight_write_background: Option<String>,
    pub editor_document_highlight_bracket_background: Option<String>,
    pub terminal_background: Option<String>,
    pub terminal_foreground: Option<String>,
    pub terminal_ansi_background: Option<String>,
    pub terminal_bright_foreground: Option<String>,
    pub terminal_dim_foreground: Option<String>,
    pub terminal_ansi_black: Option<String>,
    pub terminal_ansi_bright_black: Option<String>,
    pub terminal_ansi_dim_black: Option<String>,
    pub terminal_ansi_red: Option<String>,
    pub terminal_ansi_bright_red: Option<String>,
    pub terminal_ansi_dim_red: Option<String>,
    pub terminal_ansi_green: Option<String>,
    pub terminal_ansi_bright_green: Option<String>,
    pub terminal_ansi_dim_green: Option<String>,
    pub terminal_ansi_yellow: Option<String>,
    pub terminal_ansi_bright_yellow: Option<String>,
    pub terminal_ansi_dim_yellow: Option<String>,
    pub terminal_ansi_blue: Option<String>,
    pub terminal_ansi_bright_blue: Option<String>,
    pub terminal_ansi_dim_blue: Option<String>,
    pub terminal_ansi_magenta: Option<String>,
    pub terminal_ansi_bright_magenta: Option<String>,
    pub terminal_ansi_dim_magenta: Option<String>,
    pub terminal_ansi_cyan: Option<String>,
    pub terminal_ansi_bright_cyan: Option<String>,
    pub terminal_ansi_dim_cyan: Option<String>,
    pub terminal_ansi_white: Option<String>,
    pub terminal_ansi_bright_white: Option<String>,
    pub terminal_ansi_dim_white: Option<String>,
    pub link_text_hover: Option<String>,
    pub version_control_added: Option<String>,
    pub version_control_deleted: Option<String>,
    pub version_control_modified: Option<String>,
    pub version_control_renamed: Option<String>,
    pub version_control_conflict: Option<String>,
    pub version_control_ignored: Option<String>,
    pub version_control_word_added: Option<String>,
    pub version_control_word_deleted: Option<String>,
    pub version_control_conflict_marker_ours: Option<String>,
    pub version_control_conflict_marker_theirs: Option<String>,
    pub version_control_conflict_ours_background: Option<String>,
    pub version_control_conflict_theirs_background: Option<String>,
    pub vim_normal_background: Option<String>,
    pub vim_insert_background: Option<String>,
    pub vim_replace_background: Option<String>,
    pub vim_visual_background: Option<String>,
    pub vim_visual_line_background: Option<String>,
    pub vim_visual_block_background: Option<String>,
    pub vim_helix_normal_background: Option<String>,
    pub vim_helix_select_background: Option<String>,
    pub vim_mode_text: Option<String>,
}
- [L923:L943]struct HighlightStyleContent {
    pub color: Option<String>,
        skip_serializing_if = "Option::is_none",
        deserialize_with = "treat_error_as_none"
    )]
    pub background_color: Option<String>,
        skip_serializing_if = "Option::is_none",
        deserialize_with = "treat_error_as_none"
    )]
    pub font_style: Option<FontStyleContent>,
        skip_serializing_if = "Option::is_none",
        deserialize_with = "treat_error_as_none"
    )]
    pub font_weight: Option<FontWeightContent>,
}
- [L954:L961]fn treat_error_as_none<'de, T, D>(deserializer: D) -> Result<Option<T>, D::Error>
where
    T: Deserialize<'de>,
    D: Deserializer<'de>,
- [L966:L1107]struct StatusColorsContent {
    pub conflict: Option<String>,
    pub conflict_background: Option<String>,
    pub conflict_border: Option<String>,
    pub created: Option<String>,
    pub created_background: Option<String>,
    pub created_border: Option<String>,
    pub deleted: Option<String>,
    pub deleted_background: Option<String>,
    pub deleted_border: Option<String>,
    pub error: Option<String>,
    pub error_background: Option<String>,
    pub error_border: Option<String>,
    pub hidden: Option<String>,
    pub hidden_background: Option<String>,
    pub hidden_border: Option<String>,
    pub hint: Option<String>,
    pub hint_background: Option<String>,
    pub hint_border: Option<String>,
    pub ignored: Option<String>,
    pub ignored_background: Option<String>,
    pub ignored_border: Option<String>,
    pub info: Option<String>,
    pub info_background: Option<String>,
    pub info_border: Option<String>,
    pub modified: Option<String>,
    pub modified_background: Option<String>,
    pub modified_border: Option<String>,
    pub predictive: Option<String>,
    pub predictive_background: Option<String>,
    pub predictive_border: Option<String>,
    pub renamed: Option<String>,
    pub renamed_background: Option<String>,
    pub renamed_border: Option<String>,
    pub success: Option<String>,
    pub success_background: Option<String>,
    pub success_border: Option<String>,
    pub unreachable: Option<String>,
    pub unreachable_background: Option<String>,
    pub unreachable_border: Option<String>,
    pub warning: Option<String>,
    pub warning_background: Option<String>,
    pub warning_border: Option<String>,
}
- [L1109:L1116]enum WindowBackgroundContent {
    Opaque,
    Transparent,
    Blurred,
}
- [L1130:L1134]enum FontStyleContent {
    Normal,
    Italic,
    Oblique,
}
- [L1150:L1160]enum FontWeightContent {
    Thin = 100,
    ExtraLight = 200,
    Light = 300,
    Normal = 400,
    Medium = 500,
    Semibold = 600,
    Bold = 700,
    ExtraBold = 800,
    Black = 900,
}

## crates/settings/src/settings_content/workspace.rs
- [L15:L115]struct WorkspaceSettingsContent {
    pub active_pane_modifiers: Option<ActivePaneModifiers>,
    pub bottom_dock_layout: Option<BottomDockLayout>,
    pub pane_split_direction_horizontal: Option<PaneSplitDirectionHorizontal>,
    pub pane_split_direction_vertical: Option<PaneSplitDirectionVertical>,
    pub centered_layout: Option<CenteredLayoutSettings>,
    pub confirm_quit: Option<bool>,
    pub show_call_status_icon: Option<bool>,
    pub autosave: Option<AutosaveSetting>,
    pub restore_on_startup: Option<RestoreOnStartupBehavior>,
    pub restore_on_file_reopen: Option<bool>,
    pub drop_target_size: Option<f32>,
    pub when_closing_with_no_tabs: Option<CloseWindowWhenNoItems>,
    pub use_system_path_prompts: Option<bool>,
    pub use_system_prompts: Option<bool>,
    pub command_aliases: HashMap<String, String>,
    pub max_tabs: Option<NonZeroUsize>,
    pub on_last_window_closed: Option<OnLastWindowClosed>,
    pub resize_all_panels_in_dock: Option<Vec<DockPosition>>,
    pub close_on_file_delete: Option<bool>,
    pub use_system_window_tabs: Option<bool>,
    pub zoomed_padding: Option<bool>,
    pub window_decorations: Option<WindowDecorations>,
}
- [L119:L145]struct ItemSettingsContent {
    pub git_status: Option<bool>,
    pub close_position: Option<ClosePosition>,
    pub file_icons: Option<bool>,
    pub activate_on_close: Option<ActivateOnClose>,
    pub show_diagnostics: Option<ShowDiagnostics>,
    pub show_close_button: Option<ShowCloseButton>,
}
- [L149:L180]struct PreviewTabsSettingsContent {
    pub enabled: Option<bool>,
    pub enable_preview_from_project_panel: Option<bool>,
    pub enable_preview_from_file_finder: Option<bool>,
    pub enable_preview_from_multibuffer: Option<bool>,
    pub enable_preview_multibuffer_from_code_navigation: Option<bool>,
    pub enable_preview_file_from_code_navigation: Option<bool>,
    pub enable_keep_preview_on_code_navigation: Option<bool>,
}
- [L196:L200]enum ClosePosition {
    Left,
    Right,
}
- [L216:L221]enum ShowCloseButton {
    Always,
    Hover,
    Hidden,
}
- [L238:L243]enum ShowDiagnostics {
    Off,
    Errors,
    All,
}
- [L259:L264]enum ActivateOnClose {
    History,
    Neighbour,
    LeftNeighbour,
}
- [L269:L285]struct ActivePaneModifiers {
    pub border_size: Option<f32>,
    pub inactive_opacity: Option<InactiveOpacity>,
}
- [L301:L311]enum BottomDockLayout {
    Contained,
    Full,
    LeftAligned,
    RightAligned,
}
- [L327:L333]enum WindowDecorations {
    Client,
    Server,
}
- [L349:L357]enum CloseWindowWhenNoItems {
    PlatformDefault,
    CloseWindow,
    KeepWindowOpen,
}
- [L384:L395]enum RestoreOnStartupBehavior {
    EmptyTab,
    LastWorkspace,
    LastSession,
    Launchpad,
}
- [L399:L412]struct TabBarSettingsContent {
    pub show: Option<bool>,
    pub show_nav_history_buttons: Option<bool>,
    pub show_tab_bar_buttons: Option<bool>,
}
- [L416:L434]struct StatusBarSettingsContent {
    pub show: Option<bool>,
    pub active_language_button: Option<bool>,
    pub cursor_position_button: Option<bool>,
    pub line_endings_button: Option<bool>,
}
- [L450:L459]enum AutosaveSetting {
    Off,
    AfterDelay { milliseconds: DelayMs },
    OnFocusChange,
    OnWindowChange,
}
- [L486:L489]enum PaneSplitDirectionHorizontal {
    Up,
    Down,
}
- [L505:L508]enum PaneSplitDirectionVertical {
    Left,
    Right,
}
- [L513:L524]struct CenteredLayoutSettings {
    pub left_padding: Option<CenteredPaddingSettings>,
    pub right_padding: Option<CenteredPaddingSettings>,
}
- [L540:L546]enum OnLastWindowClosed {
    PlatformDefault,
    QuitApp,
}
- [L559:L572]struct ProjectPanelAutoOpenSettings {
    pub on_create: Option<bool>,
    pub on_paste: Option<bool>,
    pub on_drop: Option<bool>,
}
- [L576:L660]struct ProjectPanelSettingsContent {
    pub button: Option<bool>,
    pub hide_gitignore: Option<bool>,
    pub default_width: Option<f32>,
    pub dock: Option<DockSide>,
    pub entry_spacing: Option<ProjectPanelEntrySpacing>,
    pub file_icons: Option<bool>,
    pub folder_icons: Option<bool>,
    pub git_status: Option<bool>,
    pub indent_size: Option<f32>,
    pub auto_reveal_entries: Option<bool>,
    pub auto_fold_dirs: Option<bool>,
    pub starts_open: Option<bool>,
    pub scrollbar: Option<ScrollbarSettingsContent>,
    pub show_diagnostics: Option<ShowDiagnostics>,
    pub indent_guides: Option<ProjectPanelIndentGuidesSettings>,
    pub hide_root: Option<bool>,
    pub hide_hidden: Option<bool>,
    pub sticky_scroll: Option<bool>,
    pub drag_and_drop: Option<bool>,
    pub auto_open: Option<ProjectPanelAutoOpenSettings>,
    pub sort_mode: Option<ProjectPanelSortMode>,
}
- [L677:L683]enum ProjectPanelEntrySpacing {
    Comfortable,
    Standard,
}
- [L700:L708]enum ProjectPanelSortMode {
    DirectoriesFirst,
    Mixed,
    FilesFirst,
}
- [L714:L716]struct ProjectPanelIndentGuidesSettings {
    pub show: Option<ShowIndentGuides>,
}

## crates/settings/src/settings_file.rs
- [L8:L8]const EMPTY_THEME_NAME: &str = "empty-theme";
- [L11:L47]fn test_settings() -> String 
- [L49:L79]fn watch_config_file(
    executor: &BackgroundExecutor,
    fs: Arc<dyn Fs>,
    path: PathBuf,
) -> mpsc::UnboundedReceiver<String> 
- [L81:L127]fn watch_config_dir(
    executor: &BackgroundExecutor,
    fs: Arc<dyn Fs>,
    dir_path: PathBuf,
    config_paths: HashSet<PathBuf>,
) -> mpsc::UnboundedReceiver<String> 
- [L129:L135]fn update_settings_file(
    fs: Arc<dyn Fs>,
    cx: &App,
    update: impl 'static + Send + FnOnce(&mut SettingsContent, &App),
) 

## crates/settings/src/settings_store.rs
- [L31:L31]type EditorconfigProperties = ec4rs::Properties;
- [L45:L45]const LSP_SETTINGS_SCHEMA_URL_PREFIX: &str = "zed://schemas/settings/lsp/";
- [L47:L47]trait SettingsKey: 'static + Send + Sync {
- [L59:L59]trait Settings: 'static + Send + Sync + Sized {
- [L130:L134]struct RegisteredSetting {
    pub settings_value: fn() -> Box<dyn AnySettingValue>,
    pub from_settings: fn(&SettingsContent) -> Box<dyn Any>,
    pub id: fn() -> TypeId,
}
- [L139:L142]struct SettingsLocation<'a> {
    pub worktree_id: WorktreeId,
    pub path: &'a RelPath,
}
- [L144:L162]struct SettingsStore {
    setting_values: HashMap<TypeId, Box<dyn AnySettingValue>>,
    default_settings: Rc<SettingsContent>,
    user_settings: Option<UserSettingsContent>,
    global_settings: Option<Box<SettingsContent>>,
    extension_settings: Option<Box<SettingsContent>>,
    server_settings: Option<Box<SettingsContent>>,
    merged_settings: Rc<SettingsContent>,
    local_settings: BTreeMap<(WorktreeId, Arc<RelPath>), SettingsContent>,
    raw_editorconfig_settings: BTreeMap<(WorktreeId, Arc<RelPath>), (String, Option<Editorconfig>)>,
    _setting_file_updates: Task<()>,
    setting_file_updates_tx:
        mpsc::UnboundedSender<Box<dyn FnOnce(AsyncApp) -> LocalBoxFuture<'static, Result<()>>>>,
    file_errors: BTreeMap<SettingsFile, SettingsParseResult>,
}
- [L165:L172]enum SettingsFile {
    Default,
    Global,
    User,
    Server,
    Project((WorktreeId, Arc<RelPath>)),
}
- [L205:L207]struct Editorconfig {
    pub is_root: bool,
    pub sections: SmallVec<[Section; 5]>,
- [L225:L230]enum LocalSettingsKind {
    Settings,
    Tasks,
    Editorconfig,
    Debug,
}
- [L236:L241]struct SettingValue<T> {
    pub global_value: Option<T>,
    pub local_values: Vec<(WorktreeId, Arc<RelPath>, T)>,
}
- [L244:L244]trait AnySettingValue: 'static + Send + Sync {
- [L256:L263]struct SettingsJsonSchemaParams<'a> {
    pub language_names: &'a [String],
    pub font_names: &'a [String],
    pub theme_names: &'a [SharedString],
    pub icon_theme_names: &'a [SharedString],
    pub lsp_adapter_names: &'a [String],
}
- [L1211:L1218]struct SettingsParseResult {
    pub parse_status: ParseStatus,
    pub migration_status: MigrationStatus,
}
- [L1221:L1226]enum ParseStatus {
    Success,
    Failed { error: String },
}
- [L1229:L1236]enum MigrationStatus {
    NotNeeded,
    Succeeded,
    Failed { error: String },
}
- [L1302:L1310]enum InvalidSettingsError {
    LocalSettings { path: Arc<RelPath>, message: String },
    UserSettings { message: String },
    ServerSettings { message: String },
    DefaultSettings { message: String },
    Editorconfig { path: Arc<RelPath>, message: String },
    Tasks { path: PathBuf, message: String },
    Debug { path: PathBuf, message: String },
}

## crates/settings/src/vscode_import.rs
- [L15:L18]enum VsCodeSettingsSource {
    VsCode,
    Cursor,
}
- [L29:L33]struct VsCodeSettings {
    pub source: VsCodeSettingsSource,
    pub path: Arc<Path>,
    content: Map<String, Value>,
}
- [L911:L917]fn skip_default<T: Default + PartialEq>(value: T) -> Option<T> 

## crates/settings_json/src/settings_json.rs
- [L8:L65]fn update_value_in_json_text<'a>(
    text: &mut String,
    key_path: &mut Vec<&'a str>,
    tab_size: usize,
    old_value: &'a Value,
    new_value: &'a Value,
    edits: &mut Vec<(Range<usize>, String)>,
) 
- [L67:L285]fn replace_value_in_json_text<T: AsRef<str>>(
    text: &str,
    key_path: &[T],
    tab_size: usize,
    new_value: Option<&Value>,
    replace_key: Option<&str>,
) -> (Range<usize>, String) 
- [L287:L301]fn construct_json_value(
    key_path: &[impl AsRef<str>],
    new_value: Option<&serde_json::Value>,
) -> serde_json::Value 
- [L303:L305]fn parse_index_key(index_key: &str) -> Option<usize> 
- [L307:L372]fn handle_possible_array_value(
    key_node: &tree_sitter::Node,
    value_node: &tree_sitter::Node,
    text: &str,
    remaining_key_path: &[impl AsRef<str>],
    new_value: Option<&Value>,
    replace_key: Option<&str>,
    tab_size: usize,
) -> Option<(Range<usize>, String)> 
- [L378:L498]fn replace_top_level_array_value_in_json_text(
    text: &str,
    key_path: &[impl AsRef<str>],
    new_value: Option<&Value>,
    replace_key: Option<&str>,
    array_index: usize,
    tab_size: usize,
) -> (Range<usize>, String) 
- [L500:L620]fn append_top_level_array_value_in_json_text(
    text: &str,
    new_value: &Value,
    tab_size: usize,
) -> (Range<usize>, String) 
- [L622:L714]fn infer_json_indent_size(text: &str) -> usize 
- [L716:L741]fn to_pretty_json(
    value: &impl Serialize,
    indent_size: usize,
    indent_prefix_len: usize,
) -> String 
- [L743:L746]fn parse_json_with_comments<T: DeserializeOwned>(content: &str) -> Result<T> 

## crates/settings_macros/src/settings_macros.rs
- [L8:L78]fn derive_merge_from(input: TokenStream) -> TokenStream 
- [L83:L103]fn derive_register_setting(input: TokenStream) -> TokenStream 
- [L110:L152]fn with_fallible_options(_args: TokenStream, input: TokenStream) -> TokenStream 

## crates/settings_profile_selector/src/settings_profile_selector.rs
- [L10:L16]fn init(cx: &mut App) 
- [L18:L27]fn toggle_settings_profile_selector(
    workspace: &mut Workspace,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) 
- [L29:L31]struct SettingsProfileSelector {
    picker: Entity<Picker<SettingsProfileSelectorDelegate>>,
}
- [L60:L68]struct SettingsProfileSelectorDelegate {
    matches: Vec<StringMatch>,
    profile_names: Vec<Option<String>>,
    original_profile_name: Option<String>,
    selected_profile_name: Option<String>,
    selected_index: usize,
    selection_completed: bool,
    selector: WeakEntity<SettingsProfileSelector>,
}
- [L276:L278]fn display_name(profile_name: &Option<String>) -> String 

## crates/settings_ui/src/components.rs

## crates/settings_ui/src/components/dropdown.rs
- [L10:L21]struct EnumVariantDropdown<T>
where
    T: strum::VariantArray + strum::VariantNames + Copy + PartialEq + Send + Sync + 'static,
{
    id: ElementId,
    current_value: T,
    variants: &'static [T],
    labels: &'static [&'static str],
    should_do_title_case: bool,
    tab_index: Option<isize>,
    on_change: Rc<dyn Fn(T, &mut App) + 'static>,
}

## crates/settings_ui/src/components/font_picker.rs
- [L11:L17]struct FontPickerDelegate {
    fonts: Vec<SharedString>,
    filtered_fonts: Vec<StringMatch>,
    selected_index: usize,
    current_font: SharedString,
    on_font_changed: Arc<dyn Fn(SharedString, &mut App) + 'static>,
}
- [L169:L181]fn font_picker(
    current_font: SharedString,
    on_font_changed: impl Fn(SharedString, &mut App) + 'static,
    window: &mut Window,
    cx: &mut Context<FontPicker>,
) -> FontPicker 

## crates/settings_ui/src/components/icon_theme_picker.rs
- [L11:L17]struct IconThemePickerDelegate {
    icon_themes: Vec<SharedString>,
    filtered_themes: Vec<StringMatch>,
    selected_index: usize,
    current_theme: SharedString,
    on_theme_changed: Arc<dyn Fn(SharedString, &mut App) + 'static>,
}
- [L177:L189]fn icon_theme_picker(
    current_theme: SharedString,
    on_theme_changed: impl Fn(SharedString, &mut App) + 'static,
    window: &mut Window,
    cx: &mut Context<IconThemePicker>,
) -> IconThemePicker 

## crates/settings_ui/src/components/input_field.rs
- [L9:L14]struct SettingsInputField {
    initial_text: Option<String>,
    placeholder: Option<&'static str>,
    confirm: Option<Box<dyn Fn(Option<String>, &mut App)>>,
    tab_index: Option<isize>,
}

## crates/settings_ui/src/components/section_items.rs
- [L5:L9]struct SettingsSectionHeader {
    icon: Option<IconName>,
    label: SharedString,
    no_padding: bool,
}

## crates/settings_ui/src/components/theme_picker.rs
- [L11:L17]struct ThemePickerDelegate {
    themes: Vec<SharedString>,
    filtered_themes: Vec<StringMatch>,
    selected_index: usize,
    current_theme: SharedString,
    on_theme_changed: Arc<dyn Fn(SharedString, &mut App) + 'static>,
}
- [L167:L179]fn theme_picker(
    current_theme: SharedString,
    on_theme_changed: impl Fn(SharedString, &mut App) + 'static,
    window: &mut Window,
    cx: &mut Context<ThemePicker>,
) -> ThemePicker 

## crates/settings_ui/src/page_data.rs
- [L6284:L6288]fn current_language() -> Option<SharedString> 
- [L6290:L6305]fn language_settings_field<T>(
    settings_content: &SettingsContent,
    get: fn(&LanguageSettingsContent) -> Option<&T>,
) -> Option<&T> 
- [L6307:L6323]fn language_settings_field_mut<T>(
    settings_content: &mut SettingsContent,
    value: Option<T>,
    write: fn(&mut LanguageSettingsContent, Option<T>),
) 
- [L6325:L7401]fn language_settings_data() -> Vec<SettingsPageItem> 
- [L7403:L7649]fn non_editor_language_settings_data() -> Vec<SettingsPageItem> 
- [L7651:L7710]fn edit_prediction_language_settings_section() -> Vec<SettingsPageItem> 
- [L7712:L7721]fn show_scrollbar_or_editor(
    settings_content: &SettingsContent,
    show: fn(&SettingsContent) -> Option<&settings::ShowScrollbar>,
) -> Option<&settings::ShowScrollbar> 
- [L7723:L7729]fn dynamic_variants<T>() -> &'static [T::Discriminant]
where
    T: strum::IntoDiscriminant,
    T::Discriminant: strum::VariantArray,

## crates/settings_ui/src/pages.rs

## crates/settings_ui/src/pages/edit_prediction_provider_setup.rs
- [L16:L19]struct EditPredictionSetupPage {
    settings_window: Entity<SettingsWindow>,
    scroll_handle: ScrollHandle,
}
- [L104:L237]fn render_api_key_provider(
    icon: IconName,
    title: &'static str,
    link: SharedString,
    api_key_state: Entity<ApiKeyState>,
    current_url: fn(&mut App) -> SharedString,
    additional_fields: Option<AnyElement>,
    window: &mut Window,
    cx: &mut Context<EditPredictionSetupPage>,
) -> impl IntoElement 
- [L239:L338]fn codestral_settings() -> Box<[SettingsPageItem]> 

## crates/settings_ui/src/settings_ui.rs
- [L87:L87]struct FocusFile(pub u32);
- [L89:L111]struct SettingField<T: 'static> {
    pick: fn(&SettingsContent) -> Option<&T>,
    write: fn(&mut SettingsContent, Option<T>),
    json_path: Option<&'static str>,
}
- [L122:L126]struct UnimplementedSettingField;
- [L232:L251]struct SettingFieldRenderer {
    renderers: Rc<
        RefCell<
            HashMap<
                TypeId,
                Box<
                    dyn Fn(
                        &SettingsWindow,
                        &SettingItem,
                        SettingsUiFile,
                        Option<&SettingsFieldMetadata>,
                        bool,
                        &mut Window,
                        &mut Context<SettingsWindow>,
                    ) -> Stateful<Div>,
                >,
            >,
        >,
    >,
}
- [L334:L337]struct NonFocusableHandle {
    handle: FocusHandle,
    _subscription: Subscription,
}
- [L367:L370]struct SettingsFieldMetadata {
    placeholder: Option<&'static str>,
    should_do_titlecase: Option<bool>,
}
- [L372:L402]fn init(cx: &mut App) 
- [L404:L518]fn init_renderers(cx: &mut App) 
- [L520:L643]fn open_settings_editor(
    _workspace: &mut Workspace,
    path: Option<&str>,
    open_project_settings: bool,
    workspace_handle: WindowHandle<Workspace>,
    cx: &mut App,
) 
- [L651:L651]static SUB_PAGE_STACK: LazyLock<RwLock<Vec<SubPage>>> = LazyLock::new(|| RwLock::new(Vec::new()));
- [L645:L657]fn sub_page_stack() -> std::sync::RwLockReadGuard<'static, Vec<SubPage>> 
- [L659:L663]fn sub_page_stack_mut() -> std::sync::RwLockWriteGuard<'static, Vec<SubPage>> 
- [L665:L693]struct SettingsWindow {
    title_bar: Option<Entity<PlatformTitleBar>>,
    original_window: Option<WindowHandle<Workspace>>,
    files: Vec<(SettingsUiFile, FocusHandle)>,
    worktree_root_dirs: HashMap<WorktreeId, String>,
    current_file: SettingsUiFile,
    pages: Vec<SettingsPage>,
    search_bar: Entity<Editor>,
    search_task: Option<Task<()>>,
    navbar_entry: usize,
    navbar_entries: Vec<NavBarEntry>,
    navbar_scroll_handle: UniformListScrollHandle,
    navbar_focus_subscriptions: Vec<gpui::Subscription>,
    filter_table: Vec<Vec<bool>>,
    has_query: bool,
    content_handles: Vec<Vec<Entity<NonFocusableHandle>>>,
    sub_page_scroll_handle: ScrollHandle,
    focus_handle: FocusHandle,
    navbar_focus_handle: Entity<NonFocusableHandle>,
    content_focus_handle: Entity<NonFocusableHandle>,
    files_focus_handle: FocusHandle,
    search_index: Option<Arc<SearchIndex>>,
    list_state: ListState,
    shown_errors: HashSet<String>,
}
- [L695:L699]struct SearchIndex {
    bm25_engine: bm25::SearchEngine<usize>,
    fuzzy_match_candidates: Vec<StringMatchCandidate>,
    key_lut: Vec<SearchKeyLUTEntry>,
}
- [L701:L706]struct SearchKeyLUTEntry {
    page_index: usize,
    header_index: usize,
    item_index: usize,
    json_path: Option<&'static str>,
}
- [L708:L711]struct SubPage {
    link: SubPageLink,
    section_header: &'static str,
}
- [L714:L721]struct NavBarEntry {
    title: &'static str,
    is_root: bool,
    expanded: bool,
    page_index: usize,
    item_index: Option<usize>,
    focus_handle: FocusHandle,
}
- [L723:L726]struct SettingsPage {
    title: &'static str,
    items: Vec<SettingsPageItem>,
}
- [L729:L735]enum SettingsPageItem {
    SectionHeader(&'static str),
    SettingItem(SettingItem),
    SubPageLink(SubPageLink),
    DynamicItem(DynamicItem),
    ActionLink(ActionLink),
}
- [L1033:L1110]fn render_settings_item(
    settings_window: &SettingsWindow,
    setting_item: &SettingItem,
    file: SettingsUiFile,
    control: AnyElement,
    sub_field: bool,
    cx: &mut Context<'_, SettingsWindow>,
) -> Stateful<Div> 
- [L1112:L1157]fn render_settings_item_link(
    id: impl Into<ElementId>,
    json_path: Option<&'static str>,
    sub_field: bool,
    cx: &mut Context<'_, SettingsWindow>,
) -> impl IntoElement 
- [L1159:L1165]struct SettingItem {
    title: &'static str,
    description: &'static str,
    field: Box<dyn AnySettingField>,
    metadata: Option<Box<SettingsFieldMetadata>>,
    files: FileMask,
}
- [L1167:L1171]struct DynamicItem {
    discriminant: SettingItem,
    pick_discriminant: fn(&SettingsContent) -> Option<usize>,
    fields: Vec<Vec<SettingItem>>,
}
- [L1180:L1180]struct FileMask(u8);
- [L1240:L1255]struct SubPageLink {
    title: SharedString,
    description: Option<SharedString>,
    json_path: Option<&'static str>,
    in_json: bool,
    files: FileMask,
    render: Arc<
        dyn Fn(&mut SettingsWindow, &mut Window, &mut Context<SettingsWindow>) -> AnyElement
            + 'static
            + Send
            + Sync,
    >,
}
- [L1264:L1269]struct ActionLink {
    title: SharedString,
    description: Option<SharedString>,
    button_text: SharedString,
    on_click: Arc<dyn Fn(&mut SettingsWindow, &mut Window, &mut App) + Send + Sync>,
}
- [L1277:L1289]fn all_language_names(cx: &App) -> Vec<SharedString> 
- [L1293:L1297]enum SettingsUiFile {
    User,
    Project((WorktreeId, Arc<RelPath>)),
    Server(&'static str),
}
- [L3528:L3541]fn all_projects(cx: &App) -> impl Iterator<Item = Entity<project::Project>> 
- [L3543:L3597]fn update_settings_file(
    file: SettingsUiFile,
    file_name: Option<&'static str>,
    cx: &mut App,
    update: impl 'static + Send + FnOnce(&mut SettingsContent, &App),
) -> Result<()> 
- [L3599:L3628]fn render_text_field<T: From<String> + Into<String> + AsRef<str> + Clone>(
    field: SettingField<T>,
    file: SettingsUiFile,
    metadata: Option<&SettingsFieldMetadata>,
    _window: &mut Window,
    cx: &mut App,
) -> AnyElement 
- [L3630:L3659]fn render_toggle_button<B: Into<bool> + From<bool> + Copy>(
    field: SettingField<B>,
    file: SettingsUiFile,
    _metadata: Option<&SettingsFieldMetadata>,
    _window: &mut Window,
    cx: &mut App,
) -> AnyElement 
- [L3661:L3681]fn render_number_field<T: NumberFieldType + Send + Sync>(
    field: SettingField<T>,
    file: SettingsUiFile,
    _metadata: Option<&SettingsFieldMetadata>,
    window: &mut Window,
    cx: &mut App,
) -> AnyElement 
- [L3683:L3717]fn render_dropdown<T>(
    field: SettingField<T>,
    file: SettingsUiFile,
    metadata: Option<&SettingsFieldMetadata>,
    _window: &mut Window,
    cx: &mut App,
) -> AnyElement
where
    T: strum::VariantArray + strum::VariantNames + Copy + PartialEq + Send + Sync + 'static,
- [L3719:L3728]fn render_picker_trigger_button(id: SharedString, label: SharedString) -> Button 
- [L3730:L3778]fn render_font_picker(
    field: SettingField<settings::FontFamilyName>,
    file: SettingsUiFile,
    _metadata: Option<&SettingsFieldMetadata>,
    _window: &mut Window,
    cx: &mut App,
) -> AnyElement 
- [L3780:L3830]fn render_theme_picker(
    field: SettingField<settings::ThemeName>,
    file: SettingsUiFile,
    _metadata: Option<&SettingsFieldMetadata>,
    _window: &mut Window,
    cx: &mut App,
) -> AnyElement 
- [L3832:L3882]fn render_icon_theme_picker(
    field: SettingField<settings::IconThemeName>,
    file: SettingsUiFile,
    _metadata: Option<&SettingsFieldMetadata>,
    _window: &mut Window,
    cx: &mut App,
) -> AnyElement 
- [L3885:L3885]mod test {

## crates/snippet/src/snippet.rs
- [L6:L9]struct Snippet {
    pub text: String,
    pub tabstops: Vec<TabStop>,
}
- [L12:L13]struct TabStop {
    pub ranges: SmallVec<[Range<isize>; 2]>,
- [L45:L81]fn parse_snippet<'a>(
    mut source: &'a str,
    nested: bool,
    text: &mut String,
    tabstops: &mut BTreeMap<usize, TabStop>,
) -> Result<&'a str> 
- [L92:L134]fn parse_tabstop<'a>(
    mut source: &'a str,
    text: &mut String,
    tabstops: &mut BTreeMap<usize, TabStop>,
) -> Result<&'a str> 
- [L136:L143]fn parse_int(source: &str) -> Result<(usize, &str)> 
- [L145:L197]fn parse_choices<'a>(
    mut source: &'a str,
    text: &mut String,
) -> Result<(&'a str, Option<Vec<String>>)> 

## crates/snippet_provider/src/extension_snippet.rs
- [L10:L15]fn init(cx: &mut App) 
- [L17:L19]struct SnippetRegistryProxy {
    snippet_registry: Arc<SnippetRegistry>,
}

## crates/snippet_provider/src/format.rs
- [L8:L11]struct VsSnippetsFile {
    pub(crate) snippets: HashMap<String, VsCodeSnippet>,
}

## crates/snippet_provider/src/lib.rs
- [L2:L2]mod format;
- [L20:L23]fn init(cx: &mut App) 
- [L27:L33]fn file_stem_to_key(stem: &str) -> SnippetKind 
- [L35:L57]fn file_to_snippets(file_contents: VsSnippetsFile) -> Vec<Arc<Snippet>> 
- [L60:L65]struct Snippet {
    pub prefix: Vec<String>,
    pub body: String,
    pub description: Option<String>,
    pub name: String,
}
- [L136:L140]struct SnippetProvider {
    fs: Arc<dyn Fs>,
    snippets: HashMap<SnippetKind, BTreeMap<PathBuf, Vec<Arc<Snippet>>>>,
    watch_tasks: Vec<Task<Result<()>>>,
}
- [L143:L143]struct GlobalSnippetWatcher(Entity<SnippetProvider>);

## crates/snippet_provider/src/registry.rs
- [L10:L10]struct GlobalSnippetRegistry(Arc<SnippetRegistry>);
- [L15:L17]struct SnippetRegistry {
    snippets: RwLock<HashMap<SnippetKind, Vec<Arc<Snippet>>>>,
}

## crates/snippets_ui/src/snippets_ui.rs
- [L24:L24]struct ScopeName(Cow<'static, str>);
- [L26:L26]struct ScopeFileName(Cow<'static, str>);
- [L67:L69]fn init(cx: &mut App) 
- [L71:L74]fn register(workspace: &mut Workspace, _window: Option<&mut Window>, _: &mut Context<Workspace>) 
- [L76:L88]fn configure_snippets(
    workspace: &mut Workspace,
    _: &ConfigureSnippets,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) 
- [L90:L98]fn open_folder(
    workspace: &mut Workspace,
    _: &OpenFolder,
    _: &mut Window,
    cx: &mut Context<Workspace>,
) 
- [L100:L102]struct ScopeSelector {
    picker: Entity<Picker<ScopeSelectorDelegate>>,
}
- [L136:L144]struct ScopeSelectorDelegate {
    workspace: WeakEntity<Workspace>,
    scope_selector: WeakEntity<ScopeSelector>,
    language_registry: Arc<LanguageRegistry>,
    candidates: Vec<StringMatchCandidate>,
    matches: Vec<StringMatch>,
    selected_index: usize,
    existing_scopes: HashSet<ScopeName>,
}

## crates/sqlez/src/bindable.rs
- [L12:L12]trait StaticColumnCount {
- [L19:L19]trait Bind {
- [L23:L23]trait Column: Sized {

## crates/sqlez/src/connection.rs
- [L12:L17]struct Connection {
    pub(crate) sqlite3: *mut sqlite3,
    persistent: bool,
    pub(crate) write: RefCell<bool>,
    _sqlite: PhantomData<sqlite3>,
}
- [L220:L256]fn parse_alter_table(remaining_sql_str: &str) -> Option<(String, String)> 

## crates/sqlez/src/domain.rs
- [L3:L3]trait Domain: 'static {
- [L12:L12]trait Migrator: 'static {

## crates/sqlez/src/lib.rs
- [L1:L1]mod bindable;
- [L2:L2]mod connection;
- [L3:L3]mod domain;
- [L4:L4]mod migrations;
- [L5:L5]mod savepoint;
- [L6:L6]mod statement;
- [L7:L7]mod thread_safe_connection;
- [L8:L8]mod typed_statements;

## crates/sqlez/src/migrations.rs

## crates/sqlez/src/savepoint.rs

## crates/sqlez/src/statement.rs
- [L11:L22]struct Statement<'a> {
    pub raw_statements: Vec<*mut sqlite3_stmt>,
    current_statement: usize,
    connection: &'a Connection,
    phantom: PhantomData<sqlite3_stmt>,
}
- [L25:L28]enum StepResult {
    Row,
    Done,
}
- [L31:L37]enum SqlType {
    Text,
    Integer,
    Blob,
    Float,
    Null,
}

## crates/sqlez/src/thread_safe_connection.rs
- [L25:L25]static QUEUES: LazyLock<RwLock<HashMap<Arc<str>, WriteQueue>>> = LazyLock::new(Default::default);
- [L21:L36]struct ThreadSafeConnection {
    uri: Arc<str>,
    persistent: bool,
    connection_initialize_query: Option<&'static str>,
    connections: Arc<ThreadLocal<Connection>>,
}
- [L41:L46]struct ThreadSafeConnectionBuilder<M: Migrator + 'static = ()> {
    db_initialize_query: Option<&'static str>,
    write_queue_constructor: Option<WriteQueueConstructor>,
    connection: ThreadSafeConnection,
    _migrator: PhantomData<*mut M>,
}
- [L246:L268]fn background_thread_queue() -> WriteQueueConstructor 
- [L270:L278]fn locking_queue() -> WriteQueueConstructor 

## crates/sqlez/src/typed_statements.rs

## crates/sqlez/src/util.rs
- [L7:L14]struct UnboundedSyncSender<T: Send> {
    cloneable_sender: Mutex<Sender<T>>,
    local_senders: ThreadLocal<Sender<T>>,
}

## crates/sqlez_macros/src/sqlez_macros.rs
- [L5:L5]static SQLITE: std::sync::LazyLock<sqlez::thread_safe_connection::ThreadSafeConnection> =
- [L16:L32]fn sql(tokens: TokenStream) -> TokenStream 
- [L34:L48]fn create_error(
    spans: Vec<(usize, Span)>,
    error_offset: usize,
    error: String,
    formatted_sql: &String,
) -> TokenStream 
- [L50:L61]fn make_sql(tokens: TokenStream) -> (Vec<(usize, Span)>, String) 
- [L63:L84]fn flatten_stream(tokens: TokenStream, result: &mut Vec<(String, Span)>) 
- [L86:L102]fn open_delimiter(delimiter: Delimiter) -> String 

## crates/story/src/story.rs
- [L7:L7]struct Story {}
- [L88:L93]struct StoryItem {
    label: SharedString,
    item: AnyElement,
    description: Option<SharedString>,
    usage: Option<SharedString>,
}
- [L161:L163]struct StorySection {
    description: Option<SharedString>,
    children: SmallVec<[AnyElement; 2]>,

## crates/storybook/build.rs
- [L1:L9]fn main() 

## crates/storybook/src/actions.rs

## crates/storybook/src/app_menus.rs
- [L3:L10]fn app_menus() -> Vec<Menu> 

## crates/storybook/src/assets.rs
- [L16:L16]struct Assets;

## crates/storybook/src/stories.rs

## crates/storybook/src/stories/auto_height_editor.rs
- [L7:L9]struct AutoHeightEditorStory {
    editor: Entity<Editor>,
}

## crates/storybook/src/stories/cursor.rs
- [L5:L5]struct CursorStory;

## crates/storybook/src/stories/focus.rs
- [L8:L13]struct FocusStory {
    parent_focus: FocusHandle,
    child_1_focus: FocusHandle,
    child_2_focus: FocusHandle,
    _focus_subscriptions: Vec<Subscription>,
}

## crates/storybook/src/stories/indent_guides.rs
- [L11:L13]struct IndentGuidesStory {
    depths: Vec<usize>,
}

## crates/storybook/src/stories/kitchen_sink.rs
- [L8:L8]struct KitchenSinkStory;

## crates/storybook/src/stories/overflow_scroll.rs
- [L6:L6]struct OverflowScrollStory;

## crates/storybook/src/stories/picker.rs
- [L8:L10]struct PickerStory {
    picker: Entity<Picker<Delegate>>,
}
- [L12:L16]struct Delegate {
    candidates: Arc<[StringMatchCandidate]>,
    matches: Vec<usize>,
    selected_ix: usize,
}

## crates/storybook/src/stories/scroll.rs
- [L5:L5]struct ScrollStory;

## crates/storybook/src/stories/text.rs
- [L8:L8]struct TextStory;

## crates/storybook/src/stories/viewport_units.rs
- [L6:L6]struct ViewportUnitsStory;

## crates/storybook/src/stories/with_rem_size.rs
- [L6:L6]struct WithRemSizeStory;
- [L27:L31]struct Example {
    rem_size: Pixels,
    border_color: Hsla,
    children: Vec<AnyElement>,
}

## crates/storybook/src/story_selector.rs
- [L13:L27]enum ComponentStory {
    ApplicationMenu,
    AutoHeightEditor,
    CollabNotification,
    ContextMenu,
    Cursor,
    Focus,
    OverflowScroll,
    Picker,
    Scroll,
    Text,
    ViewportUnits,
    WithRemSize,
    IndentGuides,
}
- [L54:L57]enum StorySelector {
    Component(ComponentStory),
    KitchenSink,
}
- [L92:L92]static ALL_STORY_SELECTORS: OnceLock<Vec<StorySelector>> = OnceLock::new();

## crates/storybook/src/storybook.rs
- [L32:L41]struct Args {
    story: Option<StorySelector>,
    theme: Option<String>,
}
- [L43:L107]fn main() 
- [L110:L112]struct StoryWrapper {
    story: AnyView,
}
- [L131:L145]fn load_embedded_fonts(cx: &App) -> anyhow::Result<()> 
- [L147:L149]fn load_storybook_keymap(cx: &mut App) 
- [L151:L153]fn init(cx: &mut App) 
- [L155:L161]fn quit(_: &Quit, cx: &mut App) 

## crates/streaming_diff/src/streaming_diff.rs
- [L11:L15]struct Matrix {
    cells: Vec<f64>,
    rows: usize,
    cols: usize,
}
- [L93:L97]enum CharOperation {
    Insert { text: String },
    Delete { bytes: usize },
    Keep { bytes: usize },
}
- [L100:L107]struct StreamingDiff {
    old: Vec<char>,
    new: Vec<char>,
    scores: Matrix,
    old_text_ix: usize,
    new_text_ix: usize,
    equal_runs: HashMap<(usize, usize), u32>,
}
- [L261:L265]enum LineOperation {
    Insert { lines: u32 },
    Delete { lines: u32 },
    Keep { lines: u32 },
}
- [L268:L281]struct LineDiff {
    inserted_newline_at_end: bool,
    old_end: Point,
    new_end: Point,
    deleted_rows: BTreeSet<u32>,
    inserted_rows: BTreeSet<u32>,
    buffered_insert: String,
    buffered_delete: usize,
}
- [L495:L497]fn is_line_start(point: Point) -> bool 
- [L499:L501]fn is_line_end(point: Point, text: &Rope) -> bool 

## crates/sum_tree/src/cursor.rs
- [L7:L11]struct StackEntry<'a, T: Item, D> {
    tree: &'a SumTree<T>,
    index: u32,
    position: D,
}
- [L30:L37]struct Cursor<'a, 'b, T: Item, D> {
    tree: &'a SumTree<T>,
    stack: ArrayVec<StackEntry<'a, T, D>, 16>,
    position: D,
    did_seek: bool,
    at_end: bool,
    cx: <T::Summary as Summary>::Context<'b>,
}
- [L54:L57]struct Iter<'a, T: Item> {
    tree: &'a SumTree<T>,
    stack: ArrayVec<StackEntry<'a, T, ()>, 16>,
}
- [L650:L653]struct FilterCursor<'a, 'b, F, T: Item, D> {
    cursor: Cursor<'a, 'b, T, D>,
    filter_node: F,
}
- [L736:L741]struct SliceSeekAggregate<T: Item> {
    tree: SumTree<T>,
    leaf_items: ArrayVec<T, { 2 * TREE_BASE }>,
    leaf_item_summaries: ArrayVec<T::Summary, { 2 * TREE_BASE }>,
    leaf_summary: T::Summary,
}
- [L743:L743]struct SummarySeekAggregate<D>(D);
- [L814:L814]struct End<D>(PhantomData<D>);

## crates/sum_tree/src/sum_tree.rs
- [L14:L14]const TREE_BASE: usize = 2;
- [L16:L16]const TREE_BASE: usize = 6;
- [L21:L21]trait Item: Clone {
- [L28:L28]trait KeyedItem: Item {
- [L38:L38]trait Summary: Clone {
- [L44:L44]trait ContextLessSummary: Clone {
- [L62:L62]struct NoSummary;
- [L82:L82]trait Dimension<'a, S: Summary>: Clone {
- [L109:L109]trait SeekTarget<'a, S: Summary, D: Dimension<'a, S>> {
- [L126:L126]struct Dimensions<D1, D2, D3 = ()>(pub D1, pub D2, pub D3);
- [L154:L182]enum Bias {
    Left,
    Right,
}
- [L193:L200]struct SumTree<T: Item>(Arc<Node<T>>);
- [L1111:L1123]enum Node<T: Item> {
    Internal {
        height: u8,
        summary: T::Summary,
        child_summaries: ArrayVec<T::Summary, { 2 * TREE_BASE }>,
        child_trees: ArrayVec<SumTree<T>, { 2 * TREE_BASE }>,
    },
    Leaf {
        summary: T::Summary,
        items: ArrayVec<T, { 2 * TREE_BASE }>,
        item_summaries: ArrayVec<T::Summary, { 2 * TREE_BASE }>,
    },
}
- [L1209:L1212]enum Edit<T: KeyedItem> {
    Insert(T),
    Remove(T::Key),
}
- [L1223:L1233]fn sum<'a, T, I>(iter: I, cx: T::Context<'_>) -> T
where
    T: 'a + Summary,
    I: Iterator<Item = &'a T>,

## crates/sum_tree/src/tree_map.rs
- [L5:L10]struct TreeMap<K, V>(SumTree<MapEntry<K, V>>)
where
    K: Clone + Ord,
    V: Clone;
- [L13:L16]struct MapEntry<K, V> {
    key: K,
    value: V,
}
- [L19:L19]struct MapKey<K>(Option<K>);
- [L28:L28]struct MapKeyRef<'a, K>(Option<&'a K>);
- [L37:L39]struct TreeSet<K>(TreeMap<K, ()>)
where
    K: Clone + Ord;
- [L214:L214]struct MapSeekTargetAdaptor<'a, T>(&'a T);
- [L228:L228]trait MapSeekTarget<K> {

## crates/supermaven/src/messages.rs
- [L5:L7]struct SetApiKey {
    pub api_key: String,
}
- [L12:L18]enum OutboundMessage {
    SetApiKey(SetApiKey),
    StateUpdate(StateUpdateMessage),
    UseFreeVersion,
    Logout,
}
- [L22:L25]struct StateUpdateMessage {
    pub new_id: String,
    pub updates: Vec<StateUpdate>,
}
- [L29:L32]enum StateUpdate {
    FileUpdate(FileUpdateMessage),
    CursorUpdate(CursorPositionUpdateMessage),
}
- [L36:L39]struct FileUpdateMessage {
    pub path: String,
    pub content: String,
}
- [L43:L46]struct CursorPositionUpdateMessage {
    pub path: String,
    pub offset: usize,
}
- [L52:L63]enum ResponseItem {
    Text { text: String },
    Del { text: String },
    Dedent { text: String },
    End,
    Barrier,
}
- [L67:L70]struct SupermavenResponse {
    pub state_id: String,
    pub items: Vec<ResponseItem>,
}
- [L73:L75]struct SupermavenMetadataMessage {
    pub dust_strings: Option<Vec<String>>,
}
- [L78:L82]struct SupermavenTaskUpdateMessage {
    pub task: String,
    pub status: TaskStatus,
    pub percent_complete: Option<f32>,
}
- [L86:L89]enum TaskStatus {
    InProgress,
    Complete,
}
- [L92:L94]struct SupermavenActiveRepoMessage {
    pub repo_simple_name: Option<String>,
}
- [L98:L101]enum SupermavenPopupAction {
    OpenUrl { label: String, url: String },
    NoOp { label: String },
}
- [L105:L108]struct SupermavenPopupMessage {
    pub message: String,
    pub actions: Vec<SupermavenPopupAction>,
}
- [L112:L114]struct ActivationRequest {
    pub activate_url: Option<String>,
}
- [L118:L121]struct SupermavenSetMessage {
    pub key: String,
    pub value: serde_json::Value,
}
- [L124:L128]enum ServiceTier {
    FreeNoLicense,
    Unknown,
}
- [L132:L153]enum SupermavenMessage {
    Response(SupermavenResponse),
    Metadata(SupermavenMetadataMessage),
    Apology {
        message: Option<String>,
    },
    ActivationRequest(ActivationRequest),
    ActivationSuccess,
    Passthrough {
        passthrough: Box<SupermavenMessage>,
    },
    Popup(SupermavenPopupMessage),
    TaskStatus(SupermavenTaskUpdateMessage),
    ActiveRepo(SupermavenActiveRepoMessage),
    ServiceTier {
        service_tier: ServiceTier,
    },
    Set(SupermavenSetMessage),
    Unknown,
}

## crates/supermaven/src/supermaven.rs
- [L36:L63]fn init(client: Arc<Client>, cx: &mut App) 
- [L65:L70]enum Supermaven {
    Starting,
    FailedDownload { error: anyhow::Error },
    Spawned(SupermavenAgent),
    Error { error: anyhow::Error },
}
- [L73:L77]enum AccountStatus {
    Unknown,
    NeedsActivation { activate_url: String },
    Ready,
}
- [L80:L80]struct SupermavenGlobal(Entity<Supermaven>);
- [L216:L253]fn find_relevant_completion<'a>(
    states: &'a BTreeMap<SupermavenCompletionStateId, SupermavenCompletionState>,
    buffer_id: EntityId,
    buffer: &BufferSnapshot,
    cursor_position: Anchor,
) -> Option<&'a str> 
- [L255:L266]struct SupermavenAgent {
    _process: Child,
    next_state_id: SupermavenCompletionStateId,
    states: BTreeMap<SupermavenCompletionStateId, SupermavenCompletionState>,
    outgoing_tx: mpsc::UnboundedSender<OutboundMessage>,
    _handle_outgoing_messages: Task<Result<()>>,
    _handle_incoming_messages: Task<Result<()>>,
    pub account_status: AccountStatus,
    service_tier: Option<ServiceTier>,
    client: Arc<Client>,
}
- [L420:L420]struct SupermavenCompletionStateId(usize);
- [L423:L432]struct SupermavenCompletionState {
    buffer_id: EntityId,
    prefix_anchor: Anchor,
    prefix_offset: usize,
    text: String,
    dedent: String,
    updates_tx: watch::Sender<()>,
}
- [L434:L437]struct SupermavenCompletion {
    pub id: SupermavenCompletionStateId,
    pub updates: watch::Receiver<()>,
}

## crates/supermaven/src/supermaven_edit_prediction_delegate.rs
- [L16:L16]const DEBOUNCE_TIMEOUT: Duration = Duration::from_millis(75);
- [L18:L26]struct SupermavenEditPredictionDelegate {
    supermaven: Entity<Supermaven>,
    buffer_id: Option<EntityId>,
    completion_id: Option<SupermavenCompletionStateId>,
    completion_text: Option<String>,
    file_extension: Option<String>,
    pending_refresh: Option<Task<Result<()>>>,
    completion_position: Option<language::Anchor>,
}
- [L47:L105]fn completion_from_diff(
    snapshot: BufferSnapshot,
    completion_text: &str,
    position: Anchor,
    delete_range: Range<Anchor>,
) -> EditPrediction 
- [L262:L271]fn reset_completion_cache(
    provider: &mut SupermavenEditPredictionDelegate,
    _cx: &mut Context<SupermavenEditPredictionDelegate>,
) 
- [L273:L281]fn trim_to_end_of_line_unless_leading_newline(text: &str) -> &str 
- [L283:L293]fn has_leading_newline(text: &str) -> bool 

## crates/supermaven_api/src/supermaven_api.rs
- [L14:L16]struct GetExternalUserRequest {
    pub id: String,
}
- [L19:L22]struct CreateExternalUserRequest {
    pub id: String,
    pub email: String,
}
- [L25:L27]struct DeleteExternalUserRequest {
    pub id: String,
}
- [L31:L33]struct CreateExternalUserResponse {
    pub api_key: String,
}
- [L36:L38]struct SupermavenApiError {
    pub message: String,
}
- [L40:L40]struct SupermavenBinary {}
- [L42:L46]struct SupermavenAdminApi {
    admin_api_key: String,
    api_url: String,
    http_client: Arc<dyn HttpClient>,
}
- [L50:L54]struct SupermavenDownloadResponse {
    pub download_url: String,
    pub version: u64,
    pub sha256_hash: String,
}
- [L58:L61]struct SupermavenUser {
        unused,
        reason = "This field was found to be unused with serde library bump; it's left as is due to insufficient context on PO's side, but it *may* be fine to remove"
- [L192:L192]async fn latest_release(
- [L223:L229]fn version_path(version: u64) -> PathBuf 
- [L231:L231]async fn has_version(version_path: &Path) -> bool {
- [L235:L235]async fn get_supermaven_agent_path(client: Arc<dyn HttpClient>) -> Result<PathBuf> {

## crates/svg_preview/src/svg_preview.rs
- [L4:L4]mod svg_preview_view;
- [L18:L26]fn init(cx: &mut App) 

## crates/svg_preview/src/svg_preview_view.rs
- [L17:L24]struct SvgPreviewView {
    focus_handle: FocusHandle,
    buffer: Option<Entity<Buffer>>,
    current_svg: Option<Result<Arc<RenderImage>, SharedString>>,
    _refresh: Task<()>,
    _buffer_subscription: Option<Subscription>,
    _workspace_subscription: Option<Subscription>,
}
- [L27:L32]enum SvgPreviewMode {
    Default,
    Follow,
}

## crates/system_specs/src/system_specs.rs
- [L20:L30]struct SystemSpecs {
    app_version: String,
    release_channel: &'static str,
    os_name: String,
    os_version: String,
    memory: u64,
    architecture: &'static str,
    commit_sha: Option<String>,
    bundle_type: Option<String>,
    gpu_specs: Option<String>,
}
- [L145:L173]fn try_determine_available_gpus() -> Option<String> 
- [L176:L183]struct GpuInfo {
    pub device_name: Option<String>,
    pub device_pci_id: u16,
    pub vendor_name: Option<String>,
    pub vendor_pci_id: u16,
    pub driver_version: Option<String>,
    pub driver_name: Option<String>,
}
- [L186:L265]fn read_gpu_info_from_sys_class_drm() -> anyhow::Result<Vec<GpuInfo>> 
- [L268:L282]fn read_pci_id_from_path(path: impl AsRef<std::path::Path>) -> anyhow::Result<u16> 
- [L284:L295]fn bundle_type() -> Option<String> 

## crates/tab_switcher/src/tab_switcher.rs
- [L33:L40]struct Toggle {
    pub select_last: bool,
}
- [L51:L54]struct TabSwitcher {
    picker: Entity<Picker<TabSwitcherDelegate>>,
    init_modifiers: Option<Modifiers>,
}
- [L58:L60]fn init(cx: &mut App) 
- [L220:L226]struct TabMatch {
    pane: WeakEntity<Pane>,
    item_index: usize,
    item: Box<dyn ItemHandle>,
    detail: usize,
    preview: bool,
}
- [L228:L239]struct TabSwitcherDelegate {
    select_last: bool,
    tab_switcher: WeakEntity<TabSwitcher>,
    selected_index: usize,
    pane: WeakEntity<Pane>,
    workspace: WeakEntity<Workspace>,
    project: Entity<Project>,
    matches: Vec<TabMatch>,
    original_items: Vec<(Entity<Pane>, usize)>,
    is_all_panes: bool,
    restored_items: bool,
}

## crates/tab_switcher/src/tab_switcher_tests.rs
- [L11:L13]fn init_logger() 
- [L252:L260]fn init_test(cx: &mut TestAppContext) -> Arc<AppState> 
- [L263:L270]fn open_tab_switcher(
    select_last: bool,
    workspace: &Entity<Workspace>,
    cx: &mut VisualTestContext,
) -> Entity<Picker<TabSwitcherDelegate>> 
- [L273:L285]fn get_active_tab_switcher(
    workspace: &Entity<Workspace>,
    cx: &mut VisualTestContext,
) -> Entity<Picker<TabSwitcherDelegate>> 
- [L310:L321]fn assert_match_selection(
    tab_switcher: &Picker<TabSwitcherDelegate>,
    expected_selection_index: usize,
    expected_item: Box<dyn ItemHandle>,
) 
- [L324:L335]fn assert_match_at_position(
    tab_switcher: &Picker<TabSwitcherDelegate>,
    match_index: usize,
    expected_item: Box<dyn ItemHandle>,
) 
- [L338:L345]fn assert_tab_switcher_is_closed(workspace: Entity<Workspace>, cx: &mut VisualTestContext) 

## crates/task/src/adapter_schema.rs
- [L5:L12]struct AdapterSchema {
    pub adapter: SharedString,
    pub schema: serde_json::Value,
}
- [L16:L16]struct AdapterSchemas(pub Vec<AdapterSchema>);

## crates/task/src/debug_format.rs
- [L13:L28]struct TcpArgumentsTemplate {
    pub port: Option<u16>,
    pub host: Option<Ipv4Addr>,
    pub timeout: Option<u64>,
}
- [L53:L58]struct AttachRequest {
    pub process_id: Option<u32>,
}
- [L83:L96]struct LaunchRequest {
    pub program: String,
    pub cwd: Option<PathBuf>,
    pub args: Vec<String>,
    pub env: FxHashMap<String, String>,
}
- [L109:L117]enum DebugRequest {
    Launch(LaunchRequest),
    Attach(AttachRequest),
}
- [L189:L197]enum BuildTaskDefinition {
    ByName(SharedString),
    Template {
        task_template: TaskTemplate,
        locator_name: Option<SharedString>,
    },
}
- [L241:L244]enum Request {
    Launch,
    Attach,
}
- [L246:L259]struct ZedDebugConfig {
    pub label: SharedString,
    pub adapter: SharedString,
    pub request: DebugRequest,
    pub stop_on_entry: Option<bool>,
}
- [L261:L281]struct DebugScenario {
    pub adapter: SharedString,
    pub label: SharedString,
    pub build: Option<BuildTaskDefinition>,
    pub config: serde_json::Value,
    pub tcp_connection: Option<TcpArgumentsTemplate>,
}
- [L283:L286]struct DebugTaskFile(pub Vec<DebugScenario>);

## crates/task/src/serde_helpers.rs
- [L4:L37]fn non_empty_string_vec<'de, D>(deserializer: D) -> Result<Vec<String>, D::Error>
where
    D: Deserializer<'de>,

## crates/task/src/static_source.rs
- [L14:L17]struct StaticSource {
    tasks: TrackedFile<TaskTemplates>,
}
- [L19:L23]struct TrackedFile<T> {
    parsed_contents: Arc<RwLock<T>>,
}

## crates/task/src/task.rs
- [L6:L6]mod static_source;
- [L34:L37]struct TaskId(pub String);
- [L39:L77]struct SpawnInTerminal {
    pub id: TaskId,
    pub full_label: String,
    pub label: String,
    pub command: Option<String>,
    pub args: Vec<String>,
    pub command_label: String,
    pub cwd: Option<PathBuf>,
    pub env: HashMap<String, String>,
    pub use_new_terminal: bool,
    pub allow_concurrent_runs: bool,
    pub reveal: RevealStrategy,
    pub reveal_target: RevealTarget,
    pub hide: HideStrategy,
    pub shell: Shell,
    pub show_summary: bool,
    pub show_command: bool,
    pub show_rerun: bool,
}
- [L109:L127]struct ResolvedTask {
    pub id: TaskId,
    original_task: TaskTemplate,
    pub resolved_label: String,
    substituted_variables: HashSet<VariableName>,
    pub resolved: SpawnInTerminal,
}
- [L146:L182]enum VariableName {
    File,
    RelativeFile,
    RelativeDir,
    Filename,
    Dirname,
    Stem,
    WorktreeRoot,
    Symbol,
    Row,
    Column,
    SelectedText,
    RunnableSymbol,
    PickProcessId,
    Custom(Cow<'static, str>),
}
- [L228:L228]const ZED_VARIABLE_NAME_PREFIX: &str = "ZED_";
- [L255:L257]struct TaskVariables(HashMap<VariableName, String>);
- [L305:L317]struct TaskContext {
    pub cwd: Option<PathBuf>,
    pub task_variables: TaskVariables,
    pub project_env: HashMap<String, String>,
}
- [L319:L321]struct RunnableTag(pub SharedString);
- [L323:L335]fn shell_from_proto(proto: proto::Shell) -> anyhow::Result<Shell> 
- [L337:L350]fn shell_to_proto(shell: Shell) -> proto::Shell 
- [L356:L359]struct EnvVariableReplacer {
    variables: HashMap<VsCodeEnvVariable, ZedEnvVariable>,
    commands: HashMap<VsCodeCommand, ZedEnvVariable>,
}

## crates/task/src/task_template.rs
- [L16:L75]struct TaskTemplate {
    pub label: String,
    pub command: String,
    pub args: Vec<String>,
    pub env: HashMap<String, String>,
    pub cwd: Option<String>,
    pub use_new_terminal: bool,
    pub allow_concurrent_runs: bool,
    pub reveal: RevealStrategy,
    pub reveal_target: RevealTarget,
    pub hide: HideStrategy,
    pub tags: Vec<String>,
    pub shell: Shell,
    pub show_summary: bool,
    pub show_command: bool,
}
- [L78:L84]enum DebugArgsRequest {
    Launch,
    Attach(AttachRequest),
}
- [L86:L97]enum RevealStrategy {
    Always,
    NoFocus,
    Never,
}
- [L99:L110]enum HideStrategy {
    Never,
    Always,
    OnSuccess,
}
- [L112:L114]struct TaskTemplates(pub Vec<TaskTemplate>);
- [L282:L292]fn truncate_variables(task_variables: &HashMap<String, &str>) -> HashMap<String, String> 
- [L294:L299]fn to_hex_hash(object: impl Serialize) -> anyhow::Result<String> 
- [L301:L322]fn substitute_variables_in_str(template_str: &str, context: &TaskContext) -> Option<String> 
- [L323:L359]fn substitute_all_template_variables_in_str<A: AsRef<str>>(
    template_str: &str,
    task_variables: &HashMap<String, A>,
    variable_names: &HashMap<String, VariableName>,
    substituted_variables: &mut HashSet<VariableName>,
) -> Option<String> 
- [L361:L378]fn substitute_all_template_variables_in_vec(
    template_strs: &[String],
    task_variables: &HashMap<String, &str>,
    variable_names: &HashMap<String, VariableName>,
    substituted_variables: &mut HashSet<VariableName>,
) -> Option<Vec<String>> 
- [L380:L404]fn substitute_variables_in_map(
    keys_and_values: &HashMap<String, String>,
    context: &TaskContext,
) -> Option<HashMap<String, String>> 
- [L405:L428]fn substitute_all_template_variables_in_map(
    keys_and_values: &HashMap<String, String>,
    task_variables: &HashMap<String, &str>,
    variable_names: &HashMap<String, VariableName>,
    substituted_variables: &mut HashSet<VariableName>,
) -> Option<HashMap<String, String>> 

## crates/task/src/vscode_debug_format.rs
- [L12:L19]struct VsCodeDebugTaskDefinition {
    name: String,
    port: Option<u16>,
    other_attributes: serde_json::Value,
}
- [L51:L55]struct VsCodeDebugTaskFile {
    version: Option<String>,
    configurations: Vec<VsCodeDebugTaskDefinition>,
}
- [L85:L97]fn task_type_to_adapter_name(task_type: &str) -> String 

## crates/task/src/vscode_format.rs
- [L10:L14]struct TaskOptions {
    cwd: Option<String>,
    env: HashMap<String, String>,
}
- [L18:L25]struct VsCodeTaskDefinition {
    label: String,
    command: Option<Command>,
    other_attributes: HashMap<String, serde_json_lenient::Value>,
    options: Option<TaskOptions>,
}
- [L30:L42]enum Command {
    Npm {
        script: String,
    },
    Shell {
        command: String,
        args: Vec<String>,
    },
    Gulp {
        task: String,
    },
}
- [L86:L90]struct VsCodeTaskFile {
    tasks: Vec<VsCodeTaskDefinition>,
}

## crates/tasks_ui/src/modal.rs
- [L25:L38]struct TasksModalDelegate {
    task_store: Entity<TaskStore>,
    candidates: Option<Vec<(TaskSourceKind, ResolvedTask)>>,
    task_overrides: Option<TaskOverrides>,
    last_used_candidate_index: Option<usize>,
    divider_index: Option<usize>,
    matches: Vec<StringMatch>,
    selected_index: usize,
    workspace: WeakEntity<Workspace>,
    prompt: String,
    task_contexts: Arc<TaskContexts>,
    placeholder_text: Arc<str>,
}
- [L40:L45]struct TaskOverrides {
    pub reveal_target: Option<RevealTarget>,
}
- [L125:L127]struct TasksModal {
    pub picker: Entity<Picker<TasksModalDelegate>>,
    _subscription: [Subscription; 2],
- [L225:L227]struct ShowAttachModal {
    pub debug_config: DebugScenario,
}
- [L730:L738]fn string_match_candidates<'a>(
    candidates: impl IntoIterator<Item = &'a (TaskSourceKind, ResolvedTask)> + 'a,
) -> Vec<StringMatchCandidate> 

## crates/tasks_ui/src/tasks_ui.rs
- [L14:L96]fn init(cx: &mut App) 
- [L98:L141]fn spawn_task_or_modal(
    workspace: &mut Workspace,
    action: &Spawn,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) 
- [L143:L179]fn toggle_modal(
    workspace: &mut Workspace,
    reveal_target: Option<RevealTarget>,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) -> Task<()> 
- [L181:L269]fn spawn_tasks_filtered<F>(
    mut predicate: F,
    overrides: Option<TaskOverrides>,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) -> Task<anyhow::Result<()>>
where
    F: FnMut((&TaskSourceKind, &TaskTemplate)) -> bool + 'static,
- [L271:L371]fn task_contexts(
    workspace: &Workspace,
    window: &mut Window,
    cx: &mut App,
) -> Task<TaskContexts> 
- [L373:L376]fn is_visible_directory(worktree: &Entity<Worktree>, cx: &App) -> bool 
- [L378:L389]fn worktree_context(worktree_abs_path: &Path) -> TaskContext 

## crates/telemetry/src/telemetry.rs
- [L56:L60]fn send_event(event: Event) 
- [L62:L64]fn init(tx: mpsc::UnboundedSender<Event>) 
- [L66:L66]static TELEMETRY_QUEUE: OnceLock<mpsc::UnboundedSender<Event>> = OnceLock::new();

## crates/telemetry_events/src/telemetry_events.rs
- [L8:L28]struct EventRequestBody {
    pub system_id: Option<String>,
    pub installation_id: Option<String>,
    pub session_id: Option<String>,
    pub metrics_id: Option<String>,
    pub is_staff: Option<bool>,
    pub app_version: String,
    pub os_name: String,
    pub os_version: Option<String>,
    pub architecture: String,
    pub release_channel: Option<String>,
    pub events: Vec<EventWrapper>,
}
- [L37:L44]struct EventWrapper {
    pub signed_in: bool,
    pub milliseconds_since_first_event: i64,
    pub event: Event,
}
- [L48:L52]enum AssistantKind {
    Panel,
    Inline,
    InlineTerminal,
}
- [L69:L75]enum AssistantPhase {
    Response,
    Invoked,
    Accepted,
    Rejected,
}
- [L94:L96]enum Event {
    Flexible(FlexibleEvent),
}
- [L99:L102]struct FlexibleEvent {
    pub event_type: String,
    pub event_properties: HashMap<String, serde_json::Value>,
}
- [L105:L108]enum EditPredictionRating {
    Positive,
    Negative,
}
- [L111:L126]struct AssistantEventData {
    pub conversation_id: Option<String>,
    pub message_id: Option<String>,
    pub kind: AssistantKind,
    pub phase: AssistantPhase,
    pub model: String,
    pub model_provider: String,
    pub response_latency: Option<Duration>,
    pub error_message: Option<String>,
    pub language_name: Option<String>,
}

## crates/terminal/src/mappings/colors.rs
- [L5:L11]fn to_alac_rgb(color: impl Into<Rgba>) -> AlacRgb 

## crates/terminal/src/mappings/keys.rs
- [L8:L15]enum AlacModifiers {
    None,
    Alt,
    Ctrl,
    Shift,
    CtrlShift,
    Other,
}
- [L46:L236]fn to_esc_str(
    keystroke: &Keystroke,
    mode: &TermMode,
    option_as_meta: bool,
) -> Option<Cow<'static, str>> 
- [L238:L261]fn modifier_code(keystroke: &Keystroke) -> u32 

## crates/terminal/src/mappings/mod.rs
- [L1:L1]mod colors;
- [L2:L2]mod keys;
- [L3:L3]mod mouse;

## crates/terminal/src/mappings/mouse.rs
- [L13:L16]enum MouseFormat {
    Sgr,
    Normal(bool),
}
- [L31:L42]enum AlacMouseButton {
    LeftButton = 0,
    MiddleButton = 1,
    RightButton = 2,
    LeftMove = 32,
    MiddleMove = 33,
    RightMove = 34,
    NoneMove = 35,
    ScrollUp = 64,
    ScrollDown = 65,
    Other = 99,
}
- [L82:L100]fn scroll_report(
    point: AlacPoint,
    scroll_lines: i32,
    e: &ScrollWheelEvent,
    mode: TermMode,
) -> Option<impl Iterator<Item = Vec<u8>>> 
- [L102:L112]fn alt_scroll(scroll_lines: i32) -> Vec<u8> 
- [L114:L133]fn mouse_button_report(
    point: AlacPoint,
    button: gpui::MouseButton,
    modifiers: Modifiers,
    pressed: bool,
    mode: TermMode,
) -> Option<Vec<u8>> 
- [L135:L153]fn mouse_moved_report(
    point: AlacPoint,
    button: Option<MouseButton>,
    modifiers: Modifiers,
    mode: TermMode,
) -> Option<Vec<u8>> 
- [L155:L161]fn grid_point(
    pos: Point<Pixels>,
    cur_size: TerminalBounds,
    display_offset: usize,
) -> AlacPoint 
- [L163:L194]fn grid_point_and_side(
    pos: Point<Pixels>,
    cur_size: TerminalBounds,
    display_offset: usize,
) -> (AlacPoint, Side) 
- [L196:L231]fn mouse_report(
    point: AlacPoint,
    button: AlacMouseButton,
    pressed: bool,
    modifiers: Modifiers,
    format: MouseFormat,
) -> Option<Vec<u8>> 
- [L233:L263]fn normal_mouse_report(point: AlacPoint, button: u8, utf8: bool) -> Option<Vec<u8>> 
- [L265:L277]fn sgr_mouse_report(point: AlacPoint, button: u8, pressed: bool) -> String 

## crates/terminal/src/pty_info.rs
- [L13:L16]struct ProcessIdGetter {
    handle: i32,
    fallback_pid: u32,
}
- [L74:L78]struct ProcessInfo {
    pub name: String,
    pub cwd: PathBuf,
    pub argv: Vec<String>,
}
- [L80:L86]struct PtyProcessInfo {
    system: System,
    refresh_kind: ProcessRefreshKind,
    pid_getter: ProcessIdGetter,
    pub current: Option<ProcessInfo>,
}

## crates/terminal/src/terminal.rs
- [L1:L1]mod mappings;
- [L7:L7]mod terminal_settings;
- [L116:L128]enum Event {
    TitleChanged,
    BreadcrumbsChanged,
    CloseTerminal,
    Bell,
    Wakeup,
    BlinkChanged(bool),
    SelectionsChanged,
    NewNavigationTarget(Option<MaybeNavigationTarget>),
    Open(MaybeNavigationTarget),
}
- [L131:L137]struct PathLikeTarget {
    pub maybe_path: String,
    pub terminal_dir: Option<PathBuf>,
}
- [L139:L147]enum MaybeNavigationTarget {
    Url(String),
    PathLike(PathLikeTarget),
}
- [L150:L166]enum InternalEvent {
    Resize(TerminalBounds),
    Clear,
    Scroll(AlacScroll),
    ScrollToAlacPoint(AlacPoint),
    SetSelection(Option<(Selection, AlacPoint)>),
    UpdateSelection(Point<Pixels>),
    FindHyperlink(Point<Pixels>, bool),
    ProcessHyperlink((String, bool, Match), bool),
    Copy(Option<bool>),
    ToggleViMode,
    ViMotion(ViMotion),
    MoveViCursorToAlacPoint(AlacPoint),
}
- [L168:L170]struct ZedListener(pub UnboundedSender<AlacTermEvent>);
- [L179:L183]struct TerminalBounds {
    pub cell_width: Pixels,
    pub line_height: Pixels,
    pub bounds: Bounds<Pixels>,
}
- [L265:L271]struct TerminalError {
    pub directory: Option<PathBuf>,
    pub program: Option<String>,
    pub args: Option<Vec<String>>,
    pub title_override: Option<String>,
    pub source: std::io::Error,
}
- [L323:L323]const MAX_SCROLL_HISTORY_LINES: usize = 100_000;
- [L325:L328]struct TerminalBuilder {
    terminal: Terminal,
    events_rx: UnboundedReceiver<AlacTermEvent>,
}
- [L750:L753]struct IndexedCell {
    pub point: AlacPoint,
    pub cell: Cell,
}
- [L766:L778]struct TerminalContent {
    pub cells: Vec<IndexedCell>,
    pub mode: TermMode,
    pub display_offset: usize,
    pub selection_text: Option<String>,
    pub selection: Option<SelectionRange>,
    pub cursor: RenderableCursor,
    pub cursor_char: char,
    pub terminal_bounds: TerminalBounds,
    pub last_hovered_word: Option<HoveredWord>,
    pub scrolled_to_top: bool,
    pub scrolled_to_bottom: bool,
}
- [L781:L785]struct HoveredWord {
    pub word: String,
    pub word_match: RangeInclusive<AlacPoint>,
    pub id: usize,
}
- [L809:L812]enum SelectionPhase {
    Selecting,
    Ended,
}
- [L814:L820]enum TerminalType {
    Pty {
        pty_tx: Notifier,
        info: PtyProcessInfo,
    },
    DisplayOnly,
}
- [L822:L852]struct Terminal {
    terminal_type: TerminalType,
    completion_tx: Option<Sender<Option<ExitStatus>>>,
    term: Arc<FairMutex<Term<ZedListener>>>,
    term_config: Config,
    events: VecDeque<InternalEvent>,
    last_mouse: Option<(AlacPoint, AlacDirection)>,
    pub matches: Vec<RangeInclusive<AlacPoint>>,
    pub last_content: TerminalContent,
    pub selection_head: Option<AlacPoint>,
    pub breadcrumb_text: String,
    title_override: Option<String>,
    scroll_px: Pixels,
    next_link_id: usize,
    selection_phase: SelectionPhase,
    hyperlink_regex_searches: RegexSearches,
    task: Option<TaskState>,
    vi_mode_enabled: bool,
    is_remote_terminal: bool,
    last_mouse_move_time: Instant,
    last_hyperlink_search_position: Option<Point<Pixels>>,
    mouse_down_hyperlink: Option<(String, bool, Match)>,
    shell_program: Option<String>,
    template: CopyTemplate,
    activation_script: Vec<String>,
    child_exited: Option<ExitStatus>,
    event_loop_task: Task<Result<(), anyhow::Error>>,
}
- [L854:L863]struct CopyTemplate {
    shell: Shell,
    env: HashMap<String, String>,
    cursor_shape: CursorShape,
    alternate_scroll: AlternateScroll,
    max_scroll_history_lines: Option<usize>,
    path_hyperlink_regexes: Vec<String>,
    path_hyperlink_timeout_ms: u64,
    window_id: u64,
}
- [L866:L870]struct TaskState {
    pub status: TaskStatus,
    pub completion_rx: Receiver<Option<ExitStatus>>,
    pub spawned_task: SpawnInTerminal,
}
- [L872:L882]enum TaskStatus {
    Unknown,
    Running,
    Completed { success: bool },
}
- [L2270:L2275]fn row_to_string(row: &Row<Cell>) -> String 
- [L2278:L2299]fn task_summary(task: &TaskState, error_code: Option<i32>) -> (bool, String, String) 
- [L2349:L2353]fn make_selection(range: &RangeInclusive<AlacPoint>) -> Selection 
- [L2355:L2362]fn all_search_matches<'a, T>(
    term: &'a Term<T>,
    regex: &'a mut RegexSearch,
) -> impl Iterator<Item = Match> + 'a 
- [L2364:L2370]fn content_index_for_mouse(pos: Point<Pixels>, terminal_bounds: &TerminalBounds) -> usize 
- [L2372:L2430]fn get_color_at_index(index: usize, theme: &Theme) -> Hsla 
- [L2432:L2450]fn rgb_for_index(i: u8) -> (u8, u8, u8) 
- [L2452:L2460]fn rgba_color(r: u8, g: u8, b: u8) -> Hsla 

## crates/terminal/src/terminal_hyperlinks.rs
- [L156:L205]fn sanitize_url_punctuation<T: EventListener>(
    url: String,
    url_match: Match,
    term: &Term<T>,
) -> (String, Match) 
- [L207:L403]fn path_match<T>(
    term: &Term<T>,
    line_start: AlacPoint,
    line_end: AlacPoint,
    hovered: AlacPoint,
    path_hyperlink_regexes: &mut Vec<Regex>,
    path_hyperlink_timeout: Duration,
) -> Option<(String, Match)> 

## crates/terminal/src/terminal_settings.rs
- [L19:L21]struct Toolbar {
    pub breadcrumbs: bool,
}
- [L24:L52]struct TerminalSettings {
    pub shell: Shell,
    pub working_directory: WorkingDirectory,
    pub font_size: Option<Pixels>,
    pub font_family: Option<FontFamilyName>,
    pub font_fallbacks: Option<FontFallbacks>,
    pub font_features: Option<FontFeatures>,
    pub font_weight: Option<FontWeight>,
    pub line_height: TerminalLineHeight,
    pub env: HashMap<String, String>,
    pub cursor_shape: CursorShape,
    pub blinking: TerminalBlink,
    pub alternate_scroll: AlternateScroll,
    pub option_as_meta: bool,
    pub copy_on_select: bool,
    pub keep_selection_on_copy: bool,
    pub button: bool,
    pub dock: TerminalDockPosition,
    pub default_width: Pixels,
    pub default_height: Pixels,
    pub detect_venv: VenvSettings,
    pub max_scroll_history_lines: Option<usize>,
    pub scroll_multiplier: f32,
    pub toolbar: Toolbar,
    pub scrollbar: ScrollbarSettings,
    pub minimum_contrast: f32,
    pub path_hyperlink_regexes: Vec<String>,
    pub path_hyperlink_timeout_ms: u64,
}
- [L55:L60]struct ScrollbarSettings {
    pub show: Option<ShowScrollbar>,
}
- [L62:L76]fn settings_shell_to_task_shell(shell: settings::Shell) -> Shell 
- [L137:L147]enum CursorShape {
    Block,
    Underline,
    Bar,
    Hollow,
}

## crates/terminal_view/src/persistence.rs
- [L35:L58]fn build_serialized_pane_group(
    pane_group: &Member,
    active_pane: &Entity<Pane>,
    cx: &mut App,
) -> SerializedPaneGroup 
- [L60:L88]fn serialize_pane(pane: &Entity<Pane>, active: bool, cx: &mut App) -> SerializedPane 
- [L148:L167]fn populate_pane_items(
    pane: &mut Pane,
    items: Vec<Entity<TerminalView>>,
    active_item: Option<u64>,
    window: &mut Window,
    cx: &mut Context<Pane>,
) 
- [L289:L321]fn deserialize_terminal_views(
    workspace_id: WorkspaceId,
    project: Entity<Project>,
    workspace: WeakEntity<Workspace>,
    item_ids: &[u64],
    cx: &mut AsyncWindowContext,
) -> impl Future<Output = Vec<Entity<TerminalView>>> + use<> 
- [L390:L390]struct TerminalDb(ThreadSafeConnection);

## crates/terminal_view/src/terminal_element.rs
- [L39:L55]struct LayoutState {
    hitbox: Hitbox,
    batched_text_runs: Vec<BatchedTextRun>,
    rects: Vec<LayoutRect>,
    relative_highlighted_ranges: Vec<(RangeInclusive<AlacPoint>, Hsla)>,
    cursor: Option<CursorLayout>,
    background_color: Hsla,
    dimensions: TerminalBounds,
    mode: TermMode,
    display_offset: usize,
    hyperlink_tooltip: Option<AnyElement>,
    gutter: Pixels,
    block_below_cursor_element: Option<AnyElement>,
    base_text_style: TextStyle,
    content_mode: ContentMode,
}
- [L57:L61]struct DisplayCursor {
    line: i32,
    col: usize,
}
- [L80:L88]struct BatchedTextRun {
    pub start_point: AlacPoint<i32, i32>,
    pub text: String,
    pub cell_count: usize,
    pub style: TextRun,
    pub font_size: AbsoluteLength,
}
- [L166:L170]struct LayoutRect {
    point: AlacPoint<i32, i32>,
    num_of_cells: usize,
    color: Hsla,
}
- [L199:L207]struct BackgroundRegion {
    start_line: i32,
    start_col: i32,
    end_line: i32,
    end_col: i32,
    color: Hsla,
}
- [L248:L278]fn merge_background_regions(regions: Vec<BackgroundRegion>) -> Vec<BackgroundRegion> 
- [L280:L292]struct TerminalElement {
    terminal: Entity<Terminal>,
    terminal_view: Entity<TerminalView>,
    workspace: WeakEntity<Workspace>,
    focus: FocusHandle,
    focused: bool,
    cursor_visible: bool,
    interactivity: Interactivity,
    mode: TerminalMode,
    block_below_cursor: Option<Rc<BlockProperties>>,
}
- [L1381:L1386]struct TerminalInputHandler {
    terminal: Entity<Terminal>,
    terminal_view: Entity<TerminalView>,
    workspace: WeakEntity<Workspace>,
    cursor_bounds: Option<Bounds<Pixels>>,
}
- [L1499:L1520]fn is_blank(cell: &IndexedCell) -> bool 
- [L1522:L1589]fn to_highlighted_range_lines(
    range: &RangeInclusive<AlacPoint>,
    layout: &LayoutState,
    origin: Point<Pixels>,
) -> Option<(Pixels, Vec<HighlightedRangeLine>)> 
- [L1591:L1636]fn convert_color(fg: &terminal::alacritty_terminal::vte::ansi::Color, theme: &Theme) -> Hsla 

## crates/terminal_view/src/terminal_panel.rs
- [L55:L75]fn init(cx: &mut App) 
- [L77:L90]struct TerminalPanel {
    pub(crate) active_pane: Entity<Pane>,
    pub(crate) center: PaneGroup,
    fs: Arc<dyn Fs>,
    workspace: WeakEntity<Workspace>,
    pub(crate) width: Option<Pixels>,
    pub(crate) height: Option<Pixels>,
    pending_serialization: Task<Option<()>>,
    pending_terminals_to_add: usize,
    deferred_tasks: HashMap<TaskId, Task<()>>,
    assistant_enabled: bool,
    assistant_tab_bar_button: Option<AnyView>,
    active: bool,
}
- [L1109:L1111]fn is_enabled_in_workspace(workspace: &Workspace, cx: &App) -> bool 
- [L1113:L1296]fn new_terminal_pane(
    workspace: WeakEntity<Workspace>,
    project: Entity<Project>,
    zoomed: bool,
    window: &mut Window,
    cx: &mut Context<TerminalPanel>,
) -> Entity<Pane> 
- [L1314:L1333]fn add_paths_to_terminal(
    pane: &mut Pane,
    paths: &[PathBuf],
    window: &mut Window,
    cx: &mut Context<Pane>,
) 
- [L1335:L1338]struct FailedToSpawnTerminal {
    error: String,
    focus_handle: FocusHandle,
}
- [L1727:L1727]struct TerminalProvider(Entity<TerminalPanel>);
- [L1758:L1760]struct InlineAssistTabBarButton {
    focus_handle: FocusHandle,
}

## crates/terminal_view/src/terminal_path_like_target.rs
- [L16:L24]enum OpenTargetFoundBy {
    WorktreeExact,
    WorktreeScan,
    FileSystemBackground,
}
- [L28:L31]enum BackgroundFsChecks {
    Enabled,
    Disabled,
}
- [L34:L37]enum OpenTarget {
    File(PathWithPosition, Metadata),
}
- [L92:L122]fn possible_hover_target(
    workspace: &WeakEntity<Workspace>,
    hovered_word: HoveredWord,
    path_like_target: &PathLikeTarget,
    cx: &mut Context<TerminalView>,
) -> Task<()> 
- [L124:L398]fn possible_open_target(
    workspace: &WeakEntity<Workspace>,
    path_like_target: &PathLikeTarget,
    cx: &App,
) -> Task<Option<OpenTarget>> 
- [L426:L512]fn possibly_open_target(
    workspace: &WeakEntity<Workspace>,
    terminal_view: &mut TerminalView,
    path_like_target: &PathLikeTarget,
    window: &mut Window,
    cx: &mut Context<TerminalView>,
) -> Task<Result<Option<OpenTarget>>> 

## crates/terminal_view/src/terminal_scrollbar.rs
- [L11:L16]struct ScrollHandleState {
    line_height: Pixels,
    total_lines: usize,
    viewport_lines: usize,
    display_offset: usize,
}
- [L30:L33]struct TerminalScrollHandle {
    state: Rc<RefCell<ScrollHandleState>>,
    pub future_display_offset: Rc<Cell<Option<usize>>>,
}

## crates/terminal_view/src/terminal_slash_command.rs
- [L17:L17]struct TerminalSlashCommand;
- [L111:L129]fn resolve_active_terminal(
    workspace: &Entity<Workspace>,
    cx: &mut App,
) -> Option<Entity<TerminalView>> 

## crates/terminal_view/src/terminal_view.rs
- [L2:L2]mod terminal_element;
- [L3:L3]mod terminal_panel;
- [L5:L5]mod terminal_scrollbar;
- [L63:L66]struct ImeState {
    marked_text: String,
    marked_range_utf16: Option<Range<usize>>,
}
- [L70:L72]struct ScrollTerminal(pub i32);
- [L74:L77]struct SendText(String);
- [L79:L82]struct SendKeystroke(String);
- [L92:L103]fn init(cx: &mut App) 
- [L105:L108]struct BlockProperties {
    pub height: u8,
    pub render: Box<dyn Send + Fn(&mut BlockContext) -> AnyElement>,
}
- [L110:L114]struct BlockContext<'a, 'b> {
    pub window: &'a mut Window,
    pub context: &'b mut App,
    pub dimensions: TerminalBounds,
}
- [L116:L140]struct TerminalView {
    terminal: Entity<Terminal>,
    workspace: WeakEntity<Workspace>,
    project: WeakEntity<Project>,
    focus_handle: FocusHandle,
    has_bell: bool,
    context_menu: Option<(Entity<ContextMenu>, gpui::Point<Pixels>, Subscription)>,
    cursor_shape: CursorShape,
    blink_manager: Entity<BlinkManager>,
    mode: TerminalMode,
    blinking_terminal_enabled: bool,
    cwd_serialized: bool,
    hover: Option<HoverTarget>,
    hover_tooltip_update: Task<()>,
    workspace_id: Option<WorkspaceId>,
    show_breadcrumbs: bool,
    block_below_cursor: Option<Rc<BlockProperties>>,
    scroll_top: Pixels,
    scroll_handle: TerminalScrollHandle,
    ime_state: Option<ImeState>,
    _subscriptions: Vec<Subscription>,
    _terminal_subscriptions: Vec<Subscription>,
}
- [L143:L149]enum TerminalMode {
    Standalone,
    Embedded {
        max_lines_when_unfocused: Option<usize>,
    },
}
- [L152:L158]enum ContentMode {
    Scrollable,
    Inline {
        displayed_lines: usize,
        total_lines: usize,
    },
}
- [L178:L181]struct HoverTarget {
    tooltip: String,
    hovered_word: HoveredWord,
}
- [L852:L859]fn terminal_rerun_override(task: &TaskId) -> zed_actions::Rerun 
- [L861:L980]fn subscribe_for_terminal_events(
    terminal: &Entity<Terminal>,
    workspace: WeakEntity<Workspace>,
    window: &mut Window,
    cx: &mut Context<TerminalView>,
) -> Vec<Subscription> 
- [L982:L992]fn regex_search_for_query(query: &project::search::SearchQuery) -> Option<RegexSearch> 
- [L994:L994]struct TerminalScrollbarSettingsWrapper;
- [L1604:L1614]fn first_project_directory(workspace: &Workspace, cx: &App) -> Option<PathBuf> 

## crates/text/src/anchor.rs
- [L8:L21]struct Anchor {
    pub timestamp: clock::Lamport,
    pub offset: usize,
    pub bias: Bias,
    pub buffer_id: Option<BufferId>,
}
- [L178:L178]trait OffsetRangeExt {
- [L203:L203]trait AnchorRangeExt {

## crates/text/src/locator.rs
- [L4:L12]struct Locator(SmallVec<[u64; 4]>);

## crates/text/src/network.rs
- [L6:L10]struct Network<T: Clone, R: rand::Rng> {
    inboxes: BTreeMap<ReplicaId, Vec<Envelope<T>>>,
    disconnected_peers: HashSet<ReplicaId>,
    rng: R,
}
- [L13:L15]struct Envelope<T: Clone> {
    message: T,
}

## crates/text/src/operation_queue.rs
- [L5:L5]trait Operation: Clone + Debug {
- [L10:L10]struct OperationItem<T>(T);
- [L13:L13]struct OperationQueue<T: Operation>(SumTree<OperationItem<T>>);
- [L16:L16]struct OperationKey(clock::Lamport);
- [L19:L22]struct OperationSummary {
    pub key: OperationKey,
    pub len: usize,
}

## crates/text/src/patch.rs
- [L8:L8]struct Patch<T>(Vec<Edit<T>>);

## crates/text/src/selection.rs
- [L6:L15]enum SelectionGoal {
    None,
    HorizontalPosition(f64),
    HorizontalRange {
        start: f64,
        end: f64,
    },
    WrappedHorizontalPosition((u32, f32)),
}
- [L18:L24]struct Selection<T> {
    pub id: usize,
    pub start: T,
    pub end: T,
    pub reversed: bool,
    pub goal: SelectionGoal,
}

## crates/text/src/subscription.rs
- [L9:L9]struct Topic<T>(Mutex<Vec<Weak<Mutex<Patch<T>>>>>);
- [L11:L11]struct Subscription<T>(Arc<Mutex<Patch<T>>>);
- [L45:L67]fn publish<T, TDelta>(
    subscriptions: &mut Vec<Weak<Mutex<Patch<T>>>>,
    edits: impl Clone + IntoIterator<Item = Edit<T>>,
) where
    T: 'static
        + Copy
        + Ord
        + std::ops::Sub<T, Output = TDelta>
        + std::ops::Add<TDelta, Output = T>
        + std::ops::AddAssign<TDelta>
        + Default,
    TDelta: Ord + Copy,

## crates/text/src/tests.rs
- [L13:L15]fn init_logger() 
- [L18:L31]fn test_edit() 
- [L34:L168]fn test_random_edits(mut rng: StdRng) 
- [L171:L197]fn test_line_endings() 
- [L200:L213]fn test_line_len() 
- [L216:L262]fn test_common_prefix_at_position() 
- [L265:L355]fn test_text_summary_for_range() 
- [L358:L387]fn test_chars_at() 
- [L390:L505]fn test_anchors() 
- [L508:L528]fn test_anchors_at_start_and_end() 
- [L531:L564]fn test_undo_redo() 
- [L567:L631]fn test_history() 
- [L634:L667]fn test_finalize_last_transaction() 
- [L670:L705]fn test_edited_ranges_for_transaction() 
- [L708:L732]fn test_concurrent_edits() 
- [L735:L812]fn test_random_concurrent_edits(mut rng: StdRng) 

## crates/text/src/text.rs
- [L2:L2]mod locator;
- [L4:L4]mod network;
- [L5:L5]mod operation_queue;
- [L8:L8]mod subscription;
- [L47:L47]static LINE_SEPARATORS_REGEX: LazyLock<Regex> =
- [L50:L50]type TransactionId = clock::Lamport;
- [L52:L61]struct Buffer {
    snapshot: BufferSnapshot,
    history: History,
    deferred_ops: OperationQueue<Operation>,
    deferred_replicas: HashSet<ReplicaId>,
    pub lamport_clock: clock::Lamport,
    subscriptions: Topic<usize>,
    edit_id_resolvers: HashMap<clock::Lamport, Vec<oneshot::Sender<()>>>,
    wait_for_version_txs: Vec<(clock::Global, oneshot::Sender<()>)>,
}
- [L65:L65]struct BufferId(NonZeroU64);
- [L106:L117]struct BufferSnapshot {
    replica_id: ReplicaId,
    remote_id: BufferId,
    visible_text: Rope,
    deleted_text: Rope,
    line_ending: LineEnding,
    undo_map: UndoMap,
    fragments: SumTree<Fragment>,
    insertions: SumTree<InsertionFragment>,
    insertion_slices: TreeSet<InsertionSlice>,
    pub version: clock::Global,
}
- [L120:L125]struct HistoryEntry {
    transaction: Transaction,
    first_edit_at: Instant,
    last_edit_at: Instant,
    suppress_grouping: bool,
}
- [L128:L132]struct Transaction {
    pub id: TransactionId,
    pub edit_ids: Vec<clock::Lamport>,
    pub start: clock::Global,
}
- [L146:L153]struct History {
    base_text: Rope,
    operations: TreeMap<clock::Lamport, Operation>,
    undo_stack: Vec<HistoryEntry>,
    redo_stack: Vec<HistoryEntry>,
    transaction_depth: usize,
    group_interval: Duration,
}
- [L156:L160]struct InsertionSlice {
    edit_id: clock::Lamport,
    insertion_id: clock::Lamport,
    range: Range<usize>,
}
- [L483:L493]struct Edits<'a, D: TextDimension, F: FnMut(&FragmentSummary) -> bool> {
    visible_cursor: rope::Cursor<'a>,
    deleted_cursor: rope::Cursor<'a>,
    fragments_cursor: Option<FilterCursor<'a, 'static, F, Fragment, FragmentTextSummary>>,
    undos: &'a UndoMap,
    since: &'a clock::Global,
    old_end: D,
    new_end: D,
    range: Range<(&'a Locator, usize)>,
    buffer_id: BufferId,
}
- [L496:L499]struct Edit<D> {
    pub old: Range<D>,
    pub new: Range<D>,
}
- [L538:L546]struct Fragment {
    pub id: Locator,
    pub timestamp: clock::Lamport,
    pub insertion_offset: usize,
    pub len: usize,
    pub visible: bool,
    pub deletions: HashSet<clock::Lamport>,
    pub max_undos: clock::Global,
}
- [L549:L555]struct FragmentSummary {
    text: FragmentTextSummary,
    max_id: Locator,
    max_version: clock::Global,
    min_insertion_version: clock::Global,
    max_insertion_version: clock::Global,
}
- [L558:L561]struct FragmentTextSummary {
    visible: usize,
    deleted: usize,
}
- [L575:L579]struct InsertionFragment {
    timestamp: clock::Lamport,
    split_offset: usize,
    fragment_id: Locator,
}
- [L582:L585]struct InsertionFragmentKey {
    timestamp: clock::Lamport,
    split_offset: usize,
}
- [L588:L591]enum Operation {
    Edit(EditOperation),
    Undo(UndoOperation),
}
- [L594:L599]struct EditOperation {
    pub timestamp: clock::Lamport,
    pub version: clock::Global,
    pub ranges: Vec<Range<FullOffset>>,
    pub new_text: Vec<Arc<str>>,
}
- [L602:L606]struct UndoOperation {
    pub timestamp: clock::Lamport,
    pub version: clock::Global,
    pub counts: HashMap<clock::Lamport, u32>,
}
- [L608:L614]struct LineIndent {
    pub tabs: u32,
    pub spaces: u32,
    pub line_blank: bool,
}
- [L2697:L2702]struct RopeBuilder<'a> {
    old_visible_cursor: rope::Cursor<'a>,
    old_deleted_cursor: rope::Cursor<'a>,
    new_visible: Rope,
    new_deleted: Rope,
}
- [L2987:L2987]struct FullOffset(pub usize);
- [L3053:L3056]enum VersionedFullOffset {
    Offset(FullOffset),
    Invalid,
}
- [L3134:L3134]trait ToOffset {
- [L3198:L3198]trait ToPoint {
- [L3230:L3230]trait ToPointUtf16 {
- [L3262:L3262]trait ToOffsetUtf16 {
- [L3287:L3287]trait FromAnchor {
- [L3320:L3323]enum LineEnding {
    Unix,
    Windows,
}
- [L3390:L3407]fn chunks_with_line_ending(rope: &Rope, line_ending: LineEnding) -> impl Iterator<Item = &str> 
- [L3410:L3410]mod debug {

## crates/text/src/undo_map.rs
- [L7:L10]struct UndoMapEntry {
    key: UndoMapKey,
    undo_count: u32,
}
- [L29:L32]struct UndoMapKey {
    edit_id: clock::Lamport,
    undo_id: clock::Lamport,
}
- [L48:L48]struct UndoMap(SumTree<UndoMapEntry>);

## crates/theme/src/default_colors.rs
- [L325:L331]struct StaticColorScaleSet {
    scale: &'static str,
    light: StaticColorScale,
    light_alpha: StaticColorScale,
    dark: StaticColorScale,
    dark_alpha: StaticColorScale,
}
- [L355:L392]fn default_color_scales() -> ColorScales 

## crates/theme/src/fallback_themes.rs
- [L11:L23]fn zed_default_themes() -> ThemeFamily 

## crates/theme/src/font_family_cache.rs
- [L8:L11]struct FontFamilyCacheState {
    loaded_at: Option<Instant>,
    font_families: Vec<SharedString>,
}
- [L13:L20]struct FontFamilyCache {
    state: Arc<RwLock<FontFamilyCacheState>>,
}
- [L23:L23]struct GlobalFontFamilyCache(Arc<FontFamilyCache>);

## crates/theme/src/icon_theme.rs
- [L8:L18]struct IconThemeFamily {
    pub id: String,
    pub name: SharedString,
    pub author: SharedString,
    pub themes: Vec<IconTheme>,
}
- [L20:L41]struct IconTheme {
    pub id: String,
    pub name: SharedString,
    pub appearance: Appearance,
    pub directory_icons: DirectoryIcons,
    pub named_directory_icons: HashMap<String, DirectoryIcons>,
    pub chevron_icons: ChevronIcons,
    pub file_stems: HashMap<String, String>,
    pub file_suffixes: HashMap<String, String>,
    pub file_icons: HashMap<String, IconDefinition>,
}
- [L43:L50]struct DirectoryIcons {
    pub collapsed: Option<SharedString>,
    pub expanded: Option<SharedString>,
}
- [L52:L59]struct ChevronIcons {
    pub collapsed: Option<SharedString>,
    pub expanded: Option<SharedString>,
}
- [L61:L66]struct IconDefinition {
    pub path: SharedString,
}
- [L375:L387]fn icon_keys_by_association(
    associations_by_icon_key: &[(&str, &[&str])],
) -> HashMap<String, String> 
- [L392:L392]static DEFAULT_ICON_THEME: LazyLock<Arc<IconTheme>> = LazyLock::new(|| {
- [L419:L422]fn default_icon_theme() -> Arc<IconTheme> 

## crates/theme/src/icon_theme_schema.rs
- [L11:L15]struct IconThemeFamilyContent {
    pub name: String,
    pub author: String,
    pub themes: Vec<IconThemeContent>,
}
- [L18:L33]struct IconThemeContent {
    pub name: String,
    pub appearance: AppearanceContent,
    pub directory_icons: DirectoryIconsContent,
    pub named_directory_icons: HashMap<String, DirectoryIconsContent>,
    pub chevron_icons: ChevronIconsContent,
    pub file_stems: HashMap<String, String>,
    pub file_suffixes: HashMap<String, String>,
    pub file_icons: HashMap<String, IconDefinitionContent>,
}
- [L36:L39]struct DirectoryIconsContent {
    pub collapsed: Option<SharedString>,
    pub expanded: Option<SharedString>,
}
- [L42:L45]struct ChevronIconsContent {
    pub collapsed: Option<SharedString>,
    pub expanded: Option<SharedString>,
}
- [L48:L50]struct IconDefinitionContent {
    pub path: SharedString,
}

## crates/theme/src/registry.rs
- [L20:L27]struct ThemeMeta {
    pub name: SharedString,
    pub appearance: Appearance,
}
- [L29:L32]struct ThemeNotFoundError(pub SharedString);
- [L34:L37]struct IconThemeNotFoundError(pub SharedString);
- [L39:L46]struct GlobalThemeRegistry(Arc<ThemeRegistry>);
- [L50:L55]struct ThemeRegistryState {
    themes: HashMap<SharedString, Arc<Theme>>,
    icon_themes: HashMap<SharedString, Arc<IconTheme>>,
    extensions_loaded: bool,
}
- [L57:L61]struct ThemeRegistry {
    state: RwLock<ThemeRegistryState>,
    assets: Box<dyn AssetSource>,
}

## crates/theme/src/scale.rs
- [L6:L10]struct ColorScaleStep(usize);
- [L43:L47]struct ColorScale(Vec<Hsla>);
- [L158:L192]struct ColorScales {
    pub gray: ColorScaleSet,
    pub mauve: ColorScaleSet,
    pub slate: ColorScaleSet,
    pub sage: ColorScaleSet,
    pub olive: ColorScaleSet,
    pub sand: ColorScaleSet,
    pub gold: ColorScaleSet,
    pub bronze: ColorScaleSet,
    pub brown: ColorScaleSet,
    pub yellow: ColorScaleSet,
    pub amber: ColorScaleSet,
    pub orange: ColorScaleSet,
    pub tomato: ColorScaleSet,
    pub red: ColorScaleSet,
    pub ruby: ColorScaleSet,
    pub crimson: ColorScaleSet,
    pub pink: ColorScaleSet,
    pub plum: ColorScaleSet,
    pub purple: ColorScaleSet,
    pub violet: ColorScaleSet,
    pub iris: ColorScaleSet,
    pub indigo: ColorScaleSet,
    pub blue: ColorScaleSet,
    pub cyan: ColorScaleSet,
    pub teal: ColorScaleSet,
    pub jade: ColorScaleSet,
    pub green: ColorScaleSet,
    pub grass: ColorScaleSet,
    pub lime: ColorScaleSet,
    pub mint: ColorScaleSet,
    pub sky: ColorScaleSet,
    pub black: ColorScaleSet,
    pub white: ColorScaleSet,
}
- [L239:L246]struct ColorScaleSet {
    name: SharedString,
    light: ColorScale,
    dark: ColorScale,
    light_alpha: ColorScale,
    dark_alpha: ColorScale,
}

## crates/theme/src/schema.rs
- [L11:L21]fn ensure_non_opaque(color: Hsla) -> Hsla 
- [L23:L25]fn ensure_opaque(color: Hsla) -> Hsla 
- [L29:L32]enum AppearanceContent {
    Light,
    Dark,
}
- [L34:L40]struct ThemeFamilyContent {
    pub name: String,
    pub author: String,
    pub themes: Vec<ThemeContent>,
}
- [L42:L48]struct ThemeContent {
    pub name: String,
    pub appearance: AppearanceContent,
    pub style: settings::ThemeStyleContent,
}
- [L50:L73]fn syntax_overrides(this: &settings::ThemeStyleContent) -> Vec<(String, HighlightStyle)> 
- [L75:L246]fn status_colors_refinement(colors: &settings::StatusColorsContent) -> StatusColorsRefinement 
- [L248:L811]fn theme_colors_refinement(
    this: &settings::ThemeColorsContent,
    status_colors: &StatusColorsRefinement,
) -> ThemeColorsRefinement 

## crates/theme/src/settings.rs
- [L37:L51]enum UiDensity {
    Compact,
    Default,
    Comfortable,
}
- [L96:L139]struct ThemeSettings {
    ui_font_size: Pixels,
    pub ui_font: Font,
    buffer_font_size: Pixels,
    pub buffer_font: Font,
    agent_ui_font_size: Option<Pixels>,
    agent_buffer_font_size: Option<Pixels>,
    pub buffer_line_height: BufferLineHeight,
    pub theme: ThemeSelection,
    pub experimental_theme_overrides: Option<settings::ThemeStyleContent>,
    pub theme_overrides: HashMap<String, settings::ThemeStyleContent>,
    pub icon_theme: IconThemeSelection,
    pub ui_density: UiDensity,
    pub unnecessary_code_fade: f32,
}
- [L144:L150]fn default_theme(appearance: Appearance) -> &'static str 
- [L152:L154]struct SystemAppearance(pub Appearance);
- [L163:L163]struct GlobalSystemAppearance(SystemAppearance);
- [L186:L186]struct BufferFontSize(Pixels);
- [L195:L197]struct AgentFontSize(Pixels);
- [L201:L217]enum ThemeSelection {
    Static(ThemeName),
    Dynamic {
        mode: ThemeAppearanceMode,
        light: ThemeName,
        dark: ThemeName,
    },
}
- [L255:L269]enum IconThemeSelection {
    Static(IconThemeName),
    Dynamic {
        mode: ThemeAppearanceMode,
        light: IconThemeName,
        dark: IconThemeName,
    },
}
- [L307:L352]fn set_theme(
    current: &mut SettingsContent,
    theme_name: impl Into<Arc<str>>,
    theme_appearance: Appearance,
    system_appearance: Appearance,
) 
- [L354:L377]fn set_icon_theme(
    current: &mut SettingsContent,
    icon_theme_name: IconThemeName,
    appearance: Appearance,
) 
- [L379:L430]fn set_mode(content: &mut SettingsContent, mode: ThemeAppearanceMode) 
- [L433:L443]enum BufferLineHeight {
    Comfortable,
    Standard,
    Custom(f32),
}
- [L581:L587]fn observe_buffer_font_size_adjustment<V: 'static>(
    cx: &mut Context<V>,
    f: impl 'static + Fn(&mut V, &mut Context<V>),
) -> Subscription 
- [L589:L600]fn adjusted_font_size(size: Pixels, cx: &App) -> Pixels 
- [L602:L610]fn adjust_buffer_font_size(cx: &mut App, f: impl FnOnce(Pixels) -> Pixels) 
- [L612:L618]fn reset_buffer_font_size(cx: &mut App) 
- [L622:L631]fn setup_ui_font(window: &mut Window, cx: &mut App) -> gpui::Font 
- [L633:L641]fn adjust_ui_font_size(cx: &mut App, f: impl FnOnce(Pixels) -> Pixels) 
- [L643:L649]fn reset_ui_font_size(cx: &mut App) 
- [L651:L659]fn adjust_agent_ui_font_size(cx: &mut App, f: impl FnOnce(Pixels) -> Pixels) 
- [L661:L667]fn reset_agent_ui_font_size(cx: &mut App) 
- [L669:L677]fn adjust_agent_buffer_font_size(cx: &mut App, f: impl FnOnce(Pixels) -> Pixels) 
- [L679:L685]fn reset_agent_buffer_font_size(cx: &mut App) 
- [L687:L690]fn clamp_font_size(size: Pixels) -> Pixels 
- [L692:L694]fn clamp_font_weight(weight: f32) -> FontWeight 
- [L696:L708]fn font_fallbacks_from_settings(
    fallbacks: Option<Vec<settings::FontFamilyName>>,
) -> Option<FontFallbacks> 

## crates/theme/src/styles.rs

## crates/theme/src/styles/accents.rs
- [L9:L11]struct AccentColors(pub Vec<Hsla>);

## crates/theme/src/styles/colors.rs
- [L15:L312]struct ThemeColors {
    pub border: Hsla,
    pub border_variant: Hsla,
    pub border_focused: Hsla,
    pub border_selected: Hsla,
    pub border_transparent: Hsla,
    pub border_disabled: Hsla,
    pub elevated_surface_background: Hsla,
    pub surface_background: Hsla,
    pub background: Hsla,
    pub element_background: Hsla,
    pub element_hover: Hsla,
    pub element_active: Hsla,
    pub element_selected: Hsla,
    pub element_selection_background: Hsla,
    pub element_disabled: Hsla,
    pub drop_target_background: Hsla,
    pub drop_target_border: Hsla,
    pub ghost_element_background: Hsla,
    pub ghost_element_hover: Hsla,
    pub ghost_element_active: Hsla,
    pub ghost_element_selected: Hsla,
    pub ghost_element_disabled: Hsla,
    pub text: Hsla,
    pub text_muted: Hsla,
    pub text_placeholder: Hsla,
    pub text_disabled: Hsla,
    pub text_accent: Hsla,
    pub icon: Hsla,
    pub icon_muted: Hsla,
    pub icon_disabled: Hsla,
    pub icon_placeholder: Hsla,
    pub icon_accent: Hsla,
    pub debugger_accent: Hsla,
    pub status_bar_background: Hsla,
    pub title_bar_background: Hsla,
    pub title_bar_inactive_background: Hsla,
    pub toolbar_background: Hsla,
    pub tab_bar_background: Hsla,
    pub tab_inactive_background: Hsla,
    pub tab_active_background: Hsla,
    pub search_match_background: Hsla,
    pub search_active_match_background: Hsla,
    pub panel_background: Hsla,
    pub panel_focused_border: Hsla,
    pub panel_indent_guide: Hsla,
    pub panel_indent_guide_hover: Hsla,
    pub panel_indent_guide_active: Hsla,
    pub panel_overlay_background: Hsla,
    pub panel_overlay_hover: Hsla,
    pub pane_focused_border: Hsla,
    pub pane_group_border: Hsla,
    pub scrollbar_thumb_background: Hsla,
    pub scrollbar_thumb_hover_background: Hsla,
    pub scrollbar_thumb_active_background: Hsla,
    pub scrollbar_thumb_border: Hsla,
    pub scrollbar_track_background: Hsla,
    pub scrollbar_track_border: Hsla,
    pub minimap_thumb_background: Hsla,
    pub minimap_thumb_hover_background: Hsla,
    pub minimap_thumb_active_background: Hsla,
    pub minimap_thumb_border: Hsla,
    pub vim_normal_background: Hsla,
    pub vim_insert_background: Hsla,
    pub vim_replace_background: Hsla,
    pub vim_visual_background: Hsla,
    pub vim_visual_line_background: Hsla,
    pub vim_visual_block_background: Hsla,
    pub vim_helix_normal_background: Hsla,
    pub vim_helix_select_background: Hsla,
    pub vim_mode_text: Hsla,
    pub editor_foreground: Hsla,
    pub editor_background: Hsla,
    pub editor_gutter_background: Hsla,
    pub editor_subheader_background: Hsla,
    pub editor_active_line_background: Hsla,
    pub editor_highlighted_line_background: Hsla,
    pub editor_debugger_active_line_background: Hsla,
    pub editor_line_number: Hsla,
    pub editor_active_line_number: Hsla,
    pub editor_hover_line_number: Hsla,
    pub editor_invisible: Hsla,
    pub editor_wrap_guide: Hsla,
    pub editor_active_wrap_guide: Hsla,
    pub editor_indent_guide: Hsla,
    pub editor_indent_guide_active: Hsla,
    pub editor_document_highlight_read_background: Hsla,
    pub editor_document_highlight_write_background: Hsla,
    pub editor_document_highlight_bracket_background: Hsla,
    pub terminal_background: Hsla,
    pub terminal_foreground: Hsla,
    pub terminal_bright_foreground: Hsla,
    pub terminal_dim_foreground: Hsla,
    pub terminal_ansi_background: Hsla,
    pub terminal_ansi_black: Hsla,
    pub terminal_ansi_bright_black: Hsla,
    pub terminal_ansi_dim_black: Hsla,
    pub terminal_ansi_red: Hsla,
    pub terminal_ansi_bright_red: Hsla,
    pub terminal_ansi_dim_red: Hsla,
    pub terminal_ansi_green: Hsla,
    pub terminal_ansi_bright_green: Hsla,
    pub terminal_ansi_dim_green: Hsla,
    pub terminal_ansi_yellow: Hsla,
    pub terminal_ansi_bright_yellow: Hsla,
    pub terminal_ansi_dim_yellow: Hsla,
    pub terminal_ansi_blue: Hsla,
    pub terminal_ansi_bright_blue: Hsla,
    pub terminal_ansi_dim_blue: Hsla,
    pub terminal_ansi_magenta: Hsla,
    pub terminal_ansi_bright_magenta: Hsla,
    pub terminal_ansi_dim_magenta: Hsla,
    pub terminal_ansi_cyan: Hsla,
    pub terminal_ansi_bright_cyan: Hsla,
    pub terminal_ansi_dim_cyan: Hsla,
    pub terminal_ansi_white: Hsla,
    pub terminal_ansi_bright_white: Hsla,
    pub terminal_ansi_dim_white: Hsla,
    pub link_text_hover: Hsla,
    pub version_control_added: Hsla,
    pub version_control_deleted: Hsla,
    pub version_control_modified: Hsla,
    pub version_control_renamed: Hsla,
    pub version_control_conflict: Hsla,
    pub version_control_ignored: Hsla,
    pub version_control_word_added: Hsla,
    pub version_control_word_deleted: Hsla,
    pub version_control_conflict_marker_ours: Hsla,
    pub version_control_conflict_marker_theirs: Hsla,
}
- [L316:L428]enum ThemeColorField {
    Border,
    BorderVariant,
    BorderFocused,
    BorderSelected,
    BorderTransparent,
    BorderDisabled,
    ElevatedSurfaceBackground,
    SurfaceBackground,
    Background,
    ElementBackground,
    ElementHover,
    ElementActive,
    ElementSelected,
    ElementDisabled,
    DropTargetBackground,
    DropTargetBorder,
    GhostElementBackground,
    GhostElementHover,
    GhostElementActive,
    GhostElementSelected,
    GhostElementDisabled,
    Text,
    TextMuted,
    TextPlaceholder,
    TextDisabled,
    TextAccent,
    Icon,
    IconMuted,
    IconDisabled,
    IconPlaceholder,
    IconAccent,
    StatusBarBackground,
    TitleBarBackground,
    TitleBarInactiveBackground,
    ToolbarBackground,
    TabBarBackground,
    TabInactiveBackground,
    TabActiveBackground,
    SearchMatchBackground,
    SearchActiveMatchBackground,
    PanelBackground,
    PanelFocusedBorder,
    PanelIndentGuide,
    PanelIndentGuideHover,
    PanelIndentGuideActive,
    PanelOverlayBackground,
    PanelOverlayHover,
    PaneFocusedBorder,
    PaneGroupBorder,
    ScrollbarThumbBackground,
    ScrollbarThumbHoverBackground,
    ScrollbarThumbActiveBackground,
    ScrollbarThumbBorder,
    ScrollbarTrackBackground,
    ScrollbarTrackBorder,
    MinimapThumbBackground,
    MinimapThumbHoverBackground,
    MinimapThumbActiveBackground,
    MinimapThumbBorder,
    EditorForeground,
    EditorBackground,
    EditorGutterBackground,
    EditorSubheaderBackground,
    EditorActiveLineBackground,
    EditorHighlightedLineBackground,
    EditorLineNumber,
    EditorActiveLineNumber,
    EditorInvisible,
    EditorWrapGuide,
    EditorActiveWrapGuide,
    EditorIndentGuide,
    EditorIndentGuideActive,
    EditorDocumentHighlightReadBackground,
    EditorDocumentHighlightWriteBackground,
    EditorDocumentHighlightBracketBackground,
    TerminalBackground,
    TerminalForeground,
    TerminalBrightForeground,
    TerminalDimForeground,
    TerminalAnsiBackground,
    TerminalAnsiBlack,
    TerminalAnsiBrightBlack,
    TerminalAnsiDimBlack,
    TerminalAnsiRed,
    TerminalAnsiBrightRed,
    TerminalAnsiDimRed,
    TerminalAnsiGreen,
    TerminalAnsiBrightGreen,
    TerminalAnsiDimGreen,
    TerminalAnsiYellow,
    TerminalAnsiBrightYellow,
    TerminalAnsiDimYellow,
    TerminalAnsiBlue,
    TerminalAnsiBrightBlue,
    TerminalAnsiDimBlue,
    TerminalAnsiMagenta,
    TerminalAnsiBrightMagenta,
    TerminalAnsiDimMagenta,
    TerminalAnsiCyan,
    TerminalAnsiBrightCyan,
    TerminalAnsiDimCyan,
    TerminalAnsiWhite,
    TerminalAnsiBrightWhite,
    TerminalAnsiDimWhite,
    LinkTextHover,
    VersionControlAdded,
    VersionControlDeleted,
    VersionControlModified,
    VersionControlRenamed,
    VersionControlConflict,
    VersionControlIgnored,
}
- [L566:L575]fn all_theme_colors(cx: &mut App) -> Vec<(Hsla, SharedString)> 
- [L578:L596]struct ThemeStyles {
    pub window_background_appearance: WindowBackgroundAppearance,
    pub system: SystemColors,
    pub accents: AccentColors,
    pub colors: ThemeColors,
    pub status: StatusColors,
    pub player: PlayerColors,
    pub syntax: Arc<SyntaxTheme>,
}

## crates/theme/src/styles/players.rs
- [L9:L13]struct PlayerColor {
    pub cursor: Hsla,
    pub background: Hsla,
    pub selection: Hsla,
}
- [L15:L22]struct PlayerColors(pub Vec<PlayerColor>);

## crates/theme/src/styles/status.rs
- [L10:L81]struct StatusColors {
    pub conflict: Hsla,
    pub conflict_background: Hsla,
    pub conflict_border: Hsla,
    pub created: Hsla,
    pub created_background: Hsla,
    pub created_border: Hsla,
    pub deleted: Hsla,
    pub deleted_background: Hsla,
    pub deleted_border: Hsla,
    pub error: Hsla,
    pub error_background: Hsla,
    pub error_border: Hsla,
    pub hidden: Hsla,
    pub hidden_background: Hsla,
    pub hidden_border: Hsla,
    pub hint: Hsla,
    pub hint_background: Hsla,
    pub hint_border: Hsla,
    pub ignored: Hsla,
    pub ignored_background: Hsla,
    pub ignored_border: Hsla,
    pub info: Hsla,
    pub info_background: Hsla,
    pub info_border: Hsla,
    pub modified: Hsla,
    pub modified_background: Hsla,
    pub modified_border: Hsla,
    pub predictive: Hsla,
    pub predictive_background: Hsla,
    pub predictive_border: Hsla,
    pub renamed: Hsla,
    pub renamed_background: Hsla,
    pub renamed_border: Hsla,
    pub success: Hsla,
    pub success_background: Hsla,
    pub success_border: Hsla,
    pub unreachable: Hsla,
    pub unreachable_background: Hsla,
    pub unreachable_border: Hsla,
    pub warning: Hsla,
    pub warning_background: Hsla,
    pub warning_border: Hsla,
}
- [L83:L87]struct DiagnosticColors {
    pub error: Hsla,
    pub warning: Hsla,
    pub info: Hsla,
}

## crates/theme/src/styles/syntax.rs
- [L8:L10]struct SyntaxTheme {
    pub highlights: Vec<(String, HighlightStyle)>,
}

## crates/theme/src/styles/system.rs
- [L6:L11]struct SystemColors {
    pub transparent: Hsla,
    pub mac_os_traffic_light_red: Hsla,
    pub mac_os_traffic_light_yellow: Hsla,
    pub mac_os_traffic_light_green: Hsla,
}

## crates/theme/src/theme.rs
- [L55:L55]const CLIENT_SIDE_DECORATION_ROUNDING: Pixels = px(10.0);
- [L57:L57]const CLIENT_SIDE_DECORATION_SHADOW: Pixels = px(10.0);
- [L54:L66]enum Appearance {
    Light,
    Dark,
}
- [L96:L105]enum LoadThemes {
    JustBase,
    All(Box<dyn AssetSource>),
}
- [L107:L185]fn init(themes_to_load: LoadThemes, cx: &mut App) 
- [L188:L188]trait ActiveTheme {
- [L199:L218]struct ThemeFamily {
    pub id: String,
    pub name: SharedString,
    pub author: SharedString,
    pub themes: Vec<Theme>,
    pub scales: ColorScales,
}
- [L307:L330]fn refine_theme_family(theme_family_content: ThemeFamilyContent) -> ThemeFamily 
- [L332:L343]struct Theme {
    pub id: String,
    pub name: SharedString,
    pub appearance: Appearance,
    pub styles: ThemeStyles,
}
- [L418:L418]async fn read_user_theme(theme_path: &Path, fs: Arc<dyn Fs>) -> Result<ThemeFamilyContent> {
- [L440:L440]async fn read_icon_theme(
- [L450:L454]struct GlobalTheme {
    theme: Arc<Theme>,
    icon_theme: Arc<IconTheme>,
}

## crates/theme_extension/src/theme_extension.rs
- [L10:L19]fn init(
    extension_host_proxy: Arc<ExtensionHostProxy>,
    theme_registry: Arc<ThemeRegistry>,
    executor: BackgroundExecutor,
) 
- [L21:L24]struct ThemeRegistryProxy {
    theme_registry: Arc<ThemeRegistry>,
    executor: BackgroundExecutor,
}

## crates/theme_importer/src/color.rs

## crates/theme_importer/src/main.rs
- [L24:L27]enum ThemeAppearanceJson {
    Light,
    Dark,
}
- [L48:L52]struct ThemeMetadata {
    pub name: String,
    pub file_name: String,
    pub appearance: ThemeAppearanceJson,
}
- [L56:L67]struct Args {
    theme_path: PathBuf,
    warn_on_missing: bool,
    output: Option<PathBuf>,
}
- [L69:L130]fn main() -> Result<()> 

## crates/theme_importer/src/vscode.rs

## crates/theme_importer/src/vscode/converter.rs
- [L29:L33]struct VsCodeThemeConverter {
    theme: VsCodeTheme,
    theme_metadata: ThemeMetadata,
    syntax_overrides: IndexMap<String, Vec<String>>,
}

## crates/theme_importer/src/vscode/syntax.rs
- [L7:L10]enum VsCodeTokenScope {
    One(String),
    Many(Vec<String>),
}
- [L13:L17]struct VsCodeTokenColor {
    pub name: Option<String>,
    pub scope: Option<VsCodeTokenScope>,
    pub settings: VsCodeTokenColorSettings,
}
- [L20:L25]struct VsCodeTokenColorSettings {
    pub foreground: Option<String>,
    pub background: Option<String>,
    pub font_style: Option<String>,
}
- [L28:L68]enum ZedSyntaxToken {
    Attribute,
    Boolean,
    Comment,
    CommentDoc,
    Constant,
    Constructor,
    Embedded,
    Emphasis,
    EmphasisStrong,
    Enum,
    Function,
    Hint,
    Keyword,
    Label,
    LinkText,
    LinkUri,
    Number,
    Operator,
    Predictive,
    Preproc,
    Primary,
    Property,
    Punctuation,
    PunctuationBracket,
    PunctuationDelimiter,
    PunctuationListMarker,
    PunctuationSpecial,
    String,
    StringEscape,
    StringRegex,
    StringSpecial,
    StringSpecialSymbol,
    Tag,
    TextLiteral,
    Title,
    Type,
    Variable,
    VariableSpecial,
    Variant,
}

## crates/theme_importer/src/vscode/theme.rs
- [L7:L11]struct VsCodeTheme {
        unused,
        reason = "This field was found to be unused with serde library bump; it's left as is due to insufficient context on PO's side, but it *may* be fine to remove"

## crates/theme_selector/src/icon_theme_selector.rs

## crates/theme_selector/src/theme_selector.rs
- [L31:L44]fn init(cx: &mut App) 
- [L46:L62]fn toggle_theme_selector(
    workspace: &mut Workspace,
    toggle: &zed_actions::theme_selector::Toggle,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) 
- [L64:L80]fn toggle_icon_theme_selector(
    workspace: &mut Workspace,
    toggle: &zed_actions::icon_theme_selector::Toggle,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) 
- [L84:L86]struct ThemeSelector {
    picker: Entity<Picker<ThemeSelectorDelegate>>,
}
- [L116:L132]struct ThemeSelectorDelegate {
    fs: Arc<dyn Fs>,
    themes: Vec<ThemeMeta>,
    matches: Vec<StringMatch>,
    original_theme_settings: ThemeSettings,
    original_system_appearance: Appearance,
    new_theme: Arc<Theme>,
    selection_completed: bool,
    selected_theme: Option<Arc<Theme>>,
    selected_index: usize,
    selector: WeakEntity<ThemeSelector>,
}
- [L233:L288]fn override_global_theme(
    store: &mut SettingsStore,
    new_theme: &Theme,
    original_theme: &ThemeSelection,
    system_appearance: Appearance,
) 
- [L290:L308]fn update_mode_if_new_appearance_is_different_from_system(
    original_mode: &ThemeAppearanceMode,
    system_appearance: Appearance,
    new_appearance: Appearance,
) -> ThemeAppearanceMode 
- [L310:L335]fn retain_original_opposing_theme(
    new_theme_is_light: bool,
    new_mode: ThemeAppearanceMode,
    theme_name: ThemeName,
    original_light: &ThemeName,
    original_dark: &ThemeName,
) -> ThemeSelection 

## crates/time_format/src/time_format.rs
- [L3:L16]enum TimestampFormat {
    Absolute,
    EnhancedAbsolute,
    MediumAbsolute,
    Relative,
}
- [L18:L28]fn format_localized_timestamp(
    timestamp: OffsetDateTime,
    reference: OffsetDateTime,
    timezone: UtcOffset,
    format: TimestampFormat,
) -> String 
- [L30:L43]fn format_local_timestamp(
    timestamp: OffsetDateTime,
    reference: OffsetDateTime,
    format: TimestampFormat,
) -> String 
- [L45:L52]fn format_date(
    timestamp: OffsetDateTime,
    reference: OffsetDateTime,
    enhanced_formatting: bool,
) -> String 
- [L54:L57]fn format_time(timestamp: OffsetDateTime) -> String 
- [L59:L66]fn format_date_medium(
    timestamp: OffsetDateTime,
    reference: OffsetDateTime,
    enhanced_formatting: bool,
) -> String 
- [L68:L101]fn format_absolute_date(
    timestamp: OffsetDateTime,
    reference: OffsetDateTime,
) -> String 
- [L103:L119]fn format_absolute_time(timestamp: OffsetDateTime) -> String 
- [L121:L156]fn format_absolute_timestamp(
    timestamp: OffsetDateTime,
    reference: OffsetDateTime,
) -> String 
- [L158:L205]fn format_absolute_date_medium(
    timestamp: OffsetDateTime,
    reference: OffsetDateTime,
    enhanced_formatting: bool,
) -> String 
- [L207:L221]fn format_absolute_timestamp_medium(
    timestamp: OffsetDateTime,
    reference: OffsetDateTime,
) -> String 
- [L223:L239]fn format_relative_time(timestamp: OffsetDateTime, reference: OffsetDateTime) -> Option<String> 
- [L241:L274]fn format_relative_date(timestamp: OffsetDateTime, reference: OffsetDateTime) -> String 
- [L276:L300]fn calculate_month_difference(timestamp: OffsetDateTime, reference: OffsetDateTime) -> usize 
- [L302:L332]fn format_timestamp_naive_time(timestamp_local: OffsetDateTime, is_12_hour_time: bool) -> String 
- [L335:L363]fn format_timestamp_naive_date(
    timestamp_local: OffsetDateTime,
    reference_local: OffsetDateTime,
    is_12_hour_time: bool,
) -> String 
- [L366:L386]fn format_timestamp_naive_date_medium(
    timestamp_local: OffsetDateTime,
    is_12_hour_time: bool,
) -> String 
- [L388:L418]fn format_timestamp_naive(
    timestamp_local: OffsetDateTime,
    reference_local: OffsetDateTime,
    is_12_hour_time: bool,
) -> String 
- [L421:L421]static CURRENT_LOCALE: std::sync::OnceLock<String> = std::sync::OnceLock::new();
- [L424:L430]fn format_timestamp_fallback(timestamp: OffsetDateTime, reference: OffsetDateTime) -> String 
- [L432:L448]fn is_12_hour_time_by_locale(locale: &str) -> bool 

## crates/title_bar/build.rs
- [L3:L28]fn main() 

## crates/title_bar/src/application_menu.rs
- [L26:L31]struct OpenApplicationMenu(String);
- [L34:L37]enum ActivateDirection {
    Left,
    Right,
}
- [L40:L43]struct MenuEntry {
    menu: OwnedMenu,
    handle: PopoverMenuHandle<ContextMenu>,
}
- [L45:L46]struct ApplicationMenu {
    entries: SmallVec<[MenuEntry; 8]>,

## crates/title_bar/src/collab.rs
- [L25:L79]fn toggle_screen_sharing(
    screen: anyhow::Result<Option<Rc<dyn ScreenCaptureSource>>>,
    window: &mut Window,
    cx: &mut App,
) 
- [L81:L99]fn toggle_mute(cx: &mut App) 
- [L101:L105]fn toggle_deafen(cx: &mut App) 
- [L107:L130]fn render_color_ribbon(color: Hsla) -> impl Element 
- [L612:L627]fn pick_default_screen(cx: &App) -> Task<anyhow::Result<Option<Rc<dyn ScreenCaptureSource>>>> 

## crates/title_bar/src/onboarding_banner.rs
- [L5:L11]struct OnboardingBanner {
    dismissed: bool,
    source: String,
    details: BannerDetails,
    visible_when: Option<Box<dyn Fn(&mut App) -> bool>>,
}
- [L14:L16]struct BannerGlobal {
    entity: Entity<OnboardingBanner>,
}
- [L19:L24]struct BannerDetails {
    pub action: Box<dyn Action>,
    pub icon_name: IconName,
    pub label: SharedString,
    pub subtitle: Option<SharedString>,
}
- [L67:L76]fn dismissed_at_key(source: &str) -> String 
- [L78:L84]fn get_dismissed(source: &str) -> bool 
- [L86:L93]fn persist_dismissed(source: &str, cx: &mut App) 
- [L95:L110]fn restore_banner(cx: &mut App) 

## crates/title_bar/src/platform_title_bar.rs
- [L14:L17]struct PlatformTitleBar {
    id: ElementId,
    platform_style: PlatformStyle,
    children: SmallVec<[AnyElement; 2]>,

## crates/title_bar/src/platforms.rs
- [L1:L1]mod platform_linux;
- [L2:L2]mod platform_mac;
- [L3:L3]mod platform_windows;

## crates/title_bar/src/platforms/platform_linux.rs
- [L5:L7]struct LinuxWindowControls {
    close_window_action: Box<dyn Action>,
}
- [L48:L53]enum WindowControlType {
    Minimize,
    Restore,
    Maximize,
    Close,
}
- [L71:L76]struct WindowControlStyle {
    background: Hsla,
    background_hover: Hsla,
    icon: Hsla,
    icon_hover: Hsla,
}
- [L120:L125]struct WindowControl {
    id: ElementId,
    icon: WindowControlType,
    style: WindowControlStyle,
    close_action: Option<Box<dyn Action>>,
}

## crates/title_bar/src/platforms/platform_mac.rs
- [L7:L7]const TRAFFIC_LIGHT_PADDING: f32 = 78.;
- [L10:L10]const TRAFFIC_LIGHT_PADDING: f32 = 71.;

## crates/title_bar/src/platforms/platform_windows.rs
- [L6:L8]struct WindowsWindowControls {
    button_height: Pixels,
}
- [L82:L87]enum WindowsCaptionButtonIcon {
    Minimize,
    Restore,
    Maximize,
    Close,
}
- [L90:L95]struct WindowsCaptionButton {
    id: ElementId,
    icon: WindowsCaptionButtonIcon,
    hover_background_color: Hsla,
    active_background_color: Hsla,
}

## crates/title_bar/src/stories.rs

## crates/title_bar/src/stories/application_menu.rs
- [L8:L10]struct ApplicationMenuStory {
    menu: Entity<ApplicationMenu>,
}

## crates/title_bar/src/system_window_tabs.rs
- [L29:L38]struct DraggedWindowTab {
    pub id: WindowId,
    pub ix: usize,
    pub handle: AnyWindowHandle,
    pub title: String,
    pub width: Pixels,
    pub is_active: bool,
    pub active_background_color: Hsla,
    pub inactive_background_color: Hsla,
}
- [L40:L44]struct SystemWindowTabs {
    tab_bar_scroll_handle: ScrollHandle,
    measured_tab_width: Pixels,
    last_dragged_tab: Option<DraggedWindowTab>,
}

## crates/title_bar/src/title_bar.rs
- [L2:L2]mod collab;
- [L4:L4]mod platform_title_bar;
- [L70:L127]fn init(cx: &mut App) 
- [L129:L139]struct TitleBar {
    platform_titlebar: Entity<PlatformTitleBar>,
    project: Entity<Project>,
    user_store: Entity<UserStore>,
    client: Arc<Client>,
    workspace: WeakEntity<Workspace>,
    application_menu: Option<Entity<ApplicationMenu>>,
    _subscriptions: Vec<Subscription>,
    banner: Entity<OnboardingBanner>,
    screen_share_popover_handle: PopoverMenuHandle<ContextMenu>,
}

## crates/title_bar/src/title_bar_settings.rs
- [L4:L13]struct TitleBarSettings {
    pub show_branch_icon: bool,
    pub show_onboarding_banner: bool,
    pub show_user_picture: bool,
    pub show_branch_name: bool,
    pub show_project_items: bool,
    pub show_sign_in: bool,
    pub show_user_menu: bool,
    pub show_menus: bool,
}

## crates/toolchain_selector/src/active_toolchain.rs
- [L16:L22]struct ActiveToolchain {
    active_toolchain: Option<Toolchain>,
    term: SharedString,
    workspace: WeakEntity<Workspace>,
    active_buffer: Option<(WorktreeId, WeakEntity<Buffer>, Subscription)>,
    _update_toolchain_task: Task<Option<()>>,
}

## crates/toolchain_selector/src/toolchain_selector.rs
- [L41:L43]fn init(cx: &mut App) 
- [L45:L53]struct ToolchainSelector {
    state: State,
    create_search_state: Arc<dyn Fn(&mut Window, &mut Context<Self>) -> SearchState + 'static>,
    language: Option<Arc<Language>>,
    project: Entity<Project>,
    language_name: LanguageName,
    worktree_id: WorktreeId,
    relative_path: Arc<RelPath>,
}
- [L56:L58]struct SearchState {
    picker: Entity<Picker<ToolchainSelectorDelegate>>,
}
- [L60:L67]struct AddToolchainState {
    state: AddState,
    project: Entity<Project>,
    language_name: LanguageName,
    root_path: ProjectPath,
    weak: WeakEntity<ToolchainSelector>,
    worktree_root_path: Arc<Path>,
}
- [L69:L70]struct ScopePickerState {
    entries: [NavigableEntry; 3],
- [L78:L81]enum PathInputState {
    WaitingForPath(Task<()>),
    Resolving(Task<()>),
}
- [L83:L95]enum AddState {
    Path {
        picker: Entity<Picker<file_finder::OpenPathDelegate>>,
        error: Option<Arc<str>>,
        input_state: PathInputState,
        _subscription: Subscription,
    },
    Name {
        toolchain: Toolchain,
        editor: Entity<Editor>,
        scope_picker: ScopePickerState,
    },
}
- [L547:L550]enum State {
    Search(SearchState),
    AddToolchain(Entity<AddToolchainState>),
}
- [L753:L767]struct ToolchainSelectorDelegate {
    toolchain_selector: WeakEntity<ToolchainSelector>,
    candidates: Arc<[(Toolchain, Option<ToolchainScope>)]>,
    matches: Vec<StringMatch>,
    selected_index: usize,
    workspace: WeakEntity<Workspace>,
    worktree_id: WorktreeId,
    worktree_abs_path_root: Arc<Path>,
    relative_path: Arc<RelPath>,
    placeholder_text: Arc<str>,
    add_toolchain_text: Arc<str>,
    project: Entity<Project>,
    focus_handle: FocusHandle,
    _fetch_candidates_task: Task<Option<()>>,
}

## crates/ui/src/component_prelude.rs

## crates/ui/src/components.rs

## crates/ui/src/components/ai.rs

## crates/ui/src/components/ai/configured_api_card.rs
- [L5:L12]struct ConfiguredApiCard {
    label: SharedString,
    button_label: Option<SharedString>,
    button_tab_index: Option<isize>,
    tooltip_label: Option<SharedString>,
    disabled: bool,
    on_click: Option<Box<dyn Fn(&ClickEvent, &mut Window, &mut App) + 'static>>,
}

## crates/ui/src/components/ai/copilot_configuration_callout.rs

## crates/ui/src/components/avatar.rs
- [L6:L23]struct Avatar {
    image: Img,
    size: Option<AbsoluteLength>,
    border_color: Option<Hsla>,
    indicator: Option<AnyElement>,
}
- [L113:L121]enum AudioStatus {
    Muted,
    Deafened,
}
- [L123:L128]struct AvatarAudioStatusIndicator {
    audio_status: AudioStatus,
    tooltip: Option<Box<dyn Fn(&mut Window, &mut App) -> AnyView>>,
}
- [L182:L187]enum CollaboratorAvailability {
    Free,
    Busy,
}
- [L189:L194]struct AvatarAvailabilityIndicator {
    availability: CollaboratorAvailability,
    avatar_size: Option<Pixels>,
}

## crates/ui/src/components/banner.rs
- [L4:L28]struct Banner {
    severity: Severity,
    children: Vec<AnyElement>,
    action_slot: Option<AnyElement>,
}

## crates/ui/src/components/button.rs

## crates/ui/src/components/button/button.rs
- [L13:L98]struct Button {
    base: ButtonLike,
    label: SharedString,
    label_color: Option<Color>,
    label_size: Option<LabelSize>,
    selected_label: Option<SharedString>,
    selected_label_color: Option<Color>,
    icon: Option<IconName>,
    icon_position: Option<IconPosition>,
    icon_size: Option<IconSize>,
    icon_color: Option<Color>,
    selected_icon: Option<IconName>,
    selected_icon_color: Option<Color>,
    key_binding: Option<KeyBinding>,
    key_binding_position: KeybindingPosition,
    alpha: Option<f32>,
    truncate: bool,
}

## crates/ui/src/components/button/button_icon.rs

## crates/ui/src/components/button/button_like.rs
- [L12:L12]trait SelectableButton: Toggleable {
- [L17:L17]trait ButtonCommon: Clickable + Disableable {
- [L49:L53]enum IconPosition {
    Start,
    End,
}
- [L56:L60]enum KeybindingPosition {
    Start,
    End,
}
- [L63:L69]enum TintColor {
    Accent,
    Error,
    Warning,
    Success,
}
- [L123:L150]enum ButtonStyle {
    Filled,
    Tinted(TintColor),
    Outlined,
    OutlinedGhost,
    Subtle,
    Transparent,
}
- [L197:L205]fn element_bg_from_elevation(elevation: Option<ElevationIndex>, cx: &mut App) -> Hsla 
- [L420:L431]enum ButtonSize {
    Large,
    Medium,
    Default,
    Compact,
    None,
}
- [L445:L469]struct ButtonLike {
    pub(super) base: Div,
    id: ElementId,
    pub(super) style: ButtonStyle,
    pub(super) disabled: bool,
    pub(super) selected: bool,
    pub(super) selected_style: Option<ButtonStyle>,
    pub(super) width: Option<DefiniteLength>,
    pub(super) height: Option<DefiniteLength>,
    pub(super) layer: Option<ElevationIndex>,
    tab_index: Option<isize>,
    size: ButtonSize,
    rounding: Option<ButtonLikeRounding>,
    tooltip: Option<Box<dyn Fn(&mut Window, &mut App) -> AnyView>>,
    hoverable_tooltip: Option<Box<dyn Fn(&mut Window, &mut App) -> AnyView>>,
    cursor_style: CursorStyle,
    on_click: Option<Box<dyn Fn(&ClickEvent, &mut Window, &mut App) + 'static>>,
    on_right_click: Option<Box<dyn Fn(&ClickEvent, &mut Window, &mut App) + 'static>>,
    children: SmallVec<[AnyElement; 2]>,

## crates/ui/src/components/button/button_link.rs
- [L5:L22]struct ButtonLink {
    label: SharedString,
    label_size: LabelSize,
    label_color: Color,
    link: String,
    no_icon: bool,
}

## crates/ui/src/components/button/icon_button.rs
- [L9:L14]enum IconButtonShape {
    Square,
    Wide,
}
- [L17:L28]struct IconButton {
    base: ButtonLike,
    shape: IconButtonShape,
    icon: IconName,
    icon_size: IconSize,
    icon_color: Color,
    selected_icon: Option<IconName>,
    selected_icon_color: Option<Color>,
    indicator: Option<Indicator>,
    indicator_border_color: Option<Hsla>,
    alpha: Option<f32>,
}

## crates/ui/src/components/button/split_button.rs
- [L12:L16]enum SplitButtonStyle {
    Filled,
    Outlined,
    Transparent,
}
- [L18:L21]enum SplitButtonKind {
    ButtonLike(ButtonLike),
    IconButton(IconButton),
}
- [L35:L46]struct SplitButton {
    left: SplitButtonKind,
    right: AnyElement,
    style: SplitButtonStyle,
}

## crates/ui/src/components/button/toggle_button.rs
- [L7:L18]struct ToggleButtonPosition {
    leftmost: bool,
    rightmost: bool,
    topmost: bool,
    bottommost: bool,
}
- [L46:L52]struct ButtonConfiguration {
    label: SharedString,
    icon: Option<IconName>,
    on_click: Box<dyn Fn(&ClickEvent, &mut Window, &mut App) + 'static>,
    selected: bool,
    tooltip: Option<Rc<dyn Fn(&mut Window, &mut App) -> AnyView>>,
}
- [L58:L58]trait ButtonBuilder: 'static + private::ToggleButtonStyle {
- [L62:L67]struct ToggleButtonSimple {
    label: SharedString,
    on_click: Box<dyn Fn(&ClickEvent, &mut Window, &mut App) + 'static>,
    selected: bool,
    tooltip: Option<Rc<dyn Fn(&mut Window, &mut App) -> AnyView>>,
}
- [L107:L113]struct ToggleButtonWithIcon {
    label: SharedString,
    icon: IconName,
    on_click: Box<dyn Fn(&ClickEvent, &mut Window, &mut App) + 'static>,
    selected: bool,
    tooltip: Option<Rc<dyn Fn(&mut Window, &mut App) -> AnyView>>,
}
- [L156:L160]enum ToggleButtonGroupStyle {
    Transparent,
    Filled,
    Outlined,
}
- [L163:L168]enum ToggleButtonGroupSize {
    Default,
    Medium,
    Large,
    Custom(Rems),
}
- [L171:L176]struct ToggleButtonGroup<T, const COLS: usize = 3, const ROWS: usize = 1>
where
    T: ButtonBuilder,
{
    group_name: SharedString,
    rows: [[T; COLS]; ROWS],
- [L404:L406]fn register_toggle_button_group() 

## crates/ui/src/components/callout.rs
- [L6:L9]enum BorderPosition {
    Top,
    Bottom,
}
- [L11:L38]struct Callout {
    severity: Severity,
    icon: Option<IconName>,
    title: Option<SharedString>,
    description: Option<SharedString>,
    description_slot: Option<AnyElement>,
    actions_slot: Option<AnyElement>,
    dismiss_action: Option<AnyElement>,
    line_height: Option<Pixels>,
    border_position: BorderPosition,
}

## crates/ui/src/components/chip.rs
- [L4:L19]struct Chip {
    label: SharedString,
    label_color: Color,
    label_size: LabelSize,
    bg_color: Option<Hsla>,
}

## crates/ui/src/components/content_group.rs
- [L6:L9]fn content_group() -> ContentGroup 
- [L11:L16]fn v_container() -> ContentGroup 
- [L18:L23]fn h_container() -> ContentGroup 
- [L25:L31]struct ContentGroup {
    base: Div,
    border: bool,
    fill: bool,
    children: SmallVec<[AnyElement; 2]>,

## crates/ui/src/components/context_menu.rs
- [L16:L29]enum ContextMenuItem {
    Separator,
    Header(SharedString),
    HeaderWithLink(SharedString, SharedString, SharedString),
    Label(SharedString),
    Entry(ContextMenuEntry),
    CustomEntry {
        entry_render: Box<dyn Fn(&mut Window, &mut App) -> AnyElement>,
        handler: Rc<dyn Fn(Option<&FocusHandle>, &mut Window, &mut App)>,
        selectable: bool,
        documentation_aside: Option<DocumentationAside>,
    },
}
- [L46:L63]struct ContextMenuEntry {
    toggle: Option<(IconPosition, bool)>,
    label: SharedString,
    icon: Option<IconName>,
    custom_icon_path: Option<SharedString>,
    custom_icon_svg: Option<SharedString>,
    icon_position: IconPosition,
    icon_size: IconSize,
    icon_color: Option<Color>,
    handler: Rc<dyn Fn(Option<&FocusHandle>, &mut Window, &mut App)>,
    action: Option<Box<dyn Action>>,
    disabled: bool,
    documentation_aside: Option<DocumentationAside>,
    end_slot_icon: Option<IconName>,
    end_slot_title: Option<SharedString>,
    end_slot_handler: Option<Rc<dyn Fn(Option<&FocusHandle>, &mut Window, &mut App)>>,
    show_end_slot_on_hover: bool,
}
- [L170:L184]struct ContextMenu {
    builder: Option<Rc<dyn Fn(Self, &mut Window, &mut Context<Self>) -> Self>>,
    items: Vec<ContextMenuItem>,
    focus_handle: FocusHandle,
    action_context: Option<FocusHandle>,
    selected_index: Option<usize>,
    delayed: bool,
    clicked: bool,
    end_slot_action: Option<Box<dyn Action>>,
    key_context: SharedString,
    _on_blur_subscription: Subscription,
    keep_open_on_confirm: bool,
    documentation_aside: Option<(usize, DocumentationAside)>,
    fixed_width: Option<DefiniteLength>,
}
- [L187:L190]enum DocumentationSide {
    Left,
    Right,
}
- [L193:L197]enum DocumentationEdge {
    Top,
    Bottom,
}
- [L200:L204]struct DocumentationAside {
    pub side: DocumentationSide,
    pub edge: DocumentationEdge,
    pub render: Rc<dyn Fn(&mut App) -> AnyElement>,
}

## crates/ui/src/components/data_table.rs
- [L22:L22]struct DraggedColumn(usize);
- [L24:L25]struct UniformListData<const COLS: usize> {
    render_item_fn: Box<dyn Fn(Range<usize>, &mut Window, &mut App) -> Vec<[AnyElement; COLS]>>,
- [L30:L31]enum TableContents<const COLS: usize> {
    Vec(Vec<[AnyElement; COLS]>),
- [L55:L59]struct TableInteractionState {
    pub focus_handle: FocusHandle,
    pub scroll_handle: UniformListScrollHandle,
    pub custom_scrollbar: Option<Scrollbars>,
}
- [L178:L182]enum TableResizeBehavior {
    None,
    Resizable,
    MinSize(f32),
}
- [L198:L199]struct TableColumnWidths<const COLS: usize> {
    widths: [DefiniteLength; COLS],
- [L453:L454]struct TableWidths<const COLS: usize> {
    initial: [DefiniteLength; COLS],
- [L478:L483]struct Table<const COLS: usize = 3> {
    striped: bool,
    width: Option<Length>,
    headers: Option<[AnyElement; COLS]>,
- [L618:L626]fn base_cell_style(width: Option<Length>) -> Div 
- [L628:L630]fn base_cell_style_text(width: Option<Length>, use_ui_font: bool, cx: &App) -> Div 
- [L632:L681]fn render_table_row<const COLS: usize>(
    row_index: usize,
    items: [impl IntoElement; COLS],
    table_context: TableRenderContext<COLS>,
    window: &mut Window,
    cx: &mut App,
) -> AnyElement 
- [L683:L746]fn render_table_header<const COLS: usize>(
    headers: [impl IntoElement; COLS],
    table_context: TableRenderContext<COLS>,
    columns_widths: Option<(
        WeakEntity<TableColumnWidths<COLS>>,
        [TableResizeBehavior; COLS],
        [DefiniteLength; COLS],
    )>,
    entity_id: Option<EntityId>,
    cx: &mut App,
) -> impl IntoElement 
- [L749:L752]struct TableRenderContext<const COLS: usize> {
    pub striped: bool,
    pub total_row_count: usize,
    pub column_widths: Option<[Length; COLS]>,

## crates/ui/src/components/diff_stat.rs
- [L4:L8]struct DiffStat {
    id: ElementId,
    added: usize,
    removed: usize,
}

## crates/ui/src/components/disclosure.rs
- [L8:L18]struct Disclosure {
    id: ElementId,
    is_open: bool,
    selected: bool,
    disabled: bool,
    on_toggle_expanded: Option<Arc<dyn Fn(&ClickEvent, &mut Window, &mut App) + 'static>>,
    cursor_style: CursorStyle,
    opened_icon: IconName,
    closed_icon: IconName,
    visible_on_hover: Option<SharedString>,
}

## crates/ui/src/components/divider.rs
- [L5:L12]fn divider() -> Divider 
- [L14:L21]fn vertical_divider() -> Divider 
- [L24:L27]enum DividerStyle {
    Solid,
    Dashed,
}
- [L30:L33]enum DividerDirection {
    Horizontal,
    Vertical,
}
- [L35:L42]enum DividerColor {
    Border,
    BorderFaded,
    BorderVariant,
}
- [L55:L60]struct Divider {
    style: DividerStyle,
    direction: DividerDirection,
    color: DividerColor,
    inset: bool,
}

## crates/ui/src/components/dropdown_menu.rs
- [L8:L14]enum DropdownStyle {
    Solid,
    Outlined,
    Subtle,
    Ghost,
}
- [L16:L19]enum LabelKind {
    Text(SharedString),
    Element(AnyElement),
}
- [L22:L37]struct DropdownMenu {
    id: ElementId,
    label: LabelKind,
    trigger_size: ButtonSize,
    trigger_tooltip: Option<Box<dyn Fn(&mut Window, &mut App) -> AnyView + 'static>>,
    trigger_icon: Option<IconName>,
    style: DropdownStyle,
    menu: Entity<ContextMenu>,
    full_width: bool,
    disabled: bool,
    handle: Option<PopoverMenuHandle<ContextMenu>>,
    attach: Option<Corner>,
    offset: Option<Point<Pixels>>,
    tab_index: Option<isize>,
    chevron: bool,
}

## crates/ui/src/components/facepile.rs
- [L8:L33]struct Facepile {
    base: Div,
    faces: SmallVec<[AnyElement; 2]>,
- [L83:L83]const EXAMPLE_FACES: [&str; 6] = [

## crates/ui/src/components/group.rs
- [L3:L8]fn h_group_sm() -> Div 
- [L10:L15]fn h_group() -> Div 
- [L17:L22]fn h_group_lg() -> Div 
- [L24:L29]fn h_group_xl() -> Div 
- [L31:L36]fn v_group_sm() -> Div 
- [L38:L43]fn v_group() -> Div 
- [L45:L50]fn v_group_lg() -> Div 
- [L52:L57]fn v_group_xl() -> Div 

## crates/ui/src/components/icon.rs
- [L16:L19]enum AnyIcon {
    Icon(Icon),
    AnimatedIcon(AnimationElement<Icon>),
}
- [L54:L67]enum IconSize {
    Indicator,
    XSmall,
    Small,
    Medium,
    XLarge,
    Custom(Rems),
}
- [L115:L127]enum IconSource {
    Embedded(SharedString),
    External(Arc<Path>),
    ExternalSvg(SharedString),
}
- [L130:L135]struct Icon {
    source: IconSource,
    color: Color,
    size: Rems,
    transformation: Transformation,
}
- [L227:L231]struct IconWithIndicator {
    icon: Icon,
    indicator: Option<Indicator>,
    indicator_border_color: Option<Hsla>,
}

## crates/ui/src/components/icon/decorated_icon.rs
- [L6:L9]struct DecoratedIcon {
    icon: Icon,
    decoration: Option<IconDecoration>,
}

## crates/ui/src/components/icon/icon_decoration.rs
- [L10:L21]enum KnockoutIconName {
    XFg,
    XBg,
    DotFg,
    DotBg,
    TriangleFg,
    TriangleBg,
}
- [L32:L36]enum IconDecorationKind {
    X,
    Dot,
    Triangle,
}
- [L56:L68]struct IconDecoration {
    kind: IconDecorationKind,
    color: Hsla,
    knockout_color: Hsla,
    knockout_hover_color: Hsla,
    position: Point<Pixels>,
    group_name: Option<SharedString>,
}

## crates/ui/src/components/image.rs
- [L16:L27]enum VectorName {
    AcpGrid,
    AcpLogo,
    AcpLogoSerif,
    AiGrid,
    DebuggerGrid,
    Grid,
    ProTrialStamp,
    ProUserStamp,
    ZedLogo,
    ZedXCopilot,
}
- [L37:L48]struct Vector {
    path: Arc<str>,
    color: Color,
    size: Size<Rems>,
    transformation: Transformation,
}

## crates/ui/src/components/indent_guides.rs
- [L9:L18]struct IndentGuideColors {
    pub default: Hsla,
    pub hover: Hsla,
    pub active: Hsla,
}
- [L31:L35]struct IndentGuides {
    colors: IndentGuideColors,
    indent_size: Pixels,
    compute_indents_fn:
        Option<Box<dyn Fn(Range<usize>, &mut Window, &mut App) -> SmallVec<[usize; 64]>>>,
- [L48:L56]fn indent_guides(indent_size: Pixels, colors: IndentGuideColors) -> IndentGuides 
- [L154:L157]struct RenderIndentGuideParams {
    pub indent_guides: SmallVec<[IndentGuideLayout; 12]>,
- [L164:L175]struct RenderedIndentGuide {
    pub bounds: Bounds<Pixels>,
    pub layout: IndentGuideLayout,
    pub is_active: bool,
    pub hitbox: Option<Bounds<Pixels>>,
}
- [L177:L187]struct IndentGuideLayout {
    pub offset: Point<usize>,
    pub length: usize,
    pub continues_offscreen: bool,
}
- [L249:L251]struct IndentGuidesElement {
    colors: IndentGuideColors,
    indent_guides: Rc<SmallVec<[RenderedIndentGuide; 12]>>,
- [L255:L258]enum IndentGuidesElementPrepaintState {
    Static,
    Interactive {
        hitboxes: Rc<SmallVec<[Hitbox; 12]>>,
- [L422:L481]fn compute_indent_guides(
    indents: &[usize],
    offset: usize,
    includes_trailing_indent: bool,
) -> SmallVec<[IndentGuideLayout; 12]> 

## crates/ui/src/components/indicator.rs
- [L5:L10]enum IndicatorKind {
    Dot,
    Bar,
    Icon(AnyIcon),
}
- [L13:L17]struct Indicator {
    kind: IndicatorKind,
    border_color: Option<Color>,
    pub color: Color,
}

## crates/ui/src/components/keybinding.rs
- [L13:L26]enum Source {
    Action {
        action: Box<dyn Action>,
        focus_handle: Option<FocusHandle>,
    },
    Keystrokes {
        keystrokes: Rc<[KeybindingKeystroke]>,
    },
}
- [L46:L55]struct KeyBinding {
    source: Source,
    size: Option<AbsoluteLength>,
    platform_style: PlatformStyle,
    vim_mode: bool,
    disabled: bool,
}
- [L57:L57]struct VimStyle(bool);
- [L135:L149]fn render_key(
    key: &str,
    color: Option<Color>,
    platform_style: PlatformStyle,
    size: impl Into<Option<AbsoluteLength>>,
) -> AnyElement 
- [L203:L242]fn render_keybinding_keystroke(
    keystroke: &KeybindingKeystroke,
    color: Option<Color>,
    size: impl Into<Option<AbsoluteLength>>,
    platform_style: PlatformStyle,
    vim_mode: bool,
) -> Vec<AnyElement> 
- [L244:L266]fn icon_for_key(key: &str, platform_style: PlatformStyle) -> Option<IconName> 
- [L268:L359]fn render_modifiers(
    modifiers: &Modifiers,
    platform_style: PlatformStyle,
    color: Option<Color>,
    size: Option<AbsoluteLength>,
    trailing_separator: bool,
) -> impl Iterator<Item = AnyElement> 
- [L362:L366]struct Key {
    key: SharedString,
    color: Option<Color>,
    size: Option<AbsoluteLength>,
}
- [L408:L412]struct KeyIcon {
    icon: IconName,
    color: Option<Color>,
    size: Option<AbsoluteLength>,
}
- [L439:L443]fn text_for_action(action: &dyn Action, window: &Window, cx: &App) -> Option<String> 
- [L445:L459]fn text_for_keystrokes(keystrokes: &[Keystroke], cx: &App) -> String 
- [L461:L475]fn text_for_keybinding_keystrokes(keystrokes: &[KeybindingKeystroke], cx: &App) -> String 
- [L477:L480]fn text_for_keystroke(modifiers: &Modifiers, key: &str, cx: &App) -> String 
- [L482:L555]fn keystroke_text(
    modifiers: &Modifiers,
    key: &str,
    platform_style: PlatformStyle,
    vim_mode: bool,
) -> String 

## crates/ui/src/components/keybinding_hint.rs
- [L6:L35]struct KeybindingHint {
    prefix: Option<SharedString>,
    suffix: Option<SharedString>,
    keybinding: KeyBinding,
    size: Option<Pixels>,
    background_color: Hsla,
}

## crates/ui/src/components/label.rs

## crates/ui/src/components/label/highlighted_label.rs
- [L8:L12]struct HighlightedLabel {
    base: LabelLike,
    label: SharedString,
    highlight_indices: Vec<usize>,
}
- [L103:L125]fn highlight_ranges(
    text: &str,
    indices: &[usize],
    style: HighlightStyle,
) -> Vec<(Range<usize>, HighlightStyle)> 

## crates/ui/src/components/label/label.rs
- [L4:L36]struct Label {
    base: LabelLike,
    label: SharedString,
}

## crates/ui/src/components/label/label_like.rs
- [L7:L19]enum LabelSize {
    Default,
    Large,
    Small,
    XSmall,
}
- [L21:L31]enum LineHeightStyle {
    TextLabel,
    UiLabel,
}
- [L34:L34]trait LabelCommon {
- [L72:L86]struct LabelLike {
    pub(super) base: Div,
    size: LabelSize,
    weight: Option<FontWeight>,
    line_height_style: LineHeightStyle,
    pub(crate) color: Color,
    strikethrough: bool,
    italic: bool,
    children: SmallVec<[AnyElement; 2]>,

## crates/ui/src/components/label/loading_label.rs
- [L6:L9]struct LoadingLabel {
    base: Label,
    text: SharedString,
}

## crates/ui/src/components/label/spinner_label.rs
- [L5:L12]enum SpinnerVariant {
    Dots,
    DotsVariant,
    Sand,
}
- [L14:L38]struct SpinnerLabel {
    base: Label,
    variant: SpinnerVariant,
    frames: Vec<&'static str>,
    duration: Duration,
}

## crates/ui/src/components/list.rs

## crates/ui/src/components/list/list.rs
- [L7:L10]enum EmptyMessage {
    Text(SharedString),
    Element(AnyElement),
}
- [L13:L19]struct List {
    empty_message: EmptyMessage,
    header: Option<ListHeader>,
    toggle: Option<bool>,
    children: SmallVec<[AnyElement; 2]>,

## crates/ui/src/components/list/list_bullet_item.rs
- [L6:L10]struct ListBulletItem {
    label: SharedString,
    label_color: Option<Color>,
    children: Vec<AnyElement>,
}

## crates/ui/src/components/list/list_header.rs
- [L10:L25]struct ListHeader {
    label: SharedString,
    start_slot: Option<AnyElement>,
    end_slot: Option<AnyElement>,
    end_hover_slot: Option<AnyElement>,
    toggle: Option<bool>,
    on_toggle: Option<Arc<dyn Fn(&ClickEvent, &mut Window, &mut App) + 'static>>,
    inset: bool,
    selected: bool,
}

## crates/ui/src/components/list/list_item.rs
- [L10:L15]enum ListItemSpacing {
    Dense,
    ExtraDense,
    Sparse,
}
- [L18:L41]struct ListItem {
    id: ElementId,
    group_name: Option<SharedString>,
    disabled: bool,
    selected: bool,
    spacing: ListItemSpacing,
    indent_level: usize,
    indent_step_size: Pixels,
    start_slot: Option<AnyElement>,
    end_slot: Option<AnyElement>,
    end_hover_slot: Option<AnyElement>,
    toggle: Option<bool>,
    inset: bool,
    on_click: Option<Box<dyn Fn(&ClickEvent, &mut Window, &mut App) + 'static>>,
    on_hover: Option<Box<dyn Fn(&bool, &mut Window, &mut App) + 'static>>,
    on_toggle: Option<Arc<dyn Fn(&ClickEvent, &mut Window, &mut App) + 'static>>,
    tooltip: Option<Box<dyn Fn(&mut Window, &mut App) -> AnyView + 'static>>,
    on_secondary_mouse_down: Option<Box<dyn Fn(&MouseDownEvent, &mut Window, &mut App) + 'static>>,
    children: SmallVec<[AnyElement; 2]>,

## crates/ui/src/components/list/list_separator.rs
- [L4:L4]struct ListSeparator;

## crates/ui/src/components/list/list_sub_header.rs
- [L5:L11]struct ListSubHeader {
    label: SharedString,
    start_slot: Option<IconName>,
    end_slot: Option<AnyElement>,
    inset: bool,
    selected: bool,
}

## crates/ui/src/components/modal.rs
- [L10:L13]struct Modal {
    id: ElementId,
    header: ModalHeader,
    children: SmallVec<[AnyElement; 2]>,
- [L95:L99]struct ModalHeader {
    icon: Option<Icon>,
    headline: Option<SharedString>,
    description: Option<SharedString>,
    children: SmallVec<[AnyElement; 2]>,
- [L215:L216]struct ModalRow {
    children: SmallVec<[AnyElement; 2]>,
- [L246:L249]struct ModalFooter {
    start_slot: Option<AnyElement>,
    end_slot: Option<AnyElement>,
}
- [L292:L297]struct Section {
    contained: bool,
    padded: bool,
    header: Option<SectionHeader>,
    meta: Option<SharedString>,
    children: SmallVec<[AnyElement; 2]>,
- [L403:L409]struct SectionHeader {
    label: SharedString,
    end_slot: Option<AnyElement>,
}

## crates/ui/src/components/navigable.rs
- [L4:L9]struct Navigable {
    child: AnyElement,
    selectable_children: Vec<NavigableEntry>,
}
- [L11:L18]struct NavigableEntry {
    pub focus_handle: FocusHandle,
    pub scroll_anchor: Option<ScrollAnchor>,
}

## crates/ui/src/components/notification.rs

## crates/ui/src/components/notification/alert_modal.rs
- [L14:L17]struct AlertModal {
    id: ElementId,
    header: Option<AnyElement>,
    children: SmallVec<[AnyElement; 2]>,

## crates/ui/src/components/popover.rs
- [L9:L9]const POPOVER_Y_PADDING: Pixels = px(8.);
- [L8:L40]struct Popover {
    children: SmallVec<[AnyElement; 2]>,

## crates/ui/src/components/popover_menu.rs
- [L12:L12]trait PopoverTrigger: IntoElement + Clickable + Toggleable + 'static {}
- [L41:L41]struct PopoverMenuHandle<M>(Rc<RefCell<Option<PopoverMenuHandleState<M>>>>);
- [L55:L59]struct PopoverMenuHandleState<M> {
    menu_builder: Rc<dyn Fn(&mut Window, &mut App) -> Option<Entity<M>>>,
    menu: Rc<RefCell<Option<Entity<M>>>>,
    on_open: Option<Rc<dyn Fn(&mut Window, &mut App)>>,
}
- [L128:L146]struct PopoverMenu<M: ManagedView> {
    id: ElementId,
    child_builder: Option<
        Box<
            dyn FnOnce(
                    Rc<RefCell<Option<Entity<M>>>>,
                    Option<Rc<dyn Fn(&mut Window, &mut App) -> Option<Entity<M>> + 'static>>,
                ) -> AnyElement
                + 'static,
        >,
    >,
    menu_builder: Option<Rc<dyn Fn(&mut Window, &mut App) -> Option<Entity<M>> + 'static>>,
    anchor: Corner,
    attach: Option<Corner>,
    offset: Option<Point<Pixels>>,
    trigger_handle: Option<PopoverMenuHandle<M>>,
    on_open: Option<Rc<dyn Fn(&mut Window, &mut App)>>,
    full_width: bool,
}
- [L266:L309]fn show_menu<M: ManagedView>(
    builder: &Rc<dyn Fn(&mut Window, &mut App) -> Option<Entity<M>>>,
    menu: &Rc<RefCell<Option<Entity<M>>>>,
    on_open: Option<Rc<dyn Fn(&mut Window, &mut App)>>,
    window: &mut Window,
    cx: &mut App,
) 
- [L311:L314]struct PopoverMenuElementState<M> {
    menu: Rc<RefCell<Option<Entity<M>>>>,
    child_bounds: Option<Bounds<Pixels>>,
}
- [L334:L339]struct PopoverMenuFrameState<M: ManagedView> {
    child_layout_id: Option<LayoutId>,
    child_element: Option<AnyElement>,
    menu_element: Option<AnyElement>,
    menu_handle: Rc<RefCell<Option<Entity<M>>>>,
}

## crates/ui/src/components/progress.rs

## crates/ui/src/components/progress/progress_bar.rs
- [L7:L18]struct ProgressBar {
    id: ElementId,
    value: f32,
    max_value: f32,
    bg_color: Hsla,
    over_color: Hsla,
    fg_color: Hsla,
}

## crates/ui/src/components/radio.rs
- [L6:L11]struct RadioWithLabel {
    id: ElementId,
    label: Label,
    selected: bool,
    on_click: Arc<dyn Fn(&bool, &mut Window, &mut App) + 'static>,
}

## crates/ui/src/components/right_click_menu.rs
- [L10:L16]struct RightClickMenu<M: ManagedView> {
    id: ElementId,
    child_builder: Option<Box<dyn FnOnce(bool, &mut Window, &mut App) -> AnyElement + 'static>>,
    menu_builder: Option<Rc<dyn Fn(&mut Window, &mut App) -> Entity<M> + 'static>>,
    anchor: Option<Corner>,
    attach: Option<Corner>,
}
- [L66:L75]fn right_click_menu<M: ManagedView>(id: impl Into<ElementId>) -> RightClickMenu<M> 
- [L77:L80]struct MenuHandleElementState<M> {
    menu: Rc<RefCell<Option<Entity<M>>>>,
    position: Rc<RefCell<Point<Pixels>>>,
}
- [L100:L104]struct RequestLayoutState {
    child_layout_id: Option<LayoutId>,
    child_element: Option<AnyElement>,
    menu_element: Option<AnyElement>,
}
- [L106:L109]struct PrepaintState {
    hitbox: Hitbox,
    child_bounds: Option<Bounds<Pixels>>,
}

## crates/ui/src/components/scrollbar.rs
- [L33:L33]mod scrollbars {
- [L94:L119]fn get_scrollbar_state<T>(
    mut config: Scrollbars<T>,
    caller_location: &'static std::panic::Location,
    window: &mut Window,
    cx: &mut App,
) -> Entity<ScrollbarStateWrapper<T>>
where
    T: ScrollableHandle,
- [L121:L121]trait WithScrollbar: Sized {
- [L216:L247]fn render_scrollbar<T>(
    scrollbar: Entity<ScrollbarStateWrapper<T>>,
    div: Stateful<Div>,
    cx: &App,
) -> Stateful<Div>
where
    T: ScrollableHandle,
- [L298:L302]enum ShowBehavior {
    Always,
    Autohide,
    Never,
}
- [L321:L325]enum ScrollAxes {
    Horizontal,
    Vertical,
    Both,
}
- [L341:L346]enum ReservedSpace {
    None,
    Thumb,
    Track,
}
- [L359:L364]enum ScrollbarWidth {
    Normal,
    Small,
    XSmall,
}
- [L377:L380]enum Handle<T: ScrollableHandle> {
    Tracked(T),
    Untracked(fn() -> T),
}
- [L383:L391]struct Scrollbars<T: ScrollableHandle = ScrollHandle> {
    id: Option<ElementId>,
    get_visibility: fn(&App) -> ShowScrollbar,
    tracked_entity: Option<Option<EntityId>>,
    scrollable_handle: Handle<T>,
    visibility: Point<ReservedSpace>,
    track_color: Option<Hsla>,
    scrollbar_width: ScrollbarWidth,
}
- [L490:L495]enum VisibilityState {
    Visible,
    Animating { showing: bool, delta: f32 },
    Hidden,
    Disabled,
}
- [L581:L586]enum ParentHoverEvent {
    Within,
    Entered,
    Exited,
    Outside,
}
- [L588:L590]struct ScrollbarStateWrapper<T: ScrollableHandle>(Entity<ScrollbarState<T>>);
- [L592:L607]struct ScrollbarState<T: ScrollableHandle = ScrollHandle> {
    thumb_state: ThumbState,
    notify_id: Option<EntityId>,
    manually_added: bool,
    scroll_handle: T,
    width: ScrollbarWidth,
    show_behavior: ShowBehavior,
    get_visibility: fn(&App) -> ShowScrollbar,
    visibility: Point<ReservedSpace>,
    track_color: Option<Hsla>,
    show_state: VisibilityState,
    mouse_in_parent: bool,
    last_prepaint_state: Option<ScrollbarPrepaintState>,
    _auto_hide_task: Option<Task<()>>,
}
- [L890:L893]struct ScrollbarElement<T: ScrollableHandle> {
    origin: Point<Pixels>,
    state: Entity<ScrollbarState<T>>,
}
- [L896:L901]enum ThumbState {
    Inactive,
    Hover(ScrollbarAxis),
    Dragging(ScrollbarAxis, Pixels),
}
- [L971:L971]trait ScrollableHandle: 'static + Any + Sized + Clone {
- [L987:L990]enum ScrollbarMouseEvent {
    TrackClick,
    ThumbDrag(Pixels),
}
- [L992:L999]struct ScrollbarLayout {
    thumb_bounds: Bounds<Pixels>,
    track_bounds: Bounds<Pixels>,
    cursor_hitbox: Hitbox,
    reserved_space: ReservedSpace,
    track_background: Option<(Bounds<Pixels>, Hsla)>,
    axis: ScrollbarAxis,
}
- [L1044:L1046]struct ScrollbarPrepaintState {
    parent_bounds_hitbox: Hitbox,
    thumbs: SmallVec<[ScrollbarLayout; 2]>,

## crates/ui/src/components/settings_container.rs
- [L9:L10]struct SettingsContainer {
    children: SmallVec<[AnyElement; 2]>,

## crates/ui/src/components/settings_group.rs
- [L8:L12]struct SettingsGroup {
    header: SharedString,
    children: SmallVec<[AnyElement; 2]>,

## crates/ui/src/components/stack.rs
- [L5:L9]fn h_flex() -> Div 
- [L11:L15]fn v_flex() -> Div 

## crates/ui/src/components/sticky_items.rs
- [L10:L10]trait StickyCandidate {
- [L14:L15]struct StickyItems<T> {
    compute_fn: Rc<dyn Fn(Range<usize>, &mut Window, &mut App) -> SmallVec<[T; 8]>>,
- [L20:L49]fn sticky_items<V, T>(
    entity: Entity<V>,
    compute_fn: impl Fn(&mut V, Range<usize>, &mut Window, &mut Context<V>) -> SmallVec<[T; 8]>
    + 'static,
    render_fn: impl Fn(&mut V, T, &mut Window, &mut Context<V>) -> SmallVec<[AnyElement; 8]> + 'static,
) -> StickyItems<T>
where
    V: Render,
    T: StickyCandidate + Clone + 'static,
- [L62:L65]struct StickyItemsElement {
    drifting_element: Option<AnyElement>,
    drifting_decoration: Option<AnyElement>,
    rest_elements: SmallVec<[AnyElement; 8]>,
- [L279:L283]struct StickyAnchor<T> {
    entry: T,
    index: usize,
    drifting: bool,
}
- [L285:L319]fn find_sticky_anchor<T: StickyCandidate + Clone>(
    entries: &SmallVec<[T; 8]>,
    visible_range_start: usize,
) -> Option<StickyAnchor<T>> 
- [L323:L323]trait StickyItemsDecoration {

## crates/ui/src/components/stories.rs

## crates/ui/src/components/stories/context_menu.rs
- [L9:L24]fn build_menu(
    window: &mut Window,
    cx: &mut App,
    header: impl Into<SharedString>,
) -> Entity<ContextMenu> 
- [L26:L26]struct ContextMenuStory;

## crates/ui/src/components/tab.rs
- [L11:L24]enum TabPosition {
    First,
    Middle(Ordering),
    Last,
}
- [L27:L30]enum TabCloseSide {
    Start,
    End,
}
- [L33:L40]struct Tab {
    div: Stateful<Div>,
    selected: bool,
    position: TabPosition,
    close_side: TabCloseSide,
    start_slot: Option<AnyElement>,
    end_slot: Option<AnyElement>,
    children: SmallVec<[AnyElement; 2]>,

## crates/ui/src/components/tab_bar.rs
- [L8:L10]struct TabBar {
    id: ElementId,
    start_children: SmallVec<[AnyElement; 2]>,

## crates/ui/src/components/thread_item.rs
- [L7:L19]struct ThreadItem {
    id: ElementId,
    icon: IconName,
    title: SharedString,
    timestamp: SharedString,
    running: bool,
    generation_done: bool,
    selected: bool,
    added: Option<usize>,
    removed: Option<usize>,
    worktree: Option<SharedString>,
    on_click: Option<Box<dyn Fn(&ClickEvent, &mut Window, &mut App) + 'static>>,
}

## crates/ui/src/components/toggle.rs
- [L15:L18]fn checkbox(id: impl Into<ElementId>, toggle_state: ToggleState) -> Checkbox 
- [L20:L23]fn switch(id: impl Into<ElementId>, toggle_state: ToggleState) -> Switch 
- [L25:L36]enum ToggleStyle {
    Ghost,
    ElevationBased(ElevationIndex),
    Custom(Hsla),
}
- [L38:L57]struct Checkbox {
    id: ElementId,
    toggle_state: ToggleState,
    style: ToggleStyle,
    disabled: bool,
    placeholder: bool,
    filled: bool,
    visualization: bool,
    label: Option<SharedString>,
    label_size: LabelSize,
    label_color: Color,
    tooltip: Option<Box<dyn Fn(&mut Window, &mut App) -> AnyView>>,
    on_click: Option<Box<dyn Fn(&ToggleState, &ClickEvent, &mut Window, &mut App) + 'static>>,
}
- [L290:L296]enum SwitchColor {
    Accent,
    Custom(Hsla),
}
- [L327:L333]enum SwitchLabelPosition {
    Start,
    End,
}
- [L335:L351]struct Switch {
    id: ElementId,
    toggle_state: ToggleState,
    disabled: bool,
    on_click: Option<Rc<dyn Fn(&ToggleState, &mut Window, &mut App) + 'static>>,
    label: Option<SharedString>,
    label_position: Option<SwitchLabelPosition>,
    label_size: LabelSize,
    full_width: bool,
    key_binding: Option<KeyBinding>,
    color: SwitchColor,
    tab_index: Option<isize>,
}
- [L535:L566]struct SwitchField {
    id: ElementId,
    label: Option<SharedString>,
    description: Option<SharedString>,
    toggle_state: ToggleState,
    on_click: Arc<dyn Fn(&ToggleState, &mut Window, &mut App) + 'static>,
    disabled: bool,
    color: SwitchColor,
    tooltip: Option<Rc<dyn Fn(&mut Window, &mut App) -> AnyView>>,
    tab_index: Option<isize>,
}

## crates/ui/src/components/tooltip.rs
- [L12:L16]struct Tooltip {
    title: Title,
    meta: Option<SharedString>,
    key_binding: Option<KeyBinding>,
}
- [L19:L22]enum Title {
    Str(SharedString),
    Callback(Rc<dyn Fn(&mut Window, &mut App) -> AnyElement>),
}
- [L219:L237]fn tooltip_container<C>(cx: &mut C, f: impl FnOnce(Div, &mut C) -> Div) -> impl IntoElement
where
    C: AppContext + Borrow<App>,
- [L239:L241]struct LinkPreview {
    link: SharedString,
}

## crates/ui/src/components/tree_view_item.rs
- [L8:L25]struct TreeViewItem {
    id: ElementId,
    group_name: Option<SharedString>,
    label: SharedString,
    expanded: bool,
    selected: bool,
    disabled: bool,
    focused: bool,
    default_expanded: bool,
    root_item: bool,
    tooltip: Option<Box<dyn Fn(&mut Window, &mut App) -> AnyView + 'static>>,
    on_click: Option<Box<dyn Fn(&ClickEvent, &mut Window, &mut App) + 'static>>,
    on_hover: Option<Box<dyn Fn(&bool, &mut Window, &mut App) + 'static>>,
    on_toggle: Option<Arc<dyn Fn(&ClickEvent, &mut Window, &mut App) + 'static>>,
    on_secondary_mouse_down: Option<Box<dyn Fn(&MouseDownEvent, &mut Window, &mut App) + 'static>>,
    tab_index: Option<isize>,
    focus_handle: Option<gpui::FocusHandle>,
}

## crates/ui/src/prelude.rs

## crates/ui/src/styles.rs
- [L1:L1]mod animation;

## crates/ui/src/styles/animation.rs
- [L8:L12]enum AnimationDuration {
    Instant = 50,
    Fast = 150,
    Slow = 300,
}
- [L27:L32]enum AnimationDirection {
    FromBottom,
    FromLeft,
    FromRight,
    FromTop,
}
- [L34:L34]trait DefaultAnimations: Styled + Sized + Element {
- [L103:L103]struct Animation {}

## crates/ui/src/styles/appearance.rs
- [L4:L7]fn window_appearance(cx: &mut App) -> WindowBackgroundAppearance 
- [L9:L19]fn theme_is_transparent(cx: &mut App) -> bool 

## crates/ui/src/styles/color.rs
- [L19:L86]enum Color {
    Default,
    Accent,
    Conflict,
    Created,
    Custom(Hsla),
    Debugger,
    Deleted,
    Disabled,
    Error,
    Hidden,
    Hint,
    Ignored,
    Info,
    Modified,
    Muted,
    Placeholder,
    Player(u32),
    Selected,
    Success,
    VersionControlAdded,
    VersionControlConflict,
    VersionControlDeleted,
    VersionControlIgnored,
    VersionControlModified,
    Warning,
}

## crates/ui/src/styles/elevation.rs
- [L6:L26]enum ElevationIndex {
    Background,
    Surface,
    EditorSurface,
    ElevatedSurface,
    ModalSurface,
}

## crates/ui/src/styles/platform.rs
- [L1:L12]enum PlatformStyle {
    Mac,
    Linux,
    Windows,
}

## crates/ui/src/styles/severity.rs
- [L1:L10]enum Severity {
    Info,
    Success,
    Warning,
    Error,
}

## crates/ui/src/styles/spacing.rs
- [L47:L55]fn ui_density(cx: &mut App) -> UiDensity 

## crates/ui/src/styles/typography.rs
- [L12:L12]trait StyledTypography: Styled + Sized {
- [L92:L131]enum TextSize {
    Default,
    Large,
    Small,
    XSmall,
    Ui,
    Editor,
}
- [L162:L178]enum HeadlineSize {
    XSmall,
    Small,
    Medium,
    Large,
    XLarge,
}
- [L204:L211]struct Headline {
    size: HeadlineSize,
    text: SharedString,
    color: Color,
}

## crates/ui/src/styles/units.rs
- [L4:L4]const BASE_REM_SIZE_IN_PX: f32 = 16.;
- [L3:L15]fn rems_from_px(px: impl Into<f32>) -> Rems 
- [L17:L22]fn vw(percent: f32, window: &mut Window) -> Length 
- [L24:L29]fn vh(percent: f32, window: &mut Window) -> Length 

## crates/ui/src/traits.rs
- [L1:L1]mod animation_ext;
- [L2:L2]mod clickable;
- [L3:L3]mod disableable;
- [L4:L4]mod fixed;
- [L5:L5]mod styled_ext;
- [L6:L6]mod toggleable;
- [L7:L7]mod transformable;
- [L8:L8]mod visible_on_hover;

## crates/ui/src/traits/animation_ext.rs
- [L8:L8]trait CommonAnimationExt: AnimationExt {

## crates/ui/src/traits/clickable.rs
- [L4:L4]trait Clickable {

## crates/ui/src/traits/disableable.rs
- [L2:L2]trait Disableable {

## crates/ui/src/traits/fixed.rs
- [L4:L4]trait FixedWidth {

## crates/ui/src/traits/styled_ext.rs
- [L6:L12]fn elevated<E: Styled>(this: E, cx: &App, index: ElevationIndex) -> E 
- [L14:L18]fn elevated_borderless<E: Styled>(this: E, cx: &mut App, index: ElevationIndex) -> E 
- [L26:L26]trait StyledExt: Styled + Sized {

## crates/ui/src/traits/toggleable.rs
- [L5:L5]trait Toggleable {
- [L10:L20]enum ToggleState {
    Unselected,
    Indeterminate,
    Selected,
}

## crates/ui/src/traits/transformable.rs
- [L4:L4]trait Transformable {

## crates/ui/src/traits/visible_on_hover.rs
- [L5:L5]trait VisibleOnHover {

## crates/ui/src/ui.rs
- [L10:L10]mod component_prelude;
- [L12:L12]mod prelude;
- [L15:L15]mod utils;

## crates/ui/src/utils.rs
- [L20:L23]fn is_light(cx: &mut App) -> bool 

## crates/ui/src/utils/apca_contrast.rs
- [L3:L30]struct APCAConstants {
    main_trc: f32,
    s_rco: f32,
    s_gco: f32,
    s_bco: f32,
    norm_bg: f32,
    norm_txt: f32,
    rev_txt: f32,
    rev_bg: f32,
    blk_thrs: f32,
    blk_clmp: f32,
    scale_bow: f32,
    scale_wob: f32,
    lo_bow_offset: f32,
    lo_wob_offset: f32,
    delta_y_min: f32,
    lo_clip: f32,
}
- [L55:L128]fn apca_contrast(text_color: Hsla, background_color: Hsla) -> f32 
- [L130:L140]fn srgb_to_y(color: Hsla, constants: &APCAConstants) -> f32 
- [L142:L202]fn ensure_minimum_contrast(
    foreground: Hsla,
    background: Hsla,
    minimum_apca_contrast: f32,
) -> Hsla 
- [L204:L257]fn adjust_lightness_for_contrast(
    foreground: Hsla,
    background: Hsla,
    minimum_apca_contrast: f32,
) -> Hsla 
- [L259:L291]fn adjust_lightness_and_saturation_for_contrast(
    foreground: Hsla,
    background: Hsla,
    minimum_apca_contrast: f32,
) -> Hsla 

## crates/ui/src/utils/color_contrast.rs
- [L3:L17]fn calculate_contrast_ratio(fg: Hsla, bg: Hsla) -> f32 
- [L19:L30]fn relative_luminance(color: Hsla) -> f32 
- [L32:L39]fn linearize(component: f32) -> f32 

## crates/ui/src/utils/corner_solver.rs
- [L3:L18]fn inner_corner_radius(
    parent_radius: Pixels,
    parent_border: Pixels,
    parent_padding: Pixels,
    self_border: Pixels,
) -> Pixels 
- [L20:L30]struct CornerSolver {
    root_radius: Pixels,
    root_border: Pixels,
    root_padding: Pixels,
    children: Vec<(Pixels, Pixels)>,
}

## crates/ui/src/utils/format_distance.rs
- [L6:L9]enum DateTimeType {
    Naive(NaiveDateTime),
    Local(DateTime<Local>),
}
- [L24:L30]struct FormatDistance {
    date: DateTimeType,
    base_date: DateTimeType,
    include_seconds: bool,
    add_suffix: bool,
    hide_prefix: bool,
}
- [L78:L88]fn distance_in_seconds(date: NaiveDateTime, base_date: NaiveDateTime) -> i64 
- [L90:L226]fn distance_string(
    distance: i64,
    include_seconds: bool,
    add_suffix: bool,
    hide_prefix: bool,
) -> String 
- [L228:L243]fn format_distance(
    date: DateTimeType,
    base_date: NaiveDateTime,
    include_seconds: bool,
    add_suffix: bool,
    hide_prefix: bool,
) -> String 
- [L245:L257]fn format_distance_from_now(
    datetime: DateTimeType,
    include_seconds: bool,
    add_suffix: bool,
    hide_prefix: bool,
) -> String 

## crates/ui/src/utils/search_input.rs
- [L3:L3]struct SearchInputWidth;

## crates/ui/src/utils/with_rem_size.rs
- [L7:L11]struct WithRemSize {
    div: Div,
    rem_size: Pixels,
}

## crates/ui_input/src/input_field.rs
- [L9:L13]struct InputFieldStyle {
    text_color: Hsla,
    background_color: Hsla,
    border_color: Hsla,
}
- [L15:L44]struct InputField {
    label: Option<SharedString>,
    label_size: LabelSize,
    placeholder: SharedString,
    pub editor: Entity<Editor>,
    start_icon: Option<IconName>,
    disabled: bool,
    min_width: Length,
    tab_index: Option<isize>,
    tab_stop: bool,
}

## crates/ui_input/src/number_field.rs
- [L18:L22]enum NumberFieldMode {
    Read,
    Edit,
}
- [L24:L24]trait NumberFieldType: Display + Copy + Clone + Sized + PartialOrd + FromStr + 'static {
- [L242:L258]struct NumberField<T: NumberFieldType = usize> {
    id: ElementId,
    value: T,
    focus_handle: FocusHandle,
    mode: Entity<NumberFieldMode>,
    edit_editor: Entity<Option<WeakEntity<Editor>>>,
    format: Box<dyn FnOnce(&T) -> String>,
    large_step: T,
    small_step: T,
    step: T,
    min_value: T,
    max_value: T,
    on_reset: Option<Box<dyn Fn(&ClickEvent, &mut Window, &mut App) + 'static>>,
    on_change: Rc<dyn Fn(&T, &mut Window, &mut App) + 'static>,
    tab_index: Option<isize>,
}
- [L344:L347]enum ValueChangeDirection {
    Increment,
    Decrement,
}

## crates/ui_input/src/ui_input.rs

## crates/ui_macros/src/derive_register_component.rs
- [L5:L27]fn derive_register_component(input: TokenStream) -> TokenStream 

## crates/ui_macros/src/dynamic_spacing.rs
- [L7:L9]struct DynamicSpacingInput {
    values: Punctuated<DynamicSpacingValue, Token![,]>,
}
- [L18:L21]enum DynamicSpacingValue {
    Single(LitInt),
    Tuple(LitInt, LitInt, LitInt),
}
- [L48:L87]fn derive_spacing(input: TokenStream) -> TokenStream 

## crates/ui_macros/src/ui_macros.rs
- [L6:L10]fn derive_dynamic_spacing(input: TokenStream) -> TokenStream 
- [L12:L37]fn derive_register_component(input: TokenStream) -> TokenStream 

## crates/ui_prompt/src/ui_prompt.rs
- [L12:L17]fn init(cx: &mut App) 
- [L19:L26]fn process_settings(cx: &mut App) 
- [L28:L53]fn zed_prompt_renderer(
    level: PromptLevel,
    message: &str,
    detail: Option<&str>,
    actions: &[PromptButton],
    handle: PromptHandle,
    window: &mut Window,
    cx: &mut App,
) -> RenderablePromptHandle 
- [L55:L62]struct ZedPromptRenderer {
    _level: PromptLevel,
    message: Entity<Markdown>,
    actions: Vec<String>,
    focus: FocusHandle,
    active_action_id: usize,
    detail: Option<Entity<Markdown>>,
}
- [L174:L197]fn markdown_style(main_message: bool, window: &Window, cx: &App) -> MarkdownStyle 

## crates/util/src/arc_cow.rs
- [L9:L12]enum ArcCow<'a, T: ?Sized> {
    Borrowed(&'a T),
    Owned(Arc<T>),
}

## crates/util/src/archive.rs
- [L10:L10]async fn extract_zip<R: AsyncRead + Unpin>(destination: &Path, reader: R) -> Result<()> {
- [L54:L54]async fn extract_zip<R: AsyncRead + Unpin>(destination: &Path, reader: R) -> Result<()> {
- [L71:L71]async fn extract_seekable_zip<R: AsyncRead + AsyncSeek + Unpin>(

## crates/util/src/command.rs
- [L7:L13]fn new_std_command(program: impl AsRef<OsStr>) -> std::process::Command 
- [L16:L18]fn new_std_command(program: impl AsRef<OsStr>) -> std::process::Command 
- [L21:L27]fn new_smol_command(program: impl AsRef<OsStr>) -> smol::process::Command 
- [L30:L53]fn new_smol_command(program: impl AsRef<OsStr>) -> smol::process::Command 
- [L56:L58]fn new_smol_command(program: impl AsRef<OsStr>) -> smol::process::Command 
- [L61:L102]fn reset_exception_ports() 

## crates/util/src/fs.rs
- [L8:L8]async fn remove_matching<F>(dir: &Path, predicate: F)
- [L30:L30]async fn collect_matching<F>(dir: &Path, predicate: F) -> Vec<PathBuf>
- [L49:L49]async fn find_file_name_in_dir<F>(dir: &Path, predicate: F) -> Option<PathBuf>
- [L72:L72]async fn move_folder_files_to_folder<P: AsRef<Path>>(
- [L97:L97]async fn make_file_executable(path: &Path) -> std::io::Result<()> {
- [L109:L109]async fn make_file_executable(_path: &Path) -> std::io::Result<()> {

## crates/util/src/markdown.rs
- [L3:L5]struct MarkdownString(pub String);
- [L13:L32]struct MarkdownEscaped<'a>(pub &'a str);
- [L34:L40]struct MarkdownInlineCode<'a>(pub &'a str);
- [L42:L46]struct MarkdownCodeBlock<'a> {
    pub tag: &'a str,
    pub text: &'a str,
}
- [L163:L179]fn count_max_consecutive_chars(text: &str, search: char) -> usize 

## crates/util/src/paths.rs
- [L22:L22]static HOME_DIR: OnceLock<PathBuf> = OnceLock::new();
- [L24:L39]fn home_dir() -> &'static PathBuf 
- [L41:L41]trait PathExt {
- [L180:L182]fn path_ends_with(base: &Path, suffix: &Path) -> bool 
- [L184:L203]fn strip_path_suffix<'a>(base: &'a Path, suffix: &Path) -> Option<&'a Path> 
- [L205:L209]struct SanitizedPath(Path);
- [L326:L329]enum PathStyle {
    Posix,
    Windows,
}
- [L434:L437]struct RemotePathBuf {
    style: PathStyle,
    string: String,
}
- [L463:L474]fn is_absolute(path_like: &str, path_style: PathStyle) -> bool 
- [L478:L478]struct NormalizeError;
- [L488:L550]fn normalize_lexically(path: &Path) -> Result<PathBuf, NormalizeError> 
- [L553:L553]const FILE_ROW_COLUMN_DELIMITER: char = ':';
- [L576:L584]struct PathWithPosition {
    pub path: PathBuf,
    pub row: Option<u32>,
    pub column: Option<u32>,
}
- [L790:L794]struct PathMatcher {
    sources: Vec<(String, RelPathBuf, /*trailing separator*/ bool)>,
    glob: GlobSet,
    path_style: PathStyle,
}
- [L873:L960]fn compare_numeric_segments<I>(
    a_iter: &mut std::iter::Peekable<I>,
    b_iter: &mut std::iter::Peekable<I>,
) -> Ordering
where
    I: Iterator<Item = char>,
- [L962:L1015]fn natural_sort(a: &str, b: &str) -> Ordering 
- [L1017:L1026]fn natural_sort_no_tiebreak(a: &str, b: &str) -> Ordering 
- [L1028:L1050]fn stem_and_extension(filename: &str) -> (Option<&str>, Option<&str>) 
- [L1052:L1102]fn compare_rel_paths(
    (path_a, a_is_file): (&RelPath, bool),
    (path_b, b_is_file): (&RelPath, bool),
) -> Ordering 
- [L1104:L1176]fn compare_rel_paths_mixed(
    (path_a, a_is_file): (&RelPath, bool),
    (path_b, b_is_file): (&RelPath, bool),
) -> Ordering 
- [L1178:L1252]fn compare_rel_paths_files_first(
    (path_a, a_is_file): (&RelPath, bool),
    (path_b, b_is_file): (&RelPath, bool),
) -> Ordering 
- [L1254:L1311]fn compare_paths(
    (path_a, a_is_file): (&Path, bool),
    (path_b, b_is_file): (&Path, bool),
) -> Ordering 
- [L1314:L1321]struct WslPath {
    pub distro: String,
    pub path: std::ffi::OsString,
}

## crates/util/src/redact.rs
- [L3:L3]static REDACT_REGEX: LazyLock<regex::Regex> = LazyLock::new(|| {
- [L7:L21]fn should_redact(env_var_name: &str) -> bool 
- [L23:L36]fn redact_command(command: &str) -> String 

## crates/util/src/rel_path.rs
- [L12:L24]struct RelPath(str);
- [L26:L31]struct RelPathBuf(String);
- [L255:L255]struct StripPrefixError;
- [L377:L379]fn rel_path(path: &str) -> &RelPath 
- [L388:L388]struct RelPathComponents<'a>(&'a str);
- [L390:L390]struct RelPathAncestors<'a>(Option<&'a str>);

## crates/util/src/schemars.rs
- [L5:L24]fn replace_subschema<T: JsonSchema>(
    generator: &mut schemars::SchemaGenerator,
    schema: impl Fn() -> schemars::Schema,
) -> schemars::Schema 
- [L26:L36]fn add_new_subschema(
    generator: &mut schemars::SchemaGenerator,
    name: &str,
    schema: serde_json::Value,
) -> schemars::Schema 
- [L38:L42]struct DefaultDenyUnknownFields;
- [L57:L62]struct AllowTrailingCommas;

## crates/util/src/serde.rs
- [L1:L1]const fn default_true() -> bool {
- [L5:L7]fn is_default<T: Default + PartialEq>(value: &T) -> bool 

## crates/util/src/shell.rs
- [L5:L23]enum Shell {
    System,
    Program(String),
    WithArguments {
        program: String,
        args: Vec<String>,
        title_override: Option<String>,
    },
}
- [L52:L67]enum ShellKind {
    Posix,
    Csh,
    Tcsh,
    Rc,
    Fish,
    PowerShell,
    Pwsh,
    Nushell,
    Cmd,
    Xonsh,
    Elvish,
}
- [L69:L75]fn get_system_shell() -> String 
- [L77:L83]fn get_default_system_shell() -> String 
- [L85:L92]fn get_default_system_shell_preferring_bash() -> String 
- [L94:L121]fn get_windows_bash() -> Option<String> 
- [L123:L234]fn get_windows_system_shell() -> String 

## crates/util/src/shell_builder.rs
- [L6:L16]struct ShellBuilder {
    program: String,
    args: Vec<String>,
    interactive: bool,
    redirect_stdin: bool,
    kind: ShellKind,
}

## crates/util/src/shell_env.rs
- [L8:L15]fn print_env() 
- [L18:L18]async fn capture(

## crates/util/src/size.rs
- [L1:L17]fn format_file_size(size: u64, use_decimal: bool) -> String 

## crates/util/src/test.rs
- [L14:L17]struct TempTree {
    _temp_dir: TempDir,
    path: PathBuf,
}
- [L36:L68]fn write_tree(path: &Path, tree: serde_json::Value) 
- [L70:L81]fn sample_text(rows: usize, cols: usize, start_char: char) -> String 

## crates/util/src/test/assertions.rs
- [L1:L4]enum SetEqError<T> {
    LeftMissing(T),
    RightMissing(T),
}

## crates/util/src/test/marked_text.rs
- [L4:L23]fn marked_text_offsets_by(
    marked_text: &str,
    markers: Vec<char>,
) -> (String, HashMap<char, Vec<usize>>) 
- [L25:L82]fn marked_text_ranges_by(
    marked_text: &str,
    markers: Vec<TextRangeMarker>,
) -> (String, HashMap<TextRangeMarker, Vec<Range<usize>>>) 
- [L84:L178]fn marked_text_ranges(
    marked_text: &str,
    ranges_are_directed: bool,
) -> (String, Vec<Range<usize>>) 
- [L181:L193]fn marked_text_offsets(marked_text: &str) -> (String, Vec<usize>) 
- [L195:L229]fn generate_marked_text(
    unmarked_text: &str,
    ranges: &[Range<usize>],
    indicate_cursors: bool,
) -> String 
- [L232:L236]enum TextRangeMarker {
    Empty(char),
    Range(char, char),
    ReverseRange(char, char),
}

## crates/util/src/time.rs
- [L3:L9]fn duration_alt_display(duration: Duration) -> String 
- [L11:L23]fn duration_clock_format(duration: Duration) -> String 

## crates/util/src/util.rs
- [L1:L1]mod arc_cow;
- [L2:L2]mod archive;
- [L3:L3]mod command;
- [L4:L4]mod fs;
- [L5:L5]mod markdown;
- [L6:L6]mod paths;
- [L7:L7]mod redact;
- [L8:L8]mod rel_path;
- [L9:L9]mod schemars;
- [L10:L10]mod serde;
- [L11:L11]mod shell;
- [L12:L12]mod shell_builder;
- [L13:L13]mod shell_env;
- [L14:L14]mod size;
- [L16:L16]mod test;
- [L17:L17]mod time;
- [L55:L55]const fn is_utf8_char_boundary(u8: u8) -> bool {
- [L60:L65]fn truncate(s: &str, max_chars: usize) -> &str 
- [L67:L82]fn truncate_and_trailoff(s: &str, max_chars: usize) -> String 
- [L84:L103]fn truncate_and_remove_front(s: &str, max_chars: usize) -> String 
- [L105:L116]fn truncate_lines_and_trailoff(s: &str, max_lines: usize) -> String 
- [L118:L132]fn truncate_to_byte_limit(s: &str, max_bytes: usize) -> &str 
- [L134:L149]fn truncate_lines_to_byte_limit(s: &str, max_bytes: usize) -> &str 
- [L152:L174]fn test_truncate_lines_to_byte_limit() 
- [L176:L180]fn post_inc<T: From<u8> + AddAssign<T> + Copy>(value: &mut T) -> T 
- [L182:L203]fn extend_sorted<T, I, F>(vec: &mut Vec<T>, new_items: I, limit: usize, mut cmp: F)
where
    I: IntoIterator<Item = T>,
    F: FnMut(&T, &T) -> Ordering,
- [L205:L225]fn truncate_to_bottom_n_sorted_by<T, F>(items: &mut Vec<T>, limit: usize, compare: &F)
where
    F: Fn(&T, &T) -> Ordering,
- [L227:L247]fn prevent_root_execution() 
- [L250:L302]fn load_shell_from_passwd() -> Result<()> 
- [L304:L312]fn get_shell_safe_zed_path(shell_kind: shell::ShellKind) -> anyhow::Result<String> 
- [L314:L352]fn get_zed_cli_path() -> Result<PathBuf> 
- [L355:L355]async fn load_login_shell_environment() -> Result<()> {
- [L379:L399]fn set_pre_exec_to_start_new_session(
    command: &mut std::process::Command,
) -> &mut std::process::Command 
- [L401:L424]fn merge_json_lenient_value_into(
    source: serde_json_lenient::Value,
    target: &mut serde_json_lenient::Value,
) 
- [L426:L448]fn merge_json_value_into(source: serde_json::Value, target: &mut serde_json::Value) 
- [L450:L469]fn merge_non_null_json_value_into(source: serde_json::Value, target: &mut serde_json::Value) 
- [L471:L488]fn measure<R>(label: &str, f: impl FnOnce() -> R) -> R 
- [L490:L517]fn expanded_and_wrapped_usize_range(
    range: Range<usize>,
    additional_before: usize,
    additional_after: usize,
    wrap_length: usize,
) -> impl Iterator<Item = usize> 
- [L519:L554]fn wrapped_usize_outward_from(
    start: usize,
    additional_before: usize,
    additional_after: usize,
    wrap_length: usize,
) -> impl Iterator<Item = usize> 
- [L556:L556]trait ResultExt<E> {
- [L612:L643]fn log_error_with_caller<E>(caller: core::panic::Location<'_>, error: E, level: log::Level)
where
    E: std::fmt::Debug,
- [L645:L647]fn log_err<E: std::fmt::Debug>(error: &E) 
- [L649:L649]trait TryFutureExt {
- [L705:L705]struct LogErrorFuture<F>(F, log::Level, core::panic::Location<'static>);
- [L731:L731]struct UnwrapFuture<F>(F);
- [L749:L749]struct Deferred<F: FnOnce()>(Option<F>);
- [L766:L770]fn defer<F: FnOnce()>(f: F) -> Deferred<F> 
- [L827:L833]fn asset_str<A: rust_embed::RustEmbed>(path: &str) -> Cow<'static, str> 
- [L852:L852]trait RangeExt<T> {
- [L895:L901]struct NumericPrefixWithSuffix<'a>(Option<u64>, &'a str);
- [L938:L958]fn capitalize(str: &str) -> String 
- [L960:L964]fn emoji_regex() -> &'static Regex 
- [L966:L977]fn word_consists_of_emojis(s: &str) -> bool 
- [L979:L999]fn split_str_with_ranges(s: &str, pat: impl Fn(char) -> bool) -> Vec<(Range<usize>, &str)> 
- [L1001:L1003]fn default<D: Default>() -> D 
- [L1010:L1014]enum ConnectionResult<O> {
    Timeout,
    ConnectionReset,
    Result(anyhow::Result<O>),
}
- [L1033:L1039]fn some_or_debug_panic<T>(option: Option<T>) -> Option<T> 

## crates/util_macros/src/util_macros.rs
- [L9:L39]fn path(input: TokenStream) -> TokenStream 
- [L41:L65]fn uri(input: TokenStream) -> TokenStream 
- [L67:L91]fn line_endings(input: TokenStream) -> TokenStream 
- [L93:L105]struct PerfArgs {
    iterations: Option<syn::Expr>,
    weight: Option<syn::Expr>,
    importance: Importance,
}
- [L133:L286]fn perf(our_attr: TokenStream, input: TokenStream) -> TokenStream 

## crates/vercel/src/vercel.rs
- [L5:L5]const VERCEL_API_URL: &str = "https://api.v0.dev/v1";
- [L9:L22]enum Model {
    VZeroOnePointFiveMedium,
    Custom {
        name: String,
        display_name: Option<String>,
        max_tokens: u64,
        max_output_tokens: Option<u64>,
        max_completion_tokens: Option<u64>,
    },
}

## crates/vim/src/change_list.rs

## crates/vim/src/command.rs
- [L54:L59]struct GoToLine {
    range: CommandRange,
}
- [L61:L66]struct YankCommand {
    range: CommandRange,
}
- [L68:L75]struct WithRange {
    restore_selection: bool,
    range: CommandRange,
    action: WrappedAction,
}
- [L77:L83]struct WithCount {
    count: u32,
    action: WrappedAction,
}
- [L86:L91]enum VimOption {
    Wrap(bool),
    Number(bool),
    RelativeNumber(bool),
    IgnoreCase(bool),
}
- [L181:L186]struct VimSet {
    options: Vec<VimOption>,
}
- [L188:L195]struct VimSave {
    pub range: Option<CommandRange>,
    pub save_intent: Option<SaveIntent>,
    pub filename: String,
}
- [L197:L203]struct VimSplit {
    pub vertical: bool,
    pub filename: String,
}
- [L207:L210]enum DeleteMarks {
    Marks(String),
    AllLocal,
}
- [L226:L231]struct VimEdit {
    pub filename: String,
}
- [L233:L239]struct VimRead {
    pub range: Option<CommandRange>,
    pub filename: String,
}
- [L243:L246]struct VimNorm {
    pub range: Option<CommandRange>,
    pub command: String,
}
- [L249:L249]struct WrappedAction(Box<dyn Action>);

## crates/vim/src/digraph.rs
- [L17:L17]struct Literal(String, char);
- [L23:L23]static DEFAULT_DIGRAPHS_MAP: LazyLock<HashMap<String, Arc<str>>> = LazyLock::new(|| {
- [L33:L45]fn lookup_digraph(a: char, b: char, cx: &App) -> Arc<str> 

## crates/vim/src/digraph/default.rs
- [L2:L2]const DEFAULT_DIGRAPHS: &[(char, char, u32)] = &[

## crates/vim/src/helix.rs
- [L62:L83]fn register(editor: &mut Editor, cx: &mut Context<Vim>) 

## crates/vim/src/helix/boundary.rs
- [L152:L152]struct Offset(MultiBufferOffset);
- [L248:L275]fn relative_range<B: BoundedObject>(
    object: &B,
    outer: bool,
    map: &DisplaySnapshot,
    find_range: impl Fn(bool) -> Option<Range<Offset>>,
) -> Option<Range<DisplayPoint>> 
- [L277:L289]enum ImmediateBoundary {
    Word { ignore_punctuation: bool },
    Subword { ignore_punctuation: bool },
    AngleBrackets,
    BackQuotes,
    CurlyBrackets,
    DoubleQuotes,
    Parentheses,
    SingleQuotes,
    SquareBrackets,
    VerticalBars,
}
- [L291:L296]enum FuzzyBoundary {
    Sentence,
    Paragraph,
}
- [L598:L601]enum Boundary {
    Start,
    End,
}
- [L627:L642]fn try_find_boundary(
    map: &DisplaySnapshot,
    from: Offset,
    is_boundary: impl Fn(char, char) -> bool,
) -> Option<Offset> 
- [L644:L667]fn try_find_boundary_data<T>(
    map: &DisplaySnapshot,
    mut from: Offset,
    boundary_information: impl Fn(char, char, Offset) -> Option<T>,
) -> Option<T> 
- [L669:L684]fn try_find_preceding_boundary(
    map: &DisplaySnapshot,
    from: Offset,
    is_boundary: impl Fn(char, char) -> bool,
) -> Option<Offset> 
- [L686:L713]fn try_find_preceding_boundary_data<T>(
    map: &DisplaySnapshot,
    mut from: Offset,
    is_boundary: impl Fn(char, char, Offset) -> Option<T>,
) -> Option<T> 
- [L715:L717]fn is_buffer_start(left: char) -> bool 
- [L719:L721]fn is_buffer_end(right: char) -> bool 
- [L723:L726]fn is_word_start(left: char, right: char, classifier: &CharClassifier) -> bool 
- [L728:L730]fn is_word_end(left: char, right: char, classifier: &CharClassifier) -> bool 
- [L732:L739]fn is_sentence_end(left: char, right: char, classifier: &CharClassifier) -> bool 

## crates/vim/src/helix/duplicate.rs
- [L92:L109]fn find_next_valid_duplicate_space(
    mut origin: Range<DisplayPoint>,
    map: &DisplaySnapshot,
    advance_search: &impl Fn(&mut DisplayPoint),
    end_search: &impl Fn(&Range<DisplayPoint>, &DisplaySnapshot) -> bool,
) -> Option<Range<DisplayPoint>> 
- [L111:L116]fn display_point_range_to_offset_range(
    range: &Range<DisplayPoint>,
    map: &DisplaySnapshot,
) -> Range<MultiBufferOffset> 

## crates/vim/src/helix/object.rs
- [L16:L16]trait HelixTextObject {
- [L88:L88]struct VimToHelixError;

## crates/vim/src/helix/paste.rs
- [L8:L15]struct HelixPaste {
    before: bool,
}

## crates/vim/src/helix/select.rs

## crates/vim/src/indent.rs

## crates/vim/src/insert.rs
- [L24:L33]fn register(editor: &mut Editor, cx: &mut Context<Vim>) 

## crates/vim/src/mode_indicator.rs
- [L7:L12]struct ModeIndicator {
    vim: Option<WeakEntity<Vim>>,
    pending_keys: Option<String>,
    vim_subscription: Option<Subscription>,
}

## crates/vim/src/motion.rs
- [L44:L170]enum Motion {
    Left,
    WrappingLeft,
    Down {
        display_lines: bool,
    },
    Up {
        display_lines: bool,
    },
    Right,
    WrappingRight,
    NextWordStart {
        ignore_punctuation: bool,
    },
    NextWordEnd {
        ignore_punctuation: bool,
    },
    PreviousWordStart {
        ignore_punctuation: bool,
    },
    PreviousWordEnd {
        ignore_punctuation: bool,
    },
    NextSubwordStart {
        ignore_punctuation: bool,
    },
    NextSubwordEnd {
        ignore_punctuation: bool,
    },
    PreviousSubwordStart {
        ignore_punctuation: bool,
    },
    PreviousSubwordEnd {
        ignore_punctuation: bool,
    },
    FirstNonWhitespace {
        display_lines: bool,
    },
    CurrentLine,
    StartOfLine {
        display_lines: bool,
    },
    MiddleOfLine {
        display_lines: bool,
    },
    EndOfLine {
        display_lines: bool,
    },
    SentenceBackward,
    SentenceForward,
    StartOfParagraph,
    EndOfParagraph,
    StartOfDocument,
    EndOfDocument,
    Matching,
    GoToPercentage,
    UnmatchedForward {
        char: char,
    },
    UnmatchedBackward {
        char: char,
    },
    FindForward {
        before: bool,
        char: char,
        mode: FindRange,
        smartcase: bool,
    },
    FindBackward {
        after: bool,
        char: char,
        mode: FindRange,
        smartcase: bool,
    },
    Sneak {
        first_char: char,
        second_char: char,
        smartcase: bool,
    },
    SneakBackward {
        first_char: char,
        second_char: char,
        smartcase: bool,
    },
    RepeatFind {
        last_find: Box<Motion>,
    },
    RepeatFindReversed {
        last_find: Box<Motion>,
    },
    NextLineStart,
    PreviousLineStart,
    StartOfLineDownward,
    EndOfLineDownward,
    GoToColumn,
    WindowTop,
    WindowMiddle,
    WindowBottom,
    NextSectionStart,
    NextSectionEnd,
    PreviousSectionStart,
    PreviousSectionEnd,
    NextMethodStart,
    NextMethodEnd,
    PreviousMethodStart,
    PreviousMethodEnd,
    NextComment,
    PreviousComment,
    PreviousLesserIndent,
    PreviousGreaterIndent,
    PreviousSameIndent,
    NextLesserIndent,
    NextGreaterIndent,
    NextSameIndent,
    ZedSearchResult {
        prior_selections: Vec<Range<Anchor>>,
        new_selections: Vec<Range<Anchor>>,
    },
    Jump {
        anchor: Anchor,
        line: bool,
    },
}
- [L173:L177]enum IndentType {
    Lesser,
    Greater,
    Same,
}
- [L179:L186]struct NextWordStart {
    ignore_punctuation: bool,
}
- [L188:L195]struct NextWordEnd {
    ignore_punctuation: bool,
}
- [L197:L204]struct PreviousWordStart {
    ignore_punctuation: bool,
}
- [L206:L213]struct PreviousWordEnd {
    ignore_punctuation: bool,
}
- [L269:L276]struct FirstNonWhitespace {
    display_lines: bool,
}
- [L278:L285]struct EndOfLine {
    display_lines: bool,
}
- [L287:L294]struct StartOfLine {
    pub(crate) display_lines: bool,
}
- [L296:L303]struct MiddleOfLine {
    display_lines: bool,
}
- [L305:L312]struct UnmatchedForward {
    char: char,
}
- [L314:L321]struct UnmatchedBackward {
    char: char,
}
- [L409:L671]fn register(editor: &mut Editor, cx: &mut Context<Vim>) 
- [L1478:L1486]fn left(map: &DisplaySnapshot, mut point: DisplayPoint, times: usize) -> DisplayPoint 
- [L1502:L1510]fn wrapping_right(map: &DisplaySnapshot, mut point: DisplayPoint, times: usize) -> DisplayPoint 
- [L1512:L1525]fn wrapping_right_single(map: &DisplaySnapshot, point: DisplayPoint) -> DisplayPoint 
- [L1527:L1609]fn up_down_buffer_rows(
    map: &DisplaySnapshot,
    mut point: DisplayPoint,
    mut goal: SelectionGoal,
    mut times: isize,
    text_layout_details: &TextLayoutDetails,
) -> (DisplayPoint, SelectionGoal) 
- [L1611:L1623]fn down_display(
    map: &DisplaySnapshot,
    mut point: DisplayPoint,
    mut goal: SelectionGoal,
    times: usize,
    text_layout_details: &TextLayoutDetails,
) -> (DisplayPoint, SelectionGoal) 
- [L1625:L1637]fn up_display(
    map: &DisplaySnapshot,
    mut point: DisplayPoint,
    mut goal: SelectionGoal,
    times: usize,
    text_layout_details: &TextLayoutDetails,
) -> (DisplayPoint, SelectionGoal) 
- [L1751:L1781]fn previous_word_start(
    map: &DisplaySnapshot,
    mut point: DisplayPoint,
    ignore_punctuation: bool,
    times: usize,
) -> DisplayPoint 
- [L1783:L1824]fn previous_word_end(
    map: &DisplaySnapshot,
    point: DisplayPoint,
    ignore_punctuation: bool,
    times: usize,
) -> DisplayPoint 
- [L1826:L1860]fn next_subword_start(
    map: &DisplaySnapshot,
    mut point: DisplayPoint,
    ignore_punctuation: bool,
    times: usize,
) -> DisplayPoint 
- [L1914:L1956]fn previous_subword_start(
    map: &DisplaySnapshot,
    mut point: DisplayPoint,
    ignore_punctuation: bool,
    times: usize,
) -> DisplayPoint 
- [L1958:L2005]fn previous_subword_end(
    map: &DisplaySnapshot,
    point: DisplayPoint,
    ignore_punctuation: bool,
    times: usize,
) -> DisplayPoint 
- [L2210:L2218]fn next_non_blank(map: &DisplaySnapshot, start: MultiBufferOffset) -> MultiBufferOffset 
- [L2222:L2246]fn start_of_next_sentence(
    map: &DisplaySnapshot,
    end_of_sentence: MultiBufferOffset,
) -> Option<MultiBufferOffset> 
- [L2248:L2285]fn go_to_line(map: &DisplaySnapshot, display_point: DisplayPoint, line: usize) -> DisplayPoint 
- [L2287:L2307]fn start_of_document(
    map: &DisplaySnapshot,
    display_point: DisplayPoint,
    maybe_times: Option<usize>,
) -> DisplayPoint 
- [L2309:L2328]fn end_of_document(
    map: &DisplaySnapshot,
    display_point: DisplayPoint,
    maybe_times: Option<usize>,
) -> DisplayPoint 
- [L2330:L2353]fn matching_tag(map: &DisplaySnapshot, head: DisplayPoint) -> Option<DisplayPoint> 
- [L2355:L2454]fn matching(map: &DisplaySnapshot, display_point: DisplayPoint) -> DisplayPoint 
- [L2462:L2470]fn go_to_percentage(map: &DisplaySnapshot, point: DisplayPoint, count: usize) -> DisplayPoint 
- [L2472:L2511]fn unmatched_forward(
    map: &DisplaySnapshot,
    mut display_point: DisplayPoint,
    char: char,
    times: usize,
) -> DisplayPoint 
- [L2513:L2556]fn unmatched_backward(
    map: &DisplaySnapshot,
    mut display_point: DisplayPoint,
    char: char,
    times: usize,
) -> DisplayPoint 
- [L2558:L2596]fn find_forward(
    map: &DisplaySnapshot,
    from: DisplayPoint,
    before: bool,
    target: char,
    times: usize,
    mode: FindRange,
    smartcase: bool,
) -> Option<DisplayPoint> 
- [L2598:L2630]fn find_backward(
    map: &DisplaySnapshot,
    from: DisplayPoint,
    after: bool,
    target: char,
    times: usize,
    mode: FindRange,
    smartcase: bool,
) -> DisplayPoint 
- [L2632:L2643]fn is_character_match(target: char, other: char, smartcase: bool) -> bool 
- [L2645:L2679]fn sneak(
    map: &DisplaySnapshot,
    from: DisplayPoint,
    first_target: char,
    second_target: char,
    times: usize,
    smartcase: bool,
) -> Option<DisplayPoint> 
- [L2681:L2711]fn sneak_backward(
    map: &DisplaySnapshot,
    from: DisplayPoint,
    first_target: char,
    second_target: char,
    times: usize,
    smartcase: bool,
) -> Option<DisplayPoint> 
- [L2713:L2716]fn next_line_start(map: &DisplaySnapshot, point: DisplayPoint, times: usize) -> DisplayPoint 
- [L2718:L2721]fn previous_line_start(map: &DisplaySnapshot, point: DisplayPoint, times: usize) -> DisplayPoint 
- [L2723:L2726]fn go_to_column(map: &DisplaySnapshot, point: DisplayPoint, times: usize) -> DisplayPoint 
- [L2739:L2773]fn window_top(
    map: &DisplaySnapshot,
    point: DisplayPoint,
    text_layout_details: &TextLayoutDetails,
    mut times: usize,
) -> (DisplayPoint, SelectionGoal) 
- [L2775:L2798]fn window_middle(
    map: &DisplaySnapshot,
    point: DisplayPoint,
    text_layout_details: &TextLayoutDetails,
) -> (DisplayPoint, SelectionGoal) 
- [L2800:L2831]fn window_bottom(
    map: &DisplaySnapshot,
    point: DisplayPoint,
    text_layout_details: &TextLayoutDetails,
    mut times: usize,
) -> (DisplayPoint, SelectionGoal) 
- [L2833:L2882]fn method_motion(
    map: &DisplaySnapshot,
    mut display_point: DisplayPoint,
    times: usize,
    direction: Direction,
    is_start: bool,
) -> DisplayPoint 
- [L2884:L2937]fn comment_motion(
    map: &DisplaySnapshot,
    mut display_point: DisplayPoint,
    times: usize,
    direction: Direction,
) -> DisplayPoint 
- [L2939:L3248]fn section_motion(
    map: &DisplaySnapshot,
    mut display_point: DisplayPoint,
    times: usize,
    direction: Direction,
    is_start: bool,
) -> DisplayPoint 

## crates/vim/src/normal.rs
- [L10:L10]mod substitute;

## crates/vim/src/normal/change.rs
- [L149:L202]fn expand_changed_word_selection(
    map: &DisplaySnapshot,
    selection: &mut Selection<DisplayPoint>,
    times: Option<usize>,
    ignore_punctuation: bool,
    text_layout_details: &TextLayoutDetails,
    use_subword: bool,
    always_advance: bool,
) -> Option<MotionKind> 

## crates/vim/src/normal/convert.rs
- [L15:L21]enum ConvertTarget {
    LowerCase,
    UpperCase,
    OppositeCase,
    Rot13,
    Rot47,
}

## crates/vim/src/normal/delete.rs
- [L201:L204]fn move_selection_end_to_next_line(map: &DisplaySnapshot, selection: &mut Selection<DisplayPoint>) 
- [L206:L208]fn ends_at_eof(map: &DisplaySnapshot, selection: &mut Selection<DisplayPoint>) -> bool 

## crates/vim/src/normal/increment.rs
- [L12:L19]struct Increment {
    step: bool,
}
- [L21:L28]struct Decrement {
    step: bool,
}
- [L30:L45]fn register(editor: &mut Editor, cx: &mut Context<Vim>) 
- [L125:L160]fn increment_decimal_string(num: &str, delta: i64) -> String 
- [L162:L173]fn increment_hex_string(num: &str, delta: i64) -> String 
- [L175:L186]fn should_use_lowercase(num: &str) -> bool 
- [L188:L195]fn increment_binary_string(num: &str, delta: i64) -> String 
- [L197:L328]fn find_target(
    snapshot: &MultiBufferSnapshot,
    start: Point,
    end: Point,
    need_range: bool,
) -> Option<(Range<Point>, String, u32)> 
- [L330:L352]fn is_numeric_string(s: &str) -> bool 
- [L354:L359]fn is_toggle_word(word: &str) -> bool 
- [L361:L390]fn increment_toggle_string(boolean: &str) -> String 

## crates/vim/src/normal/mark.rs
- [L360:L371]fn jump_motion(
    map: &DisplaySnapshot,
    anchor: Anchor,
    line: bool,
) -> (DisplayPoint, SelectionGoal) 

## crates/vim/src/normal/paste.rs
- [L20:L29]struct Paste {
    before: bool,
    preserve_clipboard: bool,
}

## crates/vim/src/normal/repeat.rs
- [L28:L34]fn should_replay(action: &dyn Action) -> bool 
- [L36:L57]fn repeatable_insert(action: &ReplayableAction) -> Option<Box<dyn Action>> 
- [L86:L90]struct ReplayerState {
    actions: Vec<ReplayableAction>,
    running: bool,
    ix: usize,
}
- [L93:L93]struct Replayer(Rc<RefCell<ReplayerState>>);

## crates/vim/src/normal/scroll.rs
- [L38:L87]fn register(editor: &mut Editor, cx: &mut Context<Vim>) 
- [L106:L266]fn scroll_editor(
    editor: &mut Editor,
    preserve_cursor_position: bool,
    amount: ScrollAmount,
    window: &mut Window,
    cx: &mut Context<Editor>,
) 

## crates/vim/src/normal/search.rs
- [L56:L63]struct FindCommand {
    pub query: String,
    pub backwards: bool,
}
- [L65:L71]struct ReplaceCommand {
    pub(crate) range: CommandRange,
    pub(crate) replacement: Replacement,
}
- [L74:L81]struct Replacement {
    search: String,
    replacement: String,
    case_sensitive: Option<bool>,
    flag_n: bool,
    flag_g: bool,
    flag_c: bool,
}

## crates/vim/src/normal/substitute.rs

## crates/vim/src/normal/toggle_comments.rs

## crates/vim/src/normal/yank.rs
- [L16:L16]struct HighlightOnYank;

## crates/vim/src/object.rs
- [L23:L47]enum Object {
    Word { ignore_punctuation: bool },
    Subword { ignore_punctuation: bool },
    Sentence,
    Paragraph,
    Quotes,
    BackQuotes,
    AnyQuotes,
    MiniQuotes,
    DoubleQuotes,
    VerticalBars,
    AnyBrackets,
    MiniBrackets,
    Parentheses,
    SquareBrackets,
    CurlyBrackets,
    AngleBrackets,
    Argument,
    IndentObj { include_below: bool },
    Tag,
    Method,
    Class,
    Comment,
    EntireFile,
}
- [L49:L56]struct Word {
    ignore_punctuation: bool,
}
- [L58:L65]struct Subword {
    ignore_punctuation: bool,
}
- [L66:L73]struct IndentObj {
    include_below: bool,
}
- [L76:L79]struct CandidateRange {
    pub start: DisplayPoint,
    pub end: DisplayPoint,
}
- [L82:L86]struct CandidateWithRanges {
    candidate: CandidateRange,
    open_range: Range<MultiBufferOffset>,
    close_range: Range<MultiBufferOffset>,
}
- [L88:L95]struct Parentheses {
    opening: bool,
}
- [L97:L104]struct SquareBrackets {
    opening: bool,
}
- [L106:L113]struct AngleBrackets {
    opening: bool,
}
- [L114:L121]struct CurlyBrackets {
    opening: bool,
}
- [L123:L179]fn cover_or_next<I: Iterator<Item = (Range<MultiBufferOffset>, Range<MultiBufferOffset>)>>(
    candidates: Option<I>,
    caret: DisplayPoint,
    map: &DisplaySnapshot,
) -> Option<CandidateWithRanges> 
- [L183:L186]struct DelimiterRange {
    open: Range<MultiBufferOffset>,
    close: Range<MultiBufferOffset>,
}
- [L198:L264]fn find_mini_delimiters(
    map: &DisplaySnapshot,
    display_point: DisplayPoint,
    around: bool,
    is_valid_delimiter: &DelimiterPredicate,
) -> Option<Range<DisplayPoint>> 
- [L266:L277]fn get_line_range(map: &DisplaySnapshot, point: Point) -> Range<Point> 
- [L279:L282]fn get_visible_line_range(line_range: &Range<Point>) -> Range<Point> 
- [L284:L286]fn is_quote_delimiter(buffer: &BufferSnapshot, _start: usize, end: usize) -> bool 

## crates/vim/src/replace.rs
- [L26:L41]fn register(editor: &mut Editor, cx: &mut Context<Vim>) 
- [L43:L43]struct VimExchange;

## crates/vim/src/rewrap.rs

## crates/vim/src/state.rs
- [L42:L52]enum Mode {
    Normal,
    Insert,
    Replace,
    Visual,
    VisualLine,
    VisualBlock,
    HelixNormal,
    HelixSelect,
}
- [L79:L145]enum Operator {
    Change,
    Delete,
    Yank,
    Replace,
    Object {
        around: bool,
    },
    FindForward {
        before: bool,
        multiline: bool,
    },
    FindBackward {
        after: bool,
        multiline: bool,
    },
    Sneak {
        first_char: Option<char>,
    },
    SneakBackward {
        first_char: Option<char>,
    },
    AddSurrounds {
        target: Option<SurroundsType>,
    },
    ChangeSurrounds {
        target: Option<Object>,
        opening: bool,
    },
    DeleteSurrounds,
    Mark,
    Jump {
        line: bool,
    },
    Indent,
    Outdent,
    AutoIndent,
    Rewrap,
    ShellCommand,
    Lowercase,
    Uppercase,
    OppositeCase,
    Rot13,
    Rot47,
    Digraph {
        first_char: Option<char>,
    },
    Literal {
        prefix: Option<String>,
    },
    Register,
    RecordRegister,
    ReplayRegister,
    ToggleComments,
    ReplaceWithRegister,
    Exchange,
    HelixMatch,
    HelixNext {
        around: bool,
    },
    HelixPrevious {
        around: bool,
    },
}
- [L148:L165]enum RecordedSelection {
    None,
    Visual {
        rows: u32,
        cols: u32,
    },
    SingleLine {
        cols: u32,
    },
    VisualBlock {
        rows: u32,
        cols: u32,
    },
    VisualLine {
        rows: u32,
    },
}
- [L168:L171]struct Register {
    pub(crate) text: SharedString,
    pub(crate) clipboard_selections: Option<Vec<ClipboardSelection>>,
}
- [L207:L238]struct VimGlobals {
    pub last_find: Option<Motion>,
    pub dot_recording: bool,
    pub dot_replaying: bool,
    pub pre_count: Option<usize>,
    pub post_count: Option<usize>,
    pub forced_motion: bool,
    pub stop_recording_after_next_action: bool,
    pub ignore_current_insertion: bool,
    pub recording_count: Option<usize>,
    pub recorded_count: Option<usize>,
    pub recording_actions: Vec<ReplayableAction>,
    pub recorded_actions: Vec<ReplayableAction>,
    pub recorded_selection: RecordedSelection,
    pub recording_register: Option<char>,
    pub last_recorded_register: Option<char>,
    pub last_replayed_register: Option<char>,
    pub replayer: Option<Replayer>,
    pub last_yank: Option<SharedString>,
    pub registers: HashMap<char, Register>,
    pub recordings: HashMap<char, Vec<ReplayableAction>>,
    pub focused_vim: Option<WeakEntity<Vim>>,
    pub marks: HashMap<EntityId, Entity<MarksState>>,
}
- [L240:L251]struct MarksState {
    workspace: WeakEntity<Workspace>,
    multibuffer_marks: HashMap<EntityId, HashMap<String, Vec<Anchor>>>,
    buffer_marks: HashMap<BufferId, HashMap<String, Vec<text::Anchor>>>,
    watched_buffers: HashMap<BufferId, (MarkLocation, Subscription, Subscription)>,
    serialized_marks: HashMap<Arc<Path>, HashMap<String, Vec<Point>>>,
    global_marks: HashMap<String, MarkLocation>,
    _subscription: Subscription,
}
- [L254:L257]enum MarkLocation {
    Buffer(EntityId),
    Path(Arc<Path>),
}
- [L259:L263]enum Mark {
    Local(Vec<Anchor>),
    Buffer(EntityId, Vec<Anchor>),
    Path(Arc<Path>, Vec<Point>),
}
- [L970:L976]enum ReplayableAction {
    Action(Box<dyn Action>),
    Insertion {
        text: Arc<str>,
        utf16_range_to_replace: Option<Range<isize>>,
    },
}
- [L994:L1002]struct SearchState {
    pub direction: Direction,
    pub count: usize,
    pub prior_selections: Vec<Range<Anchor>>,
    pub prior_operator: Option<Operator>,
    pub prior_mode: Mode,
    pub helix_select: bool,
}
- [L1160:L1163]struct RegisterMatch {
    name: char,
    contents: SharedString,
}
- [L1165:L1168]struct RegistersViewDelegate {
    selected_index: usize,
    matches: Vec<RegisterMatch>,
}
- [L1278:L1278]struct RegistersView {}
- [L1344:L1351]enum MarksMatchInfo {
    Path(Arc<Path>),
    Title(String),
    Content {
        line: String,
        highlights: Vec<(Range<usize>, HighlightStyle)>,
    },
}
- [L1371:L1375]struct MarksMatch {
    name: String,
    position: Point,
    info: MarksMatchInfo,
}
- [L1377:L1382]struct MarksViewDelegate {
    selected_index: usize,
    matches: Vec<MarksMatch>,
    point_column_width: usize,
    workspace: WeakEntity<Workspace>,
}
- [L1667:L1667]struct MarksView {}
- [L1701:L1701]struct VimDb(ThreadSafeConnection);
- [L1730:L1734]struct SerializedMark {
    path: Arc<Path>,
    name: String,
    points: Vec<Point>,
}

## crates/vim/src/surrounds.rs
- [L14:L18]enum SurroundsType {
    Motion(Motion),
    Object(Object, bool),
    Selection,
}
- [L571:L575]fn find_surround_pair<'a>(pairs: &'a [BracketPair], ch: &str) -> Option<&'a BracketPair> 
- [L577:L584]fn surround_alias(ch: &str) -> &str 
- [L587:L646]fn all_support_surround_pair() -> Vec<BracketPair> 

## crates/vim/src/test.rs
- [L896:L916]fn assert_pending_input(cx: &mut VimTestContext, expected: &str) 

## crates/vim/src/test/neovim_backed_test_context.rs
- [L15:L21]struct NeovimBackedTestContext {
    pub(crate) cx: VimTestContext,
    pub(crate) neovim: NeovimConnection,
    last_set_state: Option<String>,
    recent_keystrokes: Vec<String>,
}
- [L24:L31]struct SharedState {
    neovim: String,
    editor: String,
    initial: String,
    neovim_mode: Mode,
    editor_mode: Mode,
    recent_keystrokes: String,
}
- [L97:L102]struct SharedClipboard {
    register: char,
    neovim: String,
    editor: String,
    state: SharedState,
}

## crates/vim/src/test/neovim_connection.rs
- [L37:L37]static NEOVIM_LOCK: ReentrantMutex<()> = ReentrantMutex::new(());
- [L40:L47]enum NeovimData {
    Put { state: String },
    Key(String),
    Get { state: String, mode: Mode },
    ReadRegister { name: char, value: String },
    Exec { command: String },
    SetOption { value: String },
}
- [L49:L59]struct NeovimConnection {
    data: VecDeque<NeovimData>,
    test_case_id: String,
    nvim: Neovim<nvim_rs::compat::tokio::Compat<ChildStdin>>,
    _join_handle: JoinHandle<Result<(), Box<LoopError>>>,
    _child: Child,
}
- [L540:L540]struct NvimHandler {}
- [L566:L594]fn parse_state(marked_text: &str) -> (String, Vec<Range<Point>>) 
- [L597:L624]fn encode_ranges(text: &str, point_ranges: &Vec<Range<Point>>) -> String 

## crates/vim/src/test/vim_test_context.rs
- [L10:L12]struct VimTestContext {
    cx: EditorLspTestContext,
}
- [L267:L269]struct VimClipboard {
    editor: String,
}

## crates/vim/src/vim.rs
- [L62:L66]struct Number(usize);
- [L70:L70]struct SelectRegister(String);
- [L75:L77]struct PushObject {
    around: bool,
}
- [L82:L85]struct PushFindForward {
    before: bool,
    multiline: bool,
}
- [L90:L93]struct PushFindBackward {
    after: bool,
    multiline: bool,
}
- [L98:L101]struct PushHelixNext {
    around: bool,
}
- [L106:L109]struct PushHelixPrevious {
    around: bool,
}
- [L114:L116]struct PushSneak {
    first_char: Option<char>,
}
- [L121:L123]struct PushSneakBackward {
    first_char: Option<char>,
}
- [L128:L128]struct PushAddSurrounds;
- [L133:L135]struct PushChangeSurrounds {
    target: Option<Object>,
}
- [L140:L142]struct PushJump {
    line: bool,
}
- [L147:L149]struct PushDigraph {
    first_char: Option<char>,
}
- [L154:L156]struct PushLiteral {
    prefix: Option<String>,
}
- [L269:L472]fn init(cx: &mut App) 
- [L526:L528]enum VimEvent {
    Focused,
}
- [L1959:L1967]struct VimSettings {
    pub default_mode: Mode,
    pub toggle_relative_line_numbers: bool,
    pub use_system_clipboard: settings::UseSystemClipboard,
    pub use_smartcase_find: bool,
    pub custom_digraphs: HashMap<String, Arc<str>>,
    pub highlight_on_yank_duration: u64,
    pub cursor_shape: CursorShapeSettings,
}
- [L1969:L1988]struct CursorShapeSettings {
    pub normal: Option<CursorShape>,
    pub replace: Option<CursorShape>,
    pub visual: Option<CursorShape>,
    pub insert: Option<CursorShape>,
}

## crates/vim/src/visual.rs
- [L69:L210]fn register(editor: &mut Editor, cx: &mut Context<Vim>) 

## crates/vim_mode_setting/src/vim_mode_setting.rs
- [L10:L10]struct VimModeSetting(pub bool);
- [L19:L19]struct HelixModeSetting(pub bool);

## crates/watch/src/error.rs
- [L6:L6]struct NoReceiverError;
- [L17:L17]struct NoSenderError;

## crates/watch/src/watch.rs
- [L13:L28]fn channel<T>(value: T) -> (Sender<T>, Receiver<T>) 
- [L31:L31]struct WakerId(usize);
- [L41:L47]struct State<T> {
    value: T,
    wakers: BTreeMap<WakerId, Waker>,
    next_waker_id: WakerId,
    version: usize,
    closed: bool,
}
- [L49:L51]struct Sender<T> {
    state: Arc<RwLock<State<T>>>,
}
- [L95:L98]struct Receiver<T> {
    state: Arc<RwLock<State<T>>>,
    version: usize,
}
- [L100:L103]struct Changed<'a, T> {
    receiver: &'a mut Receiver<T>,
    pending_waker_id: Option<WakerId>,
}

## crates/web_search/src/web_search.rs
- [L8:L11]fn init(cx: &mut App) 
- [L14:L14]struct WebSearchProviderId(pub SharedString);
- [L16:L16]trait WebSearchProvider {
- [L21:L21]struct GlobalWebSearchRegistry(Entity<WebSearchRegistry>);
- [L26:L29]struct WebSearchRegistry {
    providers: HashMap<WebSearchProviderId, Arc<dyn WebSearchProvider>>,
    active_provider: Option<Arc<dyn WebSearchProvider>>,
}

## crates/web_search_providers/src/cloud.rs
- [L12:L14]struct CloudWebSearchProvider {
    state: Entity<State>,
}
- [L24:L28]struct State {
    client: Arc<Client>,
    llm_api_token: LlmApiToken,
    _llm_token_subscription: Subscription,
}
- [L53:L53]const ZED_WEB_SEARCH_PROVIDER_ID: &str = "zed.dev";

## crates/web_search_providers/src/web_search_providers.rs
- [L9:L14]fn init(client: Arc<Client>, cx: &mut App) 
- [L16:L37]fn register_web_search_providers(
    registry: &mut WebSearchRegistry,
    client: Arc<Client>,
    cx: &mut Context<WebSearchRegistry>,
) 
- [L39:L56]fn register_zed_web_search_provider(
    registry: &mut WebSearchRegistry,
    client: Arc<Client>,
    language_model_registry: &Entity<LanguageModelRegistry>,
    cx: &mut Context<WebSearchRegistry>,
) 

## crates/which_key/src/which_key.rs
- [L14:L58]fn init(cx: &mut App) 
- [L61:L61]static FILTERED_KEYSTROKES: LazyLock<Vec<Vec<Keystroke>>> = LazyLock::new(|| {

## crates/which_key/src/which_key_modal.rs
- [L19:L27]struct WhichKeyModal {
    _workspace: WeakEntity<Workspace>,
    focus_handle: FocusHandle,
    scroll_handle: ScrollHandle,
    bindings: Vec<(SharedString, SharedString)>,
    pending_keys: SharedString,
    _pending_input_subscription: Subscription,
    _focus_out_subscription: Subscription,
}
- [L273:L308]fn group_bindings(
    binding_data: Vec<(Vec<Keystroke>, SharedString)>,
) -> Vec<(Vec<Keystroke>, SharedString)> 

## crates/which_key/src/which_key_settings.rs
- [L4:L7]struct WhichKeySettings {
    pub enabled: bool,
    pub delay_ms: u64,
}

## crates/workspace/src/dock.rs
- [L21:L26]enum PanelEvent {
    ZoomIn,
    ZoomOut,
    Activate,
    Close,
}
- [L30:L30]struct MinimizePane;
- [L31:L31]struct ClosePane;
- [L33:L33]trait UtilityPane: EventEmitter<MinimizePane> + EventEmitter<ClosePane> + Render {
- [L43:L43]trait UtilityPaneHandle: 'static + Send + Sync {
- [L91:L94]enum UtilityPanePosition {
    Left,
    Right,
}
- [L96:L96]trait Panel: Focusable + EventEmitter<PanelEvent> + Render + Sized {
- [L130:L130]trait PanelHandle: Send + Sync {
- [L264:L276]struct Dock {
    position: DockPosition,
    panel_entries: Vec<PanelEntry>,
    workspace: WeakEntity<Workspace>,
    is_open: bool,
    active_panel_index: Option<usize>,
    focus_handle: FocusHandle,
    pub(crate) serialized_dock: Option<DockData>,
    zoom_layer_open: bool,
    modal_layer: Entity<ModalLayer>,
    _subscriptions: [Subscription; 2],
- [L286:L290]enum DockPosition {
    Left,
    Bottom,
    Right,
}
- [L329:L331]struct PanelEntry {
    panel: Arc<dyn PanelHandle>,
    _subscriptions: [Subscription; 3],
- [L334:L337]struct PanelButtons {
    dock: Entity<Dock>,
    _settings_subscription: Subscription,
}
- [L1094:L1094]mod test {

## crates/workspace/src/history_manager.rs
- [L12:L16]fn init(cx: &mut App) 
- [L18:L22]struct HistoryManager {
    history: Vec<HistoryManagerEntry>,
}
- [L25:L27]struct HistoryManagerEntry {
    pub id: WorkspaceId,
    pub path: SmallVec<[PathBuf; 2]>,
- [L30:L30]struct GlobalHistoryManager(Entity<HistoryManager>);

## crates/workspace/src/invalid_item_view.rs
- [L13:L22]struct InvalidItemView {
    pub abs_path: Arc<Path>,
    pub error: SharedString,
    is_local: bool,
    focus_handle: FocusHandle,
}

## crates/workspace/src/item.rs
- [L37:L37]const LEADER_UPDATE_THROTTLE: Duration = Duration::from_millis(200);
- [L40:L43]struct SaveOptions {
    pub format: bool,
    pub autosave: bool,
}
- [L55:L62]struct ItemSettings {
    pub git_status: bool,
    pub close_position: ClosePosition,
    pub activate_on_close: ActivateOnClose,
    pub file_icons: bool,
    pub show_diagnostics: ShowDiagnostics,
    pub show_close_button: ShowCloseButton,
}
- [L65:L73]struct PreviewTabsSettings {
    pub enabled: bool,
    pub enable_preview_from_project_panel: bool,
    pub enable_preview_from_file_finder: bool,
    pub enable_preview_from_multibuffer: bool,
    pub enable_preview_multibuffer_from_code_navigation: bool,
    pub enable_preview_file_from_code_navigation: bool,
    pub enable_keep_preview_on_code_navigation: bool,
}
- [L119:L124]enum ItemEvent {
    CloseItem,
    UpdateTab,
    UpdateBreadcrumbs,
    Edit,
}
- [L127:L131]struct BreadcrumbText {
    pub text: String,
    pub highlights: Option<Vec<(Range<usize>, HighlightStyle)>>,
    pub font: Option<Font>,
}
- [L134:L140]struct TabContentParams {
    pub detail: Option<usize>,
    pub selected: bool,
    pub preview: bool,
    pub deemphasized: bool,
}
- [L159:L162]enum TabTooltipContent {
    Text(SharedString),
    Custom(Box<dyn Fn(&mut Window, &mut App) -> AnyView>),
}
- [L165:L169]enum ItemBufferKind {
    Multibuffer,
    Singleton,
    None,
}
- [L171:L171]trait Item: Focusable + EventEmitter<Self::Event> + Render + Sized {
- [L356:L356]trait SerializableItem: Item {
- [L387:L387]trait SerializableItemHandle: ItemHandle {
- [L426:L426]trait ItemHandle: 'static + Send {
- [L528:L528]trait WeakItemHandle: Send + Sync {
- [L1094:L1094]struct ProjectItemKind(pub &'static str);
- [L1096:L1096]trait ProjectItem: Item {
- [L1131:L1133]enum FollowEvent {
    Unfollow,
}
- [L1135:L1138]enum Dedup {
    KeepExisting,
    ReplaceExisting,
}
- [L1140:L1140]trait FollowableItem: Item {
- [L1182:L1182]trait FollowableItemHandle: ItemHandle {
- [L1291:L1291]trait WeakFollowableItemHandle: Send + Sync {
- [L1302:L1302]mod test {

## crates/workspace/src/modal_layer.rs
- [L8:L14]enum ModalPlacement {
    Centered,
    Anchored {
        position: Point<Pixels>,
    },
}
- [L17:L20]enum DismissDecision {
    Dismiss(bool),
    Pending,
}
- [L22:L22]trait ModalView: ManagedView {
- [L65:L67]struct ActiveModal {
    modal: Box<dyn ModalViewHandle>,
    _subscriptions: [Subscription; 2],
- [L73:L76]struct ModalLayer {
    active_modal: Option<ActiveModal>,
    dismiss_on_focus_lost: bool,
}

## crates/workspace/src/notifications.rs
- [L20:L22]struct Notifications {
    notifications: Vec<(NotificationId, AnyView)>,
}
- [L39:L43]enum NotificationId {
    Unique(TypeId),
    Composite(TypeId, ElementId),
    Named(SharedString),
}
- [L63:L63]trait Notification:
- [L68:L68]struct SuppressEvent;
- [L218:L223]struct LanguageServerPrompt {
    focus_handle: FocusHandle,
    request: Option<project::LanguageServerPromptRequest>,
    scroll_handle: ScrollHandle,
    markdown: Entity<Markdown>,
}
- [L384:L387]fn workspace_error_notification_id() -> NotificationId 
- [L389:L423]fn markdown_style(window: &Window, cx: &App) -> MarkdownStyle 
- [L426:L430]struct ErrorMessagePrompt {
    message: SharedString,
    focus_handle: gpui::FocusHandle,
    label_and_url_button: Option<(SharedString, SharedString)>,
}
- [L519:L526]struct NotificationFrame {
    title: Option<SharedString>,
    show_suppress_button: bool,
    show_close_button: bool,
    close: Option<Box<dyn Fn(&bool, &mut Window, &mut App) + 'static>>,
    contents: Option<AnyElement>,
    suffix: Option<AnyElement>,
}
- [L644:L644]mod simple_message_notification {
- [L922:L922]static GLOBAL_APP_NOTIFICATIONS: LazyLock<Mutex<AppNotifications>> = LazyLock::new(|| {
- [L928:L934]struct AppNotifications {
    app_notifications: Vec<(
        NotificationId,
        Arc<dyn Fn(&mut Context<Workspace>) -> AnyView + Send + Sync>,
    )>,
}
- [L952:L1005]fn show_app_notification<V: Notification + 'static>(
    id: NotificationId,
    cx: &mut App,
    build_notification: impl Fn(&mut Context<Workspace>) -> Entity<V> + 'static + Send + Sync,
) 
- [L1007:L1023]fn dismiss_app_notification(id: &NotificationId, cx: &mut App) 
- [L1025:L1025]trait NotifyResultExt {
- [L1091:L1091]trait NotifyTaskExt {
- [L1107:L1107]trait DetachAndPromptErr<R> {

## crates/workspace/src/pane.rs
- [L56:L61]struct SelectedEntry {
    pub worktree_id: WorktreeId,
    pub entry_id: ProjectEntryId,
}
- [L63:L68]struct DraggedSelection {
    pub active_selection: SelectedEntry,
    pub marked_selections: Arc<[SelectedEntry]>,
}
- [L82:L99]enum SaveIntent {
    Save,
    SaveWithoutFormat,
    SaveAll,
    SaveAs,
    Close,
    Overwrite,
    Skip,
}
- [L101:L104]struct ActivateItem(pub usize);
- [L106:L115]struct CloseActiveItem {
    pub save_intent: Option<SaveIntent>,
    pub close_pinned: bool,
}
- [L117:L127]struct CloseOtherItems {
    pub save_intent: Option<SaveIntent>,
    pub close_pinned: bool,
}
- [L129:L138]struct CloseMultibufferItems {
    pub save_intent: Option<SaveIntent>,
    pub close_pinned: bool,
}
- [L140:L149]struct CloseAllItems {
    pub save_intent: Option<SaveIntent>,
    pub close_pinned: bool,
}
- [L151:L158]struct CloseCleanItems {
    pub close_pinned: bool,
}
- [L160:L167]struct CloseItemsToTheRight {
    pub close_pinned: bool,
}
- [L169:L176]struct CloseItemsToTheLeft {
    pub close_pinned: bool,
}
- [L178:L185]struct RevealInProjectPanel {
    pub entry_id: Option<u64>,
}
- [L187:L198]struct DeploySearch {
    pub replace_enabled: bool,
    pub included_files: Option<String>,
    pub excluded_files: Option<String>,
}
- [L202:L210]enum SplitMode {
    ClonePane,
    EmptyPane,
    MovePane,
}
- [L289:L319]enum Event {
    AddItem {
        item: Box<dyn ItemHandle>,
    },
    ActivateItem {
        local: bool,
        focus_changed: bool,
    },
    Remove {
        focus_on_pane: Option<Entity<Pane>>,
    },
    RemovedItem {
        item: Box<dyn ItemHandle>,
    },
    Split {
        direction: SplitDirection,
        mode: SplitMode,
    },
    ItemPinned,
    ItemUnpinned,
    JoinAll,
    JoinIntoNext,
    ChangeItemTitle,
    Focus,
    ZoomIn,
    ZoomOut,
    UserSavedItem {
        item: Box<dyn WeakItemHandle>,
        save_intent: SaveIntent,
    },
}
- [L359:L425]struct Pane {
    alternate_file_items: (
        Option<Box<dyn WeakItemHandle>>,
        Option<Box<dyn WeakItemHandle>>,
    ),
    focus_handle: FocusHandle,
    items: Vec<Box<dyn ItemHandle>>,
    activation_history: Vec<ActivationHistoryEntry>,
    next_activation_timestamp: Arc<AtomicUsize>,
    zoomed: bool,
    was_focused: bool,
    active_item_index: usize,
    preview_item_id: Option<EntityId>,
    last_focus_handle_by_item: HashMap<EntityId, WeakFocusHandle>,
    nav_history: NavHistory,
    toolbar: Entity<Toolbar>,
    pub(crate) workspace: WeakEntity<Workspace>,
    project: WeakEntity<Project>,
    pub drag_split_direction: Option<SplitDirection>,
    can_drop_predicate: Option<Arc<dyn Fn(&dyn Any, &mut Window, &mut App) -> bool>>,
    custom_drop_handle: Option<
        Arc<dyn Fn(&mut Pane, &dyn Any, &mut Window, &mut Context<Pane>) -> ControlFlow<(), ()>>,
    >,
    can_split_predicate:
        Option<Arc<dyn Fn(&mut Self, &dyn Any, &mut Window, &mut Context<Self>) -> bool>>,
    can_toggle_zoom: bool,
    should_display_tab_bar: Rc<dyn Fn(&Window, &mut Context<Pane>) -> bool>,
    render_tab_bar_buttons: Rc<
        dyn Fn(
            &mut Pane,
            &mut Window,
            &mut Context<Pane>,
        ) -> (Option<AnyElement>, Option<AnyElement>),
    >,
    render_tab_bar: Rc<dyn Fn(&mut Pane, &mut Window, &mut Context<Pane>) -> AnyElement>,
    show_tab_bar_buttons: bool,
    max_tabs: Option<NonZeroUsize>,
    use_max_tabs: bool,
    _subscriptions: Vec<Subscription>,
    tab_bar_scroll_handle: ScrollHandle,
    suppress_scroll: bool,
    display_nav_history_buttons: Option<bool>,
    double_click_dispatch_action: Box<dyn Action>,
    save_modals_spawned: HashSet<EntityId>,
    close_pane_if_empty: bool,
    pub new_item_context_menu_handle: PopoverMenuHandle<ContextMenu>,
    pub split_item_context_menu_handle: PopoverMenuHandle<ContextMenu>,
    pinned_tab_count: usize,
    diagnostics: HashMap<ProjectPath, DiagnosticSeverity>,
    zoom_out_on_close: bool,
    diagnostic_summary_update: Task<()>,
    pub project_item_restoration_data: HashMap<ProjectItemKind, Box<dyn Any + Send>>,
    welcome_page: Option<Entity<crate::welcome::WelcomePage>>,
    pub in_center_group: bool,
    pub is_upper_left: bool,
    pub is_upper_right: bool,
}
- [L427:L430]struct ActivationHistoryEntry {
    pub entity_id: EntityId,
    pub timestamp: usize,
}
- [L432:L436]struct ItemNavHistory {
    history: NavHistory,
    item: Arc<dyn WeakItemHandle>,
    is_preview: bool,
}
- [L439:L439]struct NavHistory(Arc<Mutex<NavHistoryState>>);
- [L441:L449]struct NavHistoryState {
    mode: NavigationMode,
    backward_stack: VecDeque<NavigationEntry>,
    forward_stack: VecDeque<NavigationEntry>,
    closed_stack: VecDeque<NavigationEntry>,
    paths_by_item: HashMap<EntityId, (ProjectPath, Option<PathBuf>)>,
    pane: WeakEntity<Pane>,
    next_timestamp: Arc<AtomicUsize>,
}
- [L452:L460]enum NavigationMode {
    Normal,
    GoingBack,
    GoingForward,
    ClosingItem,
    ReopeningClosedItem,
    Disabled,
}
- [L462:L467]struct NavigationEntry {
    pub item: Arc<dyn WeakItemHandle>,
    pub data: Option<Box<dyn Any + Send>>,
    pub timestamp: usize,
    pub is_preview: bool,
}
- [L470:L476]struct DraggedTab {
    pub pane: Entity<Pane>,
    pub item: Box<dyn ItemHandle>,
    pub ix: usize,
    pub detail: usize,
    pub is_active: bool,
}
- [L480:L483]enum Side {
    Left,
    Right,
}
- [L486:L489]enum PinOperation {
    Pin,
    Unpin,
}
- [L3797:L3891]fn default_render_tab_bar_buttons(
    pane: &mut Pane,
    window: &mut Window,
    cx: &mut Context<Pane>,
) -> (Option<AnyElement>, Option<AnyElement>) 
- [L4397:L4407]fn dirty_message_for(buffer_path: Option<ProjectPath>, path_style: PathStyle) -> String 
- [L4409:L4440]fn tab_details(items: &[Box<dyn ItemHandle>], _window: &Window, cx: &App) -> Vec<usize> 
- [L4442:L4452]fn render_item_indicator(item: Box<dyn ItemHandle>, cx: &App) -> Option<Indicator> 

## crates/workspace/src/pane_group.rs
- [L21:L21]const HANDLE_HITBOX_SIZE: f32 = 4.0;
- [L25:L32]struct PaneGroup {
    pub root: Member,
    pub is_center: bool,
}
- [L34:L37]struct PaneRenderResult {
    pub element: gpui::AnyElement,
    pub contains_active_pane: bool,
}
- [L275:L278]enum Member {
    Axis(PaneAxis),
    Pane(Entity<Pane>),
}
- [L318:L325]struct PaneRenderContext<'a> {
    pub project: &'a Entity<Project>,
    pub follower_states: &'a HashMap<CollaboratorId, FollowerState>,
    pub active_call: Option<&'a Entity<ActiveCall>>,
    pub active_pane: &'a Entity<Pane>,
    pub app_state: &'a Arc<AppState>,
    pub workspace: &'a WeakEntity<Workspace>,
}
- [L328:L331]struct LeaderDecoration {
    border: Option<Hsla>,
    status_box: Option<AnyElement>,
}
- [L333:L333]trait PaneLeaderDecorator {
- [L339:L342]struct ActivePaneDecorator<'a> {
    active_pane: &'a Entity<Pane>,
    workspace: &'a WeakEntity<Workspace>,
}
- [L594:L599]struct PaneAxis {
    pub axis: Axis,
    pub members: Vec<Member>,
    pub flexes: Arc<Mutex<Vec<f32>>>,
    pub bounding_boxes: Arc<Mutex<Vec<Option<Bounds<Pixels>>>>>,
}
- [L957:L962]enum SplitDirection {
    Up,
    Down,
    Left,
    Right,
}

## crates/workspace/src/path_list.rs
- [L9:L23]struct PathList {
    paths: Arc<[PathBuf]>,
    order: Arc<[usize]>,
}
- [L26:L29]struct SerializedPathList {
    pub paths: String,
    pub order: String,
}

## crates/workspace/src/persistence.rs
- [L1:L1]mod model;
- [L169:L178]fn read_default_window_bounds() -> Option<(Uuid, WindowBounds)> 
- [L180:L180]async fn write_default_window_bounds(
- [L193:L212]enum WindowBoundsJson {
    Windowed {
        x: i32,
        y: i32,
        width: i32,
        height: i32,
    },
    Maximized {
        x: i32,
        y: i32,
        width: i32,
        height: i32,
    },
    Fullscreen {
        x: i32,
        y: i32,
        width: i32,
        height: i32,
    },
}
- [L286:L292]struct Breakpoint {
    pub position: u32,
    pub message: Option<Arc<str>>,
    pub condition: Option<Arc<str>>,
    pub hit_condition: Option<Arc<str>>,
    pub state: BreakpointState,
}
- [L294:L295]struct BreakpointStateWrapper<'a>(Cow<'a, BreakpointState>);
- [L376:L376]struct SerializedPixels(gpui::Pixels);
- [L390:L390]struct WorkspaceDb(ThreadSafeConnection);
- [L2088:L2117]fn delete_unloaded_items(
    alive_items: Vec<ItemId>,
    workspace_id: WorkspaceId,
    table: &'static str,
    db: &ThreadSafeConnection,
    cx: &mut App,
) -> Task<Result<()>> 

## crates/workspace/src/persistence/model.rs
- [L39:L42]enum SerializedWorkspaceLocation {
    Local,
    Remote(RemoteConnectionOptions),
}
- [L68:L72]struct DockStructure {
    pub(crate) left: DockData,
    pub(crate) right: DockData,
    pub(crate) bottom: DockData,
}
- [L118:L122]struct DockData {
    pub(crate) visible: bool,
    pub(crate) active_panel: Option<String>,
    pub(crate) zoom: bool,
}
- [L254:L258]struct SerializedPane {
    pub(crate) active: bool,
    pub(crate) children: Vec<SerializedItem>,
    pub(crate) pinned_count: usize,
}
- [L334:L334]type GroupId = i64;
- [L335:L335]type PaneId = i64;
- [L336:L336]type ItemId = u64;
- [L339:L344]struct SerializedItem {
    pub kind: Arc<str>,
    pub item_id: ItemId,
    pub active: bool,
    pub preview: bool,
}

## crates/workspace/src/searchable.rs
- [L16:L19]enum SearchEvent {
    MatchesInvalidated,
    ActiveMatchChanged,
}
- [L22:L26]enum Direction {
    Prev,
    Next,
}
- [L38:L46]struct SearchOptions {
    pub case: bool,
    pub word: bool,
    pub regex: bool,
    pub replacement: bool,
    pub selection: bool,
    pub find_in_results: bool,
}
- [L52:L56]enum FilteredSearchRange {
    Selection,
    Default,
}
- [L58:L58]trait SearchableItem: Item + EventEmitter<SearchEvent> {
- [L172:L172]trait SearchableItemHandle: ItemHandle {
- [L433:L433]trait WeakSearchableItemHandle: WeakItemHandle {

## crates/workspace/src/security_modal.rs
- [L25:L33]struct SecurityModal {
    restricted_paths: HashMap<WorktreeId, RestrictedPath>,
    home_dir: Option<PathBuf>,
    trust_parents: bool,
    worktree_store: WeakEntity<WorktreeStore>,
    remote_host: Option<RemoteHostLocation>,
    focus_handle: FocusHandle,
    trusted: Option<bool>,
}
- [L36:L40]struct RestrictedPath {
    abs_path: Arc<Path>,
    is_file: bool,
    host: Option<RemoteHostLocation>,
}

## crates/workspace/src/shared_screen.rs
- [L14:L16]enum Event {
    Close,
}
- [L18:L24]struct SharedScreen {
    pub peer_id: PeerId,
    user: Arc<User>,
    nav_history: Option<ItemNavHistory>,
    view: Entity<RemoteVideoTrackView>,
    focus: FocusHandle,
}

## crates/workspace/src/status_bar.rs
- [L11:L11]trait StatusItemView: Render {
- [L32:L37]struct StatusBar {
    left_items: Vec<Box<dyn StatusItemViewHandle>>,
    right_items: Vec<Box<dyn StatusItemViewHandle>>,
    active_pane: Entity<Pane>,
    _observe_active_pane: Subscription,
}

## crates/workspace/src/tasks.rs

## crates/workspace/src/theme_preview.rs
- [L24:L32]fn init(cx: &mut App) 
- [L35:L38]enum ThemePreviewPage {
    Overview,
    Typography,
}
- [L49:L52]struct ThemePreview {
    current_page: ThemePreviewPage,
    focus_handle: FocusHandle,
}

## crates/workspace/src/toast_layer.rs
- [L15:L40]fn init(cx: &mut App) 
- [L42:L42]trait ToastView: ManagedView {
- [L47:L51]struct ToastAction {
    pub id: ElementId,
    pub label: SharedString,
    pub on_click: Option<Rc<dyn Fn(&mut Window, &mut App) + 'static>>,
}
- [L78:L82]struct ActiveToast {
    id: EntityId,
    toast: Box<dyn ToastViewHandle>,
    action: Option<ToastAction>,
    _subscriptions: [Subscription; 1],
- [L86:L89]struct DismissTimer {
    instant_started: Instant,
    _task: Task<()>,
}
- [L91:L95]struct ToastLayer {
    active_toast: Option<ActiveToast>,
    duration_remaining: Option<Duration>,
    dismiss_timer: Option<DismissTimer>,
}

## crates/workspace/src/toolbar.rs
- [L9:L11]enum ToolbarItemEvent {
    ChangeLocation(ToolbarItemLocation),
}
- [L13:L13]trait ToolbarItemView: Render + EventEmitter<ToolbarItemEvent> {
- [L46:L51]enum ToolbarItemLocation {
    Hidden,
    PrimaryLeft,
    PrimaryRight,
    Secondary,
}
- [L53:L58]struct Toolbar {
    active_item: Option<Box<dyn ItemHandle>>,
    hidden: bool,
    can_navigate: bool,
    items: Vec<(Box<dyn ToolbarItemViewHandle>, ToolbarItemLocation)>,
}

## crates/workspace/src/utility_pane.rs
- [L19:L22]enum UtilityPaneSlot {
    Left,
    Right,
}
- [L24:L28]struct UtilityPaneSlotState {
    panel_id: EntityId,
    utility_pane: Box<dyn UtilityPaneHandle>,
    _subscriptions: Vec<Subscription>,
}
- [L31:L34]struct UtilityPaneState {
    left_slot: Option<UtilityPaneSlotState>,
    right_slot: Option<UtilityPaneSlotState>,
}
- [L37:L37]struct DraggedUtilityPane(pub UtilityPaneSlot);
- [L45:L51]fn utility_slot_for_dock_position(position: DockPosition) -> UtilityPaneSlot 
- [L191:L195]struct UtilityPaneFrame {
    workspace: WeakEntity<Workspace>,
    slot: UtilityPaneSlot,
    handle: Box<dyn UtilityPaneHandle>,
}

## crates/workspace/src/welcome.rs
- [L21:L23]struct OpenRecentProject {
    pub index: usize,
}
- [L34:L36]struct SectionHeader {
    title: SharedString,
}
- [L63:L69]struct SectionButton {
    label: SharedString,
    icon: IconName,
    action: Box<dyn Action>,
    tab_index: usize,
    focus_handle: FocusHandle,
}
- [L121:L125]struct SectionEntry {
    icon: IconName,
    title: &'static str,
    action: &'static dyn Action,
}
- [L190:L192]struct Section<const COLS: usize> {
    title: &'static str,
    entries: [SectionEntry; COLS],
- [L209:L214]struct WelcomePage {
    workspace: WeakEntity<Workspace>,
    focus_handle: FocusHandle,
    fallback_to_recent_projects: bool,
    recent_workspaces: Option<Vec<(WorkspaceId, SerializedWorkspaceLocation, PathList)>>,
}

## crates/workspace/src/workspace.rs
- [L1:L1]mod dock;
- [L2:L2]mod history_manager;
- [L3:L3]mod invalid_item_view;
- [L4:L4]mod item;
- [L6:L6]mod notifications;
- [L7:L7]mod pane;
- [L8:L8]mod pane_group;
- [L11:L11]mod searchable;
- [L13:L13]mod shared_screen;
- [L15:L15]mod tasks;
- [L19:L19]mod utility_pane;
- [L20:L20]mod welcome;
- [L151:L151]const SERIALIZATION_THROTTLE_TIME: Duration = Duration::from_millis(200);
- [L153:L153]static ZED_WINDOW_SIZE: LazyLock<Option<Size<Pixels>>> = LazyLock::new(|| {
- [L160:L160]static ZED_WINDOW_POSITION: LazyLock<Option<Point<Pixels>>> = LazyLock::new(|| {
- [L167:L167]trait TerminalProvider {
- [L176:L176]trait DebuggerProvider {
- [L303:L306]struct ActivatePane(pub usize);
- [L308:L319]struct MoveItemToPane {
    pub destination: usize,
    pub focus: bool,
    pub clone: bool,
}
- [L321:L323]fn default_1() -> usize 
- [L325:L336]struct MoveItemToPaneInDirection {
    pub direction: SplitDirection,
    pub focus: bool,
    pub clone: bool,
}
- [L338:L342]struct NewFileSplit(pub SplitDirection);
- [L344:L346]fn default_right() -> SplitDirection 
- [L348:L355]struct SaveAll {
    pub save_intent: Option<SaveIntent>,
}
- [L357:L364]struct Save {
    pub save_intent: Option<SaveIntent>,
}
- [L366:L373]struct CloseAllItemsAndPanes {
    pub save_intent: Option<SaveIntent>,
}
- [L375:L382]struct CloseInactiveTabsAndPanes {
    pub save_intent: Option<SaveIntent>,
}
- [L384:L387]struct SendKeystrokes(pub String);
- [L398:L405]struct ToggleFileFinder {
    pub separate_history: bool,
}
- [L407:L415]struct IncreaseActiveDockSize {
    pub px: u32,
}
- [L417:L425]struct DecreaseActiveDockSize {
    pub px: u32,
}
- [L427:L435]struct IncreaseOpenDocksSize {
    pub px: u32,
}
- [L437:L445]struct DecreaseOpenDocksSize {
    pub px: u32,
}
- [L480:L487]enum CloseIntent {
    Quit,
    CloseWindow,
    ReplaceWindow,
}
- [L490:L495]struct Toast {
    id: NotificationId,
    msg: Cow<'static, str>,
    autohide: bool,
    on_click: Option<(Cow<'static, str>, Arc<dyn Fn(&mut Window, &mut App)>)>,
}
- [L530:L536]struct OpenTerminal {
    pub working_directory: PathBuf,
}
- [L539:L539]struct WorkspaceId(i64);
- [L560:L590]fn prompt_and_open_paths(app_state: Arc<AppState>, options: PathPromptOptions, cx: &mut App) 
- [L592:L635]fn init(app_state: Arc<AppState>, cx: &mut App) 
- [L649:L652]struct ProjectItemRegistry {
    build_project_item_fns_by_type: HashMap<TypeId, BuildProjectItemFn>,
    build_project_item_for_path_fns: Vec<BuildProjectItemForPathFn>,
}
- [L770:L775]fn register_project_item<I: ProjectItem>(cx: &mut App) 
- [L778:L778]struct FollowableViewRegistry(HashMap<TypeId, FollowableViewDescriptor>);
- [L780:L789]struct FollowableViewDescriptor {
    from_state_proto: fn(
        Entity<Workspace>,
        ViewId,
        &mut Option<proto::view::Variant>,
        &mut Window,
        &mut App,
    ) -> Option<Task<Result<Box<dyn FollowableItemHandle>>>>,
    to_followable_view: fn(&AnyView) -> Box<dyn FollowableItemHandle>,
}
- [L835:L846]struct SerializableItemDescriptor {
    deserialize: fn(
        Entity<Project>,
        WeakEntity<Workspace>,
        WorkspaceId,
        ItemId,
        &mut Window,
        &mut Context<Pane>,
    ) -> Task<Result<Box<dyn ItemHandle>>>,
    cleanup: fn(WorkspaceId, Vec<ItemId>, &mut Window, &mut App) -> Task<Result<()>>,
    view_to_serializable_item: fn(AnyView) -> Box<dyn SerializableItemHandle>,
}
- [L849:L852]struct SerializableItemRegistry {
    descriptors_by_kind: HashMap<Arc<str>, SerializableItemDescriptor>,
    descriptors_by_type: HashMap<TypeId, SerializableItemDescriptor>,
}
- [L908:L929]fn register_serializable_item<I: SerializableItem>(cx: &mut App) 
- [L931:L940]struct AppState {
    pub languages: Arc<LanguageRegistry>,
    pub client: Arc<Client>,
    pub user_store: Entity<UserStore>,
    pub workspace_store: Entity<WorkspaceStore>,
    pub fs: Arc<dyn fs::Fs>,
    pub build_window_options: fn(Option<Uuid>, &mut App) -> WindowOptions,
    pub node_runtime: NodeRuntime,
    pub session: Entity<AppSession>,
}
- [L942:L942]struct GlobalAppState(Weak<AppState>);
- [L946:L950]struct WorkspaceStore {
    workspaces: HashSet<WindowHandle<Workspace>>,
    client: Arc<Client>,
    _subscriptions: Vec<client::Subscription>,
}
- [L953:L956]enum CollaboratorId {
    PeerId(PeerId),
    Agent,
}
- [L971:L974]struct Follower {
    project_id: Option<u64>,
    peer_id: PeerId,
}
- [L1027:L1030]struct DelayedDebouncedEditAction {
    task: Option<Task<()>>,
    cancel_channel: Option<oneshot::Sender<()>>,
}
- [L1080:L1104]enum Event {
    PaneAdded(Entity<Pane>),
    PaneRemoved,
    ItemAdded {
        item: Box<dyn ItemHandle>,
    },
    ActiveItemChanged,
    ItemRemoved {
        item_id: EntityId,
    },
    UserSavedItem {
        pane: WeakEntity<Pane>,
        item: Box<dyn WeakItemHandle>,
        save_intent: SaveIntent,
    },
    ContactRequestedJoin(u64),
    WorkspaceCreated(WeakEntity<Workspace>),
    OpenBundledFile {
        text: Cow<'static, str>,
        title: &'static str,
        language: &'static str,
    },
    ZoomChanged,
    ModalOpened,
}
- [L1107:L1112]enum OpenVisible {
    All,
    None,
    OnlyFiles,
    OnlyDirectories,
}
- [L1114:L1121]enum WorkspaceLocation {
    Location(SerializedWorkspaceLocation, PathList),
    DetachFromSession,
    None,
}
- [L1142:L1146]struct DispatchingKeystrokes {
    dispatched: HashSet<Vec<Keystroke>>,
    queue: VecDeque<Keystroke>,
    task: Option<Shared<Task<()>>>,
}
- [L1148:L1208]struct Workspace {
    weak_self: WeakEntity<Self>,
    workspace_actions: Vec<Box<dyn Fn(Div, &Workspace, &mut Window, &mut Context<Self>) -> Div>>,
    zoomed: Option<AnyWeakView>,
    previous_dock_drag_coordinates: Option<Point<Pixels>>,
    zoomed_position: Option<DockPosition>,
    center: PaneGroup,
    left_dock: Entity<Dock>,
    bottom_dock: Entity<Dock>,
    right_dock: Entity<Dock>,
    panes: Vec<Entity<Pane>>,
    panes_by_item: HashMap<EntityId, WeakEntity<Pane>>,
    active_pane: Entity<Pane>,
    last_active_center_pane: Option<WeakEntity<Pane>>,
    last_active_view_id: Option<proto::ViewId>,
    status_bar: Entity<StatusBar>,
    modal_layer: Entity<ModalLayer>,
    toast_layer: Entity<ToastLayer>,
    titlebar_item: Option<AnyView>,
    notifications: Notifications,
    suppressed_notifications: HashSet<NotificationId>,
    project: Entity<Project>,
    follower_states: HashMap<CollaboratorId, FollowerState>,
    last_leaders_by_pane: HashMap<WeakEntity<Pane>, CollaboratorId>,
    window_edited: bool,
    last_window_title: Option<String>,
    dirty_items: HashMap<EntityId, Subscription>,
    active_call: Option<(Entity<ActiveCall>, Vec<Subscription>)>,
    leader_updates_tx: mpsc::UnboundedSender<(PeerId, proto::UpdateFollowers)>,
    database_id: Option<WorkspaceId>,
    app_state: Arc<AppState>,
    dispatching_keystrokes: Rc<RefCell<DispatchingKeystrokes>>,
    _subscriptions: Vec<Subscription>,
    _apply_leader_updates: Task<Result<()>>,
    _observe_current_user: Task<Result<()>>,
    _schedule_serialize_workspace: Option<Task<()>>,
    _schedule_serialize_ssh_paths: Option<Task<()>>,
    _schedule_serialize_worktree_trust: Task<()>,
    pane_history_timestamp: Arc<AtomicUsize>,
    bounds: Bounds<Pixels>,
    pub centered_layout: bool,
    bounds_save_task_queued: Option<Task<()>>,
    on_prompt_for_new_path: Option<PromptForNewPath>,
    on_prompt_for_open_path: Option<PromptForOpenPath>,
    terminal_provider: Option<Box<dyn TerminalProvider>>,
    debugger_provider: Option<Arc<dyn DebuggerProvider>>,
    serializable_items_tx: UnboundedSender<Box<dyn SerializableItemHandle>>,
    _items_serializer: Task<Result<()>>,
    session_id: Option<String>,
    scheduled_tasks: Vec<Task<()>>,
    last_open_dock_positions: Vec<DockPosition>,
    removing: bool,
    utility_panes: UtilityPaneState,
    next_modal_placement: Option<ModalPlacement>,
}
- [L1213:L1216]struct ViewId {
    pub creator: CollaboratorId,
    pub id: u64,
}
- [L1218:L1223]struct FollowerState {
    center_pane: Entity<Pane>,
    dock_pane: Option<Entity<Pane>>,
    active_view_id: Option<ViewId>,
    items_by_leader_view_id: HashMap<ViewId, FollowerView>,
}
- [L1225:L1228]struct FollowerView {
    view: Box<dyn FollowableItemHandle>,
    location: Option<proto::PanelId>,
}
- [L6640:L6676]fn leader_border_for_pane(
    follower_states: &HashMap<CollaboratorId, FollowerState>,
    pane: &Entity<Pane>,
    _: &Window,
    cx: &App,
) -> Option<Div> 
- [L6678:L6685]fn window_bounds_env_override() -> Option<Bounds<Pixels>> 
- [L6687:L6790]fn open_items(
    serialized_workspace: Option<SerializedWorkspace>,
    mut project_paths_to_open: Vec<(PathBuf, Option<ProjectPath>)>,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) -> impl 'static + Future<Output = Result<Vec<Option<Result<Box<dyn ItemHandle>>>>>> + use<> 
- [L6792:L6795]enum ActivateInDirectionTarget {
    Pane(Entity<Pane>),
    Dock(Entity<Dock>),
}
- [L6797:L6820]fn notify_if_database_failed(workspace: WindowHandle<Workspace>, cx: &mut AsyncApp) 
- [L6822:L6828]fn px_with_ui_font_fallback(val: u32, cx: &Context<Workspace>) -> Pixels 
- [L6830:L6849]fn adjust_active_dock_size_by_px(
    px: Pixels,
    workspace: &mut Workspace,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) 
- [L6851:L6877]fn adjust_open_docks_size_by_px(
    px: Pixels,
    workspace: &mut Workspace,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) 
- [L6886:L6886]struct DraggedDock(DockPosition);
- [L7586:L7586]trait WorkspaceHandle {
- [L7605:L7605]async fn last_opened_workspace_location() -> Option<(SerializedWorkspaceLocation, PathList)> {
- [L7609:L7615]fn last_session_workspace_locations(
    last_session_id: &str,
    last_session_window_stack: Option<Vec<WindowId>>,
) -> Option<Vec<(SerializedWorkspaceLocation, PathList)>> 
- [L7801:L7888]fn join_channel(
    channel_id: ChannelId,
    app_state: Arc<AppState>,
    requesting_window: Option<WindowHandle<Workspace>>,
    cx: &mut App,
) -> Task<Result<()>> 
- [L7890:L7890]async fn get_any_active_workspace(
- [L7903:L7924]fn activate_any_workspace_window(cx: &mut AsyncApp) -> Option<WindowHandle<Workspace>> 
- [L7926:L7936]fn local_workspace_windows(cx: &App) -> Vec<WindowHandle<Workspace>> 
- [L7939:L7946]struct OpenOptions {
    pub visible: Option<OpenVisible>,
    pub focus: Option<bool>,
    pub open_new_workspace: Option<bool>,
    pub prefer_focused_window: bool,
    pub replace_window: Option<WindowHandle<Workspace>>,
    pub env: Option<HashMap<String, String>>,
}
- [L7949:L8101]fn open_paths(
    abs_paths: &[PathBuf],
    app_state: Arc<AppState>,
    open_options: OpenOptions,
    cx: &mut App,
) -> Task<
    anyhow::Result<(
        WindowHandle<Workspace>,
        Vec<Option<anyhow::Result<Box<dyn ItemHandle>>>>,
    )>,
> 
- [L8103:L8122]fn open_new(
    open_options: OpenOptions,
    app_state: Arc<AppState>,
    cx: &mut App,
    init: impl FnOnce(&mut Workspace, &mut Window, &mut Context<Workspace>) + 'static + Send,
) -> Task<anyhow::Result<()>> 
- [L8124:L8159]fn create_and_open_local_file(
    path: &'static Path,
    window: &mut Window,
    cx: &mut Context<Workspace>,
    default_content: impl 'static + Send + FnOnce() -> Rope,
) -> Task<Result<Box<dyn ItemHandle>>> 
- [L8161:L8215]fn open_remote_project_with_new_connection(
    window: WindowHandle<Workspace>,
    remote_connection: Arc<dyn RemoteConnection>,
    cancel_rx: oneshot::Receiver<()>,
    delegate: Arc<dyn RemoteClientDelegate>,
    app_state: Arc<AppState>,
    paths: Vec<PathBuf>,
    cx: &mut App,
) -> Task<Result<Vec<Option<Box<dyn ItemHandle>>>>> 
- [L8217:L8240]fn open_remote_project_with_existing_connection(
    connection_options: RemoteConnectionOptions,
    project: Entity<Project>,
    paths: Vec<PathBuf>,
    app_state: Arc<AppState>,
    window: WindowHandle<Workspace>,
    cx: &mut AsyncApp,
) -> Task<Result<Vec<Option<Box<dyn ItemHandle>>>>> 
- [L8342:L8365]fn deserialize_remote_project(
    connection_options: RemoteConnectionOptions,
    paths: Vec<PathBuf>,
    cx: &AsyncApp,
) -> Task<Result<(WorkspaceId, Option<SerializedWorkspace>)>> 
- [L8367:L8451]fn join_in_room_project(
    project_id: u64,
    follow_user_id: u64,
    app_state: Arc<AppState>,
    cx: &mut App,
) -> Task<Result<()>> 
- [L8453:L8500]fn reload(cx: &mut App) 
- [L8502:L8507]fn parse_pixel_position_env_var(value: &str) -> Option<Point<Pixels>> 
- [L8509:L8514]fn parse_pixel_size_env_var(value: &str) -> Option<Size<Pixels>> 
- [L8516:L8684]fn client_side_decorations(
    element: impl IntoElement,
    window: &mut Window,
    cx: &mut App,
) -> Stateful<Div> 
- [L8686:L8741]fn resize_edge(
    pos: Point<Pixels>,
    shadow_size: Pixels,
    window_size: Size<Pixels>,
    tiling: Tiling,
) -> Option<ResizeEdge> 
- [L8743:L8759]fn join_pane_into_active(
    active_pane: &Entity<Pane>,
    pane: &Entity<Pane>,
    window: &mut Window,
    cx: &mut App,
) 
- [L8761:L8791]fn move_all_items(
    from_pane: &Entity<Pane>,
    to_pane: &Entity<Pane>,
    window: &mut Window,
    cx: &mut App,
) 
- [L8793:L8835]fn move_item(
    source: &Entity<Pane>,
    destination: &Entity<Pane>,
    item_id_to_move: EntityId,
    destination_index: usize,
    activate: bool,
    window: &mut Window,
    cx: &mut App,
) 
- [L8837:L8865]fn move_active_item(
    source: &Entity<Pane>,
    destination: &Entity<Pane>,
    focus_destination: bool,
    close_if_empty: bool,
    window: &mut Window,
    cx: &mut App,
) 
- [L8867:L8905]fn clone_active_item(
    workspace_id: Option<WorkspaceId>,
    source: &Entity<Pane>,
    destination: &Entity<Pane>,
    focus_destination: bool,
    window: &mut Window,
    cx: &mut App,
) 
- [L8908:L8912]struct WorkspacePosition {
    pub window_bounds: Option<WindowBounds>,
    pub display: Option<Uuid>,
    pub centered_layout: bool,
}
- [L8914:L8957]fn remote_workspace_position_from_db(
    connection_options: RemoteConnectionOptions,
    paths_to_open: &[PathBuf],
    cx: &App,
) -> Task<Result<WorkspacePosition>> 
- [L8959:L8984]fn with_active_or_new_workspace(
    cx: &mut App,
    f: impl FnOnce(&mut Workspace, &mut Window, &mut Context<Workspace>) + Send + 'static,
) 

## crates/workspace/src/workspace_settings.rs
- [L12:L35]struct WorkspaceSettings {
    pub active_pane_modifiers: ActivePanelModifiers,
    pub bottom_dock_layout: settings::BottomDockLayout,
    pub pane_split_direction_horizontal: settings::PaneSplitDirectionHorizontal,
    pub pane_split_direction_vertical: settings::PaneSplitDirectionVertical,
    pub centered_layout: settings::CenteredLayoutSettings,
    pub confirm_quit: bool,
    pub show_call_status_icon: bool,
    pub autosave: AutosaveSetting,
    pub restore_on_startup: settings::RestoreOnStartupBehavior,
    pub restore_on_file_reopen: bool,
    pub drop_target_size: f32,
    pub use_system_path_prompts: bool,
    pub use_system_prompts: bool,
    pub command_aliases: HashMap<String, String>,
    pub max_tabs: Option<NonZeroUsize>,
    pub when_closing_with_no_tabs: settings::CloseWindowWhenNoItems,
    pub on_last_window_closed: settings::OnLastWindowClosed,
    pub resize_all_panels_in_dock: Vec<DockPosition>,
    pub close_on_file_delete: bool,
    pub use_system_window_tabs: bool,
    pub zoomed_padding: bool,
    pub window_decorations: settings::WindowDecorations,
}
- [L38:L54]struct ActivePanelModifiers {
    pub border_size: Option<f32>,
    pub inactive_opacity: Option<InactiveOpacity>,
}
- [L57:L61]struct TabBarSettings {
    pub show: bool,
    pub show_nav_history_buttons: bool,
    pub show_tab_bar_buttons: bool,
}
- [L126:L131]struct StatusBarSettings {
    pub show: bool,
    pub active_language_button: bool,
    pub cursor_position_button: bool,
    pub line_endings_button: bool,
}

## crates/worktree/src/ignore.rs
- [L5:L8]struct IgnoreStack {
    pub repo_root: Option<Arc<Path>>,
    pub top: Arc<IgnoreStackEntry>,
}
- [L11:L26]enum IgnoreStackEntry {
    None,
    Global {
        ignore: Arc<Gitignore>,
    },
    RepoExclude {
        ignore: Arc<Gitignore>,
        parent: Arc<IgnoreStackEntry>,
    },
    Some {
        abs_base_path: Arc<Path>,
        ignore: Arc<Gitignore>,
        parent: Arc<IgnoreStackEntry>,
    },
    All,
}
- [L29:L32]enum IgnoreKind {
    Gitignore(Arc<Path>),
    RepoExclude,
}

## crates/worktree/src/worktree.rs
- [L79:L79]const FS_WATCH_LATENCY: Duration = Duration::from_millis(100);
- [L81:L95]enum Worktree {
    Local(LocalWorktree),
    Remote(RemoteWorktree),
}
- [L97:L104]enum CreatedEntry {
    Included(Entry),
    Excluded { abs_path: PathBuf },
}
- [L107:L112]struct LoadedFile {
    pub file: Arc<File>,
    pub text: String,
    pub encoding: &'static Encoding,
    pub has_bom: bool,
}
- [L114:L117]struct LoadedBinaryFile {
    pub file: Arc<File>,
    pub content: Vec<u8>,
}
- [L128:L142]struct LocalWorktree {
    snapshot: LocalSnapshot,
    scan_requests_tx: channel::Sender<ScanRequest>,
    path_prefixes_to_scan_tx: channel::Sender<PathPrefixScanRequest>,
    is_scanning: (watch::Sender<bool>, watch::Receiver<bool>),
    _background_scanner_tasks: Vec<Task<()>>,
    update_observer: Option<UpdateObservationState>,
    fs: Arc<dyn Fs>,
    fs_case_sensitive: bool,
    visible: bool,
    next_entry_id: Arc<AtomicUsize>,
    settings: WorktreeSettings,
    share_private_files: bool,
    scanning_enabled: bool,
}
- [L144:L146]struct PathPrefixScanRequest {
    path: Arc<RelPath>,
    done: SmallVec<[barrier::Sender; 1]>,
- [L149:L151]struct ScanRequest {
    relative_paths: Vec<Arc<RelPath>>,
    done: SmallVec<[barrier::Sender; 1]>,
- [L154:L166]struct RemoteWorktree {
    snapshot: Snapshot,
    background_snapshot: Arc<Mutex<(Snapshot, Vec<proto::UpdateWorktree>)>>,
    project_id: u64,
    client: AnyProtoClient,
    file_scan_inclusions: PathMatcher,
    updates_tx: Option<UnboundedSender<proto::UpdateWorktree>>,
    update_observer: Option<mpsc::UnboundedSender<proto::UpdateWorktree>>,
    snapshot_subscriptions: VecDeque<(usize, oneshot::Sender<()>)>,
    replica_id: ReplicaId,
    visible: bool,
    disconnected: bool,
}
- [L169:L191]struct Snapshot {
    id: WorktreeId,
    abs_path: Arc<SanitizedPath>,
    path_style: PathStyle,
    root_name: Arc<RelPath>,
    root_char_bag: CharBag,
    entries_by_path: SumTree<Entry>,
    entries_by_id: SumTree<PathEntry>,
    always_included_entries: Vec<Arc<RelPath>>,
    scan_id: usize,
    completed_scan_id: usize,
}
- [L193:L207]enum WorkDirectory {
    InProject {
        relative_path: Arc<RelPath>,
    },
    AboveProject {
        absolute_path: Arc<Path>,
        location_in_repo: Arc<Path>,
    },
}
- [L240:L256]struct LocalSnapshot {
    snapshot: Snapshot,
    global_gitignore: Option<Arc<Gitignore>>,
    repo_exclude_by_work_dir_abs_path: HashMap<Arc<Path>, (Arc<Gitignore>, bool)>,
    ignores_by_parent_abs_path: HashMap<Arc<Path>, (Arc<Gitignore>, bool)>,
    git_repositories: TreeMap<ProjectEntryId, LocalRepositoryEntry>,
    root_file_handle: Option<Arc<dyn fs::FileHandle>>,
    executor: BackgroundExecutor,
}
- [L258:L270]struct BackgroundScannerState {
    snapshot: LocalSnapshot,
    scanned_dirs: HashSet<ProjectEntryId>,
    path_prefixes_to_scan: HashSet<Arc<RelPath>>,
    paths_to_scan: HashSet<Arc<RelPath>>,
    removed_entries: HashMap<u64, Entry>,
    changed_paths: Vec<Arc<RelPath>>,
    prev_snapshot: Snapshot,
}
- [L273:L295]struct LocalRepositoryEntry {
    work_directory_id: ProjectEntryId,
    work_directory: WorkDirectory,
    work_directory_abs_path: Arc<Path>,
    git_dir_scan_id: usize,
    dot_git_abs_path: Arc<Path>,
    common_dir_abs_path: Arc<Path>,
    repository_dir_abs_path: Arc<Path>,
}
- [L338:L343]enum ScanState {
    Started,
    Updated {
        snapshot: LocalSnapshot,
        changes: UpdatedEntriesSet,
        barrier: SmallVec<[barrier::Sender; 1]>,
- [L351:L355]struct UpdateObservationState {
    snapshots_tx: mpsc::UnboundedSender<(LocalSnapshot, UpdatedEntriesSet)>,
    resume_updates: watch::Sender<()>,
    _maintain_remote_snapshot: Task<Option<()>>,
}
- [L358:L362]enum Event {
    UpdatedEntries(UpdatedEntriesSet),
    UpdatedGitRepositories(UpdatedGitRepositoriesSet),
    DeletedEntry(ProjectEntryId),
}
- [L3194:L3201]struct File {
    pub worktree: Entity<Worktree>,
    pub path: Arc<RelPath>,
    pub disk_state: DiskState,
    pub entry_id: Option<ProjectEntryId>,
    pub is_local: bool,
    pub is_private: bool,
}
- [L3343:L3383]struct Entry {
    pub id: ProjectEntryId,
    pub kind: EntryKind,
    pub path: Arc<RelPath>,
    pub inode: u64,
    pub mtime: Option<MTime>,
    pub canonical_path: Option<Arc<Path>>,
    pub is_ignored: bool,
    pub is_hidden: bool,
    pub is_always_included: bool,
    pub is_external: bool,
    pub is_private: bool,
    pub size: u64,
    pub char_bag: CharBag,
    pub is_fifo: bool,
}
- [L3386:L3391]enum EntryKind {
    UnloadedDir,
    PendingDir,
    Dir,
    File,
}
- [L3394:L3407]enum PathChange {
    Added,
    Removed,
    Updated,
    AddedOrUpdated,
    Loaded,
}
- [L3410:L3423]struct UpdatedGitRepository {
    pub work_directory_id: ProjectEntryId,
    pub old_work_directory_abs_path: Option<Arc<Path>>,
    pub new_work_directory_abs_path: Option<Arc<Path>>,
    pub dot_git_abs_path: Option<Arc<Path>>,
    pub repository_dir_abs_path: Option<Arc<Path>>,
    pub common_dir_abs_path: Option<Arc<Path>>,
}
- [L3425:L3425]type UpdatedEntriesSet = Arc<[(Arc<RelPath>, ProjectEntryId, PathChange)]>;
- [L3426:L3426]type UpdatedGitRepositoriesSet = Arc<[UpdatedGitRepository]>;
- [L3429:L3431]struct PathProgress<'a> {
    pub max_path: &'a RelPath,
}
- [L3434:L3437]struct PathSummary<S> {
    pub max_path: Arc<RelPath>,
    pub item_summary: S,
}
- [L3614:L3620]struct EntrySummary {
    max_path: Arc<RelPath>,
    count: usize,
    non_ignored_count: usize,
    file_count: usize,
    non_ignored_file_count: usize,
}
- [L3649:L3654]struct PathEntry {
    id: ProjectEntryId,
    path: Arc<RelPath>,
    is_ignored: bool,
    scan_id: usize,
}
- [L3673:L3675]struct PathEntrySummary {
    max_id: ProjectEntryId,
}
- [L3698:L3698]struct PathKey(pub Arc<RelPath>);
- [L3716:L3730]struct BackgroundScanner {
    state: async_lock::Mutex<BackgroundScannerState>,
    fs: Arc<dyn Fs>,
    fs_case_sensitive: bool,
    status_updates_tx: UnboundedSender<ScanState>,
    executor: BackgroundExecutor,
    scan_requests_rx: channel::Receiver<ScanRequest>,
    path_prefixes_to_scan_rx: channel::Receiver<PathPrefixScanRequest>,
    next_entry_id: Arc<AtomicUsize>,
    phase: BackgroundScannerPhase,
    watcher: Arc<dyn Watcher>,
    settings: WorktreeSettings,
    share_private_files: bool,
    scanning_enabled: bool,
}
- [L3733:L3737]enum BackgroundScannerPhase {
    InitialScan,
    EventsReceivedDuringInitialScan,
    Events,
}
- [L5180:L5284]fn build_diff(
    phase: BackgroundScannerPhase,
    old_snapshot: &Snapshot,
    new_snapshot: &Snapshot,
    event_paths: &[Arc<RelPath>],
) -> UpdatedEntriesSet 
- [L5286:L5294]fn swap_to_front(child_paths: &mut Vec<PathBuf>, file: &str) 
- [L5296:L5300]fn char_bag_for_path(root_char_bag: CharBag, path: &RelPath) -> CharBag 
- [L5303:L5310]struct ScanJob {
    abs_path: Arc<Path>,
    path: Arc<RelPath>,
    ignore_stack: IgnoreStack,
    scan_queue: Sender<ScanJob>,
    ancestor_inodes: TreeSet<u64>,
    is_external: bool,
}
- [L5312:L5317]struct UpdateIgnoreStatusJob {
    abs_path: Arc<Path>,
    ignore_stack: IgnoreStack,
    ignore_queue: Sender<UpdateIgnoreStatusJob>,
    scan_queue: Sender<ScanJob>,
}
- [L5319:L5319]trait WorktreeModelHandle {
- [L5461:L5467]struct TraversalProgress<'a> {
    max_path: &'a RelPath,
    count: usize,
    non_ignored_count: usize,
    file_count: usize,
    non_ignored_file_count: usize,
}
- [L5510:L5516]struct Traversal<'a> {
    snapshot: &'a Snapshot,
    cursor: sum_tree::Cursor<'a, 'static, Entry, TraversalProgress<'a>>,
    include_ignored: bool,
    include_files: bool,
    include_dirs: bool,
}
- [L5615:L5618]enum PathTarget<'a> {
    Path(&'a RelPath),
    Successor(&'a RelPath),
}
- [L5648:L5656]enum TraversalTarget<'a> {
    Path(PathTarget<'a>),
    Count {
        count: usize,
        include_files: bool,
        include_ignored: bool,
        include_dirs: bool,
    },
}
- [L5697:L5701]struct ChildEntriesOptions {
    pub include_files: bool,
    pub include_dirs: bool,
    pub include_ignored: bool,
}
- [L5703:L5706]struct ChildEntriesIter<'a> {
    parent_path: &'a RelPath,
    traversal: Traversal<'a>,
}
- [L5781:L5781]struct ProjectEntryId(usize);
- [L5818:L5823]fn parse_gitfile(content: &str) -> anyhow::Result<&Path> 
- [L5857:L5857]struct NullWatcher;
- [L5869:L5921]fn decode_byte(bytes: Vec<u8>) -> anyhow::Result<(String, &'static Encoding, bool)> 
- [L5924:L5929]enum ByteContent {
    Utf16Le,
    Utf16Be,
    Binary,
    Unknown,
}
- [L5934:L5973]fn analyze_byte_content(bytes: &[u8]) -> ByteContent 

## crates/worktree/src/worktree_settings.rs
- [L12:L23]struct WorktreeSettings {
    pub project_name: Option<String>,
    pub prevent_sharing_in_public_channels: bool,
    pub file_scan_exclusions: PathMatcher,
    pub file_scan_inclusions: PathMatcher,
    pub parent_dir_scan_inclusions: PathMatcher,
    pub private_files: PathMatcher,
    pub hidden_files: PathMatcher,
}
- [L91:L95]fn path_matchers(mut values: Vec<String>, context: &'static str) -> anyhow::Result<PathMatcher> 

## crates/worktree/src/worktree_tests.rs
- [L1977:L2011]fn check_worktree_change_events(tree: &mut Worktree, cx: &mut Context<Worktree>) 
- [L2013:L2059]fn randomly_mutate_worktree(
    worktree: &mut Worktree,
    rng: &mut impl Rng,
    cx: &mut Context<Worktree>,
) -> Task<Result<()>> 
- [L2222:L2227]fn random_filename(rng: &mut impl Rng) -> String 
- [L2516:L2557]fn check_worktree_entries(
    tree: &Worktree,
    expected_excluded_paths: &[&str],
    expected_ignored_paths: &[&str],
    expected_tracked_paths: &[&str],
    expected_included_paths: &[&str],
) 
- [L2559:L2566]fn init_test(cx: &mut gpui::TestAppContext) 

## crates/worktree_benchmarks/src/main.rs
- [L10:L53]fn main() 

## crates/x_ai/src/x_ai.rs
- [L5:L5]const XAI_API_URL: &str = "https://api.x.ai/v1";
- [L9:L58]enum Model {
    Grok2Vision,
    Grok3,
    Grok3Mini,
    Grok3Fast,
    Grok3MiniFast,
    Grok4,
        rename = "grok-4-fast-reasoning",
        alias = "grok-4-fast-reasoning-latest"
    )]
    Grok4FastReasoning,
        rename = "grok-4-fast-non-reasoning",
        alias = "grok-4-fast-non-reasoning-latest"
    )]
    Grok4FastNonReasoning,
        rename = "grok-4-1-fast-non-reasoning",
        alias = "grok-4-1-fast-non-reasoning-latest"
    )]
    Grok41FastNonReasoning,
        rename = "grok-4-1-fast-reasoning",
        alias = "grok-4-1-fast-reasoning-latest",
        alias = "grok-4-1-fast"
    )]
    Grok41FastReasoning,
    GrokCodeFast1,
    Custom {
        name: String,
        display_name: Option<String>,
        max_tokens: u64,
        max_output_tokens: Option<u64>,
        max_completion_tokens: Option<u64>,
        supports_images: Option<bool>,
        supports_tools: Option<bool>,
        parallel_tool_calls: Option<bool>,
    },
}

## crates/zed/build.rs
- [L4:L105]fn main() 

## crates/zed/src/main.rs
- [L68:L68]static GLOBAL: mimalloc::MiMalloc = mimalloc::MiMalloc;
- [L70:L125]fn files_not_created_on_launch(errors: HashMap<io::ErrorKind, Vec<&Path>>) 
- [L127:L129]fn fail_to_open_window_async(e: anyhow::Error, cx: &mut AsyncApp) 
- [L131:L172]fn fail_to_open_window(e: anyhow::Error, _cx: &mut App) 
- [L173:L173]static STARTUP_TIME: OnceLock<Instant> = OnceLock::new();
- [L175:L791]fn main() 
- [L793:L1084]fn handle_open_request(request: OpenRequest, app_state: Arc<AppState>, cx: &mut App) 
- [L1333:L1351]fn init_paths() -> HashMap<io::ErrorKind, Vec<&'static Path>> 
- [L1353:L1355]fn stdout_is_a_pty() -> bool 
- [L1359:L1441]struct Args {
    paths_or_urls: Vec<String>,
    diff: Vec<String>,
    user_data_dir: Option<String>,
    wsl: Option<String>,
    dev_server_token: Option<String>,
    system_specs: bool,
    nc: Option<String>,
    crash_handler: Option<PathBuf>,
    foreground: bool,
    dock_action: Option<usize>,
    askpass: Option<String>,
    dump_all_actions: bool,
    printenv: bool,
}
- [L1444:L1447]enum IdType {
    New(String),
    Existing(String),
}
- [L1457:L1472]fn parse_url_arg(arg: &str, cx: &App) -> String 
- [L1474:L1496]fn load_embedded_fonts(cx: &App) 
- [L1498:L1528]fn load_user_themes_in_background(fs: Arc<dyn fs::Fs>, cx: &mut App) 
- [L1530:L1554]fn watch_themes(fs: Arc<dyn fs::Fs>, cx: &mut App) 
- [L1557:L1589]fn watch_languages(fs: Arc<dyn fs::Fs>, languages: Arc<LanguageRegistry>, cx: &mut App) 
- [L1592:L1592]fn watch_languages(_fs: Arc<dyn fs::Fs>, _languages: Arc<LanguageRegistry>, _cx: &mut App) 
- [L1594:L1618]fn dump_all_gpui_actions() 
- [L1621:L1636]fn check_for_conpty_dll() 

## crates/zed/src/reliability.rs
- [L16:L64]fn init(client: Arc<Client>, cx: &mut App) 
- [L66:L113]fn monitor_hangs(cx: &App) 
- [L115:L152]fn save_hang_trace(
    main_thread_id: ThreadId,
    background_executor: &gpui::BackgroundExecutor,
    hang_time: chrono::DateTime<chrono::Local>,
) 
- [L154:L154]async fn upload_previous_minidumps(client: Arc<Client>) -> anyhow::Result<()> {

## crates/zed/src/zed.rs
- [L2:L2]mod edit_prediction_registry;
- [L145:L276]fn init(cx: &mut App) 
- [L278:L300]fn bind_on_window_closed(cx: &mut App) -> Option<gpui::Subscription> 
- [L302:L346]fn build_window_options(display_uuid: Option<Uuid>, cx: &mut App) -> WindowOptions 
- [L348:L482]fn initialize_workspace(
    app_state: Arc<AppState>,
    prompt_builder: Arc<PromptBuilder>,
    cx: &mut App,
) 
- [L485:L529]fn unstable_version_notification(cx: &mut App) 
- [L532:L560]fn initialize_file_watcher(window: &mut Window, cx: &mut Context<Workspace>) 
- [L563:L591]fn initialize_file_watcher(window: &mut Window, cx: &mut Context<Workspace>) 
- [L593:L642]fn show_software_emulation_warning_if_needed(
    specs: gpui::GpuSpecs,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) 
- [L644:L692]fn initialize_panels(
    prompt_builder: Arc<PromptBuilder>,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) 
- [L694:L728]fn setup_or_teardown_ai_panel<P: Panel>(
    workspace: &mut Workspace,
    window: &mut Window,
    cx: &mut Context<Workspace>,
    load_panel: impl FnOnce(
        WeakEntity<Workspace>,
        AsyncWindowContext,
    ) -> Task<anyhow::Result<Entity<P>>>
    + 'static,
) -> Task<anyhow::Result<()>> 
- [L801:L1187]fn register_actions(
    app_state: Arc<AppState>,
    workspace: &mut Workspace,
    _: &mut Window,
    cx: &mut Context<Workspace>,
) 
- [L1189:L1236]fn initialize_pane(
    workspace: &Workspace,
    pane: &Entity<Pane>,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) 
- [L1238:L1277]fn about(_: &mut Workspace, window: &mut Window, cx: &mut Context<Workspace>) 
- [L1280:L1287]fn install_cli(
    _: &mut Workspace,
    _: &install_cli::InstallCliBinary,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) 
- [L1289:L1289]static WAITING_QUIT_CONFIRMATION: AtomicBool = AtomicBool::new(false);
- [L1290:L1350]fn quit(_: &Quit, cx: &mut App) 
- [L1352:L1446]fn open_log_file(workspace: &mut Workspace, window: &mut Window, cx: &mut Context<Workspace>) 
- [L1448:L1518]fn notify_settings_errors(result: settings::SettingsParseResult, is_user: bool, cx: &mut App) 
- [L1520:L1581]fn handle_settings_file_changes(
    mut user_settings_file_rx: mpsc::UnboundedReceiver<String>,
    mut global_settings_file_rx: mpsc::UnboundedReceiver<String>,
    cx: &mut App,
) 
- [L1583:L1694]fn handle_keymap_file_changes(
    mut user_keymap_file_rx: mpsc::UnboundedReceiver<String>,
    cx: &mut App,
) 
- [L1696:L1714]fn show_keymap_file_json_error(
    notification_id: NotificationId,
    error: &anyhow::Error,
    cx: &mut App,
) 
- [L1716:L1731]fn show_keymap_file_load_error(
    notification_id: NotificationId,
    error_message: MarkdownString,
    cx: &mut App,
) 
- [L1733:L1785]fn show_markdown_app_notification<F>(
    notification_id: NotificationId,
    message: MarkdownString,
    primary_button_message: SharedString,
    primary_button_on_click: F,
    cx: &mut App,
) where
    F: 'static + Send + Sync + Fn(&mut Window, &mut Context<MessageNotification>),
- [L1787:L1806]fn reload_keymaps(cx: &mut App, mut user_key_bindings: Vec<KeyBinding>) 
- [L1808:L1827]fn load_default_keymap(cx: &mut App) 
- [L1829:L1853]fn open_new_ssh_project_from_project(
    workspace: &mut Workspace,
    paths: Vec<PathBuf>,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) -> Task<anyhow::Result<()>> 
- [L1855:L1868]fn open_project_settings_file(
    workspace: &mut Workspace,
    _: &OpenProjectSettingsFile,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) 
- [L1870:L1883]fn open_project_tasks_file(
    workspace: &mut Workspace,
    _: &OpenProjectTasks,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) 
- [L1885:L1898]fn open_project_debug_tasks_file(
    workspace: &mut Workspace,
    _: &zed_actions::OpenProjectDebugTasks,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) 
- [L1900:L1985]fn open_local_file(
    workspace: &mut Workspace,
    settings_relative_path: &'static RelPath,
    initial_contents: Cow<'static, str>,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) 
- [L1987:L2053]fn open_telemetry_log_file(
    workspace: &mut Workspace,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) 
- [L2055:L2099]fn open_bundled_file(
    workspace: &Workspace,
    text: Cow<'static, str>,
    title: &'static str,
    language: &'static str,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) 
- [L2101:L2134]fn open_settings_file(
    abs_path: &'static Path,
    default_content: impl FnOnce() -> Rope + Send + 'static,
    window: &mut Window,
    cx: &mut Context<Workspace>,
) 
- [L2136:L2212]fn capture_recent_audio(workspace: &mut Workspace, _: &mut Window, cx: &mut Context<Workspace>) 

## crates/zed/src/zed/app_menus.rs
- [L7:L331]fn app_menus(cx: &mut App) -> Vec<Menu> 

## crates/zed/src/zed/edit_prediction_registry.rs
- [L20:L102]fn init(client: Arc<Client>, user_store: Entity<UserStore>, cx: &mut App) 
- [L104:L108]fn clear_edit_prediction_store_edit_history(_: &edit_prediction::ClearHistory, cx: &mut App) 
- [L110:L135]fn assign_edit_prediction_providers(
    editors: &Rc<RefCell<HashMap<WeakEntity<Editor>, AnyWindowHandle>>>,
    provider: EditPredictionProvider,
    client: &Arc<Client>,
    user_store: Entity<UserStore>,
    cx: &mut App,
) 
- [L137:L148]fn register_backward_compatible_actions(editor: &mut Editor, cx: &mut Context<Editor>) 
- [L150:L239]fn assign_edit_prediction_provider(
    editor: &mut Editor,
    provider: EditPredictionProvider,
    client: &Arc<Client>,
    user_store: Entity<UserStore>,
    window: &mut Window,
    cx: &mut Context<Editor>,
) 

## crates/zed/src/zed/mac_only_instance.rs
- [L18:L56]fn address() -> SocketAddr 
- [L59:L61]fn get_uid_as_u32(uid: &sysinfo::Uid) -> u32 
- [L64:L71]fn get_uid_as_u32(uid: &sysinfo::Uid) -> u32 
- [L73:L80]fn instance_handshake() -> &'static str 
- [L83:L86]enum IsOnlyInstance {
    Yes,
    No,
}
- [L88:L127]fn ensure_only_instance() -> IsOnlyInstance 
- [L129:L151]fn check_got_handshake() -> bool 

## crates/zed/src/zed/migrate.rs
- [L19:L22]enum MigrationType {
    Keymap,
    Settings,
}
- [L24:L28]struct MigrationBanner {
    migration_type: Option<MigrationType>,
    should_migrate_task: Option<Task<()>>,
    markdown: Option<Entity<Markdown>>,
}
- [L30:L35]enum MigrationEvent {
    ContentChanged {
        migration_type: MigrationType,
        migrating_in_memory: bool,
    },
}
- [L37:L37]struct MigrationNotification;
- [L52:L52]struct GlobalMigrationNotification(Entity<MigrationNotification>);

## crates/zed/src/zed/open_listener.rs
- [L36:L39]struct OpenRequest {
    pub kind: Option<OpenRequestKind>,
    pub open_paths: Vec<String>,
    pub diff_paths: Vec<[String; 2]>,
- [L46:L68]enum OpenRequestKind {
    CliConnection((mpsc::Receiver<CliRequest>, IpcSender<CliResponse>)),
    Extension {
        extension_id: String,
    },
    AgentPanel,
    DockMenuAction {
        index: usize,
    },
    BuiltinJsonSchema {
        schema_path: String,
    },
    Setting {
        setting_path: Option<String>,
    },
    GitClone {
        repo_url: SharedString,
    },
    GitCommit {
        sha: String,
    },
}
- [L226:L226]struct OpenListener(UnboundedSender<RawOpenRequest>);
- [L229:L231]struct RawOpenRequest {
    pub urls: Vec<String>,
    pub diff_paths: Vec<[String; 2]>,
- [L252:L274]fn listen_for_cli_connections(opener: OpenListener) -> Result<()> 
- [L276:L303]fn connect_to_cli(
    server_name: &str,
) -> Result<(mpsc::Receiver<CliRequest>, IpcSender<CliResponse>)> 
- [L305:L305]async fn open_paths_with_positions(
- [L372:L372]async fn handle_cli_connection(
- [L678:L678]async fn derive_paths_with_position(

## crates/zed/src/zed/quick_action_bar.rs
- [L34:L43]struct QuickActionBar {
    _inlay_hints_enabled_subscription: Option<Subscription>,
    _ai_settings_subscription: Subscription,
    active_item: Option<Box<dyn ItemHandle>>,
    buffer_search_bar: Entity<BufferSearchBar>,
    show: bool,
    toggle_selections_handle: PopoverMenuHandle<ContextMenu>,
    toggle_settings_handle: PopoverMenuHandle<ContextMenu>,
    workspace: WeakEntity<Workspace>,
}
- [L642:L650]struct QuickActionBarButton {
    id: ElementId,
    icon: IconName,
    toggled: bool,
    action: Box<dyn Action>,
    focus_handle: FocusHandle,
    tooltip: SharedString,
    on_click: Box<dyn Fn(&ClickEvent, &mut Window, &mut App)>,
}

## crates/zed/src/zed/quick_action_bar/preview.rs
- [L16:L19]enum PreviewType {
    Markdown,
    Svg,
}

## crates/zed/src/zed/quick_action_bar/repl_menu.rs
- [L20:L31]struct ReplMenuState {
    tooltip: SharedString,
    icon: IconName,
    icon_color: Color,
    icon_is_animating: bool,
    popover_disabled: bool,
    indicator: Option<Indicator>,
    status: KernelStatus,
    kernel_name: SharedString,
    kernel_language: SharedString,
}
- [L369:L474]fn session_state(session: Entity<Session>, cx: &mut App) -> ReplMenuState 

## crates/zed/src/zed/windows_only_instance.rs
- [L29:L39]fn is_first_instance() -> bool 
- [L41:L62]fn handle_single_instance(opener: OpenListener, args: &Args) -> bool 
- [L64:L92]fn with_pipe(f: impl Fn(String)) 
- [L94:L99]fn retrieve_message_from_pipe(pipe: HANDLE) -> anyhow::Result<String> 
- [L101:L108]fn retrieve_message_from_pipe_inner(pipe: HANDLE) -> anyhow::Result<String> 
- [L111:L200]fn send_args_to_instance(args: &Args) -> anyhow::Result<()> 
- [L202:L217]fn write_message_to_instance_pipe(message: &[u8]) -> anyhow::Result<()> 

## crates/zed_actions/src/lib.rs
- [L12:L12]fn init() 
- [L14:L20]struct OpenBrowser {
    pub url: String,
}
- [L22:L28]struct OpenZedUrl {
    pub url: String,
}
- [L30:L35]struct ChangeKeybinding {
    pub action: String,
}
- [L80:L92]enum ExtensionCategoryFilter {
    Themes,
    IconThemes,
    Languages,
    Grammars,
    LanguageServers,
    ContextServers,
    AgentServers,
    SlashCommands,
    IndexedDocsProviders,
    Snippets,
    DebugAdapters,
}
- [L94:L105]struct Extensions {
    pub category_filter: Option<ExtensionCategoryFilter>,
    pub id: Option<String>,
}
- [L107:L114]struct DecreaseBufferFontSize {
    pub persist: bool,
}
- [L116:L123]struct IncreaseBufferFontSize {
    pub persist: bool,
}
- [L125:L132]struct OpenSettingsAt {
    pub path: String,
}
- [L134:L141]struct ResetBufferFontSize {
    pub persist: bool,
}
- [L143:L150]struct DecreaseUiFontSize {
    pub persist: bool,
}
- [L152:L159]struct IncreaseUiFontSize {
    pub persist: bool,
}
- [L161:L168]struct ResetUiFontSize {
    pub persist: bool,
}
- [L170:L177]struct ResetAllZoom {
    pub persist: bool,
}
- [L179:L179]mod dev {
- [L191:L191]mod workspace {
- [L208:L208]mod git {
- [L235:L235]mod toast {
- [L247:L247]mod command_palette {
- [L259:L259]mod project_panel {
- [L270:L270]mod feedback {
- [L286:L286]mod theme_selector {
- [L301:L301]mod icon_theme_selector {
- [L316:L316]mod settings_profile_selector {
- [L326:L326]mod agent {
- [L363:L363]mod assistant {
- [L403:L403]mod debugger {
- [L417:L424]struct OpenRecent {
    pub create_new_window: bool,
}
- [L426:L435]struct OpenRemote {
    pub from_existing_connection: bool,
    pub create_new_window: bool,
}
- [L437:L441]struct OpenDevContainer;
- [L443:L452]enum RevealTarget {
    Center,
    Dock,
}
- [L454:L477]enum Spawn {
    ByName {
        task_name: String,
        reveal_target: Option<RevealTarget>,
    },
    ByTag {
        task_tag: String,
        reveal_target: Option<RevealTarget>,
    },
    ViaModal {
        reveal_target: Option<RevealTarget>,
    },
}
- [L487:L510]struct Rerun {
    pub reevaluate_context: bool,
    pub allow_concurrent_runs: Option<bool>,
    pub use_new_terminal: Option<bool>,
    pub task_id: Option<String>,
}
- [L512:L512]mod outline {
- [L562:L562]mod vim {
- [L575:L578]struct WslConnectionOptions {
    pub distro_name: String,
    pub user: Option<String>,
}
- [L581:L581]mod wsl_actions {

## crates/zed_env_vars/src/zed_env_vars.rs
- [L6:L6]static ZED_STATELESS: LazyLock<bool> = bool_env_var!("ZED_STATELESS");
- [L4:L13]struct EnvVar {
    pub name: SharedString,
    pub value: Option<String>,
}

## crates/zeta_prompt/src/zeta_prompt.rs
- [L7:L7]const CURSOR_MARKER: &str = "<|user_cursor|>";
- [L10:L17]struct ZetaPromptInput {
    pub cursor_path: Arc<Path>,
    pub cursor_excerpt: Arc<str>,
    pub editable_range_in_excerpt: Range<usize>,
    pub cursor_offset_in_excerpt: usize,
    pub events: Vec<Arc<Event>>,
    pub related_files: Arc<[RelatedFile]>,
}
- [L21:L29]enum Event {
    BufferChange {
        path: Arc<Path>,
        old_path: Arc<Path>,
        diff: String,
        predicted: bool,
        in_open_source_repo: bool,
    },
}
- [L31:L57]fn write_event(prompt: &mut String, event: &Event) 
- [L60:L64]struct RelatedFile {
    pub path: Arc<Path>,
    pub max_row: u32,
    pub excerpts: Vec<RelatedExcerpt>,
}
- [L67:L70]struct RelatedExcerpt {
    pub row_range: Range<u32>,
    pub text: String,
}
- [L72:L78]fn format_zeta_prompt(input: &ZetaPromptInput) -> String 
- [L80:L106]fn write_related_files(prompt: &mut String, related_files: &[RelatedFile]) 
- [L108:L118]fn write_edit_history_section(prompt: &mut String, input: &ZetaPromptInput) 
- [L120:L139]fn write_cursor_excerpt_section(prompt: &mut String, input: &ZetaPromptInput) 
- [L141:L165]fn push_delimited(
    prompt: &mut String,
    tag: &'static str,
    arguments: &[(&str, &str)],
    cb: impl FnOnce(&mut String),
) 

## crates/zlog/src/env_config.rs
- [L3:L7]struct EnvFilter {
    pub level_global: Option<log::LevelFilter>,
    pub directive_names: Vec<String>,
    pub directive_levels: Vec<log::LevelFilter>,
}
- [L9:L39]fn parse(filter: &str) -> Result<EnvFilter> 
- [L41:L61]fn parse_level(level: &str) -> Result<log::LevelFilter> 

## crates/zlog/src/filter.rs
- [L12:L12]static ENV_FILTER: OnceLock<env_config::EnvFilter> = OnceLock::new();
- [L13:L13]static SCOPE_MAP: RwLock<ScopeMap> = RwLock::new(ScopeMap::empty());
- [L15:L15]const LEVEL_ENABLED_MAX_DEFAULT: log::LevelFilter = log::LevelFilter::Info;
- [L24:L24]static LEVEL_ENABLED_MAX_STATIC: AtomicU8 = AtomicU8::new(LEVEL_ENABLED_MAX_DEFAULT as u8);
- [L35:L35]static LEVEL_ENABLED_MAX_CONFIG: AtomicU8 = AtomicU8::new(LEVEL_ENABLED_MAX_DEFAULT as u8);
- [L49:L56]fn init_env_filter(filter: env_config::EnvFilter) 
- [L58:L60]fn is_possibly_enabled_level(level: log::Level) -> bool 
- [L62:L91]fn is_scope_enabled(
    scope: &ScopeRef<'_>,
    module_path: Option<&str>,
    level: log::Level,
) -> bool 
- [L93:L112]fn refresh_from_settings(settings: &HashMap<String, String>) 
- [L114:L136]fn level_filter_from_str(level_str: &str) -> Option<log::LevelFilter> 
- [L138:L163]fn scope_alloc_from_scope_str(scope_str: &str) -> Option<ScopeAlloc> 
- [L166:L170]struct ScopeMap {
    entries: Vec<ScopeMapEntry>,
    modules: Vec<(String, log::LevelFilter)>,
    root_count: usize,
}
- [L173:L177]struct ScopeMapEntry {
    scope: String,
    enabled: Option<log::LevelFilter>,
    descendants: std::ops::Range<usize>,
}
- [L180:L184]enum EnabledStatus {
    Enabled,
    Disabled,
    NotConfigured,
}

## crates/zlog/src/sink.rs
- [L23:L23]static ENABLED_SINKS_FILE: Mutex<Option<std::fs::File>> = Mutex::new(None);
- [L24:L24]static SINK_FILE_PATH: OnceLock<&'static PathBuf> = OnceLock::new();
- [L25:L25]static SINK_FILE_PATH_ROTATE: OnceLock<&'static PathBuf> = OnceLock::new();
- [L29:L29]static ENABLED_SINKS_STDOUT: AtomicBool = AtomicBool::new(false);
- [L31:L31]static ENABLED_SINKS_STDERR: AtomicBool = AtomicBool::new(false);
- [L33:L33]static SINK_FILE_SIZE_BYTES: AtomicU64 = AtomicU64::new(0);
- [L37:L43]struct Record<'a> {
    pub scope: ScopeRef<'a>,
    pub level: log::Level,
    pub message: &'a std::fmt::Arguments<'a>,
    pub module_path: Option<&'a str>,
    pub line: Option<u32>,
}
- [L45:L49]fn init_output_stdout() 
- [L51:L53]fn init_output_stderr() 
- [L55:L87]fn init_output_file(
    path: &'static PathBuf,
    path_rotate: Option<&'static PathBuf>,
) -> io::Result<()> 
- [L99:L99]static LEVEL_ANSI_COLORS: [&str; 6] = [
- [L109:L193]fn submit(mut record: Record) 
- [L195:L208]fn flush() 
- [L210:L215]struct SourceFmt<'a> {
    scope: ScopeRef<'a>,
    module_path: Option<&'a str>,
    line: Option<u32>,
    ansi: bool,
}
- [L249:L280]fn rotate_log_file<PathRef>(
    file: &mut fs::File,
    path: Option<PathRef>,
    path_rotate: Option<PathRef>,
    atomic_size: &AtomicU64,
) where
    PathRef: AsRef<std::path::Path>,

## crates/zlog/src/zlog.rs
- [L5:L5]mod filter;
- [L6:L6]mod sink;
- [L10:L10]const SCOPE_DEPTH_MAX: usize = 4;
- [L12:L17]fn init() 
- [L19:L25]fn try_init(filter: Option<String>) -> anyhow::Result<()> 
- [L27:L31]fn init_test() 
- [L33:L44]fn get_env_config() -> Option<String> 
- [L46:L58]fn process_env(filter: Option<String>) 
- [L60:L60]static ZLOG: Zlog = Zlog {};
- [L62:L62]struct Zlog {}
- [L203:L203]const fn scoped_logger(parent: Logger, name: &'static str) -> Logger {
- [L237:L237]mod private {
- [L284:L284]type Scope = [&'static str; SCOPE_DEPTH_MAX];
- [L285:L285]type ScopeRef<'a> = [&'a str; SCOPE_DEPTH_MAX];
- [L286:L286]type ScopeAlloc = [String; SCOPE_DEPTH_MAX];
- [L291:L293]struct Logger {
    pub scope: Scope,
}
- [L322:L328]struct Timer {
    pub logger: Logger,
    pub start_time: std::time::Instant,
    pub name: &'static str,
    pub warn_if_longer_than: Option<std::time::Duration>,
    pub done: bool,
}

## crates/zlog_settings/src/zlog_settings.rs
- [L7:L13]fn init(cx: &mut App) 
- [L16:L22]struct ZlogSettings {
    pub scopes: HashMap<String, String>,
}

## crates/ztracing/build.rs
- [L3:L9]fn main() 

## crates/ztracing/src/lib.rs
- [L34:L34]struct Span;
- [L48:L55]fn init() 
- [L58:L58]fn init() 

## crates/ztracing_macro/src/lib.rs
- [L2:L7]fn instrument(
    _attr: proc_macro::TokenStream,
    item: proc_macro::TokenStream,
) -> proc_macro::TokenStream 

## extensions/glsl/src/glsl.rs
- [L5:L7]struct GlslExtension {
    cached_binary_path: Option<String>,
}

## extensions/html/src/html.rs
- [L10:L12]struct HtmlExtension {
    cached_binary_path: Option<String>,
}

## extensions/proto/src/language_servers.rs

## extensions/proto/src/language_servers/buf.rs

## extensions/proto/src/language_servers/protobuf_language_server.rs

## extensions/proto/src/language_servers/protols.rs

## extensions/proto/src/language_servers/util.rs

## extensions/proto/src/proto.rs
- [L7:L11]struct ProtobufExtension {
    protobuf_language_server: Option<ProtobufLanguageServer>,
    protols: Option<ProtoLs>,
    buf_lsp: Option<BufLsp>,
}

## extensions/slash-commands-example/src/slash_commands_example.rs
- [L6:L6]struct SlashCommandsExampleExtension;

## extensions/test-extension/src/test_extension.rs
- [L7:L9]struct TestExtension {
    cached_binary_path: Option<String>,
}
- [L194:L209]fn strip_newlines_from_detail(detail: &str) -> String 

## tooling/perf/src/implementation.rs
- [L8:L8]mod consts {
- [L42:L60]enum Importance {
    Critical = 4,
    Important = 3,
    Average = 2,
    Iffy = 1,
    Fluff = 0,
}
- [L74:L87]enum FailKind {
    Triage,
    Profile,
    VersionMismatch,
    BadMetadata,
    Skipped,
}
- [L101:L123]struct TestMdata {
    pub version: u32,
    pub iterations: Option<NonZero<usize>>,
    pub importance: Importance,
    pub weight: u8,
}
- [L125:L132]struct Timings {
    pub mean: Duration,
    pub stddev: Duration,
}
- [L150:L159]struct Output {
    tests: Vec<(String, Option<TestMdata>, Result<Timings, FailKind>)>,
}
- [L393:L402]struct PerfDelta {
    max: f64,
    mean: f64,
    min: f64,
}
- [L404:L408]struct PerfReport {
    deltas: HashMap<Importance, PerfDelta>,
}

## tooling/perf/src/lib.rs

## tooling/perf/src/main.rs
- [L69:L69]static QUIET: AtomicBool = AtomicBool::new(false);
- [L87:L93]enum OutputKind<'a> {
    Markdown,
    Json(&'a Path),
}
- [L143:L219]fn parse_mdata(t_bin: &str, mdata_fn: &str) -> Result<TestMdata, FailKind> 
- [L221:L300]fn compare_profiles(args: &[String]) 
- [L302:L363]fn get_tests(t_bin: &str) -> impl ExactSizeIterator<Item = (String, String)> 
- [L365:L381]fn spawn_and_iterate(t_bin: &str, t_name: &str, count: NonZero<usize>) -> Option<Duration> 
- [L383:L414]fn triage_test(
    t_bin: &str,
    t_name: &str,
    thresh: Duration,
    mut step: impl FnMut(NonZero<usize>) -> Option<NonZero<usize>>,
) -> Option<NonZero<usize>> 
- [L416:L429]fn hyp_binary() -> Option<Command> 
- [L431:L466]fn hyp_profile(t_bin: &str, t_name: &str, iterations: NonZero<usize>) -> Option<Timings> 
- [L468:L582]fn main() 

## tooling/xtask/src/main.rs
- [L9:L12]struct Args {
    command: CliCommand,
}
- [L15:L24]enum CliCommand {
    Clippy(tasks::clippy::ClippyArgs),
    Licenses(tasks::licenses::LicensesArgs),
    PackageConformity(tasks::package_conformity::PackageConformityArgs),
    PublishGpui(tasks::publish_gpui::PublishGpuiArgs),
    Workflows(tasks::workflows::GenerateWorkflowArgs),
}
- [L26:L38]fn main() -> Result<()> 

## tooling/xtask/src/tasks.rs
- [L1:L1]mod clippy;
- [L2:L2]mod licenses;
- [L3:L3]mod package_conformity;
- [L4:L4]mod publish_gpui;
- [L5:L5]mod workflows;

## tooling/xtask/src/tasks/clippy.rs
- [L8:L16]struct ClippyArgs {
    fix: bool,
    package: Option<String>,
}
- [L18:L64]fn run_clippy(args: ClippyArgs) -> Result<()> 

## tooling/xtask/src/tasks/licenses.rs
- [L9:L9]struct LicensesArgs {}
- [L11:L34]fn run_licenses(_args: LicensesArgs) -> Result<()> 
- [L36:L45]fn first_license_file(path: impl AsRef<Path>, license_files: &[&str]) -> Option<PathBuf> 

## tooling/xtask/src/tasks/package_conformity.rs
- [L12:L12]struct PackageConformityArgs {}
- [L14:L67]fn run_package_conformity(_args: PackageConformityArgs) -> Result<()> 
- [L69:L75]fn read_cargo_toml(path: impl AsRef<Path>) -> Result<Manifest> 

## tooling/xtask/src/tasks/publish_gpui.rs
- [L9:L17]struct PublishGpuiArgs {
    dry_run: bool,
    skip_to: Option<String>,
}
- [L19:L40]fn run_publish_gpui(args: PublishGpuiArgs) -> Result<()> 
- [L42:L57]fn read_gpui_version() -> Result<String> 
- [L59:L110]fn publish_dependencies(new_version: &str, dry_run: bool, skip_to: Option<&str>) -> Result<()> 
- [L112:L118]fn publish_gpui(new_version: &str, dry_run: bool) -> Result<()> 
- [L120:L136]fn update_crate_cargo_toml(
    package_name: &str,
    crate_name: &str,
    package_dir: &str,
    new_version: &str,
) -> Result<()> 
- [L138:L157]fn update_crate_package_fields(
    toml_contents: &str,
    crate_name: &str,
    new_version: &str,
) -> Result<String> 
- [L159:L191]fn publish_crate(crate_name: &str, dry_run: bool) -> Result<()> 
- [L193:L213]fn update_workspace_dependency_version(
    package_name: &str,
    crate_name: &str,
    new_version: &str,
) -> Result<()> 
- [L215:L238]fn update_dependency_version_in_doc(
    doc: &mut toml_edit::DocumentMut,
    package_name: &str,
    crate_name: &str,
    new_version: &str,
) -> Result<()> 
- [L240:L259]fn update_profile_override_in_doc(
    doc: &mut toml_edit::DocumentMut,
    package_name: &str,
    crate_name: &str,
) -> Result<()> 
- [L261:L283]fn check_workspace_root() -> Result<()> 
- [L285:L305]fn check_git_clean() -> Result<()> 
- [L307:L335]fn run_command(command: &mut Command) -> Result<Output> 

## tooling/xtask/src/tasks/workflows.rs
- [L28:L28]struct GenerateWorkflowArgs {}
- [L30:L33]struct WorkflowFile {
    source: fn() -> Workflow,
}
- [L74:L77]enum WorkflowType {
    Zed,
    Extensions,
}
- [L101:L140]fn run_workflows(_: GenerateWorkflowArgs) -> Result<()> 

## tooling/xtask/src/tasks/workflows/after_release.rs
- [L14:L44]fn after_release() -> Workflow 
- [L46:L65]fn rebuild_releases_page() -> NamedJob 
- [L67:L115]fn post_to_discord(deps: &[&NamedJob]) -> NamedJob 
- [L117:L124]fn publish_winget() -> NamedJob 
- [L157:L164]fn create_sentry_release() -> NamedJob 

## tooling/xtask/src/tasks/workflows/autofix_pr.rs
- [L9:L29]fn autofix_pr() -> Workflow 
- [L34:L45]fn upload_patch_artifact() -> Step<Use> 
- [L47:L54]fn download_patch_artifact() -> Step<Use> 
- [L56:L116]fn run_autofix(pr_number: &WorkflowInput, run_clippy: &WorkflowInput) -> NamedJob 
- [L118:L162]fn commit_changes(pr_number: &WorkflowInput, autofix_job: &NamedJob) -> NamedJob 

## tooling/xtask/src/tasks/workflows/cherry_pick.rs
- [L9:L25]fn cherry_pick() -> Workflow 
- [L27:L53]fn run_cherry_pick(
    branch: &WorkflowInput,
    commit: &WorkflowInput,
    channel: &WorkflowInput,
) -> NamedJob 

## tooling/xtask/src/tasks/workflows/compare_perf.rs
- [L11:L24]fn compare_perf() -> Workflow 
- [L26:L67]fn run_perf(
    base: &WorkflowInput,
    head: &WorkflowInput,
    crate_name: &WorkflowInput,
) -> NamedJob 

## tooling/xtask/src/tasks/workflows/danger.rs
- [L7:L21]fn danger() -> Workflow 
- [L23:L57]fn danger_job() -> NamedJob 

## tooling/xtask/src/tasks/workflows/extension_bump.rs
- [L77:L95]fn check_bump_needed() -> (NamedJob, StepOutput, StepOutput) 
- [L97:L117]fn create_version_label(
    dependencies: &[&NamedJob],
    needs_bump: &JobOutput,
    current_version: &JobOutput,
    app_id: &WorkflowSecret,
    app_secret: &WorkflowSecret,
) -> NamedJob 
- [L119:L263]fn create_version_tag(current_version: &JobOutput, generated_token: StepOutput) -> Step<Use> 
- [L265:L293]fn create_pull_request(new_version: StepOutput, generated_token: StepOutput) -> Step<Use> 

## tooling/xtask/src/tasks/workflows/extension_release.rs
- [L28:L43]fn create_release(app_id: &WorkflowSecret, app_secret: &WorkflowSecret) -> NamedJob 

## tooling/xtask/src/tasks/workflows/extension_tests.rs
- [L44:L46]fn run_clippy() -> Step<Run> 
- [L48:L63]fn check_rust() -> NamedJob 
- [L79:L93]fn cache_zed_extension_cli() -> (Step<Use>, StepOutput) 
- [L95:L104]fn download_zed_extension_cli(cache_hit: StepOutput) -> Step<Run> 
- [L106:L114]fn check() -> Step<Run> 

## tooling/xtask/src/tasks/workflows/extensions.rs

## tooling/xtask/src/tasks/workflows/extensions/bump_version.rs
- [L66:L73]fn determine_bump_type() -> (NamedJob, StepOutput) 
- [L75:L103]fn get_bump_type() -> (Step<Run>, StepOutput) 

## tooling/xtask/src/tasks/workflows/extensions/release_version.rs

## tooling/xtask/src/tasks/workflows/extensions/run_tests.rs

## tooling/xtask/src/tasks/workflows/nix_build.rs

## tooling/xtask/src/tasks/workflows/release.rs
- [L99:L116]fn auto_release_preview(deps: &[&NamedJob; 1]) -> NamedJob 
- [L137:L152]fn upload_release_assets(deps: &[&NamedJob], bundle: &ReleaseBundleJobs) -> NamedJob 
- [L154:L184]fn create_draft_release() -> NamedJob 

## tooling/xtask/src/tasks/workflows/release_nightly.rs
- [L16:L68]fn release_nightly() -> Workflow 
- [L70:L82]fn check_style() -> NamedJob 
- [L84:L93]fn release_job(deps: &[&NamedJob]) -> Job 
- [L95:L131]fn update_nightly_tag_job(bundle: &ReleaseBundleJobs) -> NamedJob 

## tooling/xtask/src/tasks/workflows/run_agent_evals.rs
- [L57:L62]fn add_api_keys(step: Step<Run>) -> Step<Run> 
- [L64:L83]fn agent_evals() -> NamedJob 
- [L104:L121]fn cron_unit_evals() -> NamedJob 
- [L130:L147]fn cron_unit_evals_job() -> Job 
- [L149:L165]fn unit_evals(commit: Option<&WorkflowInput>) -> Job 

## tooling/xtask/src/tasks/workflows/run_bundling.rs
- [L14:L41]fn run_bundling() -> Workflow 
- [L43:L52]fn bundle_job(deps: &[&NamedJob]) -> Job 
- [L93:L106]fn upload_artifact(path: &str) -> Step<Use> 
- [L173:L177]fn set_release_channel(platform: Platform, release_channel: ReleaseChannel) -> Step<Run> 
- [L179:L195]fn set_release_channel_to_nightly(platform: Platform) -> Step<Run> 

## tooling/xtask/src/tasks/workflows/run_tests.rs
- [L113:L182]fn orchestrate(rules: &[&PathCondition]) -> NamedJob 
- [L184:L222]fn tests_pass(jobs: &[NamedJob]) -> NamedJob 
- [L224:L245]fn check_style() -> NamedJob 
- [L247:L291]fn check_dependencies() -> NamedJob 
- [L293:L305]fn check_workspace_binaries() -> NamedJob 
- [L381:L399]fn doctests() -> NamedJob 
- [L401:L410]fn check_licenses() -> NamedJob 
- [L412:L458]fn check_docs() -> NamedJob 

## tooling/xtask/src/tasks/workflows/runners.rs
- [L1:L1]const LINUX_SMALL: Runner = Runner("namespace-profile-2x4-ubuntu-2404");
- [L2:L2]const LINUX_DEFAULT: Runner = LINUX_XL;
- [L3:L3]const LINUX_XL: Runner = Runner("namespace-profile-16x32-ubuntu-2204");
- [L4:L4]const LINUX_LARGE: Runner = Runner("namespace-profile-8x16-ubuntu-2204");
- [L5:L5]const LINUX_MEDIUM: Runner = Runner("namespace-profile-4x8-ubuntu-2204");
- [L8:L8]const LINUX_X86_BUNDLER: Runner = Runner("namespace-profile-32x64-ubuntu-2004");
- [L9:L9]const LINUX_ARM_BUNDLER: Runner = Runner("namespace-profile-8x32-ubuntu-2004-arm-m4");
- [L12:L12]const LINUX_LARGE_RAM: Runner = Runner("namespace-profile-8x32-ubuntu-2404");
- [L14:L14]const MAC_DEFAULT: Runner = Runner("self-mini-macos");
- [L15:L15]const WINDOWS_DEFAULT: Runner = Runner("self-32vcpu-windows-2022");
- [L17:L17]struct Runner(&'static str);
- [L26:L29]enum Arch {
    X86_64,
    AARCH64,
}
- [L50:L54]enum Platform {
    Windows,
    Linux,
    Mac,
}
- [L67:L69]enum ReleaseChannel {
    Nightly,
}

## tooling/xtask/src/tasks/workflows/steps.rs
- [L5:L5]const BASH_SHELL: &str = "bash -euxo pipefail {0}";
- [L7:L7]const PWSH_SHELL: &str = "pwsh";
- [L9:L18]fn checkout_repo() -> Step<Use> 
- [L20:L28]fn checkout_repo_with_token(token: &StepOutput) -> Step<Use> 
- [L30:L37]fn setup_pnpm() -> Step<Use> 
- [L39:L46]fn setup_node() -> Step<Use> 
- [L48:L55]fn setup_sentry() -> Step<Use> 
- [L57:L59]fn prettier() -> Step<Run> 
- [L61:L63]fn cargo_fmt() -> Step<Run> 
- [L65:L67]fn cargo_install_nextest() -> Step<Use> 
- [L69:L71]fn cargo_nextest(platform: Platform) -> Step<Run> 
- [L73:L85]fn setup_cargo_config(platform: Platform) -> Step<Run> 
- [L87:L98]fn cleanup_cargo_config(platform: Platform) -> Step<Run> 
- [L100:L106]fn clear_target_dir_if_large(platform: Platform) -> Step<Run> 
- [L108:L113]fn clippy(platform: Platform) -> Step<Run> 
- [L115:L117]fn cache_rust_dependencies_namespace() -> Step<Use> 
- [L119:L121]fn setup_linux() -> Step<Run> 
- [L123:L125]fn install_mold() -> Step<Run> 
- [L127:L129]fn download_wasi_sdk() -> Step<Run> 
- [L137:L143]fn script(name: &str) -> Step<Run> 
- [L145:L148]struct NamedJob<J: JobType = RunJob> {
    pub name: String,
    pub job: Job<J>,
}
- [L162:L168]fn repository_owner_guard_expression(trigger_always: bool) -> Expression 
- [L170:L170]trait CommonJobConditions: Sized {
- [L203:L203]trait FluentBuilder {
- [L257:L257]mod named {
- [L346:L350]fn git_checkout(ref_name: &dyn std::fmt::Display) -> Step<Run> 
- [L352:L363]fn authenticate_as_zippy() -> (Step<Use>, StepOutput) 

## tooling/xtask/src/tasks/workflows/vars.rs
- [L55:L80]fn bundle_envs(platform: Platform) -> Env 
- [L82:L84]fn one_workflow_per_non_main_branch() -> Concurrency 
- [L86:L96]fn one_workflow_per_non_main_branch_and_token<T: AsRef<str>>(token: T) -> Concurrency 
- [L105:L110]struct PathCondition {
    pub name: &'static str,
    pub pattern: &'static str,
    pub invert: bool,
    pub set_by_step: RefCell<Option<String>>,
}
- [L217:L221]struct WorkflowInput {
    pub input_type: &'static str,
    pub name: &'static str,
    pub default: Option<String>,
}
- [L316:L316]mod assets {

## tooling/xtask/src/workspace.rs
- [L4:L9]fn load_workspace() -> Result<Metadata> 

